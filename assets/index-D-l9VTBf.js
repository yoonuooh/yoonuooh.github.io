function lk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function ck(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uk={exports:{}},um={},dk={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=Symbol.for("react.element"),$A=Symbol.for("react.portal"),UA=Symbol.for("react.fragment"),VA=Symbol.for("react.strict_mode"),WA=Symbol.for("react.profiler"),qA=Symbol.for("react.provider"),KA=Symbol.for("react.context"),GA=Symbol.for("react.forward_ref"),JA=Symbol.for("react.suspense"),YA=Symbol.for("react.memo"),XA=Symbol.for("react.lazy"),x5=Symbol.iterator;function QA(t){return t===null||typeof t!="object"?null:(t=x5&&t[x5]||t["@@iterator"],typeof t=="function"?t:null)}var hk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},fk=Object.assign,pk={};function Fc(t,e,n){this.props=t,this.context=e,this.refs=pk,this.updater=n||hk}Fc.prototype.isReactComponent={};Fc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function mk(){}mk.prototype=Fc.prototype;function Py(t,e,n){this.props=t,this.context=e,this.refs=pk,this.updater=n||hk}var zy=Py.prototype=new mk;zy.constructor=Py;fk(zy,Fc.prototype);zy.isPureReactComponent=!0;var C5=Array.isArray,gk=Object.prototype.hasOwnProperty,By={current:null},vk={key:!0,ref:!0,__self:!0,__source:!0};function yk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)gk.call(e,r)&&!vk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:t0,type:t,key:s,ref:o,props:i,_owner:By.current}}function ZA(t,e){return{$$typeof:t0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fy(t){return typeof t=="object"&&t!==null&&t.$$typeof===t0}function eO(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E5=/\/+/g;function C1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eO(""+t.key):e.toString(36)}function Nh(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case t0:case $A:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+C1(o,0):r,C5(i)?(n="",t!=null&&(n=t.replace(E5,"$&/")+"/"),Nh(i,e,n,"",function(c){return c})):i!=null&&(Fy(i)&&(i=ZA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",C5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+C1(s,a);o+=Nh(s,e,n,l,i)}else if(l=QA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+C1(s,a++),o+=Nh(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function D0(t,e,n){if(t==null)return t;var r=[],i=0;return Nh(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tO(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},Dh={transition:null},nO={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:Dh,ReactCurrentOwner:By};function wk(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:D0,forEach:function(t,e,n){D0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return D0(t,function(){e++}),e},toArray:function(t){return D0(t,function(e){return e})||[]},only:function(t){if(!Fy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Fc;Pe.Fragment=UA;Pe.Profiler=WA;Pe.PureComponent=Py;Pe.StrictMode=VA;Pe.Suspense=JA;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nO;Pe.act=wk;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=fk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=By.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)gk.call(e,l)&&!vk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:t0,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:KA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qA,_context:t},t.Consumer=t};Pe.createElement=yk;Pe.createFactory=function(t){var e=yk.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:GA,render:t}};Pe.isValidElement=Fy;Pe.lazy=function(t){return{$$typeof:XA,_payload:{_status:-1,_result:t},_init:tO}};Pe.memo=function(t,e){return{$$typeof:YA,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Dh.transition;Dh.transition={};try{t()}finally{Dh.transition=e}};Pe.unstable_act=wk;Pe.useCallback=function(t,e){return Fn.current.useCallback(t,e)};Pe.useContext=function(t){return Fn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Fn.current.useEffect(t,e)};Pe.useId=function(){return Fn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Fn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};Pe.useRef=function(t){return Fn.current.useRef(t)};Pe.useState=function(t){return Fn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Fn.current.useTransition()};Pe.version="18.3.1";dk.exports=Pe;var B=dk.exports;const Tt=ck(B),rO=lk({__proto__:null,default:Tt},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iO=B,sO=Symbol.for("react.element"),oO=Symbol.for("react.fragment"),aO=Object.prototype.hasOwnProperty,lO=iO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cO={key:!0,ref:!0,__self:!0,__source:!0};function bk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)aO.call(e,r)&&!cO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sO,type:t,key:s,ref:o,props:i,_owner:lO.current}}um.Fragment=oO;um.jsx=bk;um.jsxs=bk;uk.exports=um;var O=uk.exports,kk={exports:{}},yr={},Sk={exports:{}},xk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ee){var te=$.length;$.push(ee);e:for(;0<te;){var ve=te-1>>>1,de=$[ve];if(0<i(de,ee))$[ve]=ee,$[te]=de,te=ve;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],te=$.pop();if(te!==ee){$[0]=te;e:for(var ve=0,de=$.length,rt=de>>>1;ve<rt;){var Be=2*(ve+1)-1,Fe=$[Be],je=Be+1,Ze=$[je];if(0>i(Fe,te))je<de&&0>i(Ze,Fe)?($[ve]=Ze,$[je]=te,ve=je):($[ve]=Fe,$[Be]=te,ve=Be);else if(je<de&&0>i(Ze,te))$[ve]=Ze,$[je]=te,ve=je;else break e}}return ee}function i($,ee){var te=$.sortIndex-ee.sortIndex;return te!==0?te:$.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C($){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=$)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function S($){if(g=!1,C($),!p)if(n(l)!==null)p=!0,Me(A);else{var ee=n(c);ee!==null&&he(S,ee.startTime-$)}}function A($,ee){p=!1,g&&(g=!1,y(R),R=-1),f=!0;var te=h;try{for(C(ee),d=n(l);d!==null&&(!(d.expirationTime>ee)||$&&!Q());){var ve=d.callback;if(typeof ve=="function"){d.callback=null,h=d.priorityLevel;var de=ve(d.expirationTime<=ee);ee=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),C(ee)}else r(l);d=n(l)}if(d!==null)var rt=!0;else{var Be=n(c);Be!==null&&he(S,Be.startTime-ee),rt=!1}return rt}finally{d=null,h=te,f=!1}}var x=!1,I=null,R=-1,P=5,j=-1;function Q(){return!(t.unstable_now()-j<P)}function X(){if(I!==null){var $=t.unstable_now();j=$;var ee=!0;try{ee=I(!0,$)}finally{ee?oe():(x=!1,I=null)}}else x=!1}var oe;if(typeof b=="function")oe=function(){b(X)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Oe=ge.port2;ge.port1.onmessage=X,oe=function(){Oe.postMessage(null)}}else oe=function(){w(X,0)};function Me($){I=$,x||(x=!0,oe())}function he($,ee){R=w(function(){$(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Me(A))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var te=h;h=ee;try{return $()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=h;h=$;try{return ee()}finally{h=te}},t.unstable_scheduleCallback=function($,ee,te){var ve=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,$){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=te+de,$={id:u++,callback:ee,priorityLevel:$,startTime:te,expirationTime:de,sortIndex:-1},te>ve?($.sortIndex=te,e(c,$),n(l)===null&&$===n(c)&&(g?(y(R),R=-1):g=!0,he(S,te-ve))):($.sortIndex=de,e(l,$),p||f||(p=!0,Me(A))),$},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function($){var ee=h;return function(){var te=h;h=ee;try{return $.apply(this,arguments)}finally{h=te}}}})(xk);Sk.exports=xk;var uO=Sk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dO=B,mr=uO;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ck=new Set,od={};function ol(t,e){dc(t,e),dc(t+"Capture",e)}function dc(t,e){for(od[t]=e,t=0;t<e.length;t++)Ck.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h4=Object.prototype.hasOwnProperty,hO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T5={},M5={};function fO(t){return h4.call(M5,t)?!0:h4.call(T5,t)?!1:hO.test(t)?M5[t]=!0:(T5[t]=!0,!1)}function pO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mO(t,e,n,r){if(e===null||typeof e>"u"||pO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jy=/[\-:]([a-z])/g;function Hy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jy,Hy);vn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jy,Hy);vn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jy,Hy);vn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $y(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mO(e,n,i,r)&&(n=null),r||i===null?fO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fs=dO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R0=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Nl=Symbol.for("react.fragment"),Uy=Symbol.for("react.strict_mode"),f4=Symbol.for("react.profiler"),Ek=Symbol.for("react.provider"),Tk=Symbol.for("react.context"),Vy=Symbol.for("react.forward_ref"),p4=Symbol.for("react.suspense"),m4=Symbol.for("react.suspense_list"),Wy=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),Mk=Symbol.for("react.offscreen"),A5=Symbol.iterator;function cu(t){return t===null||typeof t!="object"?null:(t=A5&&t[A5]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,E1;function xu(t){if(E1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);E1=e&&e[1]||""}return`
`+E1+t}var T1=!1;function M1(t,e){if(!t||T1)return"";T1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{T1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?xu(t):""}function gO(t){switch(t.tag){case 5:return xu(t.type);case 16:return xu("Lazy");case 13:return xu("Suspense");case 19:return xu("SuspenseList");case 0:case 2:case 15:return t=M1(t.type,!1),t;case 11:return t=M1(t.type.render,!1),t;case 1:return t=M1(t.type,!0),t;default:return""}}function g4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nl:return"Fragment";case Il:return"Portal";case f4:return"Profiler";case Uy:return"StrictMode";case p4:return"Suspense";case m4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tk:return(t.displayName||"Context")+".Consumer";case Ek:return(t._context.displayName||"Context")+".Provider";case Vy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Wy:return e=t.displayName||null,e!==null?e:g4(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return g4(t(e))}catch{}}return null}function vO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return g4(e);case 8:return e===Uy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ak(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yO(t){var e=Ak(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _0(t){t._valueTracker||(t._valueTracker=yO(t))}function Ok(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ak(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function yf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function v4(t,e){var n=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ik(t,e){e=e.checked,e!=null&&$y(t,"checked",e,!1)}function y4(t,e){Ik(t,e);var n=zo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?w4(t,e.type,n):e.hasOwnProperty("defaultValue")&&w4(t,e.type,zo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function w4(t,e,n){(e!=="number"||yf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Cu=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function b4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function N5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Cu(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zo(n)}}function Nk(t,e){var n=zo(e.value),r=zo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function k4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var L0,Rk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(L0=L0||document.createElement("div"),L0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=L0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ad(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wO=["Webkit","ms","Moz","O"];Object.keys(Lu).forEach(function(t){wO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lu[e]=Lu[t]})});function _k(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lu.hasOwnProperty(t)&&Lu[t]?(""+e).trim():e+"px"}function Lk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=_k(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bO=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function S4(t,e){if(e){if(bO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function x4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var C4=null;function qy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var E4=null,Kl=null,Gl=null;function R5(t){if(t=i0(t)){if(typeof E4!="function")throw Error(q(280));var e=t.stateNode;e&&(e=mm(e),E4(t.stateNode,t.type,e))}}function Pk(t){Kl?Gl?Gl.push(t):Gl=[t]:Kl=t}function zk(){if(Kl){var t=Kl,e=Gl;if(Gl=Kl=null,R5(t),e)for(t=0;t<e.length;t++)R5(e[t])}}function Bk(t,e){return t(e)}function Fk(){}var A1=!1;function jk(t,e,n){if(A1)return t(e,n);A1=!0;try{return Bk(t,e,n)}finally{A1=!1,(Kl!==null||Gl!==null)&&(Fk(),zk())}}function ld(t,e){var n=t.stateNode;if(n===null)return null;var r=mm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var T4=!1;if(As)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){T4=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{T4=!1}function kO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Pu=!1,wf=null,bf=!1,M4=null,SO={onError:function(t){Pu=!0,wf=t}};function xO(t,e,n,r,i,s,o,a,l){Pu=!1,wf=null,kO.apply(SO,arguments)}function CO(t,e,n,r,i,s,o,a,l){if(xO.apply(this,arguments),Pu){if(Pu){var c=wf;Pu=!1,wf=null}else throw Error(q(198));bf||(bf=!0,M4=c)}}function al(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Hk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _5(t){if(al(t)!==t)throw Error(q(188))}function EO(t){var e=t.alternate;if(!e){if(e=al(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _5(i),t;if(s===r)return _5(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function $k(t){return t=EO(t),t!==null?Uk(t):null}function Uk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uk(t);if(e!==null)return e;t=t.sibling}return null}var Vk=mr.unstable_scheduleCallback,L5=mr.unstable_cancelCallback,TO=mr.unstable_shouldYield,MO=mr.unstable_requestPaint,Ft=mr.unstable_now,AO=mr.unstable_getCurrentPriorityLevel,Ky=mr.unstable_ImmediatePriority,Wk=mr.unstable_UserBlockingPriority,kf=mr.unstable_NormalPriority,OO=mr.unstable_LowPriority,qk=mr.unstable_IdlePriority,dm=null,ji=null;function IO(t){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(dm,t,void 0,(t.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:RO,NO=Math.log,DO=Math.LN2;function RO(t){return t>>>=0,t===0?32:31-(NO(t)/DO|0)|0}var P0=64,z0=4194304;function Eu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Eu(a):(s&=o,s!==0&&(r=Eu(s)))}else o=n&~i,o!==0?r=Eu(o):s!==0&&(r=Eu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-si(e),i=1<<n,r|=t[n],e&=~i;return r}function _O(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function LO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-si(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=_O(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function A4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kk(){var t=P0;return P0<<=1,!(P0&4194240)&&(P0=64),t}function O1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function n0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-si(e),t[e]=n}function PO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-si(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Gy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-si(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function Gk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jk,Jy,Yk,Xk,Qk,O4=!1,B0=[],Co=null,Eo=null,To=null,cd=new Map,ud=new Map,so=[],zO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P5(t,e){switch(t){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":cd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(e.pointerId)}}function du(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=i0(e),e!==null&&Jy(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function BO(t,e,n,r,i){switch(e){case"focusin":return Co=du(Co,t,e,n,r,i),!0;case"dragenter":return Eo=du(Eo,t,e,n,r,i),!0;case"mouseover":return To=du(To,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return cd.set(s,du(cd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ud.set(s,du(ud.get(s)||null,t,e,n,r,i)),!0}return!1}function Zk(t){var e=ka(t.target);if(e!==null){var n=al(e);if(n!==null){if(e=n.tag,e===13){if(e=Hk(n),e!==null){t.blockedOn=e,Qk(t.priority,function(){Yk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=I4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);C4=r,n.target.dispatchEvent(r),C4=null}else return e=i0(n),e!==null&&Jy(e),t.blockedOn=n,!1;e.shift()}return!0}function z5(t,e,n){Rh(t)&&n.delete(e)}function FO(){O4=!1,Co!==null&&Rh(Co)&&(Co=null),Eo!==null&&Rh(Eo)&&(Eo=null),To!==null&&Rh(To)&&(To=null),cd.forEach(z5),ud.forEach(z5)}function hu(t,e){t.blockedOn===e&&(t.blockedOn=null,O4||(O4=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,FO)))}function dd(t){function e(i){return hu(i,t)}if(0<B0.length){hu(B0[0],t);for(var n=1;n<B0.length;n++){var r=B0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Co!==null&&hu(Co,t),Eo!==null&&hu(Eo,t),To!==null&&hu(To,t),cd.forEach(e),ud.forEach(e),n=0;n<so.length;n++)r=so[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<so.length&&(n=so[0],n.blockedOn===null);)Zk(n),n.blockedOn===null&&so.shift()}var Jl=Fs.ReactCurrentBatchConfig,xf=!0;function jO(t,e,n,r){var i=Qe,s=Jl.transition;Jl.transition=null;try{Qe=1,Yy(t,e,n,r)}finally{Qe=i,Jl.transition=s}}function HO(t,e,n,r){var i=Qe,s=Jl.transition;Jl.transition=null;try{Qe=4,Yy(t,e,n,r)}finally{Qe=i,Jl.transition=s}}function Yy(t,e,n,r){if(xf){var i=I4(t,e,n,r);if(i===null)F1(t,e,r,Cf,n),P5(t,r);else if(BO(i,t,e,n,r))r.stopPropagation();else if(P5(t,r),e&4&&-1<zO.indexOf(t)){for(;i!==null;){var s=i0(i);if(s!==null&&Jk(s),s=I4(t,e,n,r),s===null&&F1(t,e,r,Cf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else F1(t,e,r,null,n)}}var Cf=null;function I4(t,e,n,r){if(Cf=null,t=qy(r),t=ka(t),t!==null)if(e=al(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Hk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cf=t,null}function eS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AO()){case Ky:return 1;case Wk:return 4;case kf:case OO:return 16;case qk:return 536870912;default:return 16}default:return 16}}var mo=null,Xy=null,_h=null;function tS(){if(_h)return _h;var t,e=Xy,n=e.length,r,i="value"in mo?mo.value:mo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _h=i.slice(t,1<r?1-r:void 0)}function Lh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function F0(){return!0}function B5(){return!1}function wr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?F0:B5,this.isPropagationStopped=B5,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=F0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=F0)},persist:function(){},isPersistent:F0}),e}var jc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qy=wr(jc),r0=Ot({},jc,{view:0,detail:0}),$O=wr(r0),I1,N1,fu,hm=Ot({},r0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==fu&&(fu&&t.type==="mousemove"?(I1=t.screenX-fu.screenX,N1=t.screenY-fu.screenY):N1=I1=0,fu=t),I1)},movementY:function(t){return"movementY"in t?t.movementY:N1}}),F5=wr(hm),UO=Ot({},hm,{dataTransfer:0}),VO=wr(UO),WO=Ot({},r0,{relatedTarget:0}),D1=wr(WO),qO=Ot({},jc,{animationName:0,elapsedTime:0,pseudoElement:0}),KO=wr(qO),GO=Ot({},jc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),JO=wr(GO),YO=Ot({},jc,{data:0}),j5=wr(YO),XO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZO[t])?!!e[t]:!1}function Zy(){return eI}var tI=Ot({},r0,{key:function(t){if(t.key){var e=XO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zy,charCode:function(t){return t.type==="keypress"?Lh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nI=wr(tI),rI=Ot({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),H5=wr(rI),iI=Ot({},r0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zy}),sI=wr(iI),oI=Ot({},jc,{propertyName:0,elapsedTime:0,pseudoElement:0}),aI=wr(oI),lI=Ot({},hm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cI=wr(lI),uI=[9,13,27,32],e2=As&&"CompositionEvent"in window,zu=null;As&&"documentMode"in document&&(zu=document.documentMode);var dI=As&&"TextEvent"in window&&!zu,nS=As&&(!e2||zu&&8<zu&&11>=zu),$5=" ",U5=!1;function rS(t,e){switch(t){case"keyup":return uI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dl=!1;function hI(t,e){switch(t){case"compositionend":return iS(e);case"keypress":return e.which!==32?null:(U5=!0,$5);case"textInput":return t=e.data,t===$5&&U5?null:t;default:return null}}function fI(t,e){if(Dl)return t==="compositionend"||!e2&&rS(t,e)?(t=tS(),_h=Xy=mo=null,Dl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nS&&e.locale!=="ko"?null:e.data;default:return null}}var pI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pI[t.type]:e==="textarea"}function sS(t,e,n,r){Pk(r),e=Ef(e,"onChange"),0<e.length&&(n=new Qy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bu=null,hd=null;function mI(t){gS(t,0)}function fm(t){var e=Ll(t);if(Ok(e))return t}function gI(t,e){if(t==="change")return e}var oS=!1;if(As){var R1;if(As){var _1="oninput"in document;if(!_1){var W5=document.createElement("div");W5.setAttribute("oninput","return;"),_1=typeof W5.oninput=="function"}R1=_1}else R1=!1;oS=R1&&(!document.documentMode||9<document.documentMode)}function q5(){Bu&&(Bu.detachEvent("onpropertychange",aS),hd=Bu=null)}function aS(t){if(t.propertyName==="value"&&fm(hd)){var e=[];sS(e,hd,t,qy(t)),jk(mI,e)}}function vI(t,e,n){t==="focusin"?(q5(),Bu=e,hd=n,Bu.attachEvent("onpropertychange",aS)):t==="focusout"&&q5()}function yI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fm(hd)}function wI(t,e){if(t==="click")return fm(e)}function bI(t,e){if(t==="input"||t==="change")return fm(e)}function kI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var di=typeof Object.is=="function"?Object.is:kI;function fd(t,e){if(di(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h4.call(e,i)||!di(t[i],e[i]))return!1}return!0}function K5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function G5(t,e){var n=K5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=K5(n)}}function lS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?lS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cS(){for(var t=window,e=yf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=yf(t.document)}return e}function t2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function SI(t){var e=cS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&lS(n.ownerDocument.documentElement,n)){if(r!==null&&t2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=G5(n,s);var o=G5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var xI=As&&"documentMode"in document&&11>=document.documentMode,Rl=null,N4=null,Fu=null,D4=!1;function J5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;D4||Rl==null||Rl!==yf(r)||(r=Rl,"selectionStart"in r&&t2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Fu&&fd(Fu,r)||(Fu=r,r=Ef(N4,"onSelect"),0<r.length&&(e=new Qy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rl)))}function j0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _l={animationend:j0("Animation","AnimationEnd"),animationiteration:j0("Animation","AnimationIteration"),animationstart:j0("Animation","AnimationStart"),transitionend:j0("Transition","TransitionEnd")},L1={},uS={};As&&(uS=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function pm(t){if(L1[t])return L1[t];if(!_l[t])return t;var e=_l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uS)return L1[t]=e[n];return t}var dS=pm("animationend"),hS=pm("animationiteration"),fS=pm("animationstart"),pS=pm("transitionend"),mS=new Map,Y5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){mS.set(t,e),ol(e,[t])}for(var P1=0;P1<Y5.length;P1++){var z1=Y5[P1],CI=z1.toLowerCase(),EI=z1[0].toUpperCase()+z1.slice(1);Ko(CI,"on"+EI)}Ko(dS,"onAnimationEnd");Ko(hS,"onAnimationIteration");Ko(fS,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(pS,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tu));function X5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CO(r,e,void 0,t),t.currentTarget=null}function gS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;X5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;X5(i,a,c),s=l}}}if(bf)throw t=M4,bf=!1,M4=null,t}function ft(t,e){var n=e[z4];n===void 0&&(n=e[z4]=new Set);var r=t+"__bubble";n.has(r)||(vS(e,t,2,!1),n.add(r))}function B1(t,e,n){var r=0;e&&(r|=4),vS(n,t,r,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function pd(t){if(!t[H0]){t[H0]=!0,Ck.forEach(function(n){n!=="selectionchange"&&(TI.has(n)||B1(n,!1,t),B1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[H0]||(e[H0]=!0,B1("selectionchange",!1,e))}}function vS(t,e,n,r){switch(eS(e)){case 1:var i=jO;break;case 4:i=HO;break;default:i=Yy}n=i.bind(null,e,n,t),i=void 0,!T4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function F1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ka(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}jk(function(){var c=s,u=qy(n),d=[];e:{var h=mS.get(t);if(h!==void 0){var f=Qy,p=t;switch(t){case"keypress":if(Lh(n)===0)break e;case"keydown":case"keyup":f=nI;break;case"focusin":p="focus",f=D1;break;case"focusout":p="blur",f=D1;break;case"beforeblur":case"afterblur":f=D1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=F5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=VO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=sI;break;case dS:case hS:case fS:f=KO;break;case pS:f=aI;break;case"scroll":f=$O;break;case"wheel":f=cI;break;case"copy":case"cut":case"paste":f=JO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=H5}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var b=c,C;b!==null;){C=b;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,y!==null&&(S=ld(b,y),S!=null&&g.push(md(b,S,C)))),w)break;b=b.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==C4&&(p=n.relatedTarget||n.fromElement)&&(ka(p)||p[Os]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?ka(p):null,p!==null&&(w=al(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=F5,S="onMouseLeave",y="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(g=H5,S="onPointerLeave",y="onPointerEnter",b="pointer"),w=f==null?h:Ll(f),C=p==null?h:Ll(p),h=new g(S,b+"leave",f,n,u),h.target=w,h.relatedTarget=C,S=null,ka(u)===c&&(g=new g(y,b+"enter",p,n,u),g.target=C,g.relatedTarget=w,S=g),w=S,f&&p)t:{for(g=f,y=p,b=0,C=g;C;C=yl(C))b++;for(C=0,S=y;S;S=yl(S))C++;for(;0<b-C;)g=yl(g),b--;for(;0<C-b;)y=yl(y),C--;for(;b--;){if(g===y||y!==null&&g===y.alternate)break t;g=yl(g),y=yl(y)}g=null}else g=null;f!==null&&Q5(d,h,f,g,!1),p!==null&&w!==null&&Q5(d,w,p,g,!0)}}e:{if(h=c?Ll(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var A=gI;else if(V5(h))if(oS)A=bI;else{A=yI;var x=vI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=wI);if(A&&(A=A(t,c))){sS(d,A,n,u);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&w4(h,"number",h.value)}switch(x=c?Ll(c):window,t){case"focusin":(V5(x)||x.contentEditable==="true")&&(Rl=x,N4=c,Fu=null);break;case"focusout":Fu=N4=Rl=null;break;case"mousedown":D4=!0;break;case"contextmenu":case"mouseup":case"dragend":D4=!1,J5(d,n,u);break;case"selectionchange":if(xI)break;case"keydown":case"keyup":J5(d,n,u)}var I;if(e2)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Dl?rS(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(nS&&n.locale!=="ko"&&(Dl||R!=="onCompositionStart"?R==="onCompositionEnd"&&Dl&&(I=tS()):(mo=u,Xy="value"in mo?mo.value:mo.textContent,Dl=!0)),x=Ef(c,R),0<x.length&&(R=new j5(R,t,null,n,u),d.push({event:R,listeners:x}),I?R.data=I:(I=iS(n),I!==null&&(R.data=I)))),(I=dI?hI(t,n):fI(t,n))&&(c=Ef(c,"onBeforeInput"),0<c.length&&(u=new j5("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}gS(d,e)})}function md(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ef(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ld(t,n),s!=null&&r.unshift(md(t,s,i)),s=ld(t,e),s!=null&&r.push(md(t,s,i))),t=t.return}return r}function yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Q5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=ld(n,s),l!=null&&o.unshift(md(n,l,a))):i||(l=ld(n,s),l!=null&&o.push(md(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MI=/\r\n?/g,AI=/\u0000|\uFFFD/g;function Z5(t){return(typeof t=="string"?t:""+t).replace(MI,`
`).replace(AI,"")}function $0(t,e,n){if(e=Z5(e),Z5(t)!==e&&n)throw Error(q(425))}function Tf(){}var R4=null,_4=null;function L4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var P4=typeof setTimeout=="function"?setTimeout:void 0,OI=typeof clearTimeout=="function"?clearTimeout:void 0,e6=typeof Promise=="function"?Promise:void 0,II=typeof queueMicrotask=="function"?queueMicrotask:typeof e6<"u"?function(t){return e6.resolve(null).then(t).catch(NI)}:P4;function NI(t){setTimeout(function(){throw t})}function j1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dd(e)}function Mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hc=Math.random().toString(36).slice(2),Li="__reactFiber$"+Hc,gd="__reactProps$"+Hc,Os="__reactContainer$"+Hc,z4="__reactEvents$"+Hc,DI="__reactListeners$"+Hc,RI="__reactHandles$"+Hc;function ka(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Os]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=t6(t);t!==null;){if(n=t[Li])return n;t=t6(t)}return e}t=n,n=t.parentNode}return null}function i0(t){return t=t[Li]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ll(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function mm(t){return t[gd]||null}var B4=[],Pl=-1;function Go(t){return{current:t}}function mt(t){0>Pl||(t.current=B4[Pl],B4[Pl]=null,Pl--)}function ut(t,e){Pl++,B4[Pl]=t.current,t.current=e}var Bo={},En=Go(Bo),Yn=Go(!1),$a=Bo;function hc(t,e){var n=t.type.contextTypes;if(!n)return Bo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function Mf(){mt(Yn),mt(En)}function n6(t,e,n){if(En.current!==Bo)throw Error(q(168));ut(En,e),ut(Yn,n)}function yS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,vO(t)||"Unknown",i));return Ot({},n,r)}function Af(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bo,$a=En.current,ut(En,t),ut(Yn,Yn.current),!0}function r6(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=yS(t,e,$a),r.__reactInternalMemoizedMergedChildContext=t,mt(Yn),mt(En),ut(En,t)):mt(Yn),ut(Yn,n)}var hs=null,gm=!1,H1=!1;function wS(t){hs===null?hs=[t]:hs.push(t)}function _I(t){gm=!0,wS(t)}function Jo(){if(!H1&&hs!==null){H1=!0;var t=0,e=Qe;try{var n=hs;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,gm=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),Vk(Ky,Jo),i}finally{Qe=e,H1=!1}}return null}var zl=[],Bl=0,Of=null,If=0,Tr=[],Mr=0,Ua=null,ps=1,ms="";function ha(t,e){zl[Bl++]=If,zl[Bl++]=Of,Of=t,If=e}function bS(t,e,n){Tr[Mr++]=ps,Tr[Mr++]=ms,Tr[Mr++]=Ua,Ua=t;var r=ps;t=ms;var i=32-si(r)-1;r&=~(1<<i),n+=1;var s=32-si(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ps=1<<32-si(e)+i|n<<i|r,ms=s+t}else ps=1<<s|n<<i|r,ms=t}function n2(t){t.return!==null&&(ha(t,1),bS(t,1,0))}function r2(t){for(;t===Of;)Of=zl[--Bl],zl[Bl]=null,If=zl[--Bl],zl[Bl]=null;for(;t===Ua;)Ua=Tr[--Mr],Tr[Mr]=null,ms=Tr[--Mr],Tr[Mr]=null,ps=Tr[--Mr],Tr[Mr]=null}var hr=null,dr=null,bt=!1,ei=null;function kS(t,e){var n=Nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function i6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,dr=Mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ua!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,dr=null,!0):!1;default:return!1}}function F4(t){return(t.mode&1)!==0&&(t.flags&128)===0}function j4(t){if(bt){var e=dr;if(e){var n=e;if(!i6(t,e)){if(F4(t))throw Error(q(418));e=Mo(n.nextSibling);var r=hr;e&&i6(t,e)?kS(r,n):(t.flags=t.flags&-4097|2,bt=!1,hr=t)}}else{if(F4(t))throw Error(q(418));t.flags=t.flags&-4097|2,bt=!1,hr=t}}}function s6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function U0(t){if(t!==hr)return!1;if(!bt)return s6(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!L4(t.type,t.memoizedProps)),e&&(e=dr)){if(F4(t))throw SS(),Error(q(418));for(;e;)kS(t,e),e=Mo(e.nextSibling)}if(s6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dr=Mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dr=null}}else dr=hr?Mo(t.stateNode.nextSibling):null;return!0}function SS(){for(var t=dr;t;)t=Mo(t.nextSibling)}function fc(){dr=hr=null,bt=!1}function i2(t){ei===null?ei=[t]:ei.push(t)}var LI=Fs.ReactCurrentBatchConfig;function pu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function V0(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o6(t){var e=t._init;return e(t._payload)}function xS(t){function e(y,b){if(t){var C=y.deletions;C===null?(y.deletions=[b],y.flags|=16):C.push(b)}}function n(y,b){if(!t)return null;for(;b!==null;)e(y,b),b=b.sibling;return null}function r(y,b){for(y=new Map;b!==null;)b.key!==null?y.set(b.key,b):y.set(b.index,b),b=b.sibling;return y}function i(y,b){return y=No(y,b),y.index=0,y.sibling=null,y}function s(y,b,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<b?(y.flags|=2,b):C):(y.flags|=2,b)):(y.flags|=1048576,b)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,b,C,S){return b===null||b.tag!==6?(b=G1(C,y.mode,S),b.return=y,b):(b=i(b,C),b.return=y,b)}function l(y,b,C,S){var A=C.type;return A===Nl?u(y,b,C.props.children,S,C.key):b!==null&&(b.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&o6(A)===b.type)?(S=i(b,C.props),S.ref=pu(y,b,C),S.return=y,S):(S=$h(C.type,C.key,C.props,null,y.mode,S),S.ref=pu(y,b,C),S.return=y,S)}function c(y,b,C,S){return b===null||b.tag!==4||b.stateNode.containerInfo!==C.containerInfo||b.stateNode.implementation!==C.implementation?(b=J1(C,y.mode,S),b.return=y,b):(b=i(b,C.children||[]),b.return=y,b)}function u(y,b,C,S,A){return b===null||b.tag!==7?(b=Na(C,y.mode,S,A),b.return=y,b):(b=i(b,C),b.return=y,b)}function d(y,b,C){if(typeof b=="string"&&b!==""||typeof b=="number")return b=G1(""+b,y.mode,C),b.return=y,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case R0:return C=$h(b.type,b.key,b.props,null,y.mode,C),C.ref=pu(y,null,b),C.return=y,C;case Il:return b=J1(b,y.mode,C),b.return=y,b;case eo:var S=b._init;return d(y,S(b._payload),C)}if(Cu(b)||cu(b))return b=Na(b,y.mode,C,null),b.return=y,b;V0(y,b)}return null}function h(y,b,C,S){var A=b!==null?b.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return A!==null?null:a(y,b,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case R0:return C.key===A?l(y,b,C,S):null;case Il:return C.key===A?c(y,b,C,S):null;case eo:return A=C._init,h(y,b,A(C._payload),S)}if(Cu(C)||cu(C))return A!==null?null:u(y,b,C,S,null);V0(y,C)}return null}function f(y,b,C,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(C)||null,a(b,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case R0:return y=y.get(S.key===null?C:S.key)||null,l(b,y,S,A);case Il:return y=y.get(S.key===null?C:S.key)||null,c(b,y,S,A);case eo:var x=S._init;return f(y,b,C,x(S._payload),A)}if(Cu(S)||cu(S))return y=y.get(C)||null,u(b,y,S,A,null);V0(b,S)}return null}function p(y,b,C,S){for(var A=null,x=null,I=b,R=b=0,P=null;I!==null&&R<C.length;R++){I.index>R?(P=I,I=null):P=I.sibling;var j=h(y,I,C[R],S);if(j===null){I===null&&(I=P);break}t&&I&&j.alternate===null&&e(y,I),b=s(j,b,R),x===null?A=j:x.sibling=j,x=j,I=P}if(R===C.length)return n(y,I),bt&&ha(y,R),A;if(I===null){for(;R<C.length;R++)I=d(y,C[R],S),I!==null&&(b=s(I,b,R),x===null?A=I:x.sibling=I,x=I);return bt&&ha(y,R),A}for(I=r(y,I);R<C.length;R++)P=f(I,y,R,C[R],S),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?R:P.key),b=s(P,b,R),x===null?A=P:x.sibling=P,x=P);return t&&I.forEach(function(Q){return e(y,Q)}),bt&&ha(y,R),A}function g(y,b,C,S){var A=cu(C);if(typeof A!="function")throw Error(q(150));if(C=A.call(C),C==null)throw Error(q(151));for(var x=A=null,I=b,R=b=0,P=null,j=C.next();I!==null&&!j.done;R++,j=C.next()){I.index>R?(P=I,I=null):P=I.sibling;var Q=h(y,I,j.value,S);if(Q===null){I===null&&(I=P);break}t&&I&&Q.alternate===null&&e(y,I),b=s(Q,b,R),x===null?A=Q:x.sibling=Q,x=Q,I=P}if(j.done)return n(y,I),bt&&ha(y,R),A;if(I===null){for(;!j.done;R++,j=C.next())j=d(y,j.value,S),j!==null&&(b=s(j,b,R),x===null?A=j:x.sibling=j,x=j);return bt&&ha(y,R),A}for(I=r(y,I);!j.done;R++,j=C.next())j=f(I,y,R,j.value,S),j!==null&&(t&&j.alternate!==null&&I.delete(j.key===null?R:j.key),b=s(j,b,R),x===null?A=j:x.sibling=j,x=j);return t&&I.forEach(function(X){return e(y,X)}),bt&&ha(y,R),A}function w(y,b,C,S){if(typeof C=="object"&&C!==null&&C.type===Nl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case R0:e:{for(var A=C.key,x=b;x!==null;){if(x.key===A){if(A=C.type,A===Nl){if(x.tag===7){n(y,x.sibling),b=i(x,C.props.children),b.return=y,y=b;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&o6(A)===x.type){n(y,x.sibling),b=i(x,C.props),b.ref=pu(y,x,C),b.return=y,y=b;break e}n(y,x);break}else e(y,x);x=x.sibling}C.type===Nl?(b=Na(C.props.children,y.mode,S,C.key),b.return=y,y=b):(S=$h(C.type,C.key,C.props,null,y.mode,S),S.ref=pu(y,b,C),S.return=y,y=S)}return o(y);case Il:e:{for(x=C.key;b!==null;){if(b.key===x)if(b.tag===4&&b.stateNode.containerInfo===C.containerInfo&&b.stateNode.implementation===C.implementation){n(y,b.sibling),b=i(b,C.children||[]),b.return=y,y=b;break e}else{n(y,b);break}else e(y,b);b=b.sibling}b=J1(C,y.mode,S),b.return=y,y=b}return o(y);case eo:return x=C._init,w(y,b,x(C._payload),S)}if(Cu(C))return p(y,b,C,S);if(cu(C))return g(y,b,C,S);V0(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,b!==null&&b.tag===6?(n(y,b.sibling),b=i(b,C),b.return=y,y=b):(n(y,b),b=G1(C,y.mode,S),b.return=y,y=b),o(y)):n(y,b)}return w}var pc=xS(!0),CS=xS(!1),Nf=Go(null),Df=null,Fl=null,s2=null;function o2(){s2=Fl=Df=null}function a2(t){var e=Nf.current;mt(Nf),t._currentValue=e}function H4(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yl(t,e){Df=t,s2=Fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function zr(t){var e=t._currentValue;if(s2!==t)if(t={context:t,memoizedValue:e,next:null},Fl===null){if(Df===null)throw Error(q(308));Fl=t,Df.dependencies={lanes:0,firstContext:t}}else Fl=Fl.next=t;return e}var Sa=null;function l2(t){Sa===null?Sa=[t]:Sa.push(t)}function ES(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,l2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Is(t,r)}function Is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function c2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Is(t,n)}return i=r.interleaved,i===null?(e.next=e,l2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Is(t,n)}function Ph(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}function a6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Rf(t,e,n,r){var i=t.updateQueue;to=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Ot({},d,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wa|=o,t.lanes=o,t.memoizedState=d}}function l6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var s0={},Hi=Go(s0),vd=Go(s0),yd=Go(s0);function xa(t){if(t===s0)throw Error(q(174));return t}function u2(t,e){switch(ut(yd,e),ut(vd,t),ut(Hi,s0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:k4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=k4(e,t)}mt(Hi),ut(Hi,e)}function mc(){mt(Hi),mt(vd),mt(yd)}function MS(t){xa(yd.current);var e=xa(Hi.current),n=k4(e,t.type);e!==n&&(ut(vd,t),ut(Hi,n))}function d2(t){vd.current===t&&(mt(Hi),mt(vd))}var Et=Go(0);function _f(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $1=[];function h2(){for(var t=0;t<$1.length;t++)$1[t]._workInProgressVersionPrimary=null;$1.length=0}var zh=Fs.ReactCurrentDispatcher,U1=Fs.ReactCurrentBatchConfig,Va=0,At=null,Yt=null,nn=null,Lf=!1,ju=!1,wd=0,PI=0;function wn(){throw Error(q(321))}function f2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!di(t[n],e[n]))return!1;return!0}function p2(t,e,n,r,i,s){if(Va=s,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zh.current=t===null||t.memoizedState===null?jI:HI,t=n(r,i),ju){s=0;do{if(ju=!1,wd=0,25<=s)throw Error(q(301));s+=1,nn=Yt=null,e.updateQueue=null,zh.current=$I,t=n(r,i)}while(ju)}if(zh.current=Pf,e=Yt!==null&&Yt.next!==null,Va=0,nn=Yt=At=null,Lf=!1,e)throw Error(q(300));return t}function m2(){var t=wd!==0;return wd=0,t}function Ai(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?At.memoizedState=nn=t:nn=nn.next=t,nn}function Br(){if(Yt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=nn===null?At.memoizedState:nn.next;if(e!==null)nn=e,Yt=t;else{if(t===null)throw Error(q(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},nn===null?At.memoizedState=nn=t:nn=nn.next=t}return nn}function bd(t,e){return typeof e=="function"?e(t):e}function V1(t){var e=Br(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Va&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,At.lanes|=u,Wa|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,di(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,At.lanes|=s,Wa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function W1(t){var e=Br(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);di(s,e.memoizedState)||(Gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function AS(){}function OS(t,e){var n=At,r=Br(),i=e(),s=!di(r.memoizedState,i);if(s&&(r.memoizedState=i,Gn=!0),r=r.queue,g2(DS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,kd(9,NS.bind(null,n,r,i,e),void 0,null),on===null)throw Error(q(349));Va&30||IS(n,e,i)}return i}function IS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function NS(t,e,n,r){e.value=n,e.getSnapshot=r,RS(e)&&_S(t)}function DS(t,e,n){return n(function(){RS(e)&&_S(t)})}function RS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!di(t,n)}catch{return!0}}function _S(t){var e=Is(t,1);e!==null&&oi(e,t,1,-1)}function c6(t){var e=Ai();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},e.queue=t,t=t.dispatch=FI.bind(null,At,t),[e.memoizedState,t]}function kd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function LS(){return Br().memoizedState}function Bh(t,e,n,r){var i=Ai();At.flags|=t,i.memoizedState=kd(1|e,n,void 0,r===void 0?null:r)}function vm(t,e,n,r){var i=Br();r=r===void 0?null:r;var s=void 0;if(Yt!==null){var o=Yt.memoizedState;if(s=o.destroy,r!==null&&f2(r,o.deps)){i.memoizedState=kd(e,n,s,r);return}}At.flags|=t,i.memoizedState=kd(1|e,n,s,r)}function u6(t,e){return Bh(8390656,8,t,e)}function g2(t,e){return vm(2048,8,t,e)}function PS(t,e){return vm(4,2,t,e)}function zS(t,e){return vm(4,4,t,e)}function BS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FS(t,e,n){return n=n!=null?n.concat([t]):null,vm(4,4,BS.bind(null,e,t),n)}function v2(){}function jS(t,e){var n=Br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function HS(t,e){var n=Br();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&f2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function $S(t,e,n){return Va&21?(di(n,e)||(n=Kk(),At.lanes|=n,Wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function zI(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=U1.transition;U1.transition={};try{t(!1),e()}finally{Qe=n,U1.transition=r}}function US(){return Br().memoizedState}function BI(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},VS(t))WS(e,n);else if(n=ES(t,e,n,r),n!==null){var i=_n();oi(n,t,r,i),qS(n,e,r)}}function FI(t,e,n){var r=Io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(VS(t))WS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,di(a,o)){var l=e.interleaved;l===null?(i.next=i,l2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=ES(t,e,i,r),n!==null&&(i=_n(),oi(n,t,r,i),qS(n,e,r))}}function VS(t){var e=t.alternate;return t===At||e!==null&&e===At}function WS(t,e){ju=Lf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Gy(t,n)}}var Pf={readContext:zr,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},jI={readContext:zr,useCallback:function(t,e){return Ai().memoizedState=[t,e===void 0?null:e],t},useContext:zr,useEffect:u6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Bh(4194308,4,BS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bh(4,2,t,e)},useMemo:function(t,e){var n=Ai();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ai();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=BI.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=Ai();return t={current:t},e.memoizedState=t},useState:c6,useDebugValue:v2,useDeferredValue:function(t){return Ai().memoizedState=t},useTransition:function(){var t=c6(!1),e=t[0];return t=zI.bind(null,t[1]),Ai().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=Ai();if(bt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),on===null)throw Error(q(349));Va&30||IS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,u6(DS.bind(null,r,s,t),[t]),r.flags|=2048,kd(9,NS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ai(),e=on.identifierPrefix;if(bt){var n=ms,r=ps;n=(r&~(1<<32-si(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=PI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HI={readContext:zr,useCallback:jS,useContext:zr,useEffect:g2,useImperativeHandle:FS,useInsertionEffect:PS,useLayoutEffect:zS,useMemo:HS,useReducer:V1,useRef:LS,useState:function(){return V1(bd)},useDebugValue:v2,useDeferredValue:function(t){var e=Br();return $S(e,Yt.memoizedState,t)},useTransition:function(){var t=V1(bd)[0],e=Br().memoizedState;return[t,e]},useMutableSource:AS,useSyncExternalStore:OS,useId:US,unstable_isNewReconciler:!1},$I={readContext:zr,useCallback:jS,useContext:zr,useEffect:g2,useImperativeHandle:FS,useInsertionEffect:PS,useLayoutEffect:zS,useMemo:HS,useReducer:W1,useRef:LS,useState:function(){return W1(bd)},useDebugValue:v2,useDeferredValue:function(t){var e=Br();return Yt===null?e.memoizedState=t:$S(e,Yt.memoizedState,t)},useTransition:function(){var t=W1(bd)[0],e=Br().memoizedState;return[t,e]},useMutableSource:AS,useSyncExternalStore:OS,useId:US,unstable_isNewReconciler:!1};function Yr(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function $4(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ym={isMounted:function(t){return(t=t._reactInternals)?al(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Io(t),s=bs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ao(t,s,i),e!==null&&(oi(e,t,i,r),Ph(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Io(t),s=bs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ao(t,s,i),e!==null&&(oi(e,t,i,r),Ph(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Io(t),i=bs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ao(t,i,r),e!==null&&(oi(e,t,r,n),Ph(e,t,r))}};function d6(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fd(n,r)||!fd(i,s):!0}function KS(t,e,n){var r=!1,i=Bo,s=e.contextType;return typeof s=="object"&&s!==null?s=zr(s):(i=Xn(e)?$a:En.current,r=e.contextTypes,s=(r=r!=null)?hc(t,i):Bo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ym,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function h6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ym.enqueueReplaceState(e,e.state,null)}function U4(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},c2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zr(s):(s=Xn(e)?$a:En.current,i.context=hc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($4(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ym.enqueueReplaceState(i,i.state,null),Rf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gc(t,e){try{var n="",r=e;do n+=gO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function q1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function V4(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function GS(t,e,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Bf||(Bf=!0,ev=r),V4(t,e)},n}function JS(t,e,n){n=bs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){V4(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){V4(t,e),typeof r!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function f6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new UI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rN.bind(null,t,e,n),e.then(t,t))}function p6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bs(-1,1),e.tag=2,Ao(n,e,1))),n.lanes|=1),t)}var VI=Fs.ReactCurrentOwner,Gn=!1;function Nn(t,e,n,r){e.child=t===null?CS(e,null,n,r):pc(e,t.child,n,r)}function g6(t,e,n,r,i){n=n.render;var s=e.ref;return Yl(e,i),r=p2(t,e,n,r,s,i),n=m2(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(bt&&n&&n2(e),e.flags|=1,Nn(t,e,r,i),e.child)}function v6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!E2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YS(t,e,s,r,i)):(t=$h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fd,n(o,r)&&t.ref===e.ref)return Ns(t,e,i)}return e.flags|=1,t=No(s,r),t.ref=e.ref,t.return=e,e.child=t}function YS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fd(s,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,Ns(t,e,i)}return W4(t,e,n,r,i)}function XS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Hl,or),or|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(Hl,or),or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ut(Hl,or),or|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ut(Hl,or),or|=r;return Nn(t,e,i,n),e.child}function QS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function W4(t,e,n,r,i){var s=Xn(n)?$a:En.current;return s=hc(e,s),Yl(e,i),n=p2(t,e,n,r,s,i),r=m2(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(bt&&r&&n2(e),e.flags|=1,Nn(t,e,n,i),e.child)}function y6(t,e,n,r,i){if(Xn(n)){var s=!0;Af(e)}else s=!1;if(Yl(e,i),e.stateNode===null)Fh(t,e),KS(e,n,r),U4(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=zr(c):(c=Xn(n)?$a:En.current,c=hc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&h6(e,o,r,c),to=!1;var h=e.memoizedState;o.state=h,Rf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Yn.current||to?(typeof u=="function"&&($4(e,n,u,r),l=e.memoizedState),(a=to||d6(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Yr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=zr(l):(l=Xn(n)?$a:En.current,l=hc(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&h6(e,o,r,l),to=!1,h=e.memoizedState,o.state=h,Rf(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||Yn.current||to?(typeof f=="function"&&($4(e,n,f,r),p=e.memoizedState),(c=to||d6(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return q4(t,e,n,r,s,i)}function q4(t,e,n,r,i,s){QS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&r6(e,n,!1),Ns(t,e,s);r=e.stateNode,VI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pc(e,t.child,null,s),e.child=pc(e,null,a,s)):Nn(t,e,a,s),e.memoizedState=r.state,i&&r6(e,n,!0),e.child}function ZS(t){var e=t.stateNode;e.pendingContext?n6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&n6(t,e.context,!1),u2(t,e.containerInfo)}function w6(t,e,n,r,i){return fc(),i2(i),e.flags|=256,Nn(t,e,n,r),e.child}var K4={dehydrated:null,treeContext:null,retryLane:0};function G4(t){return{baseLanes:t,cachePool:null,transitions:null}}function e9(t,e,n){var r=e.pendingProps,i=Et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(Et,i&1),t===null)return j4(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=km(o,r,0,null),t=Na(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=G4(n),e.memoizedState=K4,t):y2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return WI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=No(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=No(a,s):(s=Na(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?G4(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=K4,r}return s=t.child,t=s.sibling,r=No(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function y2(t,e){return e=km({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function W0(t,e,n,r){return r!==null&&i2(r),pc(e,t.child,null,n),t=y2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=q1(Error(q(422))),W0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=km({mode:"visible",children:r.children},i,0,null),s=Na(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pc(e,t.child,null,o),e.child.memoizedState=G4(o),e.memoizedState=K4,s);if(!(e.mode&1))return W0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=q1(s,r,void 0),W0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gn||a){if(r=on,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Is(t,i),oi(r,t,i,-1))}return C2(),r=q1(Error(q(421))),W0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dr=Mo(i.nextSibling),hr=e,bt=!0,ei=null,t!==null&&(Tr[Mr++]=ps,Tr[Mr++]=ms,Tr[Mr++]=Ua,ps=t.id,ms=t.overflow,Ua=e),e=y2(e,r.children),e.flags|=4096,e)}function b6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),H4(t.return,e,n)}function K1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function t9(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&b6(t,n,e);else if(t.tag===19)b6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_f(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),K1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_f(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}K1(e,!0,n,null,s);break;case"together":K1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=No(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=No(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qI(t,e,n){switch(e.tag){case 3:ZS(e),fc();break;case 5:MS(e);break;case 1:Xn(e.type)&&Af(e);break;case 4:u2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut(Nf,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?e9(t,e,n):(ut(Et,Et.current&1),t=Ns(t,e,n),t!==null?t.sibling:null);ut(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return t9(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,XS(t,e,n)}return Ns(t,e,n)}var n9,J4,r9,i9;n9=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};J4=function(){};r9=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xa(Hi.current);var s=null;switch(n){case"input":i=v4(t,i),r=v4(t,r),s=[];break;case"select":i=Ot({},i,{value:void 0}),r=Ot({},r,{value:void 0}),s=[];break;case"textarea":i=b4(t,i),r=b4(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Tf)}S4(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(od.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(od.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};i9=function(t,e,n,r){n!==r&&(e.flags|=4)};function mu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function KI(t,e,n){var r=e.pendingProps;switch(r2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return Xn(e.type)&&Mf(),bn(e),null;case 3:return r=e.stateNode,mc(),mt(Yn),mt(En),h2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(U0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ei!==null&&(rv(ei),ei=null))),J4(t,e),bn(e),null;case 5:d2(e);var i=xa(yd.current);if(n=e.type,t!==null&&e.stateNode!=null)r9(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return bn(e),null}if(t=xa(Hi.current),U0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Li]=e,r[gd]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Tu.length;i++)ft(Tu[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":O5(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":N5(r,s),ft("invalid",r)}S4(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$0(r.textContent,a,t),i=["children",""+a]):od.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":_0(r),I5(r,s,!0);break;case"textarea":_0(r),D5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Tf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Li]=e,t[gd]=r,n9(t,e,!1,!1),e.stateNode=t;e:{switch(o=x4(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tu.length;i++)ft(Tu[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":O5(t,r),i=v4(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ot({},r,{value:void 0}),ft("invalid",t);break;case"textarea":N5(t,r),i=b4(t,r),ft("invalid",t);break;default:i=r}S4(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Lk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ad(t,l):typeof l=="number"&&ad(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(od.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",t):l!=null&&$y(t,s,l,o))}switch(n){case"input":_0(t),I5(t,r,!1);break;case"textarea":_0(t),D5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ql(t,!!r.multiple,s,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Tf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)i9(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=xa(yd.current),xa(Hi.current),U0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Li]=e,(s=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:$0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Li]=e,e.stateNode=r}return bn(e),null;case 13:if(mt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&dr!==null&&e.mode&1&&!(e.flags&128))SS(),fc(),e.flags|=98560,s=!1;else if(s=U0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Li]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else ei!==null&&(rv(ei),ei=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Xt===0&&(Xt=3):C2())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return mc(),J4(t,e),t===null&&pd(e.stateNode.containerInfo),bn(e),null;case 10:return a2(e.type._context),bn(e),null;case 17:return Xn(e.type)&&Mf(),bn(e),null;case 19:if(mt(Et),s=e.memoizedState,s===null)return bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)mu(s,!1);else{if(Xt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_f(t),o!==null){for(e.flags|=128,mu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ft()>vc&&(e.flags|=128,r=!0,mu(s,!1),e.lanes=4194304)}else{if(!r)if(t=_f(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),mu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bt)return bn(e),null}else 2*Ft()-s.renderingStartTime>vc&&n!==1073741824&&(e.flags|=128,r=!0,mu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ft(),e.sibling=null,n=Et.current,ut(Et,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return x2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?or&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function GI(t,e){switch(r2(e),e.tag){case 1:return Xn(e.type)&&Mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(),mt(Yn),mt(En),h2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return d2(e),null;case 13:if(mt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(Et),null;case 4:return mc(),null;case 10:return a2(e.type._context),null;case 22:case 23:return x2(),null;case 24:return null;default:return null}}var q0=!1,Sn=!1,JI=typeof WeakSet=="function"?WeakSet:Set,re=null;function jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function Y4(t,e,n){try{n()}catch(r){_t(t,e,r)}}var k6=!1;function YI(t,e){if(R4=xf,t=cS(),t2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(_4={focusedElem:t,selectionRange:n},xf=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,y=e.stateNode,b=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Yr(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){_t(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return p=k6,k6=!1,p}function Hu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Y4(e,n,s)}i=i.next}while(i!==r)}}function wm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function X4(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s9(t){var e=t.alternate;e!==null&&(t.alternate=null,s9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[gd],delete e[z4],delete e[DI],delete e[RI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function o9(t){return t.tag===5||t.tag===3||t.tag===4}function S6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Q4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Tf));else if(r!==4&&(t=t.child,t!==null))for(Q4(t,e,n),t=t.sibling;t!==null;)Q4(t,e,n),t=t.sibling}function Z4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Z4(t,e,n),t=t.sibling;t!==null;)Z4(t,e,n),t=t.sibling}var dn=null,Xr=!1;function Vs(t,e,n){for(n=n.child;n!==null;)a9(t,e,n),n=n.sibling}function a9(t,e,n){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(dm,n)}catch{}switch(n.tag){case 5:Sn||jl(n,e);case 6:var r=dn,i=Xr;dn=null,Vs(t,e,n),dn=r,Xr=i,dn!==null&&(Xr?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(Xr?(t=dn,n=n.stateNode,t.nodeType===8?j1(t.parentNode,n):t.nodeType===1&&j1(t,n),dd(t)):j1(dn,n.stateNode));break;case 4:r=dn,i=Xr,dn=n.stateNode.containerInfo,Xr=!0,Vs(t,e,n),dn=r,Xr=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Y4(n,e,o),i=i.next}while(i!==r)}Vs(t,e,n);break;case 1:if(!Sn&&(jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_t(n,e,a)}Vs(t,e,n);break;case 21:Vs(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,Vs(t,e,n),Sn=r):Vs(t,e,n);break;default:Vs(t,e,n)}}function x6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new JI),e.forEach(function(r){var i=sN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dn=a.stateNode,Xr=!1;break e;case 3:dn=a.stateNode.containerInfo,Xr=!0;break e;case 4:dn=a.stateNode.containerInfo,Xr=!0;break e}a=a.return}if(dn===null)throw Error(q(160));a9(s,o,i),dn=null,Xr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)l9(e,t),e=e.sibling}function l9(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),Ti(t),r&4){try{Hu(3,t,t.return),wm(3,t)}catch(g){_t(t,t.return,g)}try{Hu(5,t,t.return)}catch(g){_t(t,t.return,g)}}break;case 1:Jr(e,t),Ti(t),r&512&&n!==null&&jl(n,n.return);break;case 5:if(Jr(e,t),Ti(t),r&512&&n!==null&&jl(n,n.return),t.flags&32){var i=t.stateNode;try{ad(i,"")}catch(g){_t(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Ik(i,s),x4(a,o);var c=x4(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Lk(i,d):u==="dangerouslySetInnerHTML"?Rk(i,d):u==="children"?ad(i,d):$y(i,u,d,c)}switch(a){case"input":y4(i,s);break;case"textarea":Nk(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ql(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ql(i,!!s.multiple,s.defaultValue,!0):ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[gd]=s}catch(g){_t(t,t.return,g)}}break;case 6:if(Jr(e,t),Ti(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){_t(t,t.return,g)}}break;case 3:if(Jr(e,t),Ti(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(g){_t(t,t.return,g)}break;case 4:Jr(e,t),Ti(t);break;case 13:Jr(e,t),Ti(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k2=Ft())),r&4&&x6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(c=Sn)||u,Jr(e,t),Sn=c):Jr(e,t),Ti(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(d=re=u;re!==null;){switch(h=re,f=h.child,h.tag){case 0:case 11:case 14:case 15:Hu(4,h,h.return);break;case 1:jl(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){_t(r,n,g)}}break;case 5:jl(h,h.return);break;case 22:if(h.memoizedState!==null){E6(d);continue}}f!==null?(f.return=h,re=f):E6(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_k("display",o))}catch(g){_t(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_t(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jr(e,t),Ti(t),r&4&&x6(t);break;case 21:break;default:Jr(e,t),Ti(t)}}function Ti(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(o9(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ad(i,""),r.flags&=-33);var s=S6(t);Z4(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=S6(t);Q4(t,a,o);break;default:throw Error(q(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XI(t,e,n){re=t,c9(t)}function c9(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||q0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=q0;var c=Sn;if(q0=o,(Sn=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?T6(i):l!==null?(l.return=o,re=l):T6(i);for(;s!==null;)re=s,c9(s),s=s.sibling;re=i,q0=a,Sn=c}C6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):C6(t)}}function C6(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||wm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Yr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}l6(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&dd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Sn||e.flags&512&&X4(e)}catch(h){_t(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function E6(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function T6(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wm(4,e)}catch(l){_t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var s=e.return;try{X4(e)}catch(l){_t(e,s,l)}break;case 5:var o=e.return;try{X4(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var QI=Math.ceil,zf=Fs.ReactCurrentDispatcher,w2=Fs.ReactCurrentOwner,Rr=Fs.ReactCurrentBatchConfig,Ue=0,on=null,Wt=null,mn=0,or=0,Hl=Go(0),Xt=0,Sd=null,Wa=0,bm=0,b2=0,$u=null,Wn=null,k2=0,vc=1/0,cs=null,Bf=!1,ev=null,Oo=null,K0=!1,go=null,Ff=0,Uu=0,tv=null,jh=-1,Hh=0;function _n(){return Ue&6?Ft():jh!==-1?jh:jh=Ft()}function Io(t){return t.mode&1?Ue&2&&mn!==0?mn&-mn:LI.transition!==null?(Hh===0&&(Hh=Kk()),Hh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:eS(t.type)),t):1}function oi(t,e,n,r){if(50<Uu)throw Uu=0,tv=null,Error(q(185));n0(t,n,r),(!(Ue&2)||t!==on)&&(t===on&&(!(Ue&2)&&(bm|=n),Xt===4&&oo(t,mn)),Qn(t,r),n===1&&Ue===0&&!(e.mode&1)&&(vc=Ft()+500,gm&&Jo()))}function Qn(t,e){var n=t.callbackNode;LO(t,e);var r=Sf(t,t===on?mn:0);if(r===0)n!==null&&L5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&L5(n),e===1)t.tag===0?_I(M6.bind(null,t)):wS(M6.bind(null,t)),II(function(){!(Ue&6)&&Jo()}),n=null;else{switch(Gk(r)){case 1:n=Ky;break;case 4:n=Wk;break;case 16:n=kf;break;case 536870912:n=qk;break;default:n=kf}n=v9(n,u9.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function u9(t,e){if(jh=-1,Hh=0,Ue&6)throw Error(q(327));var n=t.callbackNode;if(Xl()&&t.callbackNode!==n)return null;var r=Sf(t,t===on?mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jf(t,r);else{e=r;var i=Ue;Ue|=2;var s=h9();(on!==t||mn!==e)&&(cs=null,vc=Ft()+500,Ia(t,e));do try{tN();break}catch(a){d9(t,a)}while(!0);o2(),zf.current=s,Ue=i,Wt!==null?e=0:(on=null,mn=0,e=Xt)}if(e!==0){if(e===2&&(i=A4(t),i!==0&&(r=i,e=nv(t,i))),e===1)throw n=Sd,Ia(t,0),oo(t,r),Qn(t,Ft()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!ZI(i)&&(e=jf(t,r),e===2&&(s=A4(t),s!==0&&(r=s,e=nv(t,s))),e===1))throw n=Sd,Ia(t,0),oo(t,r),Qn(t,Ft()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:fa(t,Wn,cs);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=k2+500-Ft(),10<e)){if(Sf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=P4(fa.bind(null,t,Wn,cs),e);break}fa(t,Wn,cs);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-si(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ft()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*QI(r/1960))-r,10<r){t.timeoutHandle=P4(fa.bind(null,t,Wn,cs),r);break}fa(t,Wn,cs);break;case 5:fa(t,Wn,cs);break;default:throw Error(q(329))}}}return Qn(t,Ft()),t.callbackNode===n?u9.bind(null,t):null}function nv(t,e){var n=$u;return t.current.memoizedState.isDehydrated&&(Ia(t,e).flags|=256),t=jf(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&rv(e)),t}function rv(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function ZI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!di(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~b2,e&=~bm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-si(e),r=1<<n;t[n]=-1,e&=~r}}function M6(t){if(Ue&6)throw Error(q(327));Xl();var e=Sf(t,0);if(!(e&1))return Qn(t,Ft()),null;var n=jf(t,e);if(t.tag!==0&&n===2){var r=A4(t);r!==0&&(e=r,n=nv(t,r))}if(n===1)throw n=Sd,Ia(t,0),oo(t,e),Qn(t,Ft()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fa(t,Wn,cs),Qn(t,Ft()),null}function S2(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(vc=Ft()+500,gm&&Jo())}}function qa(t){go!==null&&go.tag===0&&!(Ue&6)&&Xl();var e=Ue;Ue|=1;var n=Rr.transition,r=Qe;try{if(Rr.transition=null,Qe=1,t)return t()}finally{Qe=r,Rr.transition=n,Ue=e,!(Ue&6)&&Jo()}}function x2(){or=Hl.current,mt(Hl)}function Ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OI(n)),Wt!==null)for(n=Wt.return;n!==null;){var r=n;switch(r2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mf();break;case 3:mc(),mt(Yn),mt(En),h2();break;case 5:d2(r);break;case 4:mc();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:a2(r.type._context);break;case 22:case 23:x2()}n=n.return}if(on=t,Wt=t=No(t.current,null),mn=or=e,Xt=0,Sd=null,b2=bm=Wa=0,Wn=$u=null,Sa!==null){for(e=0;e<Sa.length;e++)if(n=Sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sa=null}return t}function d9(t,e){do{var n=Wt;try{if(o2(),zh.current=Pf,Lf){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Lf=!1}if(Va=0,nn=Yt=At=null,ju=!1,wd=0,w2.current=null,n===null||n.return===null){Xt=1,Sd=e,Wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=p6(o);if(f!==null){f.flags&=-257,m6(f,o,a,s,e),f.mode&1&&f6(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){f6(s,c,e),C2();break e}l=Error(q(426))}}else if(bt&&a.mode&1){var w=p6(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),m6(w,o,a,s,e),i2(gc(l,a));break e}}s=l=gc(l,a),Xt!==4&&(Xt=2),$u===null?$u=[s]:$u.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=GS(s,l,e);a6(s,y);break e;case 1:a=l;var b=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Oo===null||!Oo.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=JS(s,a,e);a6(s,S);break e}}s=s.return}while(s!==null)}p9(n)}catch(A){e=A,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(!0)}function h9(){var t=zf.current;return zf.current=Pf,t===null?Pf:t}function C2(){(Xt===0||Xt===3||Xt===2)&&(Xt=4),on===null||!(Wa&268435455)&&!(bm&268435455)||oo(on,mn)}function jf(t,e){var n=Ue;Ue|=2;var r=h9();(on!==t||mn!==e)&&(cs=null,Ia(t,e));do try{eN();break}catch(i){d9(t,i)}while(!0);if(o2(),Ue=n,zf.current=r,Wt!==null)throw Error(q(261));return on=null,mn=0,Xt}function eN(){for(;Wt!==null;)f9(Wt)}function tN(){for(;Wt!==null&&!TO();)f9(Wt)}function f9(t){var e=g9(t.alternate,t,or);t.memoizedProps=t.pendingProps,e===null?p9(t):Wt=e,w2.current=null}function p9(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=GI(n,e),n!==null){n.flags&=32767,Wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Xt=6,Wt=null;return}}else if(n=KI(n,e,or),n!==null){Wt=n;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Xt===0&&(Xt=5)}function fa(t,e,n){var r=Qe,i=Rr.transition;try{Rr.transition=null,Qe=1,nN(t,e,n,r)}finally{Rr.transition=i,Qe=r}return null}function nN(t,e,n,r){do Xl();while(go!==null);if(Ue&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(PO(t,s),t===on&&(Wt=on=null,mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||K0||(K0=!0,v9(kf,function(){return Xl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rr.transition,Rr.transition=null;var o=Qe;Qe=1;var a=Ue;Ue|=4,w2.current=null,YI(t,n),l9(n,t),SI(_4),xf=!!R4,_4=R4=null,t.current=n,XI(n),MO(),Ue=a,Qe=o,Rr.transition=s}else t.current=n;if(K0&&(K0=!1,go=t,Ff=i),s=t.pendingLanes,s===0&&(Oo=null),IO(n.stateNode),Qn(t,Ft()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bf)throw Bf=!1,t=ev,ev=null,t;return Ff&1&&t.tag!==0&&Xl(),s=t.pendingLanes,s&1?t===tv?Uu++:(Uu=0,tv=t):Uu=0,Jo(),null}function Xl(){if(go!==null){var t=Gk(Ff),e=Rr.transition,n=Qe;try{if(Rr.transition=null,Qe=16>t?16:t,go===null)var r=!1;else{if(t=go,go=null,Ff=0,Ue&6)throw Error(q(331));var i=Ue;for(Ue|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Hu(8,u,s)}var d=u.child;if(d!==null)d.return=u,re=d;else for(;re!==null;){u=re;var h=u.sibling,f=u.return;if(s9(u),u===c){re=null;break}if(h!==null){h.return=f,re=h;break}re=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Hu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,re=y;break e}re=s.return}}var b=t.current;for(re=b;re!==null;){o=re;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,re=C;else e:for(o=b;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:wm(9,a)}}catch(A){_t(a,a.return,A)}if(a===o){re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,re=S;break e}re=a.return}}if(Ue=i,Jo(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(dm,t)}catch{}r=!0}return r}finally{Qe=n,Rr.transition=e}}return!1}function A6(t,e,n){e=gc(n,e),e=GS(t,e,1),t=Ao(t,e,1),e=_n(),t!==null&&(n0(t,1,e),Qn(t,e))}function _t(t,e,n){if(t.tag===3)A6(t,t,n);else for(;e!==null;){if(e.tag===3){A6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){t=gc(n,t),t=JS(e,t,1),e=Ao(e,t,1),t=_n(),e!==null&&(n0(e,1,t),Qn(e,t));break}}e=e.return}}function rN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(mn&n)===n&&(Xt===4||Xt===3&&(mn&130023424)===mn&&500>Ft()-k2?Ia(t,0):b2|=n),Qn(t,e)}function m9(t,e){e===0&&(t.mode&1?(e=z0,z0<<=1,!(z0&130023424)&&(z0=4194304)):e=1);var n=_n();t=Is(t,e),t!==null&&(n0(t,e,n),Qn(t,n))}function iN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),m9(t,n)}function sN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),m9(t,n)}var g9;g9=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,qI(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,bt&&e.flags&1048576&&bS(e,If,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fh(t,e),t=e.pendingProps;var i=hc(e,En.current);Yl(e,n),i=p2(null,e,r,t,i,n);var s=m2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(s=!0,Af(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,c2(e),i.updater=ym,e.stateNode=i,i._reactInternals=e,U4(e,r,t,n),e=q4(null,e,r,!0,s,n)):(e.tag=0,bt&&s&&n2(e),Nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=aN(r),t=Yr(r,t),i){case 0:e=W4(null,e,r,t,n);break e;case 1:e=y6(null,e,r,t,n);break e;case 11:e=g6(null,e,r,t,n);break e;case 14:e=v6(null,e,r,Yr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),W4(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),y6(t,e,r,i,n);case 3:e:{if(ZS(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TS(t,e),Rf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gc(Error(q(423)),e),e=w6(t,e,r,n,i);break e}else if(r!==i){i=gc(Error(q(424)),e),e=w6(t,e,r,n,i);break e}else for(dr=Mo(e.stateNode.containerInfo.firstChild),hr=e,bt=!0,ei=null,n=CS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),r===i){e=Ns(t,e,n);break e}Nn(t,e,r,n)}e=e.child}return e;case 5:return MS(e),t===null&&j4(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,L4(r,i)?o=null:s!==null&&L4(r,s)&&(e.flags|=32),QS(t,e),Nn(t,e,o,n),e.child;case 6:return t===null&&j4(e),null;case 13:return e9(t,e,n);case 4:return u2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pc(e,null,r,n):Nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),g6(t,e,r,i,n);case 7:return Nn(t,e,e.pendingProps,n),e.child;case 8:return Nn(t,e,e.pendingProps.children,n),e.child;case 12:return Nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ut(Nf,r._currentValue),r._currentValue=o,s!==null)if(di(s.value,o)){if(s.children===i.children&&!Yn.current){e=Ns(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),H4(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),H4(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yl(e,n),i=zr(i),r=r(i),e.flags|=1,Nn(t,e,r,n),e.child;case 14:return r=e.type,i=Yr(r,e.pendingProps),i=Yr(r.type,i),v6(t,e,r,i,n);case 15:return YS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yr(r,i),Fh(t,e),e.tag=1,Xn(r)?(t=!0,Af(e)):t=!1,Yl(e,n),KS(e,r,i),U4(e,r,i,n),q4(null,e,r,!0,t,n);case 19:return t9(t,e,n);case 22:return XS(t,e,n)}throw Error(q(156,e.tag))};function v9(t,e){return Vk(t,e)}function oN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(t,e,n,r){return new oN(t,e,n,r)}function E2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aN(t){if(typeof t=="function")return E2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Vy)return 11;if(t===Wy)return 14}return 2}function No(t,e){var n=t.alternate;return n===null?(n=Nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $h(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")E2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nl:return Na(n.children,i,s,e);case Uy:o=8,i|=8;break;case f4:return t=Nr(12,n,e,i|2),t.elementType=f4,t.lanes=s,t;case p4:return t=Nr(13,n,e,i),t.elementType=p4,t.lanes=s,t;case m4:return t=Nr(19,n,e,i),t.elementType=m4,t.lanes=s,t;case Mk:return km(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ek:o=10;break e;case Tk:o=9;break e;case Vy:o=11;break e;case Wy:o=14;break e;case eo:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Nr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Na(t,e,n,r){return t=Nr(7,t,r,e),t.lanes=n,t}function km(t,e,n,r){return t=Nr(22,t,r,e),t.elementType=Mk,t.lanes=n,t.stateNode={isHidden:!1},t}function G1(t,e,n){return t=Nr(6,t,null,e),t.lanes=n,t}function J1(t,e,n){return e=Nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=O1(0),this.expirationTimes=O1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=O1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function T2(t,e,n,r,i,s,o,a,l){return t=new lN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Nr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},c2(s),t}function cN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function y9(t){if(!t)return Bo;t=t._reactInternals;e:{if(al(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Xn(n))return yS(t,n,e)}return e}function w9(t,e,n,r,i,s,o,a,l){return t=T2(n,r,!0,t,i,s,o,a,l),t.context=y9(null),n=t.current,r=_n(),i=Io(n),s=bs(r,i),s.callback=e??null,Ao(n,s,i),t.current.lanes=i,n0(t,i,r),Qn(t,r),t}function Sm(t,e,n,r){var i=e.current,s=_n(),o=Io(i);return n=y9(n),e.context===null?e.context=n:e.pendingContext=n,e=bs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ao(i,e,o),t!==null&&(oi(t,i,o,s),Ph(t,i,o)),o}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function M2(t,e){O6(t,e),(t=t.alternate)&&O6(t,e)}function uN(){return null}var b9=typeof reportError=="function"?reportError:function(t){console.error(t)};function A2(t){this._internalRoot=t}xm.prototype.render=A2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Sm(t,e,null,null)};xm.prototype.unmount=A2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qa(function(){Sm(null,t,null,null)}),e[Os]=null}};function xm(t){this._internalRoot=t}xm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Xk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<so.length&&e!==0&&e<so[n].priority;n++);so.splice(n,0,t),n===0&&Zk(t)}};function O2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function I6(){}function dN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Hf(o);s.call(c)}}var o=w9(e,r,t,0,null,!1,!1,"",I6);return t._reactRootContainer=o,t[Os]=o.current,pd(t.nodeType===8?t.parentNode:t),qa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Hf(l);a.call(c)}}var l=T2(t,0,!1,null,null,!1,!1,"",I6);return t._reactRootContainer=l,t[Os]=l.current,pd(t.nodeType===8?t.parentNode:t),qa(function(){Sm(e,l,n,r)}),l}function Em(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Hf(o);a.call(l)}}Sm(e,o,t,i)}else o=dN(n,e,t,i,r);return Hf(o)}Jk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Eu(e.pendingLanes);n!==0&&(Gy(e,n|1),Qn(e,Ft()),!(Ue&6)&&(vc=Ft()+500,Jo()))}break;case 13:qa(function(){var r=Is(t,1);if(r!==null){var i=_n();oi(r,t,1,i)}}),M2(t,1)}};Jy=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var n=_n();oi(e,t,134217728,n)}M2(t,134217728)}};Yk=function(t){if(t.tag===13){var e=Io(t),n=Is(t,e);if(n!==null){var r=_n();oi(n,t,e,r)}M2(t,e)}};Xk=function(){return Qe};Qk=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};E4=function(t,e,n){switch(e){case"input":if(y4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=mm(r);if(!i)throw Error(q(90));Ok(r),y4(r,i)}}}break;case"textarea":Nk(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};Bk=S2;Fk=qa;var hN={usingClientEntryPoint:!1,Events:[i0,Ll,mm,Pk,zk,S2]},gu={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fN={bundleType:gu.bundleType,version:gu.version,rendererPackageName:gu.rendererPackageName,rendererConfig:gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$k(t),t===null?null:t.stateNode},findFiberByHostInstance:gu.findFiberByHostInstance||uN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var G0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!G0.isDisabled&&G0.supportsFiber)try{dm=G0.inject(fN),ji=G0}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hN;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!O2(e))throw Error(q(200));return cN(t,e,null,n)};yr.createRoot=function(t,e){if(!O2(t))throw Error(q(299));var n=!1,r="",i=b9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=T2(t,1,!1,null,null,n,!1,r,i),t[Os]=e.current,pd(t.nodeType===8?t.parentNode:t),new A2(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=$k(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return qa(t)};yr.hydrate=function(t,e,n){if(!Cm(e))throw Error(q(200));return Em(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!O2(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=b9;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=w9(e,null,t,1,n??null,i,!1,s,o),t[Os]=e.current,pd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new xm(e)};yr.render=function(t,e,n){if(!Cm(e))throw Error(q(200));return Em(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!Cm(t))throw Error(q(40));return t._reactRootContainer?(qa(function(){Em(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1};yr.unstable_batchedUpdates=S2;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Cm(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Em(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function k9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(k9)}catch(t){console.error(t)}}k9(),kk.exports=yr;var I2=kk.exports;const S9=ck(I2),pN=lk({__proto__:null,default:S9},[I2]);var x9,N6=I2;x9=N6.createRoot,N6.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yt.apply(this,arguments)}var Ut;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ut||(Ut={}));const D6="popstate";function mN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return xd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ka(i)}return vN(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gN(){return Math.random().toString(36).substr(2,8)}function R6(t,e){return{usr:t.state,key:t.key,idx:e}}function xd(t,e,n,r){return n===void 0&&(n=null),yt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:n,key:e&&e.key||r||gN()})}function Ka(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ut.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(yt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ut.Pop;let w=u(),y=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:y})}function h(w,y){a=Ut.Push;let b=xd(g.location,w,y);c=u()+1;let C=R6(b,c),S=g.createHref(b);try{o.pushState(C,"",S)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function f(w,y){a=Ut.Replace;let b=xd(g.location,w,y);c=u();let C=R6(b,c),S=g.createHref(b);o.replaceState(C,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function p(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof w=="string"?w:Ka(w);return b=b.replace(/ $/,"%20"),Le(y,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,y)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(D6,d),l=w,()=>{i.removeEventListener(D6,d),l=null}},createHref(w){return e(i,w)},createURL:p,encodeLocation(w){let y=p(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(w){return o.go(w)}};return g}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const yN=new Set(["lazy","caseSensitive","path","id","index","children"]);function wN(t){return t.index===!0}function $f(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Le(i.index!==!0||!i.children,"Cannot specify children on an index route"),Le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),wN(i)){let l=yt({},i,e(i),{id:a});return r[a]=l,l}else{let l=yt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=$f(i.children,e,o,r)),l}})}function ga(t,e,n){return n===void 0&&(n="/"),Uh(t,e,n,!1)}function Uh(t,e,n,r){let i=typeof e=="string"?Yo(e):e,s=$c(i.pathname||"/",n);if(s==null)return null;let o=C9(t);kN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=DN(s);a=IN(o[l],c,r)}return a}function bN(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function C9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ks([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),C9(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AN(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of E9(s.path))i(s,o,l)}),e}function E9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=E9(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function kN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ON(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SN=/^:[\w-]+$/,xN=3,CN=2,EN=1,TN=10,MN=-2,_6=t=>t==="*";function AN(t,e){let n=t.split("/"),r=n.length;return n.some(_6)&&(r+=MN),e&&(r+=CN),n.filter(i=>!_6(i)).reduce((i,s)=>i+(SN.test(s)?xN:s===""?EN:TN),r)}function ON(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IN(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=L6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=L6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ks([s,d.pathname]),pathnameBase:LN(ks([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ks([s,d.pathnameBase]))}return o}function L6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function NN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function DN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $c(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function RN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:_N(n,e):e,search:PN(r),hash:zN(i)}}function _N(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Y1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function T9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Tm(t,e){let n=T9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yo(t):(i=yt({},t),Le(!i.pathname||!i.pathname.includes("?"),Y1("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Y1("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Y1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=RN(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),LN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),PN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Uf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Am(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M9=["post","put","patch","delete"],BN=new Set(M9),FN=["get",...M9],jN=new Set(FN),HN=new Set([301,302,303,307,308]),$N=new Set([307,308]),X1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},UN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},vu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},N2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),A9="remix-router-transitions";function WN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let N=t.detectErrorBoundary;i=_=>({hasErrorBoundary:N(_)})}else i=VN;let s={},o=$f(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||JN,u=t.patchRoutesOnNavigation,d=yt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,f=new Set,p=null,g=null,w=null,y=t.hydrationData!=null,b=ga(o,t.history.location,l),C=null;if(b==null&&!u){let N=Un(404,{pathname:t.history.location.pathname}),{matches:_,route:z}=q6(o);b=_,C={[z.id]:N}}b&&!t.hydrationData&&Gr(b,o,t.history.location.pathname).active&&(b=null);let S;if(b)if(b.some(N=>N.route.lazy))S=!1;else if(!b.some(N=>N.route.loader))S=!0;else if(d.v7_partialHydration){let N=t.hydrationData?t.hydrationData.loaderData:null,_=t.hydrationData?t.hydrationData.errors:null;if(_){let z=b.findIndex(V=>_[V.route.id]!==void 0);S=b.slice(0,z+1).every(V=>!sv(V.route,N,_))}else S=b.every(z=>!sv(z.route,N,_))}else S=t.hydrationData!=null;else if(S=!1,b=[],d.v7_partialHydration){let N=Gr(null,o,t.history.location.pathname);N.active&&N.matches&&(b=N.matches)}let A,x={historyAction:t.history.action,location:t.history.location,matches:b,initialized:S,navigation:X1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},I=Ut.Pop,R=!1,P,j=!1,Q=new Map,X=null,oe=!1,ge=!1,Oe=[],Me=new Set,he=new Map,$=0,ee=-1,te=new Map,ve=new Set,de=new Map,rt=new Map,Be=new Set,Fe=new Map,je=new Map,Ze;function vt(){if(h=t.history.listen(N=>{let{action:_,location:z,delta:V}=N;if(Ze){Ze(),Ze=void 0;return}yc(je.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=en({currentLocation:x.location,nextLocation:z,historyAction:_});if(ie&&V!=null){let fe=new Promise(Te=>{Ze=Te});t.history.go(V*-1),_e(ie,{state:"blocked",location:z,proceed(){_e(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),fe.then(()=>t.history.go(V))},reset(){let Te=new Map(x.blockers);Te.set(ie,vu),Ye({blockers:Te})}});return}return An(_,z)}),n){cD(e,Q);let N=()=>uD(e,Q);e.addEventListener("pagehide",N),X=()=>e.removeEventListener("pagehide",N)}return x.initialized||An(Ut.Pop,x.location,{initialHydration:!0}),A}function Bt(){h&&h(),X&&X(),f.clear(),P&&P.abort(),x.fetchers.forEach((N,_)=>hl(_)),x.blockers.forEach((N,_)=>We(_))}function Jt(N){return f.add(N),()=>f.delete(N)}function Ye(N,_){_===void 0&&(_={}),x=yt({},x,N);let z=[],V=[];d.v7_fetcherPersist&&x.fetchers.forEach((ie,fe)=>{ie.state==="idle"&&(Be.has(fe)?V.push(fe):z.push(fe))}),[...f].forEach(ie=>ie(x,{deletedFetchers:V,viewTransitionOpts:_.viewTransitionOpts,flushSync:_.flushSync===!0})),d.v7_fetcherPersist&&(z.forEach(ie=>x.fetchers.delete(ie)),V.forEach(ie=>hl(ie)))}function It(N,_,z){var V,ie;let{flushSync:fe}=z===void 0?{}:z,Te=x.actionData!=null&&x.navigation.formMethod!=null&&Qr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((V=N.state)==null?void 0:V._isRedirect)!==!0,le;_.actionData?Object.keys(_.actionData).length>0?le=_.actionData:le=null:Te?le=x.actionData:le=null;let ue=_.loaderData?V6(x.loaderData,_.loaderData,_.matches||[],_.errors):x.loaderData,se=x.blockers;se.size>0&&(se=new Map(se),se.forEach((He,un)=>se.set(un,vu)));let pe=R===!0||x.navigation.formMethod!=null&&Qr(x.navigation.formMethod)&&((ie=N.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),oe||I===Ut.Pop||(I===Ut.Push?t.history.push(N,N.state):I===Ut.Replace&&t.history.replace(N,N.state));let ze;if(I===Ut.Pop){let He=Q.get(x.location.pathname);He&&He.has(N.pathname)?ze={currentLocation:x.location,nextLocation:N}:Q.has(N.pathname)&&(ze={currentLocation:N,nextLocation:x.location})}else if(j){let He=Q.get(x.location.pathname);He?He.add(N.pathname):(He=new Set([N.pathname]),Q.set(x.location.pathname,He)),ze={currentLocation:x.location,nextLocation:N}}Ye(yt({},_,{actionData:le,loaderData:ue,historyAction:I,location:N,initialized:!0,navigation:X1,revalidation:"idle",restoreScrollPosition:la(N,_.matches||x.matches),preventScrollReset:pe,blockers:se}),{viewTransitionOpts:ze,flushSync:fe===!0}),I=Ut.Pop,R=!1,j=!1,oe=!1,ge=!1,Oe=[]}async function yi(N,_){if(typeof N=="number"){t.history.go(N);return}let z=iv(x.location,x.matches,l,d.v7_prependBasename,N,d.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:V,submission:ie,error:fe}=P6(d.v7_normalizeFormMethod,!1,z,_),Te=x.location,le=xd(x.location,V,_&&_.state);le=yt({},le,t.history.encodeLocation(le));let ue=_&&_.replace!=null?_.replace:void 0,se=Ut.Push;ue===!0?se=Ut.Replace:ue===!1||ie!=null&&Qr(ie.formMethod)&&ie.formAction===x.location.pathname+x.location.search&&(se=Ut.Replace);let pe=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,ze=(_&&_.flushSync)===!0,He=en({currentLocation:Te,nextLocation:le,historyAction:se});if(He){_e(He,{state:"blocked",location:le,proceed(){_e(He,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),yi(N,_)},reset(){let un=new Map(x.blockers);un.set(He,vu),Ye({blockers:un})}});return}return await An(se,le,{submission:ie,pendingError:fe,preventScrollReset:pe,replace:_&&_.replace,enableViewTransition:_&&_.viewTransition,flushSync:ze})}function wi(){if(Us(),Ye({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){An(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}An(I||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:j===!0})}}async function An(N,_,z){P&&P.abort(),P=null,I=N,oe=(z&&z.startUninterruptedRevalidation)===!0,iu(x.location,x.matches),R=(z&&z.preventScrollReset)===!0,j=(z&&z.enableViewTransition)===!0;let V=a||o,ie=z&&z.overrideNavigation,fe=ga(V,_,l),Te=(z&&z.flushSync)===!0,le=Gr(fe,V,_.pathname);if(le.active&&le.matches&&(fe=le.matches),!fe){let{error:ct,notFoundMatches:Ke,route:Nt}=yn(_.pathname);It(_,{matches:Ke,loaderData:{},errors:{[Nt.id]:ct}},{flushSync:Te});return}if(x.initialized&&!ge&&tD(x.location,_)&&!(z&&z.submission&&Qr(z.submission.formMethod))){It(_,{matches:fe},{flushSync:Te});return}P=new AbortController;let ue=wl(t.history,_,P.signal,z&&z.submission),se;if(z&&z.pendingError)se=[va(fe).route.id,{type:et.error,error:z.pendingError}];else if(z&&z.submission&&Qr(z.submission.formMethod)){let ct=await bi(ue,_,z.submission,fe,le.active,{replace:z.replace,flushSync:Te});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[Ke,Nt]=ct.pendingActionResult;if(ar(Nt)&&Am(Nt.error)&&Nt.error.status===404){P=null,It(_,{matches:ct.matches,loaderData:{},errors:{[Ke]:Nt.error}});return}}fe=ct.matches||fe,se=ct.pendingActionResult,ie=Q1(_,z.submission),Te=!1,le.active=!1,ue=wl(t.history,ue.url,ue.signal)}let{shortCircuited:pe,matches:ze,loaderData:He,errors:un}=await Vr(ue,_,fe,le.active,ie,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,Te,se);pe||(P=null,It(_,yt({matches:ze||fe},W6(se),{loaderData:He,errors:un})))}async function bi(N,_,z,V,ie,fe){fe===void 0&&(fe={}),Us();let Te=aD(_,z);if(Ye({navigation:Te},{flushSync:fe.flushSync===!0}),ie){let se=await fl(V,_.pathname,N.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let pe=va(se.partialMatches).route.id;return{matches:se.partialMatches,pendingActionResult:[pe,{type:et.error,error:se.error}]}}else if(se.matches)V=se.matches;else{let{notFoundMatches:pe,error:ze,route:He}=yn(_.pathname);return{matches:pe,pendingActionResult:[He.id,{type:et.error,error:ze}]}}}let le,ue=Mu(V,_);if(!ue.route.action&&!ue.route.lazy)le={type:et.error,error:Un(405,{method:N.method,pathname:_.pathname,routeId:ue.route.id})};else if(le=(await Kr("action",x,N,[ue],V,null))[ue.route.id],N.signal.aborted)return{shortCircuited:!0};if(Ca(le)){let se;return fe&&fe.replace!=null?se=fe.replace:se=H6(le.response.headers.get("Location"),new URL(N.url),l)===x.location.pathname+x.location.search,await On(N,le,!0,{submission:z,replace:se}),{shortCircuited:!0}}if(vo(le))throw Un(400,{type:"defer-action"});if(ar(le)){let se=va(V,ue.route.id);return(fe&&fe.replace)!==!0&&(I=Ut.Push),{matches:V,pendingActionResult:[se.route.id,le]}}return{matches:V,pendingActionResult:[ue.route.id,le]}}async function Vr(N,_,z,V,ie,fe,Te,le,ue,se,pe){let ze=ie||Q1(_,fe),He=fe||Te||G6(ze),un=!oe&&(!d.v7_partialHydration||!ue);if(V){if(un){let Dt=kr(pe);Ye(yt({navigation:ze},Dt!==void 0?{actionData:Dt}:{}),{flushSync:se})}let qe=await fl(z,_.pathname,N.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let Dt=va(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[Dt]:qe.error}}}else if(qe.matches)z=qe.matches;else{let{error:Dt,notFoundMatches:gl,route:lu}=yn(_.pathname);return{matches:gl,loaderData:{},errors:{[lu.id]:Dt}}}}let ct=a||o,[Ke,Nt]=B6(t.history,x,z,He,_,d.v7_partialHydration&&ue===!0,d.v7_skipActionErrorRevalidation,ge,Oe,Me,Be,de,ve,ct,l,pe);if(xi(qe=>!(z&&z.some(Dt=>Dt.route.id===qe))||Ke&&Ke.some(Dt=>Dt.route.id===qe)),ee=++$,Ke.length===0&&Nt.length===0){let qe=F();return It(_,yt({matches:z,loaderData:{},errors:pe&&ar(pe[1])?{[pe[0]]:pe[1].error}:null},W6(pe),qe?{fetchers:new Map(x.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(un){let qe={};if(!V){qe.navigation=ze;let Dt=kr(pe);Dt!==void 0&&(qe.actionData=Dt)}Nt.length>0&&(qe.fetchers=Wr(Nt)),Ye(qe,{flushSync:se})}Nt.forEach(qe=>{Si(qe.key),qe.controller&&he.set(qe.key,qe.controller)});let ml=()=>Nt.forEach(qe=>Si(qe.key));P&&P.signal.addEventListener("abort",ml);let{loaderResults:ou,fetcherResults:ns}=await aa(x,z,Ke,Nt,N);if(N.signal.aborted)return{shortCircuited:!0};P&&P.signal.removeEventListener("abort",ml),Nt.forEach(qe=>he.delete(qe.key));let Ei=J0(ou);if(Ei)return await On(N,Ei.result,!0,{replace:le}),{shortCircuited:!0};if(Ei=J0(ns),Ei)return ve.add(Ei.key),await On(N,Ei.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:x1,errors:au}=U6(x,z,ou,pe,Nt,ns,Fe);Fe.forEach((qe,Dt)=>{qe.subscribe(gl=>{(gl||qe.done)&&Fe.delete(Dt)})}),d.v7_partialHydration&&ue&&x.errors&&(au=yt({},x.errors,au));let ca=F(),I0=ae(ee),N0=ca||I0||Nt.length>0;return yt({matches:z,loaderData:x1,errors:au},N0?{fetchers:new Map(x.fetchers)}:{})}function kr(N){if(N&&!ar(N[1]))return{[N[0]]:N[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function Wr(N){return N.forEach(_=>{let z=x.fetchers.get(_.key),V=yu(void 0,z?z.data:void 0);x.fetchers.set(_.key,V)}),new Map(x.fetchers)}function qr(N,_,z,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Si(N);let ie=(V&&V.flushSync)===!0,fe=a||o,Te=iv(x.location,x.matches,l,d.v7_prependBasename,z,d.v7_relativeSplatPath,_,V==null?void 0:V.relative),le=ga(fe,Te,l),ue=Gr(le,fe,Te);if(ue.active&&ue.matches&&(le=ue.matches),!le){$n(N,_,Un(404,{pathname:Te}),{flushSync:ie});return}let{path:se,submission:pe,error:ze}=P6(d.v7_normalizeFormMethod,!0,Te,V);if(ze){$n(N,_,ze,{flushSync:ie});return}let He=Mu(le,se),un=(V&&V.preventScrollReset)===!0;if(pe&&Qr(pe.formMethod)){ki(N,_,se,He,le,ue.active,ie,un,pe);return}de.set(N,{routeId:_,path:se}),oa(N,_,se,He,le,ue.active,ie,un,pe)}async function ki(N,_,z,V,ie,fe,Te,le,ue){Us(),de.delete(N);function se($t){if(!$t.route.action&&!$t.route.lazy){let vl=Un(405,{method:ue.formMethod,pathname:z,routeId:_});return $n(N,_,vl,{flushSync:Te}),!0}return!1}if(!fe&&se(V))return;let pe=x.fetchers.get(N);rr(N,lD(ue,pe),{flushSync:Te});let ze=new AbortController,He=wl(t.history,z,ze.signal,ue);if(fe){let $t=await fl(ie,z,He.signal);if($t.type==="aborted")return;if($t.type==="error"){$n(N,_,$t.error,{flushSync:Te});return}else if($t.matches){if(ie=$t.matches,V=Mu(ie,z),se(V))return}else{$n(N,_,Un(404,{pathname:z}),{flushSync:Te});return}}he.set(N,ze);let un=$,Ke=(await Kr("action",x,He,[V],ie,N))[V.route.id];if(He.signal.aborted){he.get(N)===ze&&he.delete(N);return}if(d.v7_fetcherPersist&&Be.has(N)){if(Ca(Ke)||ar(Ke)){rr(N,Ys(void 0));return}}else{if(Ca(Ke))if(he.delete(N),ee>un){rr(N,Ys(void 0));return}else return ve.add(N),rr(N,yu(ue)),On(He,Ke,!1,{fetcherSubmission:ue,preventScrollReset:le});if(ar(Ke)){$n(N,_,Ke.error);return}}if(vo(Ke))throw Un(400,{type:"defer-action"});let Nt=x.navigation.location||x.location,ml=wl(t.history,Nt,ze.signal),ou=a||o,ns=x.navigation.state!=="idle"?ga(ou,x.navigation.location,l):x.matches;Le(ns,"Didn't find any matches after fetcher action");let Ei=++$;te.set(N,Ei);let x1=yu(ue,Ke.data);x.fetchers.set(N,x1);let[au,ca]=B6(t.history,x,ns,ue,Nt,!1,d.v7_skipActionErrorRevalidation,ge,Oe,Me,Be,de,ve,ou,l,[V.route.id,Ke]);ca.filter($t=>$t.key!==N).forEach($t=>{let vl=$t.key,S5=x.fetchers.get(vl),HA=yu(void 0,S5?S5.data:void 0);x.fetchers.set(vl,HA),Si(vl),$t.controller&&he.set(vl,$t.controller)}),Ye({fetchers:new Map(x.fetchers)});let I0=()=>ca.forEach($t=>Si($t.key));ze.signal.addEventListener("abort",I0);let{loaderResults:N0,fetcherResults:qe}=await aa(x,ns,au,ca,ml);if(ze.signal.aborted)return;ze.signal.removeEventListener("abort",I0),te.delete(N),he.delete(N),ca.forEach($t=>he.delete($t.key));let Dt=J0(N0);if(Dt)return On(ml,Dt.result,!1,{preventScrollReset:le});if(Dt=J0(qe),Dt)return ve.add(Dt.key),On(ml,Dt.result,!1,{preventScrollReset:le});let{loaderData:gl,errors:lu}=U6(x,ns,N0,void 0,ca,qe,Fe);if(x.fetchers.has(N)){let $t=Ys(Ke.data);x.fetchers.set(N,$t)}ae(Ei),x.navigation.state==="loading"&&Ei>ee?(Le(I,"Expected pending action"),P&&P.abort(),It(x.navigation.location,{matches:ns,loaderData:gl,errors:lu,fetchers:new Map(x.fetchers)})):(Ye({errors:lu,loaderData:V6(x.loaderData,gl,ns,lu),fetchers:new Map(x.fetchers)}),ge=!1)}async function oa(N,_,z,V,ie,fe,Te,le,ue){let se=x.fetchers.get(N);rr(N,yu(ue,se?se.data:void 0),{flushSync:Te});let pe=new AbortController,ze=wl(t.history,z,pe.signal);if(fe){let Ke=await fl(ie,z,ze.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){$n(N,_,Ke.error,{flushSync:Te});return}else if(Ke.matches)ie=Ke.matches,V=Mu(ie,z);else{$n(N,_,Un(404,{pathname:z}),{flushSync:Te});return}}he.set(N,pe);let He=$,ct=(await Kr("loader",x,ze,[V],ie,N))[V.route.id];if(vo(ct)&&(ct=await D2(ct,ze.signal,!0)||ct),he.get(N)===pe&&he.delete(N),!ze.signal.aborted){if(Be.has(N)){rr(N,Ys(void 0));return}if(Ca(ct))if(ee>He){rr(N,Ys(void 0));return}else{ve.add(N),await On(ze,ct,!1,{preventScrollReset:le});return}if(ar(ct)){$n(N,_,ct.error);return}Le(!vo(ct),"Unhandled fetcher deferred data"),rr(N,Ys(ct.data))}}async function On(N,_,z,V){let{submission:ie,fetcherSubmission:fe,preventScrollReset:Te,replace:le}=V===void 0?{}:V;_.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let ue=_.response.headers.get("Location");Le(ue,"Expected a Location header on the redirect Response"),ue=H6(ue,new URL(N.url),l);let se=xd(x.location,ue,{_isRedirect:!0});if(n){let Ke=!1;if(_.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(N2.test(ue)){const Nt=t.history.createURL(ue);Ke=Nt.origin!==e.location.origin||$c(Nt.pathname,l)==null}if(Ke){le?e.location.replace(ue):e.location.assign(ue);return}}P=null;let pe=le===!0||_.response.headers.has("X-Remix-Replace")?Ut.Replace:Ut.Push,{formMethod:ze,formAction:He,formEncType:un}=x.navigation;!ie&&!fe&&ze&&He&&un&&(ie=G6(x.navigation));let ct=ie||fe;if($N.has(_.response.status)&&ct&&Qr(ct.formMethod))await An(pe,se,{submission:yt({},ct,{formAction:ue}),preventScrollReset:Te||R,enableViewTransition:z?j:void 0});else{let Ke=Q1(se,ie);await An(pe,se,{overrideNavigation:Ke,fetcherSubmission:fe,preventScrollReset:Te||R,enableViewTransition:z?j:void 0})}}async function Kr(N,_,z,V,ie,fe){let Te,le={};try{Te=await YN(c,N,_,z,V,ie,fe,s,i)}catch(ue){return V.forEach(se=>{le[se.route.id]={type:et.error,error:ue}}),le}for(let[ue,se]of Object.entries(Te))if(nD(se)){let pe=se.result;le[ue]={type:et.redirect,response:ZN(pe,z,ue,ie,l,d.v7_relativeSplatPath)}}else le[ue]=await QN(se);return le}async function aa(N,_,z,V,ie){let fe=N.matches,Te=Kr("loader",N,ie,z,_,null),le=Promise.all(V.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let He=(await Kr("loader",N,wl(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:He}}else return Promise.resolve({[pe.key]:{type:et.error,error:Un(404,{pathname:pe.path})}})})),ue=await Te,se=(await le).reduce((pe,ze)=>Object.assign(pe,ze),{});return await Promise.all([sD(_,ue,ie.signal,fe,N.loaderData),oD(_,se,V)]),{loaderResults:ue,fetcherResults:se}}function Us(){ge=!0,Oe.push(...xi()),de.forEach((N,_)=>{he.has(_)&&Me.add(_),Si(_)})}function rr(N,_,z){z===void 0&&(z={}),x.fetchers.set(N,_),Ye({fetchers:new Map(x.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function $n(N,_,z,V){V===void 0&&(V={});let ie=va(x.matches,_);hl(N),Ye({errors:{[ie.route.id]:z},fetchers:new Map(x.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function M0(N){return d.v7_fetcherPersist&&(rt.set(N,(rt.get(N)||0)+1),Be.has(N)&&Be.delete(N)),x.fetchers.get(N)||UN}function hl(N){let _=x.fetchers.get(N);he.has(N)&&!(_&&_.state==="loading"&&te.has(N))&&Si(N),de.delete(N),te.delete(N),ve.delete(N),Be.delete(N),Me.delete(N),x.fetchers.delete(N)}function S1(N){if(d.v7_fetcherPersist){let _=(rt.get(N)||0)-1;_<=0?(rt.delete(N),Be.add(N)):rt.set(N,_)}else hl(N);Ye({fetchers:new Map(x.fetchers)})}function Si(N){let _=he.get(N);_&&(_.abort(),he.delete(N))}function A0(N){for(let _ of N){let z=M0(_),V=Ys(z.data);x.fetchers.set(_,V)}}function F(){let N=[],_=!1;for(let z of ve){let V=x.fetchers.get(z);Le(V,"Expected fetcher: "+z),V.state==="loading"&&(ve.delete(z),N.push(z),_=!0)}return A0(N),_}function ae(N){let _=[];for(let[z,V]of te)if(V<N){let ie=x.fetchers.get(z);Le(ie,"Expected fetcher: "+z),ie.state==="loading"&&(Si(z),te.delete(z),_.push(z))}return A0(_),_.length>0}function xe(N,_){let z=x.blockers.get(N)||vu;return je.get(N)!==_&&je.set(N,_),z}function We(N){x.blockers.delete(N),je.delete(N)}function _e(N,_){let z=x.blockers.get(N)||vu;Le(z.state==="unblocked"&&_.state==="blocked"||z.state==="blocked"&&_.state==="blocked"||z.state==="blocked"&&_.state==="proceeding"||z.state==="blocked"&&_.state==="unblocked"||z.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+_.state);let V=new Map(x.blockers);V.set(N,_),Ye({blockers:V})}function en(N){let{currentLocation:_,nextLocation:z,historyAction:V}=N;if(je.size===0)return;je.size>1&&yc(!1,"A router only supports one blocker at a time");let ie=Array.from(je.entries()),[fe,Te]=ie[ie.length-1],le=x.blockers.get(fe);if(!(le&&le.state==="proceeding")&&Te({currentLocation:_,nextLocation:z,historyAction:V}))return fe}function yn(N){let _=Un(404,{pathname:N}),z=a||o,{matches:V,route:ie}=q6(z);return xi(),{notFoundMatches:V,route:ie,error:_}}function xi(N){let _=[];return Fe.forEach((z,V)=>{(!N||N(V))&&(z.cancel(),_.push(V),Fe.delete(V))}),_}function O0(N,_,z){if(p=N,w=_,g=z||null,!y&&x.navigation===X1){y=!0;let V=la(x.location,x.matches);V!=null&&Ye({restoreScrollPosition:V})}return()=>{p=null,w=null,g=null}}function Ci(N,_){return g&&g(N,_.map(V=>bN(V,x.loaderData)))||N.key}function iu(N,_){if(p&&w){let z=Ci(N,_);p[z]=w()}}function la(N,_){if(p){let z=Ci(N,_),V=p[z];if(typeof V=="number")return V}return null}function Gr(N,_,z){if(u)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Uh(_,z,l,!0)}}else return{active:!0,matches:Uh(_,z,l,!0)||[]};return{active:!1,matches:null}}async function fl(N,_,z){if(!u)return{type:"success",matches:N};let V=N;for(;;){let ie=a==null,fe=a||o,Te=s;try{await u({path:_,matches:V,patch:(se,pe)=>{z.aborted||j6(se,pe,fe,Te,i)}})}catch(se){return{type:"error",error:se,partialMatches:V}}finally{ie&&!z.aborted&&(o=[...o])}if(z.aborted)return{type:"aborted"};let le=ga(fe,_,l);if(le)return{type:"success",matches:le};let ue=Uh(fe,_,l,!0);if(!ue||V.length===ue.length&&V.every((se,pe)=>se.route.id===ue[pe].route.id))return{type:"success",matches:null};V=ue}}function su(N){s={},a=$f(N,i,void 0,s)}function pl(N,_){let z=a==null;j6(N,_,a||o,s,i),z&&(o=[...o],Ye({}))}return A={get basename(){return l},get future(){return d},get state(){return x},get routes(){return o},get window(){return e},initialize:vt,subscribe:Jt,enableScrollRestoration:O0,navigate:yi,fetch:qr,revalidate:wi,createHref:N=>t.history.createHref(N),encodeLocation:N=>t.history.encodeLocation(N),getFetcher:M0,deleteFetcher:S1,dispose:Bt,getBlocker:xe,deleteBlocker:We,patchRoutes:pl,_internalFetchControllers:he,_internalActiveDeferreds:Fe,_internalSetRoutes:su},A}function qN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function iv(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Mm(i||".",Tm(l,s),$c(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=R2(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let h=new URLSearchParams(u.search),f=h.getAll("index");h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let p=h.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ks([n,u.pathname])),Ka(u)}function P6(t,e,n,r){if(!r||!qN(r))return{path:n};if(r.formMethod&&!iD(r.formMethod))return{path:n,error:Un(405,{method:r.formMethod})};let i=()=>({path:n,error:Un(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=N9(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Qr(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[g,w]=p;return""+f+g+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Qr(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Le(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=ov(r.formData),c=r.formData;else if(r.body instanceof FormData)l=ov(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=$6(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=$6(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Qr(u.formMethod))return{path:n,submission:u};let d=Yo(n);return e&&d.search&&R2(d.search)&&l.append("index",""),d.search="?"+l,{path:Ka(d),submission:u}}function z6(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function B6(t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,g){let w=g?ar(g[1])?g[1].error:g[1].data:void 0,y=t.createURL(e.location),b=t.createURL(i),C=n;s&&e.errors?C=z6(n,Object.keys(e.errors)[0],!0):g&&ar(g[1])&&(C=z6(n,g[0]));let S=g?g[1].statusCode:void 0,A=o&&S&&S>=400,x=C.filter((R,P)=>{let{route:j}=R;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return sv(j,e.loaderData,e.errors);if(KN(e.loaderData,e.matches[P],R)||l.some(oe=>oe===R.route.id))return!0;let Q=e.matches[P],X=R;return F6(R,yt({currentUrl:y,currentParams:Q.params,nextUrl:b,nextParams:X.params},r,{actionResult:w,actionStatus:S,defaultShouldRevalidate:A?!1:a||y.pathname+y.search===b.pathname+b.search||y.search!==b.search||O9(Q,X)}))}),I=[];return d.forEach((R,P)=>{if(s||!n.some(ge=>ge.route.id===R.routeId)||u.has(P))return;let j=ga(f,R.path,p);if(!j){I.push({key:P,routeId:R.routeId,path:R.path,matches:null,match:null,controller:null});return}let Q=e.fetchers.get(P),X=Mu(j,R.path),oe=!1;h.has(P)?oe=!1:c.has(P)?(c.delete(P),oe=!0):Q&&Q.state!=="idle"&&Q.data===void 0?oe=a:oe=F6(X,yt({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:b,nextParams:n[n.length-1].params},r,{actionResult:w,actionStatus:S,defaultShouldRevalidate:A?!1:a})),oe&&I.push({key:P,routeId:R.routeId,path:R.path,matches:j,match:X,controller:new AbortController})}),[x,I]}function sv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function KN(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function O9(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function F6(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function j6(t,e,n,r,i){var s;let o;if(t){let c=r[t];Le(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>I9(c,u))),l=$f(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function I9(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>I9(n,s))}):!1}async function GN(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";yc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!yN.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yt({},e(i),{lazy:void 0}))}async function JN(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function YN(t,e,n,r,i,s,o,a,l,c){let u=s.map(f=>f.route.lazy?GN(f.route,l,a):void 0),d=s.map((f,p)=>{let g=u[p],w=i.some(b=>b.route.id===f.route.id);return yt({},f,{shouldLoad:w,resolve:async b=>(b&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(w=!0),w?XN(e,r,f,g,b,c):Promise.resolve({type:et.data,result:void 0}))})}),h=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function XN(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((p,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let h=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Un(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:et.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Un(404,{pathname:d})}Le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:et.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function QN(t){let{result:e,type:n}=t;if(D9(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:et.error,error:u}}return n===et.error?{type:et.error,error:new Uf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:et.data,data:c,statusCode:e.status,headers:e.headers}}if(n===et.error){if(K6(e)){var r;if(e.data instanceof Error){var i;return{type:et.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new Uf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:et.error,error:e,statusCode:Am(e)?e.status:void 0}}if(rD(e)){var s,o;return{type:et.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(K6(e)){var a,l;return{type:et.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:et.data,data:e}}function ZN(t,e,n,r,i,s){let o=t.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!N2.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=iv(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function H6(t,e,n){if(N2.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=$c(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function wl(t,e,n,r){let i=t.createURL(N9(e)).toString(),s={signal:n};if(r&&Qr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=ov(r.formData):s.body=r.formData}return new Request(i,s)}function ov(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function $6(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function eD(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&ar(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(Le(!Ca(f),"Cannot handle redirect results in processLoaderData"),ar(f)){let p=f.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let g=va(t,h);o[g.route.id]==null&&(o[g.route.id]=p)}s[h]=void 0,l||(l=!0,a=Am(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else vo(f)?(r.set(h,f.deferredData),s[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers)):(s[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function U6(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=eD(e,n,r,o);return i.forEach(c=>{let{key:u,match:d,controller:h}=c,f=s[u];if(Le(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ar(f)){let p=va(t.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=yt({},l,{[p.route.id]:f.error})),t.fetchers.delete(u)}else if(Ca(f))Le(!1,"Unhandled fetcher revalidation redirect");else if(vo(f))Le(!1,"Unhandled fetcher deferred data");else{let p=Ys(f.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function V6(t,e,n,r){let i=yt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function W6(t){return t?ar(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function va(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function q6(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Un(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Uf(t||500,a,new Error(l),!0)}function J0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ca(i))return{key:r,result:i}}}function N9(t){let e=typeof t=="string"?Yo(t):t;return Ka(yt({},e,{hash:""}))}function tD(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function nD(t){return D9(t.result)&&HN.has(t.result.status)}function vo(t){return t.type===et.deferred}function ar(t){return t.type===et.error}function Ca(t){return(t&&t.type)===et.redirect}function K6(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function rD(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function D9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function iD(t){return jN.has(t.toLowerCase())}function Qr(t){return BN.has(t.toLowerCase())}async function sD(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),d=u!=null&&!O9(u,c)&&(i&&i[c.route.id])!==void 0;vo(l)&&d&&await D2(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function oD(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&vo(a)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await D2(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function D2(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(i){return{type:et.error,error:i}}return{type:et.data,data:t.deferredData.data}}}function R2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Mu(t,e){let n=typeof e=="string"?Yo(e).search:e.search;if(t[t.length-1].route.index&&R2(n||""))return t[t.length-1];let r=T9(t);return r[r.length-1]}function G6(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function Q1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function aD(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function yu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function lD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ys(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function cD(t,e){try{let n=t.sessionStorage.getItem(A9);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function uD(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(A9,JSON.stringify(n))}catch(r){yc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vf(){return Vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vf.apply(this,arguments)}const Om=B.createContext(null),R9=B.createContext(null),Xo=B.createContext(null),_2=B.createContext(null),Ji=B.createContext({outlet:null,matches:[],isDataRoute:!1}),_9=B.createContext(null);function dD(t,e){let{relative:n}=e===void 0?{}:e;Uc()||Le(!1);let{basename:r,navigator:i}=B.useContext(Xo),{hash:s,pathname:o,search:a}=P9(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ks([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Uc(){return B.useContext(_2)!=null}function o0(){return Uc()||Le(!1),B.useContext(_2).location}function L9(t){B.useContext(Xo).static||B.useLayoutEffect(t)}function Vc(){let{isDataRoute:t}=B.useContext(Ji);return t?TD():hD()}function hD(){Uc()||Le(!1);let t=B.useContext(Om),{basename:e,future:n,navigator:r}=B.useContext(Xo),{matches:i}=B.useContext(Ji),{pathname:s}=o0(),o=JSON.stringify(Tm(i,n.v7_relativeSplatPath)),a=B.useRef(!1);return L9(()=>{a.current=!0}),B.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Mm(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ks([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const fD=B.createContext(null);function pD(t){let e=B.useContext(Ji).outlet;return e&&B.createElement(fD.Provider,{value:t},e)}function mD(){let{matches:t}=B.useContext(Ji),e=t[t.length-1];return e?e.params:{}}function P9(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Xo),{matches:i}=B.useContext(Ji),{pathname:s}=o0(),o=JSON.stringify(Tm(i,r.v7_relativeSplatPath));return B.useMemo(()=>Mm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function gD(t,e,n,r){Uc()||Le(!1);let{navigator:i}=B.useContext(Xo),{matches:s}=B.useContext(Ji),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=o0(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=ga(t,{pathname:h});return kD(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:ks([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:ks([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r)}function vD(){let t=ED(),e=Am(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const yD=B.createElement(vD,null);class wD extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Ji.Provider,{value:this.props.routeContext},B.createElement(_9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bD(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Om);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Ji.Provider,{value:e},r)}function kD(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Le(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||yD,l&&(c<0&&h===0?(p=!0,w=null):c===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),b=()=>{let C;return f?C=g:p?C=w:d.route.Component?C=B.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,B.createElement(bD,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?B.createElement(wD,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:b(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):b()},null)}var z9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(z9||{}),Wf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Wf||{});function SD(t){let e=B.useContext(Om);return e||Le(!1),e}function xD(t){let e=B.useContext(R9);return e||Le(!1),e}function CD(t){let e=B.useContext(Ji);return e||Le(!1),e}function B9(t){let e=CD(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function ED(){var t;let e=B.useContext(_9),n=xD(Wf.UseRouteError),r=B9(Wf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function TD(){let{router:t}=SD(z9.UseNavigateStable),e=B9(Wf.UseNavigateStable),n=B.useRef(!1);return L9(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vf({fromRouteId:e},s)))},[t,e])}const J6={};function MD(t,e){J6[e]||(J6[e]=!0,console.warn(e))}const bl=(t,e,n)=>MD(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function AD(t,e){t!=null&&t.v7_startTransition||bl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&bl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||bl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||bl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||bl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||bl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function OD(t){let{to:e,replace:n,state:r,relative:i}=t;Uc()||Le(!1);let{future:s,static:o}=B.useContext(Xo),{matches:a}=B.useContext(Ji),{pathname:l}=o0(),c=Vc(),u=Mm(e,Tm(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return B.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function ID(t){return pD(t.context)}function ND(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ut.Pop,navigator:s,static:o=!1,future:a}=t;Uc()&&Le(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:o,future:Vf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Yo(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=B.useMemo(()=>{let w=$c(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return g==null?null:B.createElement(Xo.Provider,{value:c},B.createElement(_2.Provider,{children:n,value:g}))}new Promise(()=>{});function DD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:B.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cd.apply(this,arguments)}function RD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function _D(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function LD(t,e){return t.button===0&&(!e||e==="_self")&&!_D(t)}const PD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],zD="6";try{window.__reactRouterVersion=zD}catch{}function BD(t,e){return WN({basename:void 0,future:Cd({},void 0,{v7_prependBasename:!0}),history:mN({window:void 0}),hydrationData:FD(),routes:t,mapRouteProperties:DD,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function FD(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cd({},e,{errors:jD(e.errors)})),e}function jD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Uf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const HD=B.createContext({isTransitioning:!1}),$D=B.createContext(new Map),UD="startTransition",Y6=rO[UD],VD="flushSync",X6=pN[VD];function WD(t){Y6?Y6(t):t()}function wu(t){X6?X6(t):t()}let qD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function KD(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=B.useState(n.state),[o,a]=B.useState(),[l,c]=B.useState({isTransitioning:!1}),[u,d]=B.useState(),[h,f]=B.useState(),[p,g]=B.useState(),w=B.useRef(new Map),{v7_startTransition:y}=r||{},b=B.useCallback(R=>{y?WD(R):R()},[y]),C=B.useCallback((R,P)=>{let{deletedFetchers:j,flushSync:Q,viewTransitionOpts:X}=P;j.forEach(ge=>w.current.delete(ge)),R.fetchers.forEach((ge,Oe)=>{ge.data!==void 0&&w.current.set(Oe,ge.data)});let oe=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!X||oe){Q?wu(()=>s(R)):b(()=>s(R));return}if(Q){wu(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let ge=n.window.document.startViewTransition(()=>{wu(()=>s(R))});ge.finished.finally(()=>{wu(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),wu(()=>f(ge));return}h?(u&&u.resolve(),h.skipTransition(),g({state:R,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(a(R),c({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[n.window,h,u,w,b]);B.useLayoutEffect(()=>n.subscribe(C),[n,C]),B.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new qD)},[l]),B.useEffect(()=>{if(u&&o&&n.window){let R=o,P=u.promise,j=n.window.document.startViewTransition(async()=>{b(()=>s(R)),await P});j.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(j)}},[b,o,u,n.window]),B.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),B.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),B.useEffect(()=>{},[]);let S=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:R=>n.navigate(R),push:(R,P,j)=>n.navigate(R,{state:P,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(R,P,j)=>n.navigate(R,{replace:!0,state:P,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),A=n.basename||"/",x=B.useMemo(()=>({router:n,navigator:S,static:!1,basename:A}),[n,S,A]),I=B.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return B.useEffect(()=>AD(r,n.future),[r,n.future]),B.createElement(B.Fragment,null,B.createElement(Om.Provider,{value:x},B.createElement(R9.Provider,{value:i},B.createElement($D.Provider,{value:w.current},B.createElement(HD.Provider,{value:l},B.createElement(ND,{basename:A,location:i.location,navigationType:i.historyAction,navigator:S,future:I},i.initialized||n.future.v7_partialHydration?B.createElement(GD,{routes:n.routes,future:n.future,state:i}):e))))),null)}const GD=B.memo(JD);function JD(t){let{routes:e,future:n,state:r}=t;return gD(e,void 0,r,n)}const YD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",XD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,F9=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=RD(e,PD),{basename:f}=B.useContext(Xo),p,g=!1;if(typeof c=="string"&&XD.test(c)&&(p=c,YD))try{let C=new URL(window.location.href),S=c.startsWith("//")?new URL(C.protocol+c):new URL(c),A=$c(S.pathname,f);S.origin===C.origin&&A!=null?c=A+S.search+S.hash:g=!0}catch{}let w=dD(c,{relative:i}),y=QD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function b(C){r&&r(C),C.defaultPrevented||y(C)}return B.createElement("a",Cd({},h,{href:p||w,onClick:g||s?r:b,ref:n,target:l}))});var Q6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Q6||(Q6={}));var Z6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Z6||(Z6={}));function QD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Vc(),c=o0(),u=P9(t,{relative:o});return B.useCallback(d=>{if(LD(d,n)){d.preventDefault();let h=r!==void 0?r:Ka(c)===Ka(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var Jn=function(){return Jn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jn.apply(this,arguments)};function L2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function qf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var pt="-ms-",Vu="-moz-",Je="-webkit-",j9="comm",Im="rule",P2="decl",ZD="@import",H9="@keyframes",eR="@layer",$9=Math.abs,z2=String.fromCharCode,av=Object.assign;function tR(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function U9(t){return t.trim()}function us(t,e){return(t=e.exec(t))?t[0]:t}function Ne(t,e,n){return t.replace(e,n)}function Vh(t,e,n){return t.indexOf(e,n)}function rn(t,e){return t.charCodeAt(e)|0}function wc(t,e,n){return t.slice(e,n)}function Di(t){return t.length}function V9(t){return t.length}function Au(t,e){return e.push(t),t}function nR(t,e){return t.map(e).join("")}function ew(t,e){return t.filter(function(n){return!us(n,e)})}var Nm=1,bc=1,W9=0,Fr=0,Vt=0,Wc="";function Dm(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Nm,column:bc,length:o,return:"",siblings:a}}function Xs(t,e){return av(Dm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function kl(t){for(;t.root;)t=Xs(t.root,{children:[t]});Au(t,t.siblings)}function rR(){return Vt}function iR(){return Vt=Fr>0?rn(Wc,--Fr):0,bc--,Vt===10&&(bc=1,Nm--),Vt}function ai(){return Vt=Fr<W9?rn(Wc,Fr++):0,bc++,Vt===10&&(bc=1,Nm++),Vt}function Da(){return rn(Wc,Fr)}function Wh(){return Fr}function Rm(t,e){return wc(Wc,t,e)}function lv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function sR(t){return Nm=bc=1,W9=Di(Wc=t),Fr=0,[]}function oR(t){return Wc="",t}function Z1(t){return U9(Rm(Fr-1,cv(t===91?t+2:t===40?t+1:t)))}function aR(t){for(;(Vt=Da())&&Vt<33;)ai();return lv(t)>2||lv(Vt)>3?"":" "}function lR(t,e){for(;--e&&ai()&&!(Vt<48||Vt>102||Vt>57&&Vt<65||Vt>70&&Vt<97););return Rm(t,Wh()+(e<6&&Da()==32&&ai()==32))}function cv(t){for(;ai();)switch(Vt){case t:return Fr;case 34:case 39:t!==34&&t!==39&&cv(Vt);break;case 40:t===41&&cv(t);break;case 92:ai();break}return Fr}function cR(t,e){for(;ai()&&t+Vt!==57;)if(t+Vt===84&&Da()===47)break;return"/*"+Rm(e,Fr-1)+"*"+z2(t===47?t:ai())}function uR(t){for(;!lv(Da());)ai();return Rm(t,Fr)}function dR(t){return oR(qh("",null,null,null,[""],t=sR(t),0,[0],t))}function qh(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,g=1,w=1,y=1,b=0,C="",S=i,A=s,x=r,I=C;w;)switch(p=b,b=ai()){case 40:if(p!=108&&rn(I,d-1)==58){Vh(I+=Ne(Z1(b),"&","&\f"),"&\f",$9(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:I+=Z1(b);break;case 9:case 10:case 13:case 32:I+=aR(p);break;case 92:I+=lR(Wh()-1,7);continue;case 47:switch(Da()){case 42:case 47:Au(hR(cR(ai(),Wh()),e,n,l),l);break;default:I+="/"}break;case 123*g:a[c++]=Di(I)*y;case 125*g:case 59:case 0:switch(b){case 0:case 125:w=0;case 59+u:y==-1&&(I=Ne(I,/\f/g,"")),f>0&&Di(I)-d&&Au(f>32?nw(I+";",r,n,d-1,l):nw(Ne(I," ","")+";",r,n,d-2,l),l);break;case 59:I+=";";default:if(Au(x=tw(I,e,n,c,u,i,a,C,S=[],A=[],d,s),s),b===123)if(u===0)qh(I,e,x,x,S,s,d,a,A);else switch(h===99&&rn(I,3)===110?100:h){case 100:case 108:case 109:case 115:qh(t,x,x,r&&Au(tw(t,x,x,0,0,i,a,C,i,S=[],d,A),A),i,A,d,a,r?S:A);break;default:qh(I,x,x,x,[""],A,0,a,A)}}c=u=f=0,g=y=1,C=I="",d=o;break;case 58:d=1+Di(I),f=p;default:if(g<1){if(b==123)--g;else if(b==125&&g++==0&&iR()==125)continue}switch(I+=z2(b),b*g){case 38:y=u>0?1:(I+="\f",-1);break;case 44:a[c++]=(Di(I)-1)*y,y=1;break;case 64:Da()===45&&(I+=Z1(ai())),h=Da(),u=d=Di(C=I+=uR(Wh())),b++;break;case 45:p===45&&Di(I)==2&&(g=0)}}return s}function tw(t,e,n,r,i,s,o,a,l,c,u,d){for(var h=i-1,f=i===0?s:[""],p=V9(f),g=0,w=0,y=0;g<r;++g)for(var b=0,C=wc(t,h+1,h=$9(w=o[g])),S=t;b<p;++b)(S=U9(w>0?f[b]+" "+C:Ne(C,/&\f/g,f[b])))&&(l[y++]=S);return Dm(t,e,n,i===0?Im:a,l,c,u,d)}function hR(t,e,n,r){return Dm(t,e,n,j9,z2(rR()),wc(t,2,-2),0,r)}function nw(t,e,n,r,i){return Dm(t,e,n,P2,wc(t,0,r),wc(t,r+1,-1),r,i)}function q9(t,e,n){switch(tR(t,e)){case 5103:return Je+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+t+t;case 4789:return Vu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+t+Vu+t+pt+t+t;case 5936:switch(rn(t,e+11)){case 114:return Je+t+pt+Ne(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Je+t+pt+Ne(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Je+t+pt+Ne(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Je+t+pt+t+t;case 6165:return Je+t+pt+"flex-"+t+t;case 5187:return Je+t+Ne(t,/(\w+).+(:[^]+)/,Je+"box-$1$2"+pt+"flex-$1$2")+t;case 5443:return Je+t+pt+"flex-item-"+Ne(t,/flex-|-self/g,"")+(us(t,/flex-|baseline/)?"":pt+"grid-row-"+Ne(t,/flex-|-self/g,""))+t;case 4675:return Je+t+pt+"flex-line-pack"+Ne(t,/align-content|flex-|-self/g,"")+t;case 5548:return Je+t+pt+Ne(t,"shrink","negative")+t;case 5292:return Je+t+pt+Ne(t,"basis","preferred-size")+t;case 6060:return Je+"box-"+Ne(t,"-grow","")+Je+t+pt+Ne(t,"grow","positive")+t;case 4554:return Je+Ne(t,/([^-])(transform)/g,"$1"+Je+"$2")+t;case 6187:return Ne(Ne(Ne(t,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),t,"")+t;case 5495:case 3959:return Ne(t,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Ne(Ne(t,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+pt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+t+t;case 4200:if(!us(t,/flex-|baseline/))return pt+"grid-column-align"+wc(t,e)+t;break;case 2592:case 3360:return pt+Ne(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,us(r.props,/grid-\w+-end/)})?~Vh(t+(n=n[e].value),"span",0)?t:pt+Ne(t,"-start","")+t+pt+"grid-row-span:"+(~Vh(n,"span",0)?us(n,/\d+/):+us(n,/\d+/)-+us(t,/\d+/))+";":pt+Ne(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return us(r.props,/grid-\w+-start/)})?t:pt+Ne(Ne(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ne(t,/(.+)-inline(.+)/,Je+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return Ne(t,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+Vu+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Vh(t,"stretch",0)?q9(Ne(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ne(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return pt+i+":"+s+c+(o?pt+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(rn(t,e+6)===121)return Ne(t,":",":"+Je)+t;break;case 6444:switch(rn(t,rn(t,14)===45?18:11)){case 120:return Ne(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Je+(rn(t,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+pt+"$2box$3")+t;case 100:return Ne(t,":",":"+pt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ne(t,"scroll-","scroll-snap-")+t}return t}function Kf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function fR(t,e,n,r){switch(t.type){case eR:if(t.children.length)break;case ZD:case P2:return t.return=t.return||t.value;case j9:return"";case H9:return t.return=t.value+"{"+Kf(t.children,r)+"}";case Im:if(!Di(t.value=t.props.join(",")))return""}return Di(n=Kf(t.children,r))?t.return=t.value+"{"+n+"}":""}function pR(t){var e=V9(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function mR(t){return function(e){e.root||(e=e.return)&&t(e)}}function gR(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case P2:t.return=q9(t.value,t.length,n);return;case H9:return Kf([Xs(t,{value:Ne(t.value,"@","@"+Je)})],r);case Im:if(t.length)return nR(n=t.props,function(i){switch(us(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":kl(Xs(t,{props:[Ne(i,/:(read-\w+)/,":"+Vu+"$1")]})),kl(Xs(t,{props:[i]})),av(t,{props:ew(n,r)});break;case"::placeholder":kl(Xs(t,{props:[Ne(i,/:(plac\w+)/,":"+Je+"input-$1")]})),kl(Xs(t,{props:[Ne(i,/:(plac\w+)/,":"+Vu+"$1")]})),kl(Xs(t,{props:[Ne(i,/:(plac\w+)/,pt+"input-$1")]})),kl(Xs(t,{props:[i]})),av(t,{props:ew(n,r)});break}return""})}}var vR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ir={},kc=typeof process<"u"&&ir!==void 0&&(ir.REACT_APP_SC_ATTR||ir.SC_ATTR)||"data-styled",K9="active",G9="data-styled-version",_m="6.1.13",B2=`/*!sc*/
`,Gf=typeof window<"u"&&"HTMLElement"in window,yR=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ir!==void 0&&ir.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ir.REACT_APP_SC_DISABLE_SPEEDY!==""?ir.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ir.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ir!==void 0&&ir.SC_DISABLE_SPEEDY!==void 0&&ir.SC_DISABLE_SPEEDY!==""&&ir.SC_DISABLE_SPEEDY!=="false"&&ir.SC_DISABLE_SPEEDY),Lm=Object.freeze([]),Sc=Object.freeze({});function wR(t,e,n){return n===void 0&&(n=Sc),t.theme!==n.theme&&t.theme||e||n.theme}var J9=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),bR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,kR=/(^-|-$)/g;function rw(t){return t.replace(bR,"-").replace(kR,"")}var SR=/(a)(d)/gi,Y0=52,iw=function(t){return String.fromCharCode(t+(t>25?39:97))};function uv(t){var e,n="";for(e=Math.abs(t);e>Y0;e=e/Y0|0)n=iw(e%Y0)+n;return(iw(e%Y0)+n).replace(SR,"$1-$2")}var eg,Y9=5381,$l=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},X9=function(t){return $l(Y9,t)};function xR(t){return uv(X9(t)>>>0)}function CR(t){return t.displayName||t.name||"Component"}function tg(t){return typeof t=="string"&&!0}var Q9=typeof Symbol=="function"&&Symbol.for,Z9=Q9?Symbol.for("react.memo"):60115,ER=Q9?Symbol.for("react.forward_ref"):60112,TR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},MR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ex={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},AR=((eg={})[ER]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},eg[Z9]=ex,eg);function sw(t){return("type"in(e=t)&&e.type.$$typeof)===Z9?ex:"$$typeof"in t?AR[t.$$typeof]:TR;var e}var OR=Object.defineProperty,IR=Object.getOwnPropertyNames,ow=Object.getOwnPropertySymbols,NR=Object.getOwnPropertyDescriptor,DR=Object.getPrototypeOf,aw=Object.prototype;function tx(t,e,n){if(typeof e!="string"){if(aw){var r=DR(e);r&&r!==aw&&tx(t,r,n)}var i=IR(e);ow&&(i=i.concat(ow(e)));for(var s=sw(t),o=sw(e),a=0;a<i.length;++a){var l=i[a];if(!(l in MR||n&&n[l]||o&&l in o||s&&l in s)){var c=NR(e,l);try{OR(t,l,c)}catch{}}}}return t}function xc(t){return typeof t=="function"}function F2(t){return typeof t=="object"&&"styledComponentId"in t}function Ea(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function lw(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Ed(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function dv(t,e,n){if(n===void 0&&(n=!1),!n&&!Ed(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=dv(t[r],e[r]);else if(Ed(e))for(var r in e)t[r]=dv(t[r],e[r]);return t}function j2(t,e){Object.defineProperty(t,"toString",{value:e})}function a0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var RR=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw a0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(B2);return n},t}(),Kh=new Map,Jf=new Map,Gh=1,X0=function(t){if(Kh.has(t))return Kh.get(t);for(;Jf.has(Gh);)Gh++;var e=Gh++;return Kh.set(t,e),Jf.set(e,t),e},_R=function(t,e){Gh=e+1,Kh.set(t,e),Jf.set(e,t)},LR="style[".concat(kc,"][").concat(G9,'="').concat(_m,'"]'),PR=new RegExp("^".concat(kc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),zR=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},BR=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(B2),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(PR);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(_R(u,c),zR(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},cw=function(t){for(var e=document.querySelectorAll(LR),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(kc)!==K9&&(BR(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function FR(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var nx=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(kc,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(kc,K9),r.setAttribute(G9,_m);var o=FR();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},jR=function(){function t(e){this.element=nx(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw a0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),HR=function(){function t(e){this.element=nx(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),$R=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),uw=Gf,UR={isServer:!Gf,useCSSOMInjection:!yR},rx=function(){function t(e,n,r){e===void 0&&(e=Sc),n===void 0&&(n={});var i=this;this.options=Jn(Jn({},UR),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Gf&&uw&&(uw=!1,cw(this)),j2(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(y){return Jf.get(y)}(d);if(h===void 0)return"continue";var f=s.names.get(h),p=o.getGroup(d);if(f===void 0||!f.size||p.length===0)return"continue";var g="".concat(kc,".g").concat(d,'[id="').concat(h,'"]'),w="";f!==void 0&&f.forEach(function(y){y.length>0&&(w+="".concat(y,","))}),l+="".concat(p).concat(g,'{content:"').concat(w,'"}').concat(B2)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return X0(e)},t.prototype.rehydrate=function(){!this.server&&Gf&&cw(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Jn(Jn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new $R(i):r?new jR(i):new HR(i)}(this.options),new RR(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(X0(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(X0(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(X0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),VR=/&/g,WR=/^\s*\/\/.*$/gm;function ix(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ix(n.children,e)),n})}function qR(t){var e,n,r,i=Sc,s=i.options,o=s===void 0?Sc:s,a=i.plugins,l=a===void 0?Lm:a,c=function(h,f,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===Im&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(VR,n).replace(r,c))}),o.prefix&&u.push(gR),u.push(fR);var d=function(h,f,p,g){f===void 0&&(f=""),p===void 0&&(p=""),g===void 0&&(g="&"),e=g,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var w=h.replace(WR,""),y=dR(p||f?"".concat(p," ").concat(f," { ").concat(w," }"):w);o.namespace&&(y=ix(y,o.namespace));var b=[];return Kf(y,pR(u.concat(mR(function(C){return b.push(C)})))),b};return d.hash=l.length?l.reduce(function(h,f){return f.name||a0(15),$l(h,f.name)},Y9).toString():"",d}var KR=new rx,hv=qR(),sx=Tt.createContext({shouldForwardProp:void 0,styleSheet:KR,stylis:hv});sx.Consumer;Tt.createContext(void 0);function dw(){return B.useContext(sx)}var GR=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=hv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,j2(this,function(){throw a0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=hv),this.name+e.hash},t}(),JR=function(t){return t>="A"&&t<="Z"};function hw(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;JR(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var ox=function(t){return t==null||t===!1||t===""},ax=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!ox(s)&&(Array.isArray(s)&&s.isCss||xc(s)?r.push("".concat(hw(i),":"),s,";"):Ed(s)?r.push.apply(r,qf(qf(["".concat(i," {")],ax(s),!1),["}"],!1)):r.push("".concat(hw(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in vR||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ra(t,e,n,r){if(ox(t))return[];if(F2(t))return[".".concat(t.styledComponentId)];if(xc(t)){if(!xc(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ra(i,e,n,r)}var s;return t instanceof GR?n?(t.inject(n,r),[t.getName(r)]):[t]:Ed(t)?ax(t):Array.isArray(t)?Array.prototype.concat.apply(Lm,t.map(function(o){return Ra(o,e,n,r)})):[t.toString()]}function YR(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(xc(n)&&!F2(n))return!1}return!0}var XR=X9(_m),QR=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&YR(e),this.componentId=n,this.baseHash=$l(XR,n),this.baseStyle=r,rx.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ea(i,this.staticRulesId);else{var s=lw(Ra(this.rules,e,n,r)),o=uv($l(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ea(i,o),this.staticRulesId=o}else{for(var l=$l(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=lw(Ra(d,e,n,r));l=$l(l,h+u),c+=h}}if(c){var f=uv(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(c,".".concat(f),void 0,this.componentId)),i=Ea(i,f)}}return i},t}(),lx=Tt.createContext(void 0);lx.Consumer;var ng={};function ZR(t,e,n){var r=F2(t),i=t,s=!tg(t),o=e.attrs,a=o===void 0?Lm:o,l=e.componentId,c=l===void 0?function(S,A){var x=typeof S!="string"?"sc":rw(S);ng[x]=(ng[x]||0)+1;var I="".concat(x,"-").concat(xR(_m+x+ng[x]));return A?"".concat(A,"-").concat(I):I}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(S){return tg(S)?"styled.".concat(S):"Styled(".concat(CR(S),")")}(t):u,h=e.displayName&&e.componentId?"".concat(rw(e.displayName),"-").concat(e.componentId):e.componentId||c,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;p=function(S,A){return g(S,A)&&w(S,A)}}else p=g}var y=new QR(n,h,r?i.componentStyle:void 0);function b(S,A){return function(x,I,R){var P=x.attrs,j=x.componentStyle,Q=x.defaultProps,X=x.foldedComponentIds,oe=x.styledComponentId,ge=x.target,Oe=Tt.useContext(lx),Me=dw(),he=x.shouldForwardProp||Me.shouldForwardProp,$=wR(I,Oe,Q)||Sc,ee=function(Fe,je,Ze){for(var vt,Bt=Jn(Jn({},je),{className:void 0,theme:Ze}),Jt=0;Jt<Fe.length;Jt+=1){var Ye=xc(vt=Fe[Jt])?vt(Bt):vt;for(var It in Ye)Bt[It]=It==="className"?Ea(Bt[It],Ye[It]):It==="style"?Jn(Jn({},Bt[It]),Ye[It]):Ye[It]}return je.className&&(Bt.className=Ea(Bt.className,je.className)),Bt}(P,I,$),te=ee.as||ge,ve={};for(var de in ee)ee[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&ee.theme===$||(de==="forwardedAs"?ve.as=ee.forwardedAs:he&&!he(de,te)||(ve[de]=ee[de]));var rt=function(Fe,je){var Ze=dw(),vt=Fe.generateAndInjectStyles(je,Ze.styleSheet,Ze.stylis);return vt}(j,ee),Be=Ea(X,oe);return rt&&(Be+=" "+rt),ee.className&&(Be+=" "+ee.className),ve[tg(te)&&!J9.has(te)?"class":"className"]=Be,ve.ref=R,B.createElement(te,ve)}(C,S,A)}b.displayName=d;var C=Tt.forwardRef(b);return C.attrs=f,C.componentStyle=y,C.displayName=d,C.shouldForwardProp=p,C.foldedComponentIds=r?Ea(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=h,C.target=r?i.target:t,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(A){for(var x=[],I=1;I<arguments.length;I++)x[I-1]=arguments[I];for(var R=0,P=x;R<P.length;R++)dv(A,P[R],!0);return A}({},i.defaultProps,S):S}}),j2(C,function(){return".".concat(C.styledComponentId)}),s&&tx(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function fw(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var pw=function(t){return Object.assign(t,{isCss:!0})};function e_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xc(t)||Ed(t))return pw(Ra(fw(Lm,qf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Ra(r):pw(Ra(fw(r,e)))}function fv(t,e,n){if(n===void 0&&(n=Sc),!e)throw a0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,e_.apply(void 0,qf([i],s,!1)))};return r.attrs=function(i){return fv(t,e,Jn(Jn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return fv(t,e,Jn(Jn({},n),i))},r}var cx=function(t){return fv(ZR,t)},Yi=cx;J9.forEach(function(t){Yi[t]=cx(t)});const ux=Yi.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 520px;
  padding: 50px 0px;
`,dx=Yi.h1`
  font-size: 42px;
`,hx=Yi.form`
  margin-top: 50px;
  margin-bottom: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
`,Ta=Yi.input`
  padding: 10px 0;
  padding-left: 10px;
  border-radius: 50px;
  border: 1px solid #777777;
  width: 98%;
  font-size: 16px;
  &[type="submit"] {
    cursor: pointer;
    width: 100%;
    &:hover {
      opacity: 0.8;
    }
  }
`,fx=Yi.span`
  font-weight: 600;
  color: tomato;
`,px=Yi.span`
  margin-top: 20px;
  padding-left: 10px;
  a {
    color: #1d9bf0;
  }
`;var mw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(mx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new n_;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r_=function(t){const e=mx(t);return gx.encodeByteArray(e,!0)},vx=function(t){return r_(t).replace(/\./g,"")},yx=function(t){try{return gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=()=>i_().__FIREBASE_DEFAULTS__,o_=()=>{if(typeof process>"u"||typeof mw>"u")return;const t=mw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},a_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&yx(t[1]);return e&&JSON.parse(e)},H2=()=>{try{return s_()||o_()||a_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},l_=t=>{var e,n;return(n=(e=H2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wx=()=>{var t;return(t=H2())===null||t===void 0?void 0:t.config},bx=t=>{var e;return(e=H2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function u_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ln())}function d_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function f_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function p_(){const t=Ln();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m_(){try{return typeof indexedDB=="object"}catch{return!1}}function g_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=v_,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,l0.prototype.create)}}class l0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?y_(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xi(i,a,r)}}function y_(t,e){return t.replace(w_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const w_=/\{\$([^}]+)}/g;function b_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(gw(s)&&gw(o)){if(!Yf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ou(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Iu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function k_(t,e){const n=new S_(t,e);return n.subscribe.bind(n)}class S_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");x_(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=rg),i.error===void 0&&(i.error=rg),i.complete===void 0&&(i.complete=rg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function rg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return t&&t._delegate?t._delegate:t}class Cc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T_(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E_(t){return t===pa?void 0:t}function T_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new C_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const A_={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},O_=it.INFO,I_={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},N_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=I_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kx{constructor(e){this.name=e,this._logLevel=O_,this._logHandler=N_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const D_=(t,e)=>e.some(n=>t instanceof n);let vw,yw;function R_(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function __(){return yw||(yw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Sx=new WeakMap,pv=new WeakMap,xx=new WeakMap,ig=new WeakMap,$2=new WeakMap;function L_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Do(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Sx.set(n,t)}).catch(()=>{}),$2.set(e,t),e}function P_(t){if(pv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});pv.set(t,e)}let mv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Do(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function z_(t){mv=t(mv)}function B_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sg(this),e,...n);return xx.set(r,e.sort?e.sort():[e]),Do(r)}:__().includes(t)?function(...e){return t.apply(sg(this),e),Do(Sx.get(this))}:function(...e){return Do(t.apply(sg(this),e))}}function F_(t){return typeof t=="function"?B_(t):(t instanceof IDBTransaction&&P_(t),D_(t,R_())?new Proxy(t,mv):t)}function Do(t){if(t instanceof IDBRequest)return L_(t);if(ig.has(t))return ig.get(t);const e=F_(t);return e!==t&&(ig.set(t,e),$2.set(e,t)),e}const sg=t=>$2.get(t);function j_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Do(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Do(o.result),l.oldVersion,l.newVersion,Do(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const H_=["get","getKey","getAll","getAllKeys","count"],$_=["put","add","delete","clear"],og=new Map;function ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(og.get(e))return og.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||H_.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return og.set(e,s),s}z_(t=>({...t,get:(e,n,r)=>ww(e,n)||t.get(e,n,r),has:(e,n)=>!!ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gv="@firebase/app",bw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new kx("@firebase/app"),W_="@firebase/app-compat",q_="@firebase/analytics-compat",K_="@firebase/analytics",G_="@firebase/app-check-compat",J_="@firebase/app-check",Y_="@firebase/auth",X_="@firebase/auth-compat",Q_="@firebase/database",Z_="@firebase/data-connect",eL="@firebase/database-compat",tL="@firebase/functions",nL="@firebase/functions-compat",rL="@firebase/installations",iL="@firebase/installations-compat",sL="@firebase/messaging",oL="@firebase/messaging-compat",aL="@firebase/performance",lL="@firebase/performance-compat",cL="@firebase/remote-config",uL="@firebase/remote-config-compat",dL="@firebase/storage",hL="@firebase/storage-compat",fL="@firebase/firestore",pL="@firebase/vertexai",mL="@firebase/firestore-compat",gL="firebase",vL="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="[DEFAULT]",yL={[gv]:"fire-core",[W_]:"fire-core-compat",[K_]:"fire-analytics",[q_]:"fire-analytics-compat",[J_]:"fire-app-check",[G_]:"fire-app-check-compat",[Y_]:"fire-auth",[X_]:"fire-auth-compat",[Q_]:"fire-rtdb",[Z_]:"fire-data-connect",[eL]:"fire-rtdb-compat",[tL]:"fire-fn",[nL]:"fire-fn-compat",[rL]:"fire-iid",[iL]:"fire-iid-compat",[sL]:"fire-fcm",[oL]:"fire-fcm-compat",[aL]:"fire-perf",[lL]:"fire-perf-compat",[cL]:"fire-rc",[uL]:"fire-rc-compat",[dL]:"fire-gcs",[hL]:"fire-gcs-compat",[fL]:"fire-fst",[mL]:"fire-fst-compat",[pL]:"fire-vertex","fire-js":"fire-js",[gL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map,wL=new Map,yv=new Map;function kw(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Td(t){const e=t.name;if(yv.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;yv.set(e,t);for(const n of Xf.values())kw(n,t);for(const n of wL.values())kw(n,t);return!0}function Cx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Pi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ro=new l0("app","Firebase",bL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ro.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=vL;function Ex(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ro.create("bad-app-name",{appName:String(i)});if(n||(n=wx()),!n)throw Ro.create("no-options");const s=Xf.get(i);if(s){if(Yf(n,s.options)&&Yf(r,s.config))return s;throw Ro.create("duplicate-app",{appName:i})}const o=new M_(i);for(const l of yv.values())o.addComponent(l);const a=new kL(n,r,o);return Xf.set(i,a),a}function SL(t=vv){const e=Xf.get(t);if(!e&&t===vv&&wx())return Ex();if(!e)throw Ro.create("no-app",{appName:t});return e}function Ql(t,e,n){var r;let i=(r=yL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(a.join(" "));return}Td(new Cc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="firebase-heartbeat-database",CL=1,Md="firebase-heartbeat-store";let ag=null;function Tx(){return ag||(ag=j_(xL,CL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Md)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ro.create("idb-open",{originalErrorMessage:t.message})})),ag}async function EL(t){try{const n=(await Tx()).transaction(Md),r=await n.objectStore(Md).get(Mx(t));return await n.done,r}catch(e){if(e instanceof Xi)Ds.warn(e.message);else{const n=Ro.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(n.message)}}}async function Sw(t,e){try{const r=(await Tx()).transaction(Md,"readwrite");await r.objectStore(Md).put(e,Mx(t)),await r.done}catch(n){if(n instanceof Xi)Ds.warn(n.message);else{const r=Ro.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(r.message)}}}function Mx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL=1024,ML=30*24*60*60*1e3;class AL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new IL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=xw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=ML}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xw(),{heartbeatsToSend:r,unsentEntries:i}=OL(this._heartbeatsCache.heartbeats),s=vx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ds.warn(n),""}}}function xw(){return new Date().toISOString().substring(0,10)}function OL(t,e=TL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Cw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class IL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m_()?g_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await EL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Cw(t){return vx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){Td(new Cc("platform-logger",e=>new U_(e),"PRIVATE")),Td(new Cc("heartbeat",e=>new AL(e),"PRIVATE")),Ql(gv,bw,t),Ql(gv,bw,"esm2017"),Ql("fire-js","")}NL("");function Ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const DL=Ax,Ox=new l0("auth","Firebase",Ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=new kx("@firebase/auth");function RL(t,...e){Qf.logLevel<=it.WARN&&Qf.warn(`Auth (${u0}): ${t}`,...e)}function Jh(t,...e){Qf.logLevel<=it.ERROR&&Qf.error(`Auth (${u0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(t,...e){throw U2(t,...e)}function $i(t,...e){return U2(t,...e)}function Ix(t,e,n){const r=Object.assign(Object.assign({},DL()),{[e]:n});return new l0("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return Ix(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function U2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ox.create(t,...e)}function Ee(t,e,...n){if(!t)throw U2(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Jh(e),new Error(e)}function Rs(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _L(){return Ew()==="http:"||Ew()==="https:"}function Ew(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_L()||h_()||"connection"in navigator)?navigator.onLine:!0}function PL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=u_()||f_()}get(){return LL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BL=new d0(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function js(t,e,n,r,i={}){return Dx(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=c0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return d_()||(c.referrerPolicy="no-referrer"),Nx.fetch()(Rx(t,t.config.apiHost,n,a),c)})}async function Dx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},zL),e);try{const i=new jL(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Q0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Q0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Q0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Q0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Ix(t,u,c);hi(t,u)}}catch(i){if(i instanceof Xi)throw i;hi(t,"network-request-failed",{message:String(i)})}}async function h0(t,e,n,r,i={}){const s=await js(t,e,n,r,i);return"mfaPendingCredential"in s&&hi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Rx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?V2(t.config,i):`${t.config.apiScheme}://${i}`}function FL(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class jL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($i(this.auth,"network-request-failed")),BL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Q0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=$i(t,e,r);return i.customData._tokenResponse=n,i}function Tw(t){return t!==void 0&&t.enterprise!==void 0}class HL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return FL(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $L(t,e){return js(t,"GET","/v2/recaptchaConfig",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UL(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function _x(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VL(t,e=!1){const n=Qo(t),r=await n.getIdToken(e),i=W2(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Wu(lg(i.auth_time)),issuedAtTime:Wu(lg(i.iat)),expirationTime:Wu(lg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function lg(t){return Number(t)*1e3}function W2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const i=yx(n);return i?JSON.parse(i):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Mw(t){const e=W2(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&WL(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wu(this.lastLoginAt),this.creationTime=Wu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ec(t,_x(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lx(s.providerUserInfo):[],a=GL(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bv(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function KL(t){const e=Qo(t);await Zf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GL(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Lx(t){return t.map(e=>{var{providerId:n}=e,r=L2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JL(t,e){const n=await Dx(t,{},async()=>{const r=c0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Rx(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function YL(t,e){return js(t,"POST","/v2/accounts:revokeToken",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Mw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JL(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=L2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return VL(this,e)}reload(){return KL(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Zf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pi(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Ec(this,UL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,b=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:C,emailVerified:S,isAnonymous:A,providerData:x,stsTokenManager:I}=n;Ee(C&&I,e,"internal-error");const R=Zl.fromJSON(this.name,I);Ee(typeof C=="string",e,"internal-error"),Ws(d,e.name),Ws(h,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof A=="boolean",e,"internal-error"),Ws(f,e.name),Ws(p,e.name),Ws(g,e.name),Ws(w,e.name),Ws(y,e.name),Ws(b,e.name);const P=new vs({uid:C,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:A,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:R,createdAt:y,lastLoginAt:b});return x&&Array.isArray(x)&&(P.providerData=x.map(j=>Object.assign({},j))),w&&(P._redirectEventId=w),P}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zl;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Zf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Lx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zl;a.updateFromIdToken(r);const l=new vs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aw=new Map;function ys(t){Rs(t instanceof Function,"Expected a class definition");let e=Aw.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Aw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Px.type="NONE";const Ow=Px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Yh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Yh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(ys(Ow),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ys(Ow);const o=Yh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=vs._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ec(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ec(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($x(e))return"Blackberry";if(Ux(e))return"Webos";if(Bx(e))return"Safari";if((e.includes("chrome/")||Fx(e))&&!e.includes("edge/"))return"Chrome";if(Hx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zx(t=Ln()){return/firefox\//i.test(t)}function Bx(t=Ln()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fx(t=Ln()){return/crios\//i.test(t)}function jx(t=Ln()){return/iemobile/i.test(t)}function Hx(t=Ln()){return/android/i.test(t)}function $x(t=Ln()){return/blackberry/i.test(t)}function Ux(t=Ln()){return/webos/i.test(t)}function q2(t=Ln()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function XL(t=Ln()){var e;return q2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function QL(){return p_()&&document.documentMode===10}function Vx(t=Ln()){return q2(t)||Hx(t)||Ux(t)||$x(t)||/windows phone/i.test(t)||jx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(t,e=[]){let n;switch(t){case"Browser":n=Iw(Ln());break;case"Worker":n=`${Iw(Ln())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${u0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eP(t,e={}){return js(t,"GET","/v2/passwordPolicy",Zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tP=6;class nP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:tP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nw(this),this.idTokenSubscription=new Nw(this),this.beforeStateQueue=new ZL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ox,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await _x(this,{idToken:e}),r=await vs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Zf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pi(this.app))return Promise.reject(Ss(this));const n=e?Qo(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eP(this),n=new nP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new l0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await YL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&RL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ll(t){return Qo(t)}class Nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=k_(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function iP(t){Pm=t}function qx(t){return Pm.loadJS(t)}function sP(){return Pm.recaptchaEnterpriseScript}function oP(){return Pm.gapiScript}function aP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class lP{constructor(){this.enterprise=new cP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class cP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const uP="recaptcha-enterprise",Kx="NO_RECAPTCHA";class dP{constructor(e){this.type=uP,this.auth=ll(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{$L(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new HL(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Tw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Kx)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Tw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=sP();l.length!==0&&(l+=a),qx(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Dw(t,e,n,r=!1,i=!1){const s=new dP(t);let o;if(i)o=Kx;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function kv(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Dw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Dw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t,e){const n=Cx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Yf(s,e??{}))return i;hi(i,"already-initialized")}return n.initialize({options:e})}function fP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function pP(t,e,n){const r=ll(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Gx(e),{host:o,port:a}=mP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),gP()}function Gx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function mP(t){const e=Gx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Rw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Rw(o)}}}function Rw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function gP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function vP(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yP(t,e){return h0(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wP(t,e){return h0(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function bP(t,e){return h0(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad extends K2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ad(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ad(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,n,"signInWithPassword",yP);case"emailLink":return wP(e,{email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kv(e,r,"signUpPassword",vP);case"emailLink":return bP(e,{idToken:n,email:this._email,oobCode:this._password});default:hi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return h0(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="http://localhost";class Ga extends K2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=L2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ga(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:kP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=c0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xP(t){const e=Ou(Iu(t)).link,n=e?Ou(Iu(e)).deep_link_id:null,r=Ou(Iu(t)).deep_link_id;return(r?Ou(Iu(r)).link:null)||r||n||e||t}class G2{constructor(e){var n,r,i,s,o,a;const l=Ou(Iu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=SP((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=xP(e);try{return new G2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(){this.providerId=qc.PROVIDER_ID}static credential(e,n){return Ad._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=G2.parseLink(n);return Ee(r,"argument-error"),Ad._fromEmailAndCode(e,r.code,r.tenantId)}}qc.PROVIDER_ID="password";qc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0 extends Jx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends f0{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends f0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.GOOGLE_SIGN_IN_METHOD="google.com";lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends f0{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends f0{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(t,e){return h0(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=_w(r);return new Ja({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_w(r);return new Ja({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _w(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep extends Xi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ep.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ep(e,n,r,i)}}function Yx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ep._fromErrorAndOperation(t,s,e,r):s})}async function EP(t,e,n=!1){const r=await Ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e,n=!1){const{auth:r}=t;if(Pi(r.app))return Promise.reject(Ss(r));const i="reauthenticate";try{const s=await Ec(t,Yx(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=W2(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),Ja._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&hi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xx(t,e,n=!1){if(Pi(t.app))return Promise.reject(Ss(t));const r="signIn",i=await Yx(t,r,e),s=await Ja._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function MP(t,e){return Xx(ll(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t){const e=ll(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function AP(t,e,n){if(Pi(t.app))return Promise.reject(Ss(t));const r=ll(t),o=await kv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Qx(t),l}),a=await Ja._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function OP(t,e,n){return Pi(t.app)?Promise.reject(Ss(t)):MP(Qo(t),qc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qx(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e){return js(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qo(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ec(r,IP(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function DP(t,e,n,r){return Qo(t).onIdTokenChanged(e,n,r)}function RP(t,e,n){return Qo(t).beforeAuthStateChanged(e,n)}const tp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tp,"1"),this.storage.removeItem(tp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=1e3,LP=10;class eC extends Zx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Vx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);QL()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,LP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},_P)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}eC.type="LOCAL";const PP=eC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC extends Zx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tC.type="SESSION";const nC=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await zP(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=J2("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(){return window}function FP(t){Ui().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rC(){return typeof Ui().WorkerGlobalScope<"u"&&typeof Ui().importScripts=="function"}async function jP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $P(){return rC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebaseLocalStorageDb",UP=1,np="firebaseLocalStorage",sC="fbase_key";class p0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bm(t,e){return t.transaction([np],e?"readwrite":"readonly").objectStore(np)}function VP(){const t=indexedDB.deleteDatabase(iC);return new p0(t).toPromise()}function Sv(){const t=indexedDB.open(iC,UP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(np,{keyPath:sC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(np)?e(r):(r.close(),await VP(),e(await Sv()))})})}async function Lw(t,e,n){const r=Bm(t,!0).put({[sC]:e,value:n});return new p0(r).toPromise()}async function WP(t,e){const n=Bm(t,!1).get(e),r=await new p0(n).toPromise();return r===void 0?null:r.value}function Pw(t,e){const n=Bm(t,!0).delete(e);return new p0(n).toPromise()}const qP=800,KP=3;class oC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>KP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance($P()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jP(),!this.activeServiceWorker)return;this.sender=new BP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||HP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sv();return await Lw(e,tp,"1"),await Pw(e,tp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>WP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Pw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bm(i,!1).getAll();return new p0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oC.type="LOCAL";const GP=oC;new d0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t,e){return e?ys(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2 extends K2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function YP(t){return Xx(t.auth,new Y2(t),t.bypassAuthState)}function XP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),TP(n,new Y2(t),t.bypassAuthState)}async function QP(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),EP(n,new Y2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YP;case"linkViaPopup":case"linkViaRedirect":return QP;case"reauthViaPopup":case"reauthViaRedirect":return XP;default:hi(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new d0(2e3,1e4);class Ul extends aC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=J2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject($i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ZP.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez="pendingRedirect",Xh=new Map;class tz extends aC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const r=await nz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function nz(t,e){const n=sz(e),r=iz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function rz(t,e){Xh.set(t._key(),e)}function iz(t){return ys(t._redirectPersistence)}function sz(t){return Yh(ez,t.config.apiKey,t.name)}async function oz(t,e,n=!1){if(Pi(t.app))return Promise.reject(Ss(t));const r=ll(t),i=JP(r,e),o=await new tz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const az=10*60*1e3;class lz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!cz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($i(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=az&&this.cachedEventUids.clear(),this.cachedEventUids.has(zw(e))}saveEventToCache(e){this.cachedEventUids.add(zw(e)),this.lastProcessedEventTime=Date.now()}}function zw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function cz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uz(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hz=/^https?/;async function fz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await uz(t);for(const n of e)try{if(pz(n))return}catch{}hi(t,"unauthorized-domain")}function pz(t){const e=wv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!hz.test(n))return!1;if(dz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mz=new d0(3e4,6e4);function Bw(){const t=Ui().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gz(t){return new Promise((e,n)=>{var r,i,s;function o(){Bw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bw(),n($i(t,"network-request-failed"))},timeout:mz.get()})}if(!((i=(r=Ui().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ui().gapi)===null||s===void 0)&&s.load)o();else{const a=aP("iframefcb");return Ui()[a]=()=>{gapi.load?o():n($i(t,"network-request-failed"))},qx(`${oP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qh=null,e})}let Qh=null;function vz(t){return Qh=Qh||gz(t),Qh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yz=new d0(5e3,15e3),wz="__/auth/iframe",bz="emulator/auth/iframe",kz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xz(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?V2(e,bz):`https://${t.config.authDomain}/${wz}`,r={apiKey:e.apiKey,appName:t.name,v:u0},i=Sz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${c0(r).slice(1)}`}async function Cz(t){const e=await vz(t),n=Ui().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:xz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:kz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=$i(t,"network-request-failed"),a=Ui().setTimeout(()=>{s(o)},yz.get());function l(){Ui().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ez={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tz=500,Mz=600,Az="_blank",Oz="http://localhost";class Fw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Iz(t,e,n,r=Tz,i=Mz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Ez),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ln().toLowerCase();n&&(a=Fx(c)?Az:n),zx(c)&&(e=e||Oz,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(XL(c)&&a!=="_self")return Nz(e||"",a),new Fw(null);const d=window.open(e||"",a,u);Ee(d,t,"popup-blocked");try{d.focus()}catch{}return new Fw(d)}function Nz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dz="__/auth/handler",Rz="emulator/auth/handler",_z=encodeURIComponent("fac");async function jw(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:u0,eventId:i};if(e instanceof Jx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",b_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof f0){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${_z}=${encodeURIComponent(l)}`:"";return`${Lz(t)}?${c0(a).slice(1)}${c}`}function Lz({config:t}){return t.emulator?V2(t,Rz):`https://${t.authDomain}/${Dz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="webStorageSupport";class Pz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nC,this._completeRedirectFn=oz,this._overrideRedirectResult=rz}async _openPopup(e,n,r,i){var s;Rs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await jw(e,n,r,wv(),i);return Iz(e,o,J2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await jw(e,n,r,wv(),i);return FP(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Cz(e),r=new lz(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(cg,{type:cg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[cg];o!==void 0&&n(!!o),hi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Vx()||Bx()||q2()}}const zz=Pz;var Hw="@firebase/auth",$w="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jz(t){Td(new Cc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Wx(t)},c=new rP(r,i,s,l);return fP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Td(new Cc("auth-internal",e=>{const n=ll(e.getProvider("auth").getImmediate());return(r=>new Bz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ql(Hw,$w,Fz(t)),Ql(Hw,$w,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=5*60,$z=bx("authIdTokenMaxAge")||Hz;let Uw=null;const Uz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$z)return;const i=n==null?void 0:n.token;Uw!==i&&(Uw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vz(t=SL()){const e=Cx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=hP(t,{popupRedirectResolver:zz,persistence:[GP,PP,nC]}),r=bx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=Uz(s.toString());RP(n,o,()=>o(n.currentUser)),DP(n,a=>o(a))}}const i=l_("auth");return i&&pP(n,`http://${i}`),n}function Wz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}iP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=$i("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Wz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jz("Browser");var qz="firebase",Kz="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ql(qz,Kz,"app");const Gz={apiKey:"AIzaSyBJDxxFl-LiT_aGKYULn6gNvpNfIfrUvxA",authDomain:"notice-board-1fb34.firebaseapp.com",projectId:"notice-board-1fb34",storageBucket:"notice-board-1fb34.firebasestorage.app",messagingSenderId:"70906713459",appId:"1:70906713459:web:76603ec50da53c906f2106"},Jz=Ex(Gz),m0=Vz(Jz);function Yz(){const t=Vc(),[e,n]=B.useState(!1),[r,i]=B.useState(""),[s,o]=B.useState(""),[a,l]=B.useState(""),[c,u]=B.useState(""),d=f=>{const{target:{name:p,value:g}}=f;p==="name"?i(g):p==="email"?o(g):p==="password"&&l(g)},h=async f=>{if(f.preventDefault(),u(""),!(e||r===""||s===""||a===""))try{n(!0);const p=await AP(m0,s,a);await NP(p.user,{displayName:r}),t("/")}catch(p){p instanceof Xi&&u(p.message)}finally{n(!1)}};return O.jsxs(ux,{children:[O.jsx(dx,{children:"Create Account"}),O.jsxs(hx,{onSubmit:h,children:[O.jsx(Ta,{onChange:d,name:"name",placeholder:"Name",type:"text",required:!0}),O.jsx(Ta,{onChange:d,name:"email",placeholder:"Email",type:"text",required:!0}),O.jsx(Ta,{onChange:d,name:"password",placeholder:"Password",type:"password",required:!0}),O.jsx(Ta,{onChange:d,type:"submit",value:e?"Loading...":"Create Account"})]}),c!==""?O.jsx(fx,{children:c}):null,O.jsx(px,{children:O.jsx(F9,{to:"/login",children:"Log in →"})})]})}function Xz(){const t=Vc(),[e,n]=B.useState(!1),[r,i]=B.useState(""),[s,o]=B.useState(""),[a,l]=B.useState(""),c=d=>{const{target:{name:h,value:f}}=d;h==="email"?i(f):h==="password"&&o(f)},u=async d=>{if(d.preventDefault(),l(""),!(e||r===""||s===""))try{n(!0),await OP(m0,r,s),t("/")}catch(h){h instanceof Xi&&l(h.message)}finally{n(!1)}};return O.jsxs(ux,{children:[O.jsx(dx,{children:"Log in"}),O.jsxs(hx,{onSubmit:u,children:[O.jsx(Ta,{onChange:c,name:"email",placeholder:"Email",type:"text",required:!0}),O.jsx(Ta,{onChange:c,name:"password",placeholder:"Password",type:"password",required:!0}),O.jsx(Ta,{onChange:c,type:"submit",value:e?"Loading...":"Log in"})]}),a!==""?O.jsx(fx,{children:a}):null,O.jsx(px,{children:O.jsx(F9,{to:"/create-account",children:"Create Account →"})})]})}function Qz(){return O.jsx(O.Fragment,{children:O.jsx("h1",{children:"Home"})})}const Zz=Yi.div`
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
`,eB=Yi.span`
  font-size: 24px;
`;function tB(){return O.jsx(Zz,{children:O.jsx(eB,{children:"Loading..."})})}function nB(){const t="https://port-0-notice-backend-m3lin2251ce3a47e.sel4.cloudtype.app",e=Vc();let[n,r]=B.useState([]);const i=async()=>{confirm("Are you sure?")&&(await m0.signOut(),e("/login"))},s=l=>{e("/editor/"+l)},o=async()=>{try{n=await(await fetch(`${t}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:""})).json(),r(n),console.log(n)}catch(l){console.error("Error sending data to server:",l)}},a=async l=>{try{n=await(await fetch(`${t}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:l})})).json(),r(n),console.log(n)}catch(c){console.error("Error sending data to server:",c)}o()};return B.useEffect(()=>{o()},[]),O.jsxs(O.Fragment,{children:[O.jsxs("div",{className:"top-menu",children:[O.jsx("h1",{className:"temp-title",children:"Home"}),O.jsx("p",{children:"Name"}),O.jsx("button",{onClick:()=>s(""),className:"new-page",children:"New Page"}),O.jsx("button",{onClick:i,className:"log-out",children:"Log Out"})]}),O.jsx("div",{className:"pages-head",children:O.jsxs("div",{className:"page-component-head",children:[O.jsx("span",{children:"제목"}),O.jsx("span",{children:"수정일시"}),O.jsx("span",{children:"생성일시"}),O.jsx("span",{children:"삭제"})]})}),O.jsx("div",{className:"pages",children:n.length>0?n.map((l,c)=>O.jsxs("div",{className:"page-component",children:[O.jsx("a",{onClick:()=>s(l._id),children:l.title}),O.jsx("span",{children:l.created_at}),O.jsx("span",{children:l.modified_at}),O.jsx("span",{onClick:()=>a(l._id),children:"Delete"})]},c)):O.jsx("p",{children:"None"})}),O.jsx(ID,{})]})}function rB({children:t}){return m0.currentUser===null?O.jsx(OD,{to:"/login"}):t}function hn(t){this.content=t}hn.prototype={constructor:hn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new hn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new hn(n)},addToStart:function(t,e){return new hn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new hn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new hn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=hn.from(t),t.size?new hn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=hn.from(t),t.size?new hn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=hn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};hn.from=function(t){if(t instanceof hn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new hn(e)};function cC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=cC(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function uC(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=uC(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class H{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new H(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new H(r,i)}cutByIndex(e,n){return e==n?H.empty:e==0&&n==this.content.length?this:new H(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new H(i,s)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return cC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return uC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Z0(0,e);if(e==this.size)return Z0(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Z0(r+1,o):Z0(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return H.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new H(n||e,r)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}H.empty=new H([],0);const ug={index:0,offset:0};function Z0(t,e){return ug.index=t,ug.offset=e,ug}function rp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!rp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!rp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ot=class xv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&rp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xv.none;if(e instanceof xv)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ot.none=[];class ip extends Error{}class J{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=hC(this.content,e+this.openStart,n);return r&&new J(r,this.openStart,this.openEnd)}removeBetween(e,n){return new J(dC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return J.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J(H.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new J(e,r,i)}}J.empty=new J(H.empty,0,0);function dC(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(dC(s.content,e-i-1,n-i-1)))}function hC(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=hC(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function iB(t,e,n){if(n.openStart>t.depth)throw new ip("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new ip("Inconsistent open depths");return fC(t,e,n,0)}function fC(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=fC(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return La(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=sB(n,t);return La(s,mC(t,o,a,e,r))}else return La(s,sp(t,e,r))}function pC(t,e){if(!e.type.compatibleContent(t.type))throw new ip("Cannot join "+e.type.name+" onto "+t.type.name)}function Cv(t,e,n){let r=t.node(n);return pC(r,e.node(n)),r}function _a(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function qu(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(_a(t.nodeAfter,r),s++));for(let a=s;a<o;a++)_a(i.child(a),r);e&&e.depth==n&&e.textOffset&&_a(e.nodeBefore,r)}function La(t,e){return t.type.checkContent(e),t.copy(e)}function mC(t,e,n,r,i){let s=t.depth>i&&Cv(t,e,i+1),o=r.depth>i&&Cv(n,r,i+1),a=[];return qu(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(pC(s,o),_a(La(s,mC(t,e,n,r,i+1)),a)):(s&&_a(La(s,sp(t,e,i+1)),a),qu(e,n,i,a),o&&_a(La(o,sp(n,r,i+1)),a)),qu(r,null,i,a),new H(a)}function sp(t,e,n){let r=[];if(qu(null,t,n,r),t.depth>n){let i=Cv(t,e,n+1);_a(La(i,sp(t,e,n+1)),r)}return qu(e,null,n,r),new H(r)}function sB(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(H.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Od{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ot.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Id(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Od(n,r,s)}static resolveCached(e,n){let r=Vw.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Vw.set(e,r=new oB);let i=r.elts[r.i]=Od.resolve(e,n);return r.i=(r.i+1)%aB,i}}class oB{constructor(){this.elts=[],this.i=0}}const aB=12,Vw=new WeakMap;class Id{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const lB=Object.create(null);let Pa=class Ev{constructor(e,n,r,i=ot.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||H.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&rp(this.attrs,n||e.defaultAttrs||lB)&&ot.sameSet(this.marks,r||ot.none)}copy(e=null){return e==this.content?this:new Ev(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Ev(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return J.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new J(c,i.depth-o,s.depth-o)}replace(e,n,r){return iB(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Od.resolveCached(this,e)}resolveNoCache(e){return Od.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),gC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=H.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ot.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ot.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=H.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Pa.prototype.text=void 0;let cB=class Tv extends Pa{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):gC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Tv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Tv(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function gC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ya{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new uB(e,n);if(r.next==null)return Ya.empty;let i=vC(r);r.next&&r.err("Unexpected trailing text");let s=vB(gB(i));return yB(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return H.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Ya.empty=new Ya(!0);class uB{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function vC(t){let e=[];do e.push(dB(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function dB(t){let e=[];do e.push(hB(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function hB(t){let e=mB(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=fB(t,e);else break;return e}function Ww(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function fB(t,e){let n=Ww(t),r=n;return t.eat(",")&&(t.next!="}"?r=Ww(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function pB(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function mB(t){if(t.eat("(")){let e=vC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=pB(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function gB(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function yC(t,e){return e-t}function qw(t,e){let n=[];return r(e),n.sort(yC);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function vB(t){let e=Object.create(null);return n(qw(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);qw(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Ya(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(yC);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function yB(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function wC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function bC(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function kC(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function SC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new bB(t,r,e[r]);return n}let Kw=class xC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=SC(e,r.attrs),this.defaultAttrs=wC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ya.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:bC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Pa(this,this.computeAttrs(e),H.from(n),ot.setFrom(r))}createChecked(e=null,n,r){return n=H.from(n),this.checkContent(n),new Pa(this,this.computeAttrs(e),n,ot.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=H.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(H.empty,!0);return s?new Pa(this,e,n.append(s),ot.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){kC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ot.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new xC(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function wB(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class bB{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?wB(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Fm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=SC(e,i.attrs),this.excluded=null;let s=wC(this.attrs);this.instance=s?new ot(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ot(this,bC(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Fm(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){kC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class CC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=hn.from(e.nodes),n.marks=hn.from(e.marks||{}),this.nodes=Kw.compile(this.spec.nodes,this),this.marks=Fm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Ya.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Gw(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Gw(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Kw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new cB(r,r.defaultAttrs,e,ot.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Pa.fromJSON(this,e)}markFromJSON(e){return ot.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Gw(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function kB(t){return t.tag!=null}function SB(t){return t.style!=null}let Ku=class Mv{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(kB(i))this.tags.push(i);else if(SB(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Yw(this,n,!1);return r.addAll(e,ot.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Yw(this,n,!0);return r.addAll(e,ot.none,n.from,n.to),J.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(EB(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Xw(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Xw(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Mv(e,Mv.schemaRules(e)))}};const EC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},TC={ol:!0,ul:!0},op=1,ap=2,Gu=4;function Jw(t,e,n){return e!=null?(e?op:0)|(e==="full"?ap:0):t&&t.whitespace=="pre"?op|ap:n&~Gu}class eh{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ot.none,this.match=s||(o&Gu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(H.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&op)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=H.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!EC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Yw{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=Jw(null,n.preserveWhitespace,0)|(r?Gu:0);i?s=new eh(i.type,i.attrs,ot.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new eh(null,null,ot.none,!0,null,o):s=new eh(e.schema.topNodeType,null,ot.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&ap||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&op)i.options&ap?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;TC.hasOwnProperty(i)&&this.parser.normalizeLists&&CB(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:xB.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(EC.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=ot.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):Qw(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Jw(e,s,o.options);o.options&Gu&&o.content.length==0&&(a|=Gu);let l=ot.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Qw(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new eh(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function CB(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&TC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function EB(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Xw(t){let e={};for(let n in t)e[n]=t[n];return e}function Qw(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class cl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=dg(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Zh(dg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Zh(dg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Zh(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new cl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Zw(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Zw(e.marks)}}function Zw(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function dg(t){return t.document||window.document}const e7=new WeakMap;function TB(t){let e=e7.get(t);return e===void 0&&e7.set(t,e=MB(t)),e}function MB(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Zh(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=TB(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=Zh(t,h,n,r);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const MC=65535,AC=Math.pow(2,16);function AB(t,e){return t+e*AC}function t7(t){return t&MC}function OB(t){return(t-(t&MC))/AC}const OC=1,IC=2,ef=4,NC=8;class Av{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&NC)>0}get deletedBefore(){return(this.delInfo&(OC|ef))>0}get deletedAfter(){return(this.delInfo&(IC|ef))>0}get deletedAcross(){return(this.delInfo&ef)>0}}class cr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&cr.empty)return cr.empty}recover(e){let n=0,r=t7(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+OB(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,f=l+i+(h<0?0:u);if(r)return f;let p=e==(n<0?l:d)?null:AB(a/3,e-l),g=e==l?IC:e==d?OC:ef;return(n<0?e!=l:e!=d)&&(g|=NC),new Av(f,g,p)}i+=u-c}return r?e+i:new Av(e+i,0,null)}touches(e,n){let r=0,i=t7(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new cr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cr.empty:new cr(e<0?[0,-e,0]:[0,0,e])}}cr.empty=new cr([]);class nc{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new nc(this.maps,this.mirror,e,n)}copy(){return new nc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new nc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Av(e,i,null)}}const hg=Object.create(null);class Mn{getMap(){return cr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=hg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in hg)throw new RangeError("Duplicate use of step JSON ID "+e);return hg[e]=n,n.prototype.jsonID=e,n}}class qt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new qt(e,null)}static fail(e){return new qt(null,e)}static fromReplace(e,n,r,i){try{return qt.ok(e.replace(n,r,i))}catch(s){if(s instanceof ip)return qt.fail(s.message);throw s}}}function X2(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(X2(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return H.fromArray(r)}class yo extends Mn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new J(X2(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return qt.fromReplace(e,this.from,this.to,s)}invert(){return new zi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new yo(n.pos,r.pos,this.mark)}merge(e){return e instanceof yo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yo(n.from,n.to,e.markFromJSON(n.mark))}}Mn.jsonID("addMark",yo);class zi extends Mn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new J(X2(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return qt.fromReplace(e,this.from,this.to,r)}invert(){return new yo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new zi(n.pos,r.pos,this.mark)}merge(e){return e instanceof zi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zi(n.from,n.to,e.markFromJSON(n.mark))}}Mn.jsonID("removeMark",zi);class wo extends Mn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qt.fromReplace(e,this.pos,this.pos+1,new J(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new wo(this.pos,n.marks[i]);return new wo(this.pos,this.mark)}}return new Tc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wo(n.pos,e.markFromJSON(n.mark))}}Mn.jsonID("addNodeMark",wo);class Tc extends Mn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qt.fromReplace(e,this.pos,this.pos+1,new J(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new wo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Tc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Tc(n.pos,e.markFromJSON(n.mark))}}Mn.jsonID("removeNodeMark",Tc);class sn extends Mn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ov(e,this.from,this.to)?qt.fail("Structure replace would overwrite content"):qt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cr([this.from,this.to-this.from,this.slice.size])}invert(e){return new sn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new sn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof sn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new sn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new sn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new sn(n.from,n.to,J.fromJSON(e,n.slice),!!n.structure)}}Mn.jsonID("replace",sn);class an extends Mn{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Ov(e,this.from,this.gapFrom)||Ov(e,this.gapTo,this.to)))return qt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?qt.fromReplace(e,this.from,this.to,r):qt.fail("Content does not fit in gap")}getMap(){return new cr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new an(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new an(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new an(n.from,n.to,n.gapFrom,n.gapTo,J.fromJSON(e,n.slice),n.insert,!!n.structure)}}Mn.jsonID("replaceAround",an);function Ov(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function IB(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),f=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=f:i.push(o=new zi(h,f,d[g])));a&&a.to==h?a.to=f:s.push(a=new yo(h,f,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function NB(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Fm){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new zi(o.from,o.to,o.style)))}function Q2(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new sn(a,u,J.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new zi(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(c.text);)p||(p=new J(H.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new sn(a+h.index,a+h.index+h[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(H.empty,!0);t.replace(a,a,new J(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function DB(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Kc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!DB(i,s,o))break}return null}function RB(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=H.empty,d=0;for(let p=s,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=H.from(r.node(p).copy(u)),d++):l--;let h=H.empty,f=0;for(let p=s,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,h=H.from(i.node(p).copy(h)),f++):c++;t.step(new an(l,c,o,a,new J(u.append(h),d,f),u.size-d,!0))}function Z2(t,e,n=null,r=t){let i=_B(t,e),s=i&&LB(r,e);return s?i.map(n7).concat({type:e,attrs:n}).concat(s.map(n7)):null}function n7(t){return{type:t,attrs:null}}function _B(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function LB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function PB(t,e,n){let r=H.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=H.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new an(i,s,i,s,new J(r,0,0),n.length,!0))}function zB(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&BB(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&RC(t,o,a,s),Q2(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new an(d,h,d+1,h-1,new J(H.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&DC(t,o,a,s),!1}})}function DC(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function RC(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function BB(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function FB(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new an(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new J(H.from(o),0,0),1,!0))}function rc(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=r&&r[u+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function jB(t,e,n=1,r){let i=t.doc.resolve(e),s=H.empty,o=H.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=H.from(i.node(a).copy(s));let u=r&&r[c];o=H.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new sn(e,e,new J(s.append(o),n,n),!0))}function ea(t,e){let n=t.resolve(e),r=n.index();return _C(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function HB(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function _C(t,e){return!!(t&&e&&!t.isLeaf&&HB(t,e))}function jm(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&_C(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function $B(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);RC(t,u.node(),u.before(),a)}o.inlineContent&&Q2(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new sn(c,l.map(e+n,-1),J.empty,!0)),r===!0){let u=t.doc.resolve(c);DC(t,u.node(),u.before(),t.steps.length)}return t}function UB(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function LC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Hm(t,e,n=e,r=J.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return PC(i,s,r)?new sn(e,n,r):new VB(i,s,r).fit()}function PC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class VB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=H.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=H.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new J(s,o,a);return e>-1?new an(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new sn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=fg(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(H.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=fg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new J(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=fg(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new J(Nu(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new J(Nu(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),w=d.matchType(g.type);if(!w)break;c++,(c>1||l==0||g.content.size)&&(d=w,u.push(zC(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=Du(this.placed,n,H.from(u)),this.frontier[n].match=d,p&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,w=a;g<f;g++){let y=w.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),w=y.content}this.unplaced=p?e==0?J.empty:new J(Nu(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new J(Nu(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!pg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=pg(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=pg(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Du(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Du(this.placed,this.depth,H.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(H.empty,!0);n.childCount&&(this.placed=Du(this.placed,this.frontier.length,n))}}function Nu(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Nu(t.firstChild.content,e-1,n)))}function Du(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Du(t.lastChild.content,e-1,n)))}function fg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function zC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,zC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(H.empty,!0)))),t.copy(r)}function pg(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!WB(n,s.content,o)?a:null}function WB(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function qB(t){return t.spec.defining||t.spec.definingForContent}function KB(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(PC(i,s,r))return t.step(new sn(e,n,r));let o=FC(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let p=h.firstChild;if(c.push(p),f==r.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let f=c[h],p=qB(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(p||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),p=c[f];if(p)for(let g=0;g<o.length;g++){let w=o[(g+l)%o.length],y=!0;w<0&&(y=!1,w=-w);let b=i.node(w-1),C=i.index(w-1);if(b.canReplaceWith(C,C,p.type,p.marks))return t.replace(i.before(w),y?s.after(w):n,new J(BC(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),n=s.after(f))}}function BC(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(BC(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(H.empty,!0))}return t}function GB(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=UB(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new J(H.from(r),0,0))}function JB(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=FC(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function FC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class ic extends Mn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return qt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return qt.fromReplace(e,this.pos,this.pos+1,new J(H.from(i),0,n.isLeaf?0:1))}getMap(){return cr.empty}invert(e){return new ic(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ic(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ic(n.pos,n.attr,n.value)}}Mn.jsonID("attr",ic);class Nd extends Mn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return qt.ok(r)}getMap(){return cr.empty}invert(e){return new Nd(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Nd(n.attr,n.value)}}Mn.jsonID("docAttr",Nd);let Mc=class extends Error{};Mc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Mc.prototype=Object.create(Error.prototype);Mc.prototype.constructor=Mc;Mc.prototype.name="TransformError";class e3{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new nc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Mc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=J.empty){let i=Hm(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new J(H.from(r),0,0))}delete(e,n){return this.replace(e,n,J.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return KB(this,e,n,r),this}replaceRangeWith(e,n,r){return GB(this,e,n,r),this}deleteRange(e,n){return JB(this,e,n),this}lift(e,n){return RB(this,e,n),this}join(e,n=1){return $B(this,e,n),this}wrap(e,n){return PB(this,e,n),this}setBlockType(e,n=e,r,i=null){return zB(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return FB(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ic(e,n,r)),this}setDocAttribute(e,n){return this.step(new Nd(e,n)),this}addNodeMark(e,n){return this.step(new wo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ot)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Tc(e,n)),this}split(e,n=1,r){return jB(this,e,n,r),this}addMark(e,n,r){return IB(this,e,n,r),this}removeMark(e,n,r){return NB(this,e,n,r),this}clearIncompatible(e,n,r){return Q2(this,e,n,r),this}}const mg=Object.create(null);class we{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new t3(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=J.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?J.empty:n),a==0&&s7(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),s7(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new me(e):Tl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Tl(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Tl(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new li(e.node(0))}static atStart(e){return Tl(e,e,0,0,1)||new li(e)}static atEnd(e){return Tl(e,e,e.content.size,e.childCount,-1)||new li(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=mg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in mg)throw new RangeError("Duplicate use of selection JSON ID "+e);return mg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class t3{constructor(e,n){this.$from=e,this.$to=n}}let r7=!1;function i7(t){!r7&&!t.parent.inlineContent&&(r7=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends we{constructor(e,n=e){i7(e),i7(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return we.near(r);let i=e.resolve(n.map(this.anchor));return new me(i.parent.inlineContent?i:r,r)}replace(e,n=J.empty){if(super.replace(e,n),n==J.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new $m(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=we.findFrom(n,r,!0)||we.findFrom(n,-r,!0);if(s)n=s.$head;else return we.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(we.findFrom(e,-r,!0)||we.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new me(e,n)}}we.jsonID("text",me);class $m{constructor(e,n){this.anchor=e,this.head=n}map(e){return new $m(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class be extends we{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?we.near(s):new be(s)}content(){return new J(H.from(this.node),0,0)}eq(e){return e instanceof be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new n3(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new be(e.resolve(n.anchor))}static create(e,n){return new be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}be.prototype.visible=!1;we.jsonID("node",be);class n3{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new $m(r,r):new n3(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&be.isSelectable(r)?new be(n):we.near(n)}}class li extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=J.empty){if(n==J.empty){e.delete(0,e.doc.content.size);let r=we.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new li(e)}map(e){return new li(e)}eq(e){return e instanceof li}getBookmark(){return YB}}we.jsonID("all",li);const YB={map(){return this},resolve(t){return new li(t)}};function Tl(t,e,n,r,i,s=!1){if(e.inlineContent)return me.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&be.isSelectable(a))return be.create(t,n-(i<0?a.nodeSize:0))}else{let l=Tl(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function s7(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof sn||i instanceof an))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const o7=1,th=2,a7=4;let XB=class extends e3{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|o7)&~th,this.storedMarks=null,this}get selectionSet(){return(this.updated&o7)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=th,this}ensureMarks(e){return ot.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&th)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~th,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ot.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=a7,this}get scrolledIntoView(){return(this.updated&a7)>0}};function l7(t,e){return!e||!t?t:t.bind(e)}class Ru{constructor(e,n,r){this.name=e,this.init=l7(n.init,r),this.apply=l7(n.apply,r)}}const QB=[new Ru("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ru("selection",{init(t,e){return t.selection||we.atStart(e.doc)},apply(t){return t.selection}}),new Ru("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Ru("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class gg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=QB.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ru(r.key,r.spec.state,r))})}}class Vl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Vl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new XB(this)}static create(e){let n=new gg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Vl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new gg(this.schema,e.plugins),r=n.fields,i=new Vl(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new gg(e.schema,e.plugins),s=new Vl(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=Pa.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=we.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function jC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=jC(i,e,{})),n[r]=i}return n}class nt{constructor(e){this.spec=e,this.props={},e.props&&jC(e.props,this,this.props),this.key=e.key?e.key.key:HC("plugin")}getState(e){return e[this.key]}}const vg=Object.create(null);function HC(t){return t in vg?t+"$"+ ++vg[t]:(vg[t]=0,t+"$")}class lt{constructor(e="key"){this.key=HC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const fn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Dd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Iv=null;const ds=function(t,e,n){let r=Iv||(Iv=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},ZB=function(){Iv=null},Xa=function(t,e,n,r){return n&&(c7(t,e,n,r,-1)||c7(t,e,n,r,1))},eF=/^(img|br|input|textarea|hr)$/i;function c7(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ar(t))){let s=t.parentNode;if(!s||s.nodeType!=1||g0(t)||eF.test(t.nodeName)||t.contentEditable=="false")return!1;e=fn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ar(t):0}else return!1}}function Ar(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function tF(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ar(t)}else if(t.parentNode&&!g0(t))e=fn(t),t=t.parentNode;else return null}}function nF(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!g0(t))e=fn(t)+1,t=t.parentNode;else return null}}function rF(t,e,n){for(let r=e==0,i=e==Ar(t);r||i;){if(t==n)return!0;let s=fn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ar(t)}}function g0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Um=function(t){return t.focusNode&&Xa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ya(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function iF(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function sF(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ar(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ar(r.startContainer),r.startOffset)}}}const Wi=typeof navigator<"u"?navigator:null,u7=typeof document<"u"?document:null,ta=Wi&&Wi.userAgent||"",Nv=/Edge\/(\d+)/.exec(ta),$C=/MSIE \d/.exec(ta),Dv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ta),Zn=!!($C||Dv||Nv),_o=$C?document.documentMode:Dv?+Dv[1]:Nv?+Nv[1]:0,fi=!Zn&&/gecko\/(\d+)/i.test(ta);fi&&+(/Firefox\/(\d+)/.exec(ta)||[0,0])[1];const Rv=!Zn&&/Chrome\/(\d+)/.exec(ta),xn=!!Rv,UC=Rv?+Rv[1]:0,Pn=!Zn&&!!Wi&&/Apple Computer/.test(Wi.vendor),Ac=Pn&&(/Mobile\/\w+/.test(ta)||!!Wi&&Wi.maxTouchPoints>2),Er=Ac||(Wi?/Mac/.test(Wi.platform):!1),oF=Wi?/Win/.test(Wi.platform):!1,ti=/Android \d/.test(ta),v0=!!u7&&"webkitFontSmoothing"in u7.documentElement.style,aF=v0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function lF(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function rs(t,e){return typeof t=="number"?t:t[e]}function cF(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function d7(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Dd(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?lF(s):cF(a),u=0,d=0;if(e.top<c.top+rs(r,"top")?d=-(c.top-e.top+rs(i,"top")):e.bottom>c.bottom-rs(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+rs(i,"top")-c.top:e.bottom-c.bottom+rs(i,"bottom")),e.left<c.left+rs(r,"left")?u=-(c.left-e.left+rs(i,"left")):e.right>c.right-rs(r,"right")&&(u=e.right-c.right+rs(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-f;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function uF(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:VC(t.dom)}}function VC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Dd(r));return e}function dF({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;WC(n,r==0?0:r-e)}function WC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Sl=null;function hF(t){if(t.setActive)return t.setActive();if(Sl)return t.focus(Sl);let e=VC(t);t.focus(Sl==null?{get preventScroll(){return Sl={preventScroll:!0},!0}}:void 0),Sl||(Sl=!1,WC(e,0))}function qC(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ds(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?fF(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:qC(n,i)}function fF(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Qs(r,1);if(s.top!=s.bottom&&r3(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function r3(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function pF(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function mF(t,e,n){let{node:r,offset:i}=qC(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function gF(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function KC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(r3(e,c))return KC(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function vF(t,e){let n=t.dom.ownerDocument,r,i=0,s=sF(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!r3(e,c)||(o=KC(t.dom,e,c),!o))return null}if(Pn)for(let c=o;r&&c;c=Dd(c))c.draggable&&(r=void 0);if(o=pF(o,e),r){if(fi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;v0&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=gF(t,r,i,e))}a==null&&(a=mF(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function h7(t){return t.top<t.bottom||t.left<t.right}function Qs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(h7(r))return r}return Array.prototype.find.call(n,h7)||t.getBoundingClientRect()}const yF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function GC(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=v0||fi;if(r.nodeType==3)if(o&&(yF.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Qs(ds(r,i,i),n);if(fi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Qs(ds(r,i-1,i-1),-1);if(c.top==l.top){let u=Qs(ds(r,i,i+1),-1);if(u.top!=l.top)return bu(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,bu(Qs(ds(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ar(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return yg(l.getBoundingClientRect(),!1)}if(s==null&&i<Ar(r)){let l=r.childNodes[i];if(l.nodeType==1)return yg(l.getBoundingClientRect(),!0)}return yg(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ar(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ds(l,Ar(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return bu(Qs(c,1),!1)}if(s==null&&i<Ar(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ds(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return bu(Qs(c,-1),!0)}return bu(Qs(r.nodeType==3?ds(r):r,-n),n>=0)}function bu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function yg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function JC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function wF(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return JC(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=GC(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ds(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const bF=/[\u0590-\u08ac]/;function kF(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!bF.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:JC(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),w=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),w}):r.pos==r.start()||r.pos==r.end()}let f7=null,p7=null,m7=!1;function SF(t,e,n){return f7==e&&p7==n?m7:(f7=e,p7=n,m7=n=="up"||n=="down"?wF(t,e,n):kF(t,e,n))}const _r=0,g7=1,Ma=2,qi=3;class y0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=_r,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>fn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof XC){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof YC&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?fn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?fn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=fn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=fn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],g=f+p.size;if(s>f&&o<g)return p.setSelection(e-f-p.border,n-f-p.border,r,i);f=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((fi||Pn)&&e==n){let{node:h,offset:f}=a;if(h.nodeType==3){if(u=!!(f&&h.nodeValue[f-1]==`
`),u&&f==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:fn(g)+1});break}let w=p.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let p=h.childNodes[f-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(fi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||u&&Pn)&&Xa(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Xa(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let f=a;a=l,l=f}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Ma:g7,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=qi:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ma:qi}r=o}this.dirty=Ma}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ma:g7;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class YC extends y0{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==_r&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class xF extends y0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qa extends y0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=cl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Qa(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&qi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=qi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=_r){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=_r}}slice(e,n,r){let i=Qa.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Lv(s,n,o,r)),e>0&&(s=Lv(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Lo extends y0{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=cl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=eE(u,r,n),c?l=new CF(e,n,r,i,u,d||null,h,c,s,o+1):n.isText?new Vm(e,n,r,i,u,h,s):new Lo(e,n,r,i,u,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,n,r){return this.dirty==_r&&e.eq(this.node)&&lp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new TF(this,o&&o.node,e);OF(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?ot.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let f;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,f,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ma)&&(o&&this.protectLocalComposition(e,o),QC(this.contentDOM,this.children,e),Ac&&IF(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=NF(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new xF(this,s,n,i);e.input.compositionNodes.push(o),this.children=Lv(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==qi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=_r}updateOuterDeco(e){if(lp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=ZC(this.dom,this.nodeDOM,_v(this.outerDeco,this.node,n),_v(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function v7(t,e,n,r,i){eE(r,e,t);let s=new Lo(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Vm extends Lo{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==qi||this.dirty!=_r&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=_r||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=_r,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Vm(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=qi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class XC extends y0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==_r&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class CF extends Lo{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==qi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function QC(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=y7(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Qa){let l=r?r.previousSibling:t.lastChild;QC(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=y7(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ju=function(t){t&&(this.nodeName=t)};Ju.prototype=Object.create(null);const Aa=[new Ju];function _v(t,e,n){if(t.length==0)return Aa;let r=n?Aa[0]:new Ju,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Ju(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Ju(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function ZC(t,e,n,r){if(n==Aa&&r==Aa)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Aa[0]),i=l}EF(i,a||Aa[0],o)}return i}function EF(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function eE(t,e,n){return ZC(t,t,Aa,_v(e,n,t.nodeType!=1))}function lp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function y7(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class TF{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=MF(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=_r,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Qa.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==qi&&o.dom==o.contentDOM&&(o.dirty=Ma),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Lo){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=qi&&lp(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ma,d.updateChildren(i,o+1),d.dirty=_r),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!lp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Lo.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Lo.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new YC(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Qa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Vm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Pn||xn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new XC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function MF(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Qa)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function AF(t,e){return t.type.side-e.type.side}function OF(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let w=i[o++];w.widget&&(u?(d||(d=[u])).push(w):u=w)}if(u)if(d){d.sort(AF);for(let w=0;w<d.length;w++)n(d[w],c,!!l)}else n(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<t.childCount)f=c,h=t.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=s&&a.splice(w--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+h.nodeSize;if(h.isText){let w=p;o<i.length&&i[o].from<w&&(w=i[o].from);for(let y=0;y<a.length;y++)a[y].to<w&&(w=a[y].to);w<p&&(l=h.cut(w-s),h=h.cut(0,w-s),p=w,f=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=h.isInline&&!h.isLeaf?a.filter(w=>!w.inline):a.slice();r(h,g,e.forChild(s,h),f),s=p}}function IF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function NF(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Lv(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function i3(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Um(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&be.isSelectable(d)&&i.parent&&!(d.isInline&&rF(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new be(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,h=o;for(let f=0;f<n.rangeCount;f++){let p=n.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=s3(t,u,a,d)}return c}function tE(t){return t.editable?t.hasFocus():rE(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xs(t,e=!1){let n=t.state.selection;if(nE(t,n),!!tE(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&xn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Xa(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)RF(t);else{let{anchor:r,head:i}=n,s,o;w7&&!(n instanceof me)&&(n.$from.parent.inlineContent||(s=b7(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=b7(t,n.to))),t.docView.setSelection(r,i,t.root,e),w7&&(s&&k7(s),o&&k7(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&DF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const w7=Pn||xn&&UC<63;function b7(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Pn&&i&&i.contentEditable=="false")return wg(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return wg(i);if(s)return wg(s)}}function wg(t){return t.contentEditable="true",Pn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function k7(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function DF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!tE(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function RF(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,fn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Zn&&_o<=11&&(r.disabled=!0,r.disabled=!1)}function nE(t,e){if(e instanceof be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(S7(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else S7(t)}function S7(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function s3(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||me.between(e,n,r)}function x7(t){return t.editable&&!t.hasFocus()?!1:rE(t)}function rE(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function _F(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Xa(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Pv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&we.findFrom(s,e)}function no(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function C7(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return no(t,new me(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Pv(t.state,e);return i&&i instanceof be?no(t,i):!1}else if(!(Er&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?be.isSelectable(s)?no(t,new be(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):v0?no(t,new me(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof be&&r.node.isInline)return no(t,new me(e>0?r.$to:r.$from));{let i=Pv(t.state,e);return i?no(t,i):!1}}}function cp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Yu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function xl(t,e){return e<0?LF(t):PF(t)}function LF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(fi&&n.nodeType==1&&r<cp(n)&&Yu(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Yu(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(iE(n))break;{let a=n.previousSibling;for(;a&&Yu(a,-1);)i=n.parentNode,s=fn(a),a=a.previousSibling;if(a)n=a,r=cp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?zv(t,n,r):i&&zv(t,i,s)}function PF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=cp(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Yu(a,1))s=n,o=++r;else break}else{if(iE(n))break;{let a=n.nextSibling;for(;a&&Yu(a,1);)s=a.parentNode,o=fn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=cp(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&zv(t,s,o)}function iE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function zF(t,e){for(;t&&e==t.childNodes.length&&!g0(t);)e=fn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function BF(t,e){for(;t&&!e&&!g0(t);)e=fn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function zv(t,e,n){if(e.nodeType!=3){let s,o;(o=zF(e,n))?(e=o,n=0):(s=BF(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Um(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&xs(t)},50)}function E7(t,e){let n=t.state.doc.resolve(e);if(!(xn||oF)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function T7(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||Er&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Pv(t.state,e);if(o&&o instanceof be)return no(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof li?we.near(o,e):we.findFrom(o,e);return a?no(t,a):!1}return!1}function M7(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function A7(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function FF(t){if(!Pn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;A7(t,r,"true"),setTimeout(()=>A7(t,r,"false"),20)}return!1}function jF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function HF(t,e){let n=e.keyCode,r=jF(e);if(n==8||Er&&n==72&&r=="c")return M7(t,-1)||xl(t,-1);if(n==46&&!e.shiftKey||Er&&n==68&&r=="c")return M7(t,1)||xl(t,1);if(n==13||n==27)return!0;if(n==37||Er&&n==66&&r=="c"){let i=n==37?E7(t,t.state.selection.from)=="ltr"?-1:1:-1;return C7(t,i,r)||xl(t,i)}else if(n==39||Er&&n==70&&r=="c"){let i=n==39?E7(t,t.state.selection.from)=="ltr"?1:-1:1;return C7(t,i,r)||xl(t,i)}else{if(n==38||Er&&n==80&&r=="c")return T7(t,-1,r)||xl(t,-1);if(n==40||Er&&n==78&&r=="c")return FF(t)||T7(t,1,r)||xl(t,1);if(r==(Er?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function sE(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=t.someProp("clipboardSerializer")||cl.fromSchema(t.state.schema),a=dE(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=uE[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let p=a.createElement(u[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function oE(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return e?new J(H.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let d=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,p=cl.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let w=o.appendChild(document.createElement("p"));g&&w.appendChild(p.serializeNode(f.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=WF(n),v0&&qF(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Ku.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!$F.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=KF(O7(a,+u[1],+u[2]),u[4]);else if(a=J.maxOpen(UF(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=O7(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const $F=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function UF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&lE(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=cE(o[o.length-1],s.length));let u=aE(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return H.from(o)}return t}function aE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,H.from(t));return t}function lE(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=lE(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(H.from(aE(n,t,i+1))))}}function cE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,cE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(H.empty,!0);return t.copy(n.append(r))}function Bv(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=Bv(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(H.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function O7(t,e,n){return e<t.openStart&&(t=new J(Bv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new J(Bv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const uE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let I7=null;function dE(){return I7||(I7=document.implementation.createHTMLDocument("title"))}let bg=null;function VF(t){let e=window.trustedTypes;return e?(bg||(bg=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),bg.createHTML(t)):t}function WF(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=dE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&uE[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=VF(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function qF(t){let e=t.querySelectorAll(xn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==" "&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function KF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=H.from(l.create(r[a+1],i)),s++,o++}return new J(i,s,o)}const zn={},Bn={},GF={touchstart:!0,touchmove:!0};class JF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function YF(t){for(let e in zn){let n=zn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{QF(t,r)&&!o3(t,r)&&(t.editable||!(r.type in Bn))&&n(t,r)},GF[e]?{passive:!0}:void 0)}Pn&&t.dom.addEventListener("input",()=>null),Fv(t)}function bo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function XF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Fv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>o3(t,r))})}function o3(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function QF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function ZF(t,e){!o3(t,e)&&zn[e.type]&&(t.editable||!(e.type in Bn))&&zn[e.type](t,e)}Bn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!fE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ti&&xn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ac&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ya(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||HF(t,n)?n.preventDefault():bo(t,"key")};Bn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Bn.keypress=(t,e)=>{let n=e;if(fE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Er&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Wm(t){return{left:t.clientX,top:t.clientY}}function ej(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function a3(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function sc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function tj(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&be.isSelectable(r)?(sc(t,new be(n)),!0):!1}function nj(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof be&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(be.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(sc(t,be.create(t.state.doc,i)),!0):!1}function rj(t,e,n,r,i){return a3(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?nj(t,n):tj(t,n))}function ij(t,e,n,r){return a3(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function sj(t,e,n,r){return a3(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||oj(t,n,r)}function oj(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(sc(t,me.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)sc(t,me.create(r,a+1,a+1+o.content.size));else if(be.isSelectable(o))sc(t,be.create(r,a));else continue;return!0}}function l3(t){return up(t)}const hE=Er?"metaKey":"ctrlKey";zn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=l3(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&ej(n,t.input.lastClick)&&!n[hE]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Wm(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new aj(t,o,n,!!r)):(s=="doubleClick"?ij:sj)(t,o.pos,o.inside,n)?n.preventDefault():bo(t,"pointer"))};class aj{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[hE],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof be&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&fi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Wm(e))),this.updateAllowDefault(e),this.allowDefault||!n?bo(this.view,"pointer"):rj(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Pn&&this.mightDrag&&!this.mightDrag.node.isAtom||xn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(sc(this.view,we.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):bo(this.view,"pointer")}move(e){this.updateAllowDefault(e),bo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}zn.touchstart=t=>{t.input.lastTouch=Date.now(),l3(t),bo(t,"pointer")};zn.touchmove=t=>{t.input.lastTouch=Date.now(),bo(t,"pointer")};zn.contextmenu=t=>l3(t);function fE(t,e){return t.composing?!0:Pn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const lj=ti?5e3:-1;Bn.compositionstart=Bn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),up(t,!0),t.markCursor=null;else if(up(t,!e.selection.empty),fi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}pE(t,lj)};Bn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,pE(t,20))};function pE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>up(t),e))}function mE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uj());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function cj(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=tF(e.focusNode,e.focusOffset),r=nF(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function uj(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function up(t,e=!1){if(!(ti&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),mE(t),e||t.docView&&t.docView.dirty){let n=i3(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function dj(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Rd=Zn&&_o<15||Ac&&aF<604;zn.copy=Bn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Rd?null:n.clipboardData,o=r.content(),{dom:a,text:l}=sE(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):dj(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function hj(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function fj(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?_d(t,r.value,null,i,e):_d(t,r.textContent,r.innerHTML,i,e)},50)}function _d(t,e,n,r,i){let s=oE(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||J.empty)))return!0;if(!s)return!1;let o=hj(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function gE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Bn.paste=(t,e)=>{let n=e;if(t.composing&&!ti)return;let r=Rd?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&_d(t,gE(r),r.getData("text/html"),i,n)?n.preventDefault():fj(t,n)};class vE{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const yE=Er?"altKey":"ctrlKey";zn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Wm(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof be?i.to-1:i.to))){if(r&&r.mightDrag)o=be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=be.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=sE(t,a);(!n.dataTransfer.files.length||!xn||UC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Rd?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Rd||n.dataTransfer.setData("text/plain",c),t.dragging=new vE(u,!n[yE],o)};zn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Bn.dragover=Bn.dragenter=(t,e)=>e.preventDefault();Bn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Wm(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=oE(t,gE(n.dataTransfer),Rd?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[yE]);if(t.someProp("handleDrop",p=>p(t,n,o||J.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?LC(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let f=c.doc.resolve(u);if(d&&be.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new be(f));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,w,y,b)=>p=b),c.setSelection(s3(t,f,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};zn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&xs(t)},20))};zn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};zn.beforeinput=(t,e)=>{if(xn&&ti&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,ya(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Bn)zn[t]=Bn[t];function Ld(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class dp{constructor(e,n){this.toDOM=e,this.spec=n||za,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Qt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof dp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ld(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Po{constructor(e,n){this.attrs=e,this.spec=n||za}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Qt(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Po&&Ld(this.attrs,e.attrs)&&Ld(this.spec,e.spec)}static is(e){return e.type instanceof Po}destroy(){}}class c3{constructor(e,n){this.attrs=e,this.spec=n||za}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Qt(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof c3&&Ld(this.attrs,e.attrs)&&Ld(this.spec,e.spec)}destroy(){}}class Qt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Qt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Qt(e,e,new dp(n,r))}static inline(e,n,r,i){return new Qt(e,n,new Po(r,i))}static node(e,n,r,i){return new Qt(e,n,new c3(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Po}get widget(){return this.type instanceof dp}}const Ml=[],za={};class tt{constructor(e,n){this.local=e.length?e:Ml,this.children=n.length?n:Ml}static create(e,n){return n.length?hp(n,e,0,za):kn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==kn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||za)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?pj(this.children,o||[],e,n,r,i,s):o?new tt(o.sort(Ba),Ml):kn}add(e,n){return n.length?this==kn?tt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=bE(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,hp(u,a,c+1,za)),s+=3}});let o=wE(s?kE(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new tt(o.length?this.local.concat(o).sort(Ba):this.local,i||this.children)}remove(e){return e.length==0||this==kn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=kn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new tt(i,r):kn}forChild(e,n){if(this==kn)return this;if(n.isLeaf)return tt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Po){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new tt(i.sort(Ba),Ml);return r?new ho([a,r]):a}return r||kn}eq(e){if(this==e)return!0;if(!(e instanceof tt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return u3(this.localsInner(e))}localsInner(e){if(this==kn)return Ml;if(e.inlineContent||!this.local.some(Po.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Po||n.push(this.local[r]);return n}forEachSet(e){e(this)}}tt.empty=new tt([],[]);tt.removeOverlap=u3;const kn=tt.empty;class ho{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,za));return ho.from(r)}forChild(e,n){if(n.isLeaf)return tt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=kn&&(s instanceof ho?r=r.concat(s.members):r.push(s))}return ho.from(r)}eq(e){if(!(e instanceof ho)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?u3(r?n:n.sort(Ba)):Ml}static from(e){switch(e.length){case 0:return kn;case 1:return e[0];default:return new ho(e.every(n=>n instanceof tt)?e:e.reduce((n,r)=>n.concat(r instanceof tt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function pj(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,f,p,g)=>{let w=g-p-(f-h);for(let y=0;y<a.length;y+=3){let b=a[y+1];if(b<0||h>b+u-d)continue;let C=a[y]+u-d;f>=C?a[y+1]=h<=C?-2:-1:h>=u&&w&&(a[y]+=w,a[y+1]+=w)}d+=w}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),f=h-i,{index:p,offset:g}=r.content.findIndex(d),w=r.maybeChild(p);if(w&&g==d&&g+w.nodeSize==f){let y=a[c+2].mapInner(n,w,u+1,t[c]+s+1,o);y!=kn?(a[c]=d,a[c+1]=f,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=mj(a,t,e,n,i,s,o),u=hp(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let f=u.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new tt(e.sort(Ba),a)}function wE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Qt(i.from+e,i.to+e,i.type))}return n}function mj(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function bE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function kE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function hp(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=bE(t,a,l+n);if(c){s=!0;let u=hp(c,a,n+l+1,r);u!=kn&&i.push(l,l+a.nodeSize,u)}});let o=wE(s?kE(t):t,-n).sort(Ba);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new tt(o,i):kn}function Ba(t,e){return t.from-e.from||t.to-e.to}function u3(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),N7(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),N7(e,i,r.copy(s.from,r.to)));break}}}return e}function N7(t,e,n){for(;e<t.length&&Ba(n,t[e])>0;)e++;t.splice(e,0,n)}function kg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=kn&&e.push(r)}),t.cursorWrapper&&e.push(tt.create(t.state.doc,[t.cursorWrapper.deco])),ho.from(e)}const gj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},vj=Zn&&_o<=11;class yj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class wj{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new yj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Zn&&_o<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),vj&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,gj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(x7(this.view)){if(this.suppressingSelectionUpdates)return xs(this.view);if(Zn&&_o<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Xa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Dd(s))n.add(s);for(let s=e.anchorNode;s;s=Dd(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&x7(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(fi&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||Sj(e,d)!=f)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Um(r)&&(c=i3(e))&&c.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xs(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),bj(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Zn&&_o<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?fn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?fn(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let D7=new WeakMap,R7=!1;function bj(t){if(!D7.has(t)&&(D7.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=fi,R7)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),R7=!0}}function _7(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Xa(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function kj(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return _7(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?_7(t,n):null}function Sj(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function xj(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Um(l)||c.push({node:l.focusNode,offset:l.focusOffset})),xn&&t.input.lastKeyCode===8)for(let w=s;w>i;w--){let y=r.childNodes[w-1],b=y.pmViewDesc;if(y.nodeName=="BR"&&!b){s=w;break}if(!b||b.size)break}let d=t.state.doc,h=t.someProp("domParser")||Ku.fromSchema(t.state.schema),f=d.resolve(o),p=null,g=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:Cj,context:f});if(c&&c[0].pos!=null){let w=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=w),p={anchor:w+o,head:y+o}}return{doc:g,sel:p,from:o,to:a}}function Cj(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Pn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Pn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Ej=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Tj(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,j=i3(t,P);if(j&&!t.state.selection.eq(j)){if(xn&&ti&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",X=>X(t,ya(13,"Enter"))))return;let Q=t.state.tr.setSelection(j);P=="pointer"?Q.setMeta("pointer",!0):P=="key"&&Q.scrollIntoView(),s&&Q.setMeta("composition",s),t.dispatch(Q)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=xj(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,f="end"):(h=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=Oj(d.content,c.doc.content,c.from,h,f);if(p&&t.input.domChangeCount++,(Ac&&t.input.lastIOSEnter>Date.now()-225||ti)&&i.some(P=>P.nodeType==1&&!Ej.test(P.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",P=>P(t,ya(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof me&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let P=L7(t,t.state.doc,c.sel);if(P&&!P.eq(t.state.selection)){let j=t.state.tr.setSelection(P);s&&j.setMeta("composition",s),t.dispatch(j)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof me&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Zn&&_o<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)=="  "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),w=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),b=g.sameParent(w)&&g.parent.inlineContent&&y.end()>=p.endA,C;if((Ac&&t.input.lastIOSEnter>Date.now()-225&&(!b||i.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!b&&g.pos<c.doc.content.size&&!g.sameParent(w)&&(C=we.findFrom(c.doc.resolve(g.pos+1),1,!0))&&C.head==w.pos)&&t.someProp("handleKeyDown",P=>P(t,ya(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&Aj(u,p.start,p.endA,g,w)&&t.someProp("handleKeyDown",P=>P(t,ya(8,"Backspace")))){ti&&xn&&t.domObserver.suppressSelectionUpdates();return}xn&&ti&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),ti&&!b&&g.start()!=w.start()&&w.parentOffset==0&&g.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,w=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,ya(13,"Enter"))})},20));let S=p.start,A=p.endA,x,I,R;if(b){if(g.pos==w.pos)Zn&&_o<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xs(t),20)),x=t.state.tr.delete(S,A),I=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(R=Mj(g.parent.content.cut(g.parentOffset,w.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))x=t.state.tr,R.type=="add"?x.addMark(S,A,R.mark):x.removeMark(S,A,R.mark);else if(g.parent.child(g.index()).isText&&g.index()==w.index()-(w.textOffset?0:1)){let P=g.parent.textBetween(g.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",j=>j(t,S,A,P)))return;x=t.state.tr.insertText(P,S,A)}}if(x||(x=t.state.tr.replace(S,A,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let P=L7(t,x.doc,c.sel);P&&!(xn&&ti&&t.composing&&P.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(P.head==S||P.head==x.mapping.map(A)-1)||Zn&&P.empty&&P.head==S)&&x.setSelection(P)}I&&x.ensureMarks(I),s&&x.setMeta("composition",s),t.dispatch(x.scrollIntoView())}function L7(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:s3(t,e.resolve(n.anchor),e.resolve(n.head))}function Mj(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(H.from(c).eq(t))return{mark:a,type:o}}function Aj(t,e,n,r,i){if(n-e<=i.pos-r.pos||Sg(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Sg(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Sg(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Sg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Oj(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&P7(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&P7(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function P7(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Ij{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new JF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(H7),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=F7(this),B7(this),this.nodeViews=j7(this),this.docView=v7(this.state.doc,z7(this),kg(this),this.dom,this),this.domObserver=new wj(this,(r,i,s,o)=>Tj(this,r,i,s,o)),this.domObserver.start(),YF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Fv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(H7),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(mE(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=j7(this);Dj(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Fv(this),this.editable=F7(this),B7(this);let l=kg(this),c=z7(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&uF(this);if(o){this.domObserver.stop();let f=d&&(Zn||xn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Nj(i.selection,e.selection);if(d){let p=xn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=cj(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=v7(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&_F(this))?xs(this,f):(nE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&dF(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&d7(this,n.getBoundingClientRect(),e)}else d7(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new vE(e.slice,e.move,i<0?void 0:be.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Zn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&hF(this.dom),xs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return vF(this,e)}coordsAtPos(e,n=1){return GC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return SF(this,n||this.state,e)}pasteHTML(e,n){return _d(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return _d(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(XF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],kg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,ZB())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return ZF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Pn&&this.root.nodeType===11&&iF(this.dom.ownerDocument)==this.dom&&kj(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function z7(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Qt.node(0,t.state.doc.content.size,e)]}function B7(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function F7(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Nj(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function j7(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Dj(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function H7(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},fp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Rj=typeof navigator<"u"&&/Mac/.test(navigator.platform),_j=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pn=0;pn<10;pn++)Fo[48+pn]=Fo[96+pn]=String(pn);for(var pn=1;pn<=24;pn++)Fo[pn+111]="F"+pn;for(var pn=65;pn<=90;pn++)Fo[pn]=String.fromCharCode(pn+32),fp[pn]=String.fromCharCode(pn);for(var xg in Fo)fp.hasOwnProperty(xg)||(fp[xg]=Fo[xg]);function Lj(t){var e=Rj&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||_j&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?fp:Fo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Pj=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function zj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Pj?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function Bj(t){let e=Object.create(null);for(let n in t)e[zj(n)]=t[n];return e}function Cg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Fj(t){return new nt({props:{handleKeyDown:d3(t)}})}function d3(t){let e=Bj(t);return function(n,r){let i=Lj(r),s,o=e[Cg(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Cg(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Fo[r.keyCode])&&s!=i){let a=e[Cg(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const jj=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function SE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const Hj=(t,e,n)=>{let r=SE(t,n);if(!r)return!1;let i=h3(r);if(!i){let o=r.blockRange(),a=o&&Kc(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(TE(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Oc(s,"end")||be.isSelectable(s)))for(let o=r.depth;;o--){let a=Hm(t.doc,r.before(o),r.after(o),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Oc(s,"end")?we.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):be.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},$j=(t,e,n)=>{let r=SE(t,n);if(!r)return!1;let i=h3(r);return i?xE(t,i,e):!1},Uj=(t,e,n)=>{let r=CE(t,n);if(!r)return!1;let i=f3(r);return i?xE(t,i,e):!1};function xE(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Hm(t.doc,s,l,J.empty);if(!c||c.from!=s||c instanceof sn&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(me.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Oc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const Vj=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=h3(r)}let o=s&&s.nodeBefore;return!o||!be.isSelectable(o)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function h3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function CE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Wj=(t,e,n)=>{let r=CE(t,n);if(!r)return!1;let i=f3(r);if(!i)return!1;let s=i.nodeAfter;if(TE(t,i,e,1))return!0;if(r.parent.content.size==0&&(Oc(s,"start")||be.isSelectable(s))){let o=Hm(t.doc,r.before(),r.after(),J.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Oc(s,"start")?we.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):be.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},qj=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=f3(r)}let o=s&&s.nodeAfter;return!o||!be.isSelectable(o)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,s.pos)).scrollIntoView()),!0)};function f3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Kj=(t,e)=>{let n=t.selection,r=n instanceof be,i;if(r){if(n.node.isTextblock||!ea(t.doc,n.from))return!1;i=n.from}else if(i=jm(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(be.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Gj=(t,e)=>{let n=t.selection,r;if(n instanceof be){if(n.node.isTextblock||!ea(t.doc,n.to))return!1;r=n.to}else if(r=jm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Jj=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Kc(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},Yj=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function EE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Xj=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=EE(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(we.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Qj=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof li||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=EE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(me.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},Zj=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(rc(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Kc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},eH=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(be.create(t.doc,i))),!0)};function tH(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ea(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function TE(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&tH(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let f=e.pos+s.nodeSize,p=H.empty;for(let y=o.length-1;y>=0;y--)p=H.from(o[y].create(null,p));p=H.from(i.copy(p));let g=t.tr.step(new an(e.pos-1,f,e.pos,f,new J(p,1,0),o.length,!0)),w=g.doc.resolve(f+2*o.length);w.nodeAfter&&w.nodeAfter.type==i.type&&ea(g.doc,w.pos)&&g.join(w.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:we.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&Kc(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&Oc(s,"start",!0)&&Oc(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=s,w=1;for(;!g.isTextblock;g=g.firstChild)w++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let y=H.empty;for(let C=p.length-1;C>=0;C--)y=H.from(p[C].copy(y));let b=t.tr.step(new an(e.pos-p.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new J(y,p.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function ME(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const nH=ME(-1),rH=ME(1);function iH(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&Z2(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function $7(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sH(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new Id(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new Id(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=Z2(l,t,e,o);return c?(r&&r(oH(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function oH(t,e,n,r,i){let s=H.empty;for(let u=n.length-1;u>=0;u--)s=H.from(n[u].type.create(n[u].attrs,s));t.step(new an(e.start-(r?2:0),e.end,e.start,e.end,new J(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&rc(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function aH(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?lH(e,n,t,s):cH(e,n,s):!0:!1}}function lH(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new an(s-1,o,s,o,new J(H.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Id(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Kc(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return ea(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function cH(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?H.empty:H.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return r.step(new an(d-(a?1:0),h+(l?1:0),d+1,h-1,new J((a?H.empty:H.from(i.copy(H.empty))).append(l?H.empty:H.from(i.copy(H.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function uH(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=H.from(c?t.create():null),d=new J(H.from(t.create(null,H.from(a.type.create(null,u)))),c?3:1,0),h=s.start,f=s.end;n(e.tr.step(new an(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function qm(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Km{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,f])=>[h,(...g)=>{const w=this.buildProps(c,n),y=f(...g)(w);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:qm({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class dH{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function Gm(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function AE(t){const e=[],{nodeExtensions:n,markExtensions:r}=Gm(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=ce(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ce(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...s,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function cn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Ge(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function jv(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ge(n,r),{})}function OE(t){return typeof t=="function"}function De(t,e=void 0,...n){return OE(t)?e?t.bind(e)(...n):t(...n):t}function hH(t={}){return Object.keys(t).length===0&&t.constructor===Object}function fH(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function U7(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):fH(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function V7(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&hH(n)?!1:n!=null))}function pH(t,e){var n;const r=AE(t),{nodeExtensions:i,markExtensions:s}=Gm(t),o=(n=i.find(c=>ce(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((y,b)=>{const C=ce(b,"extendNodeSchema",d);return{...y,...C?C(c):{}}},{}),f=V7({...h,content:De(ce(c,"content",d)),marks:De(ce(c,"marks",d)),group:De(ce(c,"group",d)),inline:De(ce(c,"inline",d)),atom:De(ce(c,"atom",d)),selectable:De(ce(c,"selectable",d)),draggable:De(ce(c,"draggable",d)),code:De(ce(c,"code",d)),whitespace:De(ce(c,"whitespace",d)),defining:De(ce(c,"defining",d)),isolating:De(ce(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var b;return[y.name,{default:(b=y==null?void 0:y.attribute)===null||b===void 0?void 0:b.default}]}))}),p=De(ce(c,"parseHTML",d));p&&(f.parseDOM=p.map(y=>U7(y,u)));const g=ce(c,"renderHTML",d);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:jv(y,u)}));const w=ce(c,"renderText",d);return w&&(f.toText=w),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((w,y)=>{const b=ce(y,"extendMarkSchema",d);return{...w,...b?b(c):{}}},{}),f=V7({...h,inclusive:De(ce(c,"inclusive",d)),excludes:De(ce(c,"excludes",d)),group:De(ce(c,"group",d)),spanning:De(ce(c,"spanning",d)),code:De(ce(c,"code",d)),attrs:Object.fromEntries(u.map(w=>{var y;return[w.name,{default:(y=w==null?void 0:w.attribute)===null||y===void 0?void 0:y.default}]}))}),p=De(ce(c,"parseHTML",d));p&&(f.parseDOM=p.map(w=>U7(w,u)));const g=ce(c,"renderHTML",d);return g&&(f.toDOM=w=>g({mark:w,HTMLAttributes:jv(w,u)})),[c.name,f]}));return new CC({topNode:o,nodes:a,marks:l})}function Eg(t,e){return e.nodes[t]||e.marks[t]||null}function W7(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const mH=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function p3(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Jm{constructor(e){this.find=e.find,this.handler=e.handler}}const gH=(t,e)=>{if(p3(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function nh(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=mH(c)+s;return o.forEach(h=>{if(u)return;const f=gH(d,h.find);if(!f)return;const p=l.state.tr,g=qm({state:l.state,transaction:p}),w={from:r-(f[0].length-s.length),to:i},{commands:y,chain:b,can:C}=new Km({editor:n,state:g});h.handler({state:g,range:w,match:f,commands:y,chain:b,can:C})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),u=!0)}),u}function vH(t){const{editor:e,rules:n}=t,r=new nt({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;nh({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return nh({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&nh({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?nh({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function yH(t){return Object.prototype.toString.call(t).slice(8,-1)}function rh(t){return yH(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Ym(t,e){const n={...t};return rh(t)&&rh(e)&&Object.keys(e).forEach(r=>{rh(e[r])&&rh(t[r])?n[r]=Ym(t[r],e[r]):n[r]=e[r]}),n}class pi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ce(this,"addOptions",{name:this.name}))),this.storage=De(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new pi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Ym(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new pi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ce(n,"addOptions",{name:n.name})),n.storage=De(ce(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function wH(t){return typeof t=="number"}class bH{constructor(e){this.find=e.find,this.handler=e.handler}}const kH=(t,e,n)=>{if(p3(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function SH(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Km({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(r,p),w=Math.min(i,p+f.content.size),y=f.textBetween(g-p,w-p,void 0,"￼");kH(y,s.find,o).forEach(C=>{if(C.index===void 0)return;const S=g+C.index+1,A=S+C[0].length,x={from:n.tr.mapping.map(S),to:n.tr.mapping.map(A)},I=s.handler({state:n,range:x,match:C,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(I)})}),d.every(f=>f!==null)}const xH=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function CH(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:h,rule:f,pasteEvt:p})=>{const g=u.tr,w=qm({state:u,transaction:g});if(!(!SH({editor:e,state:w,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new nt({view(d){const h=f=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(s=r===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=h,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!i,w=p.getMeta("uiEvent")==="drop"&&!s,y=p.getMeta("applyPasteRules"),b=!!y;if(!g&&!w&&!b)return;if(b){const{from:A,text:x}=y,I=A+x.length,R=xH(x);return l({rule:u,state:f,from:A,to:{b:I},pasteEvt:R})}const C=h.doc.content.findDiffStart(f.doc.content),S=h.doc.content.findDiffEnd(f.doc.content);if(!(!wH(C)||!S||C===S.b))return l({rule:u,state:f,from:C,to:S,pasteEvt:o})}}))}function EH(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Wl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Wl.resolve(e),this.schema=pH(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Wl.sort(Wl.flatten(e)),r=EH(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ce(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=ce(r,"priority")||100,o=ce(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Eg(n.name,this.schema)},i=ce(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Wl.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Eg(o.name,this.schema)},l=[],c=ce(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&ce(o,"exitable",a)&&(u.ArrowRight=()=>pi.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([w,y])=>[w,()=>y({editor:e})]));u={...u,...g}}const d=Fj(u);l.push(d);const h=ce(o,"addInputRules",a);W7(o,e.options.enableInputRules)&&h&&r.push(...h());const f=ce(o,"addPasteRules",a);W7(o,e.options.enablePasteRules)&&f&&i.push(...f());const p=ce(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[vH({editor:e,rules:r}),...CH({editor:e,rules:i}),...s]}get attributes(){return AE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Gm(this.extensions);return Object.fromEntries(n.filter(r=>!!ce(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:cn(r.name,this.schema)},o=ce(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,d,h)=>{const f=jv(l,i);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:f})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Eg(e.name,this.schema)};e.type==="mark"&&(!((n=De(ce(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=ce(e,"onBeforeCreate",r),s=ce(e,"onCreate",r),o=ce(e,"onUpdate",r),a=ce(e,"onSelectionUpdate",r),l=ce(e,"onTransaction",r),c=ce(e,"onFocus",r),u=ce(e,"onBlur",r),d=ce(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class zt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ce(this,"addOptions",{name:this.name}))),this.storage=De(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Ym(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new zt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ce(n,"addOptions",{name:n.name})),n.storage=De(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function IE(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function NE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const TH=zt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new nt({key:new lt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=NE(n);return IE(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),MH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),AH=(t=!1)=>({commands:e})=>e.setContent("",t),OH=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const p=Kc(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(p||p===0)&&e.lift(f,p)})}),!0},IH=t=>e=>t(e),NH=()=>({state:t,dispatch:e})=>Qj(t,e),DH=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new me(r.doc.resolve(o-1))),!0},RH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},_H=t=>({tr:e,state:n,dispatch:r})=>{const i=cn(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},LH=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},PH=()=>({state:t,dispatch:e})=>jj(t,e),zH=()=>({commands:t})=>t.keyboardShortcut("Enter"),BH=()=>({state:t,dispatch:e})=>Xj(t,e);function pp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:p3(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Hv(t,e,n={}){return t.find(r=>r.type===e&&pp(r.attrs,n))}function FH(t,e,n={}){return!!Hv(t,e,n)}function m3(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(c=>c.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(c=>c.type===e))return;const i=Hv([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(Hv([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&FH([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function na(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const jH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=na(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=m3(l,s,e);if(d&&d.from<=c&&d.to>=u){const h=me.create(o,d.from,d.to);n.setSelection(h)}}return!0},HH=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function g3(t){return t instanceof me}function ws(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function DE(t,e=null){if(!e)return null;const n=we.atStart(t),r=we.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?me.create(t,ws(0,i,s),ws(t.content.size,i,s)):me.create(t,ws(e,i,s),ws(e,i,s))}function v3(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const $H=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{v3()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!g3(n.state.selection))return o(),!0;const a=DE(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},UH=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),VH=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),RE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&RE(r)}return t};function ih(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return RE(n)}function mp(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return H.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),mp("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new CC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Ku.fromSchema(l).parseSlice(ih(t),n.parseOptions):Ku.fromSchema(l).parse(ih(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Ku.fromSchema(e);return n.slice?s.parseSlice(ih(t),n.parseOptions).content:s.parse(ih(t),n.parseOptions)}return mp("",e,n)}function WH(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof sn||i instanceof an))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const qH=t=>!("type"in t),KH=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=mp(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((qH(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let f;u?(Array.isArray(e)?f=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,r.insertText(f,l,c)):(f=a,r.replaceWith(l,c,f)),n.updateSelection&&WH(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:f}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:f})}return!0},GH=()=>({state:t,dispatch:e})=>Kj(t,e),JH=()=>({state:t,dispatch:e})=>Gj(t,e),YH=()=>({state:t,dispatch:e})=>Hj(t,e),XH=()=>({state:t,dispatch:e})=>Wj(t,e),QH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=jm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},ZH=()=>({state:t,dispatch:e,tr:n})=>{try{const r=jm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},e$=()=>({state:t,dispatch:e})=>$j(t,e),t$=()=>({state:t,dispatch:e})=>Uj(t,e);function _E(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function n$(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))v3()||_E()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const r$=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=n$(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Pd(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?cn(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),p=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:p})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>pp(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const i$=(t,e={})=>({state:n,dispatch:r})=>{const i=cn(t,n.schema);return Pd(n,i,e)?Jj(n,r):!1},s$=()=>({state:t,dispatch:e})=>Zj(t,e),o$=t=>({state:e,dispatch:n})=>{const r=cn(t,e.schema);return aH(r)(e,n)},a$=()=>({state:t,dispatch:e})=>Yj(t,e);function Xm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function q7(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const l$=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Xm(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=cn(t,r.schema)),a==="mark"&&(o=na(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,q7(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(q7(d.attrs,e)))})})}),!0):!1},c$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),u$=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),d$=()=>({state:t,dispatch:e})=>Vj(t,e),h$=()=>({state:t,dispatch:e})=>qj(t,e),f$=()=>({state:t,dispatch:e})=>eH(t,e),p$=()=>({state:t,dispatch:e})=>rH(t,e),m$=()=>({state:t,dispatch:e})=>nH(t,e);function $v(t,e,n={},r={}){return mp(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const g$=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=$v(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function LE(t,e){const n=na(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function v$(t,e){const n=new e3(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function y3(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function tf(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function y$(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function PE(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Gc(t){return e=>PE(e.$from,t)}function w$(t,e){const n=cl.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function b$(t,e){const n={from:0,to:t.content.size};return IE(t,n,e)}function k$(t,e){const n=cn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function zE(t,e){const n=Xm(typeof e=="string"?e:e.name,t.schema);return n==="node"?k$(t,e):n==="mark"?LE(t,e):{}}function S$(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function x$(t){const e=S$(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function C$(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),h=e.invert().map(u);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),x$(r)}function w3(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=m3(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function nf(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Uv(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?na(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>pp(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;t.doc.nodesBetween(f,p,(g,w)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,w),b=Math.min(p,w+g.nodeSize),C=b-y;o+=C,a.push(...g.marks.map(S=>({mark:S,from:y,to:b})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>pp(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function BE(t,e,n={}){if(!e)return Pd(t,null,n)||Uv(t,null,n);const r=Xm(e,t.schema);return r==="node"?Pd(t,e,n):r==="mark"?Uv(t,e,n):!1}function K7(t,e){const{nodeExtensions:n}=Gm(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=De(ce(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Qm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Qm(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function FE(t){return t instanceof be}function E$(t,e,n){const i=t.state.doc.content.size,s=ws(e,0,i),o=ws(n,0,i),a=t.coordsAtPos(s),l=t.coordsAtPos(o,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),h=Math.max(a.right,l.right),f=h-d,p=u-c,y={top:c,bottom:u,left:d,right:h,width:f,height:p,x:d,y:c};return{...y,toJSON:()=>y}}function T$(t,e,n){var r;const{selection:i}=e;let s=null;if(g3(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=f&&p}return!c}),c})}const M$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=na(t,r.schema);if(i)if(o){const c=LE(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,f)=>{const p=Math.max(f,u),g=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&n.addMark(p,g,l.create({...y.attrs,...e}))}):n.addMark(p,g,l.create(e))})});return T$(r,n,l)},A$=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),O$=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=cn(t,n.schema);return s.isTextblock?i().command(({commands:o})=>$7(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>$7(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},I$=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ws(t,0,r.content.size),s=be.create(r,i);e.setSelection(s)}return!0},N$=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=me.atStart(r).from,a=me.atEnd(r).to,l=ws(i,o,a),c=ws(s,o,a),u=me.create(r,l,c);e.setSelection(u)}return!0},D$=t=>({state:e,dispatch:n})=>{const r=cn(t,e.schema);return uH(r)(e,n)};function G7(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const R$=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=nf(c,a.node().type.name,a.node().attrs);if(s instanceof be&&s.node.isBlock)return!a.parentOffset||!rc(o,a.pos)?!1:(r&&(t&&G7(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:y3(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,p=rc(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&rc(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(p&&(s instanceof me&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),w=e.doc.resolve(g);a.node(-1).canReplaceWith(w.index(),w.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&G7(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},_$=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=cn(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=H.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let R=l.depth-b;R>=l.depth-3;R-=1)y=H.from(l.node(R).copy(y));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...nf(h,l.node().type.name,l.node().attrs),...e},A=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;y=y.append(H.from(a.createAndFill(null,A)||void 0));const x=l.before(l.depth-(b-1));n.replace(x,l.after(-C),new J(y,4-b,0));let I=-1;n.doc.nodesBetween(x,n.doc.content.size,(R,P)=>{if(I>-1)return!1;R.isTextblock&&R.content.size===0&&(I=P+1)}),I>-1&&n.setSelection(me.near(n.doc.resolve(I))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...nf(h,d.type.name,d.attrs),...e},g={...nf(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const w=f?[{type:a,attrs:p},{type:f,attrs:g}]:[{type:a,attrs:p}];if(!rc(n.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:b}=r,{splittableMarks:C}=s.extensionManager,S=b||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!S||!i)return!0;const A=S.filter(x=>C.includes(x.type.name));n.ensureMarks(A)}return!0},Tg=(t,e)=>{const n=Gc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ea(t.doc,n.pos)&&t.join(n.pos),!0},Mg=(t,e)=>{const n=Gc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ea(t.doc,r)&&t.join(r),!0},L$=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=cn(t,o.schema),p=cn(e,o.schema),{selection:g,storedMarks:w}=o,{$from:y,$to:b}=g,C=y.blockRange(b),S=w||g.$to.parentOffset&&g.$from.marks();if(!C)return!1;const A=Gc(x=>K7(x.type.name,d))(g);if(C.depth>=1&&A&&C.depth-A.depth<=1){if(A.node.type===f)return c.liftListItem(p);if(K7(A.node.type.name,d)&&f.validContent(A.node.content)&&a)return l().command(()=>(s.setNodeMarkup(A.pos,f),!0)).command(()=>Tg(s,f)).command(()=>Mg(s,f)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>Tg(s,f)).command(()=>Mg(s,f)).run():l().command(()=>{const x=u().wrapInList(f,r),I=S.filter(R=>h.includes(R.type.name));return s.ensureMarks(I),x?!0:c.clearNodes()}).wrapInList(f,r).command(()=>Tg(s,f)).command(()=>Mg(s,f)).run()},P$=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=na(t,r.schema);return Uv(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},z$=(t,e,n={})=>({state:r,commands:i})=>{const s=cn(t,r.schema),o=cn(e,r.schema),a=Pd(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},B$=(t,e={})=>({state:n,commands:r})=>{const i=cn(t,n.schema);return Pd(n,i,e)?r.lift(i):r.wrapIn(i,e)},F$=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},j$=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},H$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=na(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:h,to:f}=a;const p=(s=c.marks().find(w=>w.type===l))===null||s===void 0?void 0:s.attrs,g=m3(c,l,p);g&&(h=g.from,f=g.to),n.removeMark(h,f,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},$$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Xm(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=cn(t,r.schema)),a==="mark"&&(o=na(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,h)=>{s&&s===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(f=>{if(o===f.type){const p=Math.max(h,c),g=Math.min(h+d.nodeSize,u);n.addMark(p,g,o.create({...f.attrs,...e}))}})})}),!0):!1},U$=(t,e={})=>({state:n,dispatch:r})=>{const i=cn(t,n.schema);return iH(i,e)(n,r)},V$=(t,e={})=>({state:n,dispatch:r})=>{const i=cn(t,n.schema);return sH(i,e)(n,r)};var W$=Object.freeze({__proto__:null,blur:MH,clearContent:AH,clearNodes:OH,command:IH,createParagraphNear:NH,cut:DH,deleteCurrentNode:RH,deleteNode:_H,deleteRange:LH,deleteSelection:PH,enter:zH,exitCode:BH,extendMarkRange:jH,first:HH,focus:$H,forEach:UH,insertContent:VH,insertContentAt:KH,joinBackward:YH,joinDown:JH,joinForward:XH,joinItemBackward:QH,joinItemForward:ZH,joinTextblockBackward:e$,joinTextblockForward:t$,joinUp:GH,keyboardShortcut:r$,lift:i$,liftEmptyBlock:s$,liftListItem:o$,newlineInCode:a$,resetAttributes:l$,scrollIntoView:c$,selectAll:u$,selectNodeBackward:d$,selectNodeForward:h$,selectParentNode:f$,selectTextblockEnd:p$,selectTextblockStart:m$,setContent:g$,setMark:M$,setMeta:A$,setNode:O$,setNodeSelection:I$,setTextSelection:N$,sinkListItem:D$,splitBlock:R$,splitListItem:_$,toggleList:L$,toggleMark:P$,toggleNode:z$,toggleWrap:B$,undoInputRule:F$,unsetAllMarks:j$,unsetMark:H$,updateAttributes:$$,wrapIn:U$,wrapInList:V$});const q$=zt.create({name:"commands",addCommands(){return{...W$}}}),K$=zt.create({name:"drop",addProseMirrorPlugins(){return[new nt({key:new lt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),G$=zt.create({name:"editable",addProseMirrorPlugins(){return[new nt({key:new lt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),J$=zt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new nt({key:new lt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Y$=zt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,w=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?w===d.pos:we.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return v3()||_E()?s:i},addProseMirrorPlugins(){return[new nt({key:new lt("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=we.atStart(e.doc).from,c=we.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Qm(n.doc))return;const h=n.tr,f=qm({state:n,transaction:h}),{commands:p}=new Km({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),X$=zt.create({name:"paste",addProseMirrorPlugins(){return[new nt({key:new lt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),Q$=zt.create({name:"tabindex",addProseMirrorPlugins(){return[new nt({key:new lt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class wa{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new wa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new wa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new wa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new wa(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new wa(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const Z$=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function eU(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let tU=class extends dH{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=eU(Z$,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=OE(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[G$,TH.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),q$,J$,Y$,Q$,K$,X$].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Wl(i,this)}createCommandManager(){this.commandManager=new Km({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=$v(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=$v(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=DE(e,this.options.autofocus);this.view=new Ij(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Vl.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return zE(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return BE(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return w$(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return b$(this.state.doc,{blockSeparator:n,textSerializers:{...NE(this.schema),...r}})}get isEmpty(){return Qm(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new wa(n,this)}get $doc(){return this.$pos(0)}};function Za(t){return new Jm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(w3(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function jE(t){return new Jm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function Vv(t){return new Jm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=De(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Ic(t){return new Jm({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=De(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&Z2(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:f}=t.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(w=>f.includes(w.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&ea(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class kt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ce(this,"addOptions",{name:this.name}))),this.storage=De(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Ym(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new kt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ce(n,"addOptions",{name:n.name})),n.storage=De(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function jo(t){return new bH({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=De(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(w3(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var er="top",jr="bottom",Hr="right",tr="left",b3="auto",w0=[er,jr,Hr,tr],Nc="start",zd="end",nU="clippingParents",HE="viewport",ku="popper",rU="reference",J7=w0.reduce(function(t,e){return t.concat([e+"-"+Nc,e+"-"+zd])},[]),$E=[].concat(w0,[b3]).reduce(function(t,e){return t.concat([e,e+"-"+Nc,e+"-"+zd])},[]),iU="beforeRead",sU="read",oU="afterRead",aU="beforeMain",lU="main",cU="afterMain",uU="beforeWrite",dU="write",hU="afterWrite",fU=[iU,sU,oU,aU,lU,cU,uU,dU,hU];function Ki(t){return t?(t.nodeName||"").toLowerCase():null}function gr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function el(t){var e=gr(t).Element;return t instanceof e||t instanceof Element}function Lr(t){var e=gr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function k3(t){if(typeof ShadowRoot>"u")return!1;var e=gr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function pU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Lr(s)||!Ki(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function mU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Lr(i)||!Ki(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const UE={name:"applyStyles",enabled:!0,phase:"write",fn:pU,effect:mU,requires:["computeStyles"]};function Vi(t){return t.split("-")[0]}var Fa=Math.max,gp=Math.min,Dc=Math.round;function Wv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function VE(){return!/^((?!chrome|android).)*safari/i.test(Wv())}function Rc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Lr(t)&&(i=t.offsetWidth>0&&Dc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Dc(r.height)/t.offsetHeight||1);var o=el(t)?gr(t):window,a=o.visualViewport,l=!VE()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function S3(t){var e=Rc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function WE(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&k3(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _s(t){return gr(t).getComputedStyle(t)}function gU(t){return["table","td","th"].indexOf(Ki(t))>=0}function ra(t){return((el(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zm(t){return Ki(t)==="html"?t:t.assignedSlot||t.parentNode||(k3(t)?t.host:null)||ra(t)}function Y7(t){return!Lr(t)||_s(t).position==="fixed"?null:t.offsetParent}function vU(t){var e=/firefox/i.test(Wv()),n=/Trident/i.test(Wv());if(n&&Lr(t)){var r=_s(t);if(r.position==="fixed")return null}var i=Zm(t);for(k3(i)&&(i=i.host);Lr(i)&&["html","body"].indexOf(Ki(i))<0;){var s=_s(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function b0(t){for(var e=gr(t),n=Y7(t);n&&gU(n)&&_s(n).position==="static";)n=Y7(n);return n&&(Ki(n)==="html"||Ki(n)==="body"&&_s(n).position==="static")?e:n||vU(t)||e}function x3(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Xu(t,e,n){return Fa(t,gp(e,n))}function yU(t,e,n){var r=Xu(t,e,n);return r>n?n:r}function qE(){return{top:0,right:0,bottom:0,left:0}}function KE(t){return Object.assign({},qE(),t)}function GE(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var wU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,KE(typeof e!="number"?e:GE(e,w0))};function bU(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Vi(n.placement),l=x3(a),c=[tr,Hr].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=wU(i.padding,n),h=S3(s),f=l==="y"?er:tr,p=l==="y"?jr:Hr,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],y=b0(s),b=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,C=g/2-w/2,S=d[f],A=b-h[u]-d[p],x=b/2-h[u]/2+C,I=Xu(S,x,A),R=l;n.modifiersData[r]=(e={},e[R]=I,e.centerOffset=I-x,e)}}function kU(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||WE(e.elements.popper,i)&&(e.elements.arrow=i))}const SU={name:"arrow",enabled:!0,phase:"main",fn:bU,effect:kU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _c(t){return t.split("-")[1]}var xU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function CU(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Dc(n*i)/i||0,y:Dc(r*i)/i||0}}function X7(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,w=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=w.x,g=w.y;var y=o.hasOwnProperty("x"),b=o.hasOwnProperty("y"),C=tr,S=er,A=window;if(c){var x=b0(n),I="clientHeight",R="clientWidth";if(x===gr(n)&&(x=ra(n),_s(x).position!=="static"&&a==="absolute"&&(I="scrollHeight",R="scrollWidth")),x=x,i===er||(i===tr||i===Hr)&&s===zd){S=jr;var P=d&&x===A&&A.visualViewport?A.visualViewport.height:x[I];g-=P-r.height,g*=l?1:-1}if(i===tr||(i===er||i===jr)&&s===zd){C=Hr;var j=d&&x===A&&A.visualViewport?A.visualViewport.width:x[R];f-=j-r.width,f*=l?1:-1}}var Q=Object.assign({position:a},c&&xU),X=u===!0?CU({x:f,y:g},gr(n)):{x:f,y:g};if(f=X.x,g=X.y,l){var oe;return Object.assign({},Q,(oe={},oe[S]=b?"0":"",oe[C]=y?"0":"",oe.transform=(A.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",oe))}return Object.assign({},Q,(e={},e[S]=b?g+"px":"",e[C]=y?f+"px":"",e.transform="",e))}function EU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Vi(e.placement),variation:_c(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,X7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,X7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const TU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:EU,data:{}};var sh={passive:!0};function MU(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=gr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,sh)}),a&&l.addEventListener("resize",n.update,sh),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,sh)}),a&&l.removeEventListener("resize",n.update,sh)}}const AU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:MU,data:{}};var OU={left:"right",right:"left",bottom:"top",top:"bottom"};function rf(t){return t.replace(/left|right|bottom|top/g,function(e){return OU[e]})}var IU={start:"end",end:"start"};function Q7(t){return t.replace(/start|end/g,function(e){return IU[e]})}function C3(t){var e=gr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function E3(t){return Rc(ra(t)).left+C3(t).scrollLeft}function NU(t,e){var n=gr(t),r=ra(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=VE();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+E3(t),y:l}}function DU(t){var e,n=ra(t),r=C3(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Fa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Fa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+E3(t),l=-r.scrollTop;return _s(i||n).direction==="rtl"&&(a+=Fa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function T3(t){var e=_s(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function JE(t){return["html","body","#document"].indexOf(Ki(t))>=0?t.ownerDocument.body:Lr(t)&&T3(t)?t:JE(Zm(t))}function Qu(t,e){var n;e===void 0&&(e=[]);var r=JE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=gr(r),o=i?[s].concat(s.visualViewport||[],T3(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Qu(Zm(o)))}function qv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function RU(t,e){var n=Rc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Z7(t,e,n){return e===HE?qv(NU(t,n)):el(e)?RU(e,n):qv(DU(ra(t)))}function _U(t){var e=Qu(Zm(t)),n=["absolute","fixed"].indexOf(_s(t).position)>=0,r=n&&Lr(t)?b0(t):t;return el(r)?e.filter(function(i){return el(i)&&WE(i,r)&&Ki(i)!=="body"}):[]}function LU(t,e,n,r){var i=e==="clippingParents"?_U(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=Z7(t,c,r);return l.top=Fa(u.top,l.top),l.right=gp(u.right,l.right),l.bottom=gp(u.bottom,l.bottom),l.left=Fa(u.left,l.left),l},Z7(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function YE(t){var e=t.reference,n=t.element,r=t.placement,i=r?Vi(r):null,s=r?_c(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case er:l={x:o,y:e.y-n.height};break;case jr:l={x:o,y:e.y+e.height};break;case Hr:l={x:e.x+e.width,y:a};break;case tr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?x3(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Nc:l[c]=l[c]-(e[u]/2-n[u]/2);break;case zd:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Bd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?nU:a,c=n.rootBoundary,u=c===void 0?HE:c,d=n.elementContext,h=d===void 0?ku:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,w=g===void 0?0:g,y=KE(typeof w!="number"?w:GE(w,w0)),b=h===ku?rU:ku,C=t.rects.popper,S=t.elements[p?b:h],A=LU(el(S)?S:S.contextElement||ra(t.elements.popper),l,u,o),x=Rc(t.elements.reference),I=YE({reference:x,element:C,strategy:"absolute",placement:i}),R=qv(Object.assign({},C,I)),P=h===ku?R:x,j={top:A.top-P.top+y.top,bottom:P.bottom-A.bottom+y.bottom,left:A.left-P.left+y.left,right:P.right-A.right+y.right},Q=t.modifiersData.offset;if(h===ku&&Q){var X=Q[i];Object.keys(j).forEach(function(oe){var ge=[Hr,jr].indexOf(oe)>=0?1:-1,Oe=[er,jr].indexOf(oe)>=0?"y":"x";j[oe]+=X[Oe]*ge})}return j}function PU(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?$E:l,u=_c(r),d=u?a?J7:J7.filter(function(p){return _c(p)===u}):w0,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=Bd(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[Vi(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function zU(t){if(Vi(t)===b3)return[];var e=rf(t);return[Q7(t),e,Q7(e)]}function BU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,w=e.options.placement,y=Vi(w),b=y===w,C=l||(b||!p?[rf(w)]:zU(w)),S=[w].concat(C).reduce(function(Be,Fe){return Be.concat(Vi(Fe)===b3?PU(e,{placement:Fe,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:g}):Fe)},[]),A=e.rects.reference,x=e.rects.popper,I=new Map,R=!0,P=S[0],j=0;j<S.length;j++){var Q=S[j],X=Vi(Q),oe=_c(Q)===Nc,ge=[er,jr].indexOf(X)>=0,Oe=ge?"width":"height",Me=Bd(e,{placement:Q,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),he=ge?oe?Hr:tr:oe?jr:er;A[Oe]>x[Oe]&&(he=rf(he));var $=rf(he),ee=[];if(s&&ee.push(Me[X]<=0),a&&ee.push(Me[he]<=0,Me[$]<=0),ee.every(function(Be){return Be})){P=Q,R=!1;break}I.set(Q,ee)}if(R)for(var te=p?3:1,ve=function(Fe){var je=S.find(function(Ze){var vt=I.get(Ze);if(vt)return vt.slice(0,Fe).every(function(Bt){return Bt})});if(je)return P=je,"break"},de=te;de>0;de--){var rt=ve(de);if(rt==="break")break}e.placement!==P&&(e.modifiersData[r]._skip=!0,e.placement=P,e.reset=!0)}}const FU={name:"flip",enabled:!0,phase:"main",fn:BU,requiresIfExists:["offset"],data:{_skip:!1}};function e8(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function t8(t){return[er,Hr,jr,tr].some(function(e){return t[e]>=0})}function jU(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Bd(e,{elementContext:"reference"}),a=Bd(e,{altBoundary:!0}),l=e8(o,r),c=e8(a,i,s),u=t8(l),d=t8(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const HU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:jU};function $U(t,e,n){var r=Vi(t),i=[tr,er].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[tr,Hr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function UU(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=$E.reduce(function(u,d){return u[d]=$U(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const VU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:UU};function WU(t){var e=t.state,n=t.name;e.modifiersData[n]=YE({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const qU={name:"popperOffsets",enabled:!0,phase:"read",fn:WU,data:{}};function KU(t){return t==="x"?"y":"x"}function GU(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,w=Bd(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Vi(e.placement),b=_c(e.placement),C=!b,S=x3(y),A=KU(S),x=e.modifiersData.popperOffsets,I=e.rects.reference,R=e.rects.popper,P=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,j=typeof P=="number"?{mainAxis:P,altAxis:P}:Object.assign({mainAxis:0,altAxis:0},P),Q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(x){if(s){var oe,ge=S==="y"?er:tr,Oe=S==="y"?jr:Hr,Me=S==="y"?"height":"width",he=x[S],$=he+w[ge],ee=he-w[Oe],te=f?-R[Me]/2:0,ve=b===Nc?I[Me]:R[Me],de=b===Nc?-R[Me]:-I[Me],rt=e.elements.arrow,Be=f&&rt?S3(rt):{width:0,height:0},Fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:qE(),je=Fe[ge],Ze=Fe[Oe],vt=Xu(0,I[Me],Be[Me]),Bt=C?I[Me]/2-te-vt-je-j.mainAxis:ve-vt-je-j.mainAxis,Jt=C?-I[Me]/2+te+vt+Ze+j.mainAxis:de+vt+Ze+j.mainAxis,Ye=e.elements.arrow&&b0(e.elements.arrow),It=Ye?S==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,yi=(oe=Q==null?void 0:Q[S])!=null?oe:0,wi=he+Bt-yi-It,An=he+Jt-yi,bi=Xu(f?gp($,wi):$,he,f?Fa(ee,An):ee);x[S]=bi,X[S]=bi-he}if(a){var Vr,kr=S==="x"?er:tr,Wr=S==="x"?jr:Hr,qr=x[A],ki=A==="y"?"height":"width",oa=qr+w[kr],On=qr-w[Wr],Kr=[er,tr].indexOf(y)!==-1,aa=(Vr=Q==null?void 0:Q[A])!=null?Vr:0,Us=Kr?oa:qr-I[ki]-R[ki]-aa+j.altAxis,rr=Kr?qr+I[ki]+R[ki]-aa-j.altAxis:On,$n=f&&Kr?yU(Us,qr,rr):Xu(f?Us:oa,qr,f?rr:On);x[A]=$n,X[A]=$n-qr}e.modifiersData[r]=X}}const JU={name:"preventOverflow",enabled:!0,phase:"main",fn:GU,requiresIfExists:["offset"]};function YU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function XU(t){return t===gr(t)||!Lr(t)?C3(t):YU(t)}function QU(t){var e=t.getBoundingClientRect(),n=Dc(e.width)/t.offsetWidth||1,r=Dc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function ZU(t,e,n){n===void 0&&(n=!1);var r=Lr(e),i=Lr(e)&&QU(e),s=ra(e),o=Rc(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Ki(e)!=="body"||T3(s))&&(a=XU(e)),Lr(e)?(l=Rc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=E3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function eV(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function tV(t){var e=eV(t);return fU.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function nV(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function rV(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var n8={placement:"bottom",modifiers:[],strategy:"absolute"};function r8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function iV(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?n8:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},n8,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(y){var b=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},s,u.options,b),u.scrollParents={reference:el(a)?Qu(a):a.contextElement?Qu(a.contextElement):[],popper:Qu(l)};var C=tV(rV([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(S){return S.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var y=u.elements,b=y.reference,C=y.popper;if(r8(b,C)){u.rects={reference:ZU(b,b0(C),u.options.strategy==="fixed"),popper:S3(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(j){return u.modifiersData[j.name]=Object.assign({},j.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var A=u.orderedModifiers[S],x=A.fn,I=A.options,R=I===void 0?{}:I,P=A.name;typeof x=="function"&&(u=x({state:u,options:R,name:P,instance:f})||u)}}}},update:nV(function(){return new Promise(function(w){f.forceUpdate(),w(u)})}),destroy:function(){g(),h=!0}};if(!r8(a,l))return f;f.setOptions(c).then(function(w){!h&&c.onFirstUpdate&&c.onFirstUpdate(w)});function p(){u.orderedModifiers.forEach(function(w){var y=w.name,b=w.options,C=b===void 0?{}:b,S=w.effect;if(typeof S=="function"){var A=S({state:u,name:y,instance:f,options:C}),x=function(){};d.push(A||x)}})}function g(){d.forEach(function(w){return w()}),d=[]}return f}}var sV=[AU,qU,TU,UE,VU,FU,JU,SU,HU],oV=iV({defaultModifiers:sV}),aV="tippy-box",XE="tippy-content",lV="tippy-backdrop",QE="tippy-arrow",ZE="tippy-svg-arrow",ma={passive:!0,capture:!0},eT=function(){return document.body};function Ag(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function M3(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function tT(t,e){return typeof t=="function"?t.apply(void 0,e):t}function i8(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function cV(t){return t.split(/\s+/).filter(Boolean)}function Al(t){return[].concat(t)}function s8(t,e){t.indexOf(e)===-1&&t.push(e)}function uV(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function dV(t){return t.split("-")[0]}function vp(t){return[].slice.call(t)}function o8(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Zu(){return document.createElement("div")}function e1(t){return["Element","Fragment"].some(function(e){return M3(t,e)})}function hV(t){return M3(t,"NodeList")}function fV(t){return M3(t,"MouseEvent")}function pV(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function mV(t){return e1(t)?[t]:hV(t)?vp(t):Array.isArray(t)?t:vp(document.querySelectorAll(t))}function Og(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function a8(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function gV(t){var e,n=Al(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function vV(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=dV(o.placement),u=o.modifiersData.offset;if(!u)return!0;var d=c==="bottom"?u.top.y:0,h=c==="top"?u.bottom.y:0,f=c==="right"?u.left.x:0,p=c==="left"?u.right.x:0,g=s.top-r+d>l,w=r-s.bottom-h>l,y=s.left-n+f>l,b=n-s.right-p>l;return g||w||y||b})}function Ig(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function l8(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Ri={isTouch:!1},c8=0;function yV(){Ri.isTouch||(Ri.isTouch=!0,window.performance&&document.addEventListener("mousemove",nT))}function nT(){var t=performance.now();t-c8<20&&(Ri.isTouch=!1,document.removeEventListener("mousemove",nT)),c8=t}function wV(){var t=document.activeElement;if(pV(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function bV(){document.addEventListener("touchstart",yV,ma),window.addEventListener("blur",wV)}var kV=typeof window<"u"&&typeof document<"u",SV=kV?!!window.msCrypto:!1,xV={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},CV={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ii=Object.assign({appendTo:eT,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},xV,CV),EV=Object.keys(ii),TV=function(e){var n=Object.keys(e);n.forEach(function(r){ii[r]=e[r]})};function rT(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=ii[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function MV(t,e){var n=e?Object.keys(rT(Object.assign({},ii,{plugins:e}))):EV,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function u8(t,e){var n=Object.assign({},e,{content:tT(e.content,[t])},e.ignoreAttributes?{}:MV(t,e.plugins));return n.aria=Object.assign({},ii.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var AV=function(){return"innerHTML"};function Kv(t,e){t[AV()]=e}function d8(t){var e=Zu();return t===!0?e.className=QE:(e.className=ZE,e1(t)?e.appendChild(t):Kv(e,t)),e}function h8(t,e){e1(e.content)?(Kv(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Kv(t,e.content):t.textContent=e.content)}function Gv(t){var e=t.firstElementChild,n=vp(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(XE)}),arrow:n.find(function(r){return r.classList.contains(QE)||r.classList.contains(ZE)}),backdrop:n.find(function(r){return r.classList.contains(lV)})}}function iT(t){var e=Zu(),n=Zu();n.className=aV,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Zu();r.className=XE,r.setAttribute("data-state","hidden"),h8(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=Gv(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&h8(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(d8(o.arrow))):l.appendChild(d8(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}iT.$$tippy=!0;var OV=1,oh=[],Ng=[];function IV(t,e){var n=u8(t,Object.assign({},ii,rT(o8(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,u,d,h,f=[],p=i8(wi,n.interactiveDebounce),g,w=OV++,y=null,b=uV(n.plugins),C={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},S={id:w,reference:t,popper:Zu(),popperInstance:y,props:n,state:C,plugins:b,clearDelayTimeouts:Us,setProps:rr,setContent:$n,show:M0,hide:hl,hideWithInteractivity:S1,enable:Kr,disable:aa,unmount:Si,destroy:A0};if(!n.render)return S;var A=n.render(S),x=A.popper,I=A.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+S.id,S.popper=x,t._tippy=S,x._tippy=S;var R=b.map(function(F){return F.fn(S)}),P=t.hasAttribute("aria-expanded");return Ye(),te(),he(),$("onCreate",[S]),n.showOnCreate&&oa(),x.addEventListener("mouseenter",function(){S.props.interactive&&S.state.isVisible&&S.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){S.props.interactive&&S.props.trigger.indexOf("mouseenter")>=0&&ge().addEventListener("mousemove",p)}),S;function j(){var F=S.props.touch;return Array.isArray(F)?F:[F,0]}function Q(){return j()[0]==="hold"}function X(){var F;return!!((F=S.props.render)!=null&&F.$$tippy)}function oe(){return g||t}function ge(){var F=oe().parentNode;return F?gV(F):document}function Oe(){return Gv(x)}function Me(F){return S.state.isMounted&&!S.state.isVisible||Ri.isTouch||u&&u.type==="focus"?0:Ag(S.props.delay,F?0:1,ii.delay)}function he(F){F===void 0&&(F=!1),x.style.pointerEvents=S.props.interactive&&!F?"":"none",x.style.zIndex=""+S.props.zIndex}function $(F,ae,xe){if(xe===void 0&&(xe=!0),R.forEach(function(_e){_e[F]&&_e[F].apply(_e,ae)}),xe){var We;(We=S.props)[F].apply(We,ae)}}function ee(){var F=S.props.aria;if(F.content){var ae="aria-"+F.content,xe=x.id,We=Al(S.props.triggerTarget||t);We.forEach(function(_e){var en=_e.getAttribute(ae);if(S.state.isVisible)_e.setAttribute(ae,en?en+" "+xe:xe);else{var yn=en&&en.replace(xe,"").trim();yn?_e.setAttribute(ae,yn):_e.removeAttribute(ae)}})}}function te(){if(!(P||!S.props.aria.expanded)){var F=Al(S.props.triggerTarget||t);F.forEach(function(ae){S.props.interactive?ae.setAttribute("aria-expanded",S.state.isVisible&&ae===oe()?"true":"false"):ae.removeAttribute("aria-expanded")})}}function ve(){ge().removeEventListener("mousemove",p),oh=oh.filter(function(F){return F!==p})}function de(F){if(!(Ri.isTouch&&(l||F.type==="mousedown"))){var ae=F.composedPath&&F.composedPath()[0]||F.target;if(!(S.props.interactive&&l8(x,ae))){if(Al(S.props.triggerTarget||t).some(function(xe){return l8(xe,ae)})){if(Ri.isTouch||S.state.isVisible&&S.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[S,F]);S.props.hideOnClick===!0&&(S.clearDelayTimeouts(),S.hide(),a=!0,setTimeout(function(){a=!1}),S.state.isMounted||je())}}}function rt(){l=!0}function Be(){l=!1}function Fe(){var F=ge();F.addEventListener("mousedown",de,!0),F.addEventListener("touchend",de,ma),F.addEventListener("touchstart",Be,ma),F.addEventListener("touchmove",rt,ma)}function je(){var F=ge();F.removeEventListener("mousedown",de,!0),F.removeEventListener("touchend",de,ma),F.removeEventListener("touchstart",Be,ma),F.removeEventListener("touchmove",rt,ma)}function Ze(F,ae){Bt(F,function(){!S.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&ae()})}function vt(F,ae){Bt(F,ae)}function Bt(F,ae){var xe=Oe().box;function We(_e){_e.target===xe&&(Ig(xe,"remove",We),ae())}if(F===0)return ae();Ig(xe,"remove",d),Ig(xe,"add",We),d=We}function Jt(F,ae,xe){xe===void 0&&(xe=!1);var We=Al(S.props.triggerTarget||t);We.forEach(function(_e){_e.addEventListener(F,ae,xe),f.push({node:_e,eventType:F,handler:ae,options:xe})})}function Ye(){Q()&&(Jt("touchstart",yi,{passive:!0}),Jt("touchend",An,{passive:!0})),cV(S.props.trigger).forEach(function(F){if(F!=="manual")switch(Jt(F,yi),F){case"mouseenter":Jt("mouseleave",An);break;case"focus":Jt(SV?"focusout":"blur",bi);break;case"focusin":Jt("focusout",bi);break}})}function It(){f.forEach(function(F){var ae=F.node,xe=F.eventType,We=F.handler,_e=F.options;ae.removeEventListener(xe,We,_e)}),f=[]}function yi(F){var ae,xe=!1;if(!(!S.state.isEnabled||Vr(F)||a)){var We=((ae=u)==null?void 0:ae.type)==="focus";u=F,g=F.currentTarget,te(),!S.state.isVisible&&fV(F)&&oh.forEach(function(_e){return _e(F)}),F.type==="click"&&(S.props.trigger.indexOf("mouseenter")<0||o)&&S.props.hideOnClick!==!1&&S.state.isVisible?xe=!0:oa(F),F.type==="click"&&(o=!xe),xe&&!We&&On(F)}}function wi(F){var ae=F.target,xe=oe().contains(ae)||x.contains(ae);if(!(F.type==="mousemove"&&xe)){var We=ki().concat(x).map(function(_e){var en,yn=_e._tippy,xi=(en=yn.popperInstance)==null?void 0:en.state;return xi?{popperRect:_e.getBoundingClientRect(),popperState:xi,props:n}:null}).filter(Boolean);vV(We,F)&&(ve(),On(F))}}function An(F){var ae=Vr(F)||S.props.trigger.indexOf("click")>=0&&o;if(!ae){if(S.props.interactive){S.hideWithInteractivity(F);return}On(F)}}function bi(F){S.props.trigger.indexOf("focusin")<0&&F.target!==oe()||S.props.interactive&&F.relatedTarget&&x.contains(F.relatedTarget)||On(F)}function Vr(F){return Ri.isTouch?Q()!==F.type.indexOf("touch")>=0:!1}function kr(){Wr();var F=S.props,ae=F.popperOptions,xe=F.placement,We=F.offset,_e=F.getReferenceClientRect,en=F.moveTransition,yn=X()?Gv(x).arrow:null,xi=_e?{getBoundingClientRect:_e,contextElement:_e.contextElement||oe()}:t,O0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(la){var Gr=la.state;if(X()){var fl=Oe(),su=fl.box;["placement","reference-hidden","escaped"].forEach(function(pl){pl==="placement"?su.setAttribute("data-placement",Gr.placement):Gr.attributes.popper["data-popper-"+pl]?su.setAttribute("data-"+pl,""):su.removeAttribute("data-"+pl)}),Gr.attributes.popper={}}}},Ci=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!en}},O0];X()&&yn&&Ci.push({name:"arrow",options:{element:yn,padding:3}}),Ci.push.apply(Ci,(ae==null?void 0:ae.modifiers)||[]),S.popperInstance=oV(xi,x,Object.assign({},ae,{placement:xe,onFirstUpdate:h,modifiers:Ci}))}function Wr(){S.popperInstance&&(S.popperInstance.destroy(),S.popperInstance=null)}function qr(){var F=S.props.appendTo,ae,xe=oe();S.props.interactive&&F===eT||F==="parent"?ae=xe.parentNode:ae=tT(F,[xe]),ae.contains(x)||ae.appendChild(x),S.state.isMounted=!0,kr()}function ki(){return vp(x.querySelectorAll("[data-tippy-root]"))}function oa(F){S.clearDelayTimeouts(),F&&$("onTrigger",[S,F]),Fe();var ae=Me(!0),xe=j(),We=xe[0],_e=xe[1];Ri.isTouch&&We==="hold"&&_e&&(ae=_e),ae?r=setTimeout(function(){S.show()},ae):S.show()}function On(F){if(S.clearDelayTimeouts(),$("onUntrigger",[S,F]),!S.state.isVisible){je();return}if(!(S.props.trigger.indexOf("mouseenter")>=0&&S.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(F.type)>=0&&o)){var ae=Me(!1);ae?i=setTimeout(function(){S.state.isVisible&&S.hide()},ae):s=requestAnimationFrame(function(){S.hide()})}}function Kr(){S.state.isEnabled=!0}function aa(){S.hide(),S.state.isEnabled=!1}function Us(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function rr(F){if(!S.state.isDestroyed){$("onBeforeUpdate",[S,F]),It();var ae=S.props,xe=u8(t,Object.assign({},ae,o8(F),{ignoreAttributes:!0}));S.props=xe,Ye(),ae.interactiveDebounce!==xe.interactiveDebounce&&(ve(),p=i8(wi,xe.interactiveDebounce)),ae.triggerTarget&&!xe.triggerTarget?Al(ae.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):xe.triggerTarget&&t.removeAttribute("aria-expanded"),te(),he(),I&&I(ae,xe),S.popperInstance&&(kr(),ki().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[S,F])}}function $n(F){S.setProps({content:F})}function M0(){var F=S.state.isVisible,ae=S.state.isDestroyed,xe=!S.state.isEnabled,We=Ri.isTouch&&!S.props.touch,_e=Ag(S.props.duration,0,ii.duration);if(!(F||ae||xe||We)&&!oe().hasAttribute("disabled")&&($("onShow",[S],!1),S.props.onShow(S)!==!1)){if(S.state.isVisible=!0,X()&&(x.style.visibility="visible"),he(),Fe(),S.state.isMounted||(x.style.transition="none"),X()){var en=Oe(),yn=en.box,xi=en.content;Og([yn,xi],0)}h=function(){var Ci;if(!(!S.state.isVisible||c)){if(c=!0,x.offsetHeight,x.style.transition=S.props.moveTransition,X()&&S.props.animation){var iu=Oe(),la=iu.box,Gr=iu.content;Og([la,Gr],_e),a8([la,Gr],"visible")}ee(),te(),s8(Ng,S),(Ci=S.popperInstance)==null||Ci.forceUpdate(),$("onMount",[S]),S.props.animation&&X()&&vt(_e,function(){S.state.isShown=!0,$("onShown",[S])})}},qr()}}function hl(){var F=!S.state.isVisible,ae=S.state.isDestroyed,xe=!S.state.isEnabled,We=Ag(S.props.duration,1,ii.duration);if(!(F||ae||xe)&&($("onHide",[S],!1),S.props.onHide(S)!==!1)){if(S.state.isVisible=!1,S.state.isShown=!1,c=!1,o=!1,X()&&(x.style.visibility="hidden"),ve(),je(),he(!0),X()){var _e=Oe(),en=_e.box,yn=_e.content;S.props.animation&&(Og([en,yn],We),a8([en,yn],"hidden"))}ee(),te(),S.props.animation?X()&&Ze(We,S.unmount):S.unmount()}}function S1(F){ge().addEventListener("mousemove",p),s8(oh,p),p(F)}function Si(){S.state.isVisible&&S.hide(),S.state.isMounted&&(Wr(),ki().forEach(function(F){F._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),Ng=Ng.filter(function(F){return F!==S}),S.state.isMounted=!1,$("onHidden",[S]))}function A0(){S.state.isDestroyed||(S.clearDelayTimeouts(),S.unmount(),It(),delete t._tippy,S.state.isDestroyed=!0,$("onDestroy",[S]))}}function Jc(t,e){e===void 0&&(e={});var n=ii.plugins.concat(e.plugins||[]);bV();var r=Object.assign({},e,{plugins:n}),i=mV(t),s=i.reduce(function(o,a){var l=a&&IV(a,r);return l&&o.push(l),o},[]);return e1(t)?s[0]:s}Jc.defaultProps=ii;Jc.setDefaultProps=TV;Jc.currentInput=Ri;Object.assign({},UE,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Jc.setDefaultProps({render:iT});class NV{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:c,to:u})=>{const{doc:d,selection:h}=l,{empty:f}=h,p=!d.textBetween(c,u).length&&g3(l.selection),g=this.element.contains(document.activeElement);return!(!(a.hasFocus()||g)||f||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,l)=>{const c=!(l!=null&&l.selection.eq(a.state.selection)),u=!(l!=null&&l.doc.eq(a.state.doc));!c&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,u,l)},this.updateDelay))},this.updateHandler=(a,l,c,u)=>{var d,h,f;const{state:p,composing:g}=a,{selection:w}=p;if(g||!l&&!c)return;this.createTooltip();const{ranges:b}=w,C=Math.min(...b.map(x=>x.$from.pos)),S=Math.max(...b.map(x=>x.$to.pos));if(!((d=this.shouldShow)===null||d===void 0?void 0:d.call(this,{editor:this.editor,view:a,state:p,oldState:u,from:C,to:S}))){this.hide();return}(h=this.tippy)===null||h===void 0||h.setProps({getReferenceClientRect:((f=this.tippyOptions)===null||f===void 0?void 0:f.getReferenceClientRect)||(()=>{if(FE(p.selection)){let x=a.nodeDOM(C);const I=x.dataset.nodeViewWrapper?x:x.querySelector("[data-node-view-wrapper]");if(I&&(x=I.firstChild),x)return x.getBoundingClientRect()}return E$(a,C,S)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Jc(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),o=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,o,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const sT=t=>new nt({key:typeof t.pluginKey=="string"?new lt(t.pluginKey):t.pluginKey,view:e=>new NV({view:e,...t})});zt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[sT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function DV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oT={exports:{}},Dg={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f8;function RV(){if(f8)return Dg;f8=1;var t=Tt;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var f=h(),p=r({inst:{value:f,getSnapshot:h}}),g=p[0].inst,w=p[1];return s(function(){g.value=f,g.getSnapshot=h,l(g)&&w({inst:g})},[d,f,h]),i(function(){return l(g)&&w({inst:g}),d(function(){l(g)&&w({inst:g})})},[d]),o(f),f}function l(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!n(d,f)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Dg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Dg}oT.exports=RV();var A3=oT.exports;const _V=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},LV=({contentComponent:t})=>{const e=A3.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Tt.createElement(Tt.Fragment,null,Object.values(e))};function PV(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:S9.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class zV extends Tt.Component{constructor(e){var n;super(e),this.editorContentRef=Tt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=PV(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Tt.createElement(Tt.Fragment,null,Tt.createElement("div",{ref:_V(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Tt.createElement(LV,{contentComponent:e.contentComponent}))}}const BV=B.forwardRef((t,e)=>{const n=Tt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Tt.createElement(zV,{key:n,innerRef:e,...t})}),FV=Tt.memo(BV);var jV=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},HV=DV(jV),aT={exports:{}},Rg={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p8;function $V(){if(p8)return Rg;p8=1;var t=Tt,e=A3;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Rg.useSyncExternalStoreWithSelector=function(c,u,d,h,f){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function y(x){if(!b){if(b=!0,C=x,x=h(x),f!==void 0&&g.hasValue){var I=g.value;if(f(I,x))return S=I}return S=x}if(I=S,r(C,x))return I;var R=h(x);return f!==void 0&&f(I,R)?I:(C=x,S=R)}var b=!1,C,S,A=d===void 0?null:d;return[function(){return y(u())},A===null?void 0:function(){return y(A())}]},[u,d,h,f]);var w=i(c,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=w},[w]),l(w),w},Rg}aT.exports=$V();var UV=aT.exports;class VV{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function WV(t){var e;const[n]=B.useState(()=>new VV(t.editor)),r=UV.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:HV);return B.useEffect(()=>n.watch(t.editor),[t.editor,n]),B.useDebugValue(r),r}const qV=!1,Jv=typeof window>"u",KV=Jv||!!(typeof window<"u"&&window.next);class GV{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Jv||KV?null:this.createEditor();if(this.options.current.immediatelyRender&&Jv&&qV)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new tU(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function JV(t={},e=[]){const n=B.useRef(t);n.current=t;const[r]=B.useState(()=>new GV(n)),i=A3.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return B.useDebugValue(i),B.useEffect(r.onRender(e)),WV({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const lT=B.createContext({editor:null});lT.Consumer;const YV=()=>B.useContext(lT),XV=t=>{const[e,n]=B.useState(null),{editor:r}=YV();return B.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:o,tippyOptions:a={},updateDelay:l,shouldShow:c=null}=t,u=o||r;if(!u){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const d=sT({updateDelay:l,editor:u,element:e,pluginKey:s,shouldShow:c,tippyOptions:a});return u.registerPlugin(d),()=>{u.unregisterPlugin(s)}},[t.editor,r,e]),Tt.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},QV=B.createContext({onDragStart:void 0}),ZV=()=>B.useContext(QV);Tt.forwardRef((t,e)=>{const{onDragStart:n}=ZV(),r=t.as||"div";return Tt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const eW=/^\s*>\s$/,cT=kt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ic({find:eW,type:this.type})]}}),tW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,nW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,rW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,iW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,uT=pi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Za({find:tW,type:this.type}),Za({find:rW,type:this.type})]},addPasteRules(){return[jo({find:nW,type:this.type}),jo({find:iW,type:this.type})]}}),sW="listItem",m8="textStyle",g8=/^\s*([-+*])\s$/,dT=kt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(sW,this.editor.getAttributes(m8)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ic({find:g8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ic({find:g8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(m8),editor:this.editor})),[t]}}),oW=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,aW=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,hT=pi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Za({find:oW,type:this.type})]},addPasteRules(){return[jo({find:aW,type:this.type})]}}),lW=/^```([a-z]+)?[\s\n]$/,cW=/^~~~([a-z]+)?[\s\n]$/,fT=kt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ge(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(we.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Vv({find:lW,type:this.type,getAttributes:t=>({language:t[1]})}),Vv({find:cW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new nt({key:new lt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(me.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),pT=kt.create({name:"doc",topNode:!0,content:"block+"});function uW(t={}){return new nt({view(e){return new dW(e,t)}})}class dW{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=LC(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const mT=zt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[uW(this.options)]}});class wt extends we{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return wt.valid(r)?new wt(r):we.near(r)}content(){return J.empty}eq(e){return e instanceof wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wt(e.resolve(n.pos))}getBookmark(){return new O3(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!hW(e)||!fW(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&wt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(wt.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!be.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(wt.valid(a))return a}return null}}}wt.prototype.visible=!1;wt.findFrom=wt.findGapCursorFrom;we.jsonID("gapcursor",wt);class O3{constructor(e){this.pos=e}map(e){return new O3(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return wt.valid(n)?new wt(n):we.near(n)}}function hW(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function fW(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function pW(){return new nt({props:{decorations:yW,createSelectionBetween(t,e,n){return e.pos==n.pos&&wt.valid(n)?new wt(n):null},handleClick:gW,handleKeyDown:mW,handleDOMEvents:{beforeinput:vW}}})}const mW=d3({ArrowLeft:ah("horiz",-1),ArrowRight:ah("horiz",1),ArrowUp:ah("vert",-1),ArrowDown:ah("vert",1)});function ah(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof me){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=wt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new wt(c))),!0):!1}}function gW(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!wt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&be.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wt(r))),!0)}function vW(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=H.empty;for(let o=r.length-1;o>=0;o--)i=H.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new J(i,0,0));return s.setSelection(me.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function yW(t){if(!(t.selection instanceof wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",tt.create(t.doc,[Qt.widget(t.selection.head,e,{key:"gapcursor"})])}const wW=zt.create({name:"gapCursor",addProseMirrorPlugins(){return[pW()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=De(ce(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),bW=kt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ge(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),gT=kt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ge(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Vv({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var yp=200,ln=function(){};ln.prototype.append=function(e){return e.length?(e=ln.from(e),!this.length&&e||e.length<yp&&this.leafAppend(e)||this.length<yp&&e.leafPrepend(this)||this.appendInner(e)):this};ln.prototype.prepend=function(e){return e.length?ln.from(e).append(this):this};ln.prototype.appendInner=function(e){return new kW(this,e)};ln.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ln.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ln.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ln.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ln.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};ln.from=function(e){return e instanceof ln?e:e&&e.length?new vT(e):ln.empty};var vT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=yp)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=yp)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ln);ln.empty=new vT([]);var kW=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ln);const SW=500;class ni{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new qs(d.map));let f=d.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new qs(p,void 0,void 0,c.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new ni(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new qs(e.mapping.maps[u],d,n),f;(f=l&&l.merge(h))&&(h=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let c=o-r.depth;return c>CW&&(a=xW(a,c),o-=c),new ni(a.append(s),o)}remapping(e,n){let r=new nc;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ni(this.items.append(e.map(n=>new qs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),w=h.selection&&h.selection.map(s.slice(l+1,f));w&&a++,r.push(new qs(p,g,w))}else r.push(new qs(p))},i);let c=[];for(let h=n;h<o;h++)c.push(new qs(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new ni(u,a);return d.emptyItemCount()>SW&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new qs(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&r--},this.items.length,0),new ni(ln.from(i.reverse()),s)}}ni.empty=new ni(ln.empty,0);function xW(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let qs=class yT{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new yT(n.getMap().invert(),n,this.selection)}}};class ro{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const CW=20;function EW(t,e,n,r){let i=n.getMeta(ja),s;if(i)return i.historyState;n.getMeta(AW)&&(t=new ro(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(ja))return o.getMeta(ja).redo?new ro(t.done.addTransform(n,void 0,r,sf(e)),t.undone,v8(n.mapping.maps),t.prevTime,t.prevComposition):new ro(t.done,t.undone.addTransform(n,void 0,r,sf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!TW(n,t.prevRanges)),c=o?_g(t.prevRanges,n.mapping):v8(n.mapping.maps);return new ro(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,sf(e)),ni.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ro(t.done.rebased(n,s),t.undone.rebased(n,s),_g(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ro(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),_g(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function TW(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function v8(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function _g(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function MW(t,e,n){let r=sf(e),i=ja.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new ro(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(ja,{redo:n,historyState:l})}let Lg=!1,y8=null;function sf(t){let e=t.plugins;if(y8!=e){Lg=!1,y8=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Lg=!0;break}}return Lg}const ja=new lt("history"),AW=new lt("closeHistory");function OW(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new nt({key:ja,state:{init(){return new ro(ni.empty,ni.empty,null,0,-1)},apply(e,n,r){return EW(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?bT:r=="historyRedo"?kT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function wT(t,e){return(n,r)=>{let i=ja.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=MW(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const bT=wT(!1,!0),kT=wT(!0,!0),IW=zt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>bT(t,e),redo:()=>({state:t,dispatch:e})=>kT(t,e)}},addProseMirrorPlugins(){return[OW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),ST=kt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ge(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):FE(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(me.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(be.create(o.doc,c.pos)):o.setSelection(me.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(me.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[jE({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),NW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,DW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,RW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,_W=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,xT=pi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Za({find:NW,type:this.type}),Za({find:RW,type:this.type})]},addPasteRules(){return[jo({find:DW,type:this.type}),jo({find:_W,type:this.type})]}}),CT=kt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ge(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),LW="listItem",w8="textStyle",b8=/^(\d+)\.\s$/,ET=kt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ge(this.options.HTMLAttributes,n),0]:["ol",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(LW,this.editor.getAttributes(w8)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ic({find:b8,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ic({find:b8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(w8)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),PW=kt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),zW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,BW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,TT=pi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Za({find:zW,type:this.type})]},addPasteRules(){return[jo({find:BW,type:this.type})]}}),FW=kt.create({name:"text",group:"inline"}),jW=zt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,g,w,y;const b=[];return this.options.bold!==!1&&b.push(uT.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&b.push(cT.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&b.push(dT.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&b.push(hT.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&b.push(fT.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&b.push(pT.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&b.push(mT.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&b.push(wW.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&b.push(bW.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(gT.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&b.push(IW.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&b.push(ST.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&b.push(xT.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&b.push(CT.configure((f=this.options)===null||f===void 0?void 0:f.listItem)),this.options.orderedList!==!1&&b.push(ET.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&b.push(PW.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&b.push(TT.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&b.push(FW.configure((y=this.options)===null||y===void 0?void 0:y.text)),b}});var Yv,Xv;if(typeof WeakMap<"u"){let t=new WeakMap;Yv=e=>t.get(e),Xv=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Yv=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},Xv=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Pt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const a=(t+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(t){return Yv(t)||Xv(t,HW(t))}};function HW(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=$W(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;const g=d.child(p),{colspan:w,rowspan:y,colwidth:b}=g.attrs;for(let C=0;C<y;C++){if(C+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:y-C});break}const S=i+C*e;for(let A=0;A<w;A++){r[S+A]==0?r[S+A]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:w-A});const x=b&&b[A];if(x){const I=(S+A)%e*2,R=o[I];R==null||R!=x&&o[I+1]==1?(o[I]=x,o[I+1]=1):R==x&&o[I+1]++}}}i+=w,u+=g.nodeSize}const h=(c+1)*e;let f=0;for(;i<h;)r[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:c,n:f}),u++}const a=new Pt(e,n,r,s);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<n&&(l=!0);return l&&UW(a,o,t),a}function $W(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function UW(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%t.width,d=e[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((a||(a=VW(l)))[c]=d)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function VW(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Tn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var fo=new lt("selectingCells");function Yc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function WW(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function gi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function t1(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Yc(e.$head)||qW(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function qW(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Qv(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function KW(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function I3(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function MT(t,e,n){const r=t.node(-1),i=Pt.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}function tl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function AT(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function GW(t,e,n){const r=Tn(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var dt=class as extends we{constructor(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(u=>u!=n.pos-s);l.unshift(n.pos-s);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const h=s+u+1;return new t3(a.resolve(h),a.resolve(h+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(Qv(r)&&Qv(i)&&I3(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?as.rowSelection(r,i):s&&this.isColSelection()?as.colSelection(r,i):new as(r,i)}return me.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Pt.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const h=n.map[u];if(s[h])continue;s[h]=!0;const f=n.findCell(h);let p=e.nodeAt(h);if(!p)throw RangeError(`No cell with offset ${h} found`);const g=i.left-f.left,w=f.right-i.right;if(g>0||w>0){let y=p.attrs;if(g>0&&(y=tl(y,0,g)),w>0&&(y=tl(y,y.colspan-w,w)),f.left<i.left){if(p=p.type.createAndFill(y),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else p=p.type.create(y,p.content)}if(f.top<i.top||f.bottom>i.bottom){const y={...p.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?p=p.type.createAndFill(y):p=p.type.create(y,p.content)}c.push(p)}o.push(e.child(l).copy(H.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new J(H.from(a),1,1)}replace(e,n=J.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),o?J.empty:n)}const s=we.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new J(H.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Pt.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new as(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Pt.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(e){return e instanceof as&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new as(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new as(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new as(e.resolve(n),e.resolve(r))}getBookmark(){return new JW(this.$anchorCell.pos,this.$headCell.pos)}};dt.prototype.visible=!1;we.jsonID("cell",dt);var JW=class OT{constructor(e,n){this.anchor=e,this.head=n}map(e){return new OT(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&I3(n,r)?new dt(n,r):we.near(r,1)}};function YW(t){if(!(t.selection instanceof dt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Qt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),tt.create(t.doc,e)}function XW({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function QW({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function ZW(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof be&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=dt.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=dt.rowSelection(a,a)}else if(!n){const a=Pt.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];s=dt.create(i,l+1,c)}}else r instanceof me&&XW(r)?s=me.create(i,r.from):r instanceof me&&QW(r)&&(s=me.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var eq=new lt("fix-tables");function IT(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let c=a,u=Math.min(i,o+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?IT(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function NT(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=tq(t,i,s,n))};return e?e.doc!=t.doc&&IT(e.doc,t.doc,0,r):t.doc.descendants(r),n}function tq(t,e,n,r){const i=Pt.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let h=0;h<d.rowspan;h++)s[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,tl(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),d=c+u.nodeSize,h=s[l];if(h>0){let f="cell";u.firstChild&&(f=u.firstChild.type.spec.tableRole);const p=[];for(let w=0;w<h;w++){const y=Tn(t.schema)[f].createAndFill();y&&p.push(y)}const g=(l==0||o==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),p)}c=d}return r.setMeta(eq,{fixTables:!0})}function Qi(t){const e=t.selection,n=t1(t),r=n.node(-1),i=n.start(-1),s=Pt.get(r);return{...e instanceof dt?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function DT(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;GW(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,AT(c.attrs,i-e.colCount(l))),o+=c.attrs.rowspan-1}else{const l=s==null?Tn(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,c=e.positionAt(o,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function nq(t,e){if(!gi(t))return!1;if(e){const n=Qi(t);e(DT(t.tr,n,n.left))}return!0}function rq(t,e){if(!gi(t))return!1;if(e){const n=Qi(t);e(DT(t.tr,n,n.right))}return!0}function iq(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,tl(u,i-e.colCount(l)));else{const d=t.mapping.slice(s).map(r+l);t.delete(d,d+c.nodeSize)}o+=u.rowspan}}function sq(t,e){if(!gi(t))return!1;if(e){const n=Qi(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;iq(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Pt.get(s)}e(r)}return!0}function oq(t,e,n){var r;const i=Tn(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function RT(t,{map:e,tableStart:n,table:r},i){var s;let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const a=[];let l=i>0?-1:0;oq(e,r,i+l)&&(l=i==0||i==e.height?null:0);for(let c=0,u=e.width*i;c<e.width;c++,u++)if(i>0&&i<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],h=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...h,rowspan:h.rowspan+1}),c+=h.colspan-1}else{const d=l==null?Tn(r.type.schema).cell:(s=r.nodeAt(e.map[u+l*e.width]))==null?void 0:s.type,h=d==null?void 0:d.createAndFill();h&&a.push(h)}return t.insert(o,Tn(r.type.schema).row.create(null,a)),t}function aq(t,e){if(!gi(t))return!1;if(e){const n=Qi(t);e(RT(t.tr,n,n.top))}return!0}function lq(t,e){if(!gi(t))return!1;if(e){const n=Qi(t);e(RT(t.tr,n,n.bottom))}return!0}function cq(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const o=s+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+r,o+r);const l=new Set;for(let c=0,u=i*e.width;c<e.width;c++,u++){const d=e.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==e.map[u-e.width]){const h=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...h,rowspan:h.rowspan-1}),c+=h.colspan-1}else if(i<e.height&&d==e.map[u+e.width]){const h=n.nodeAt(d),f=h.attrs,p=h.type.create({...f,rowspan:h.attrs.rowspan-1},h.content),g=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(a).map(r+g),p),c+=f.colspan-1}}}}function uq(t,e){if(!gi(t))return!1;if(e){const n=Qi(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;cq(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Pt.get(n.table)}e(r)}return!0}function k8(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function dq({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[a]==n[a+1])return!0;s+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}function S8(t,e){const n=t.selection;if(!(n instanceof dt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Qi(t),{map:i}=r;if(dq(i,r))return!1;if(e){const s=t.tr,o={};let a=H.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const h=i.map[u*i.width+d],f=r.table.nodeAt(h);if(!(o[h]||!f))if(o[h]=!0,l==null)l=h,c=f;else{k8(f)||(a=a.append(f.content));const p=s.mapping.map(h+r.tableStart);s.delete(p,p+f.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...AT(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const u=l+1+c.content.size,d=k8(c)?l+1:u;s.replaceWith(d+r.tableStart,u+r.tableStart,a)}s.setSelection(new dt(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function x8(t,e){const n=Tn(t.schema);return hq(({node:r})=>n[r.type.spec.tableRole])(t,e)}function hq(t){return(e,n)=>{var r;const i=e.selection;let s,o;if(i instanceof dt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=WW(i.$from),!s)return!1;o=(r=Yc(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let a=s.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=Qi(e),d=e.tr;for(let f=0;f<u.right-u.left;f++)l.push(c?{...a,colwidth:c&&c[f]?[c[f]]:null}:a);let h;for(let f=u.top;f<u.bottom;f++){let p=u.map.positionAt(f,u.left,u.table);f==u.top&&(p+=s.nodeSize);for(let g=u.left,w=0;g<u.right;g++,w++)g==u.left&&f==u.top||d.insert(h=d.mapping.map(p+u.tableStart,1),t({node:s,row:f,col:g}).createAndFill(l[w]))}d.setNodeMarkup(o,t({node:s,row:u.top,col:u.left}),l[0]),i instanceof dt&&d.setSelection(new dt(d.doc.resolve(i.$anchorCell.pos),h?d.doc.resolve(h):void 0)),n(d)}return!0}}function fq(t,e){return function(n,r){if(!gi(n))return!1;const i=t1(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof dt?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function pq(t){return function(e,n){if(!gi(e))return!1;if(n){const r=Tn(e.schema),i=Qi(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function C8(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function Fd(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?pq(t):function(n,r){if(!gi(n))return!1;if(r){const i=Tn(n.schema),s=Qi(n),o=n.tr,a=C8("row",s,i),l=C8("column",s,i),u=(t==="column"?a:t==="row"?l:!1)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,h=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(f=>{const p=f+s.tableStart,g=o.doc.nodeAt(p);g&&o.setNodeMarkup(p,h,g.attrs)}),r(o)}return!0}}Fd("row",{useDeprecatedLogic:!0});Fd("column",{useDeprecatedLogic:!0});var mq=Fd("cell",{useDeprecatedLogic:!0});function gq(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function E8(t){return function(e,n){if(!gi(e))return!1;const r=gq(t1(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(me.between(i,KW(i))).scrollIntoView())}return!0}}function vq(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function lh(t,e){const n=t.selection;if(!(n instanceof dt))return!1;if(e){const r=t.tr,i=Tn(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new J(i,0,0))}),r.docChanged&&e(r)}return!0}function yq(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=Zv(Tn(o).row,new J(c,u,d)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(n||r?Zv(Tn(o).row,new J(e,n,r)).content:e);else return null;return wq(o,a)}function wq(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(H.empty),n[i]<r){const s=Tn(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append(H.from(o))}return{height:e.length,width:r,rows:e}}function Zv(t,e){const n=t.createAndFill();return new e3(n).replace(0,n.content.size,e).doc}function bq({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=s[a]||0,d=0;u<r;d++){let h=l.child(d%l.childCount);u+h.attrs.colspan>r&&(h=h.type.createChecked(tl(h.attrs,h.attrs.colspan,u+h.attrs.colspan-r),h.content)),c.push(h),u+=h.attrs.colspan;for(let f=1;f<h.attrs.rowspan;f++)s[a+f]=(s[a+f]||0)+h.attrs.colspan}o.push(H.from(c))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push(H.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function kq(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=Tn(a);let c,u;if(i>e.width)for(let d=0,h=0;d<e.height;d++){const f=n.child(d);h+=f.nodeSize;const p=[];let g;f.lastChild==null||f.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let w=e.width;w<i;w++)p.push(g);t.insert(t.mapping.slice(o).map(h-1+r),p)}if(s>e.height){const d=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const w=p>=e.width?!1:n.nodeAt(e.map[g+p]).type==l.header_cell;d.push(w?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,H.from(d)),f=[];for(let p=e.height;p<s;p++)f.push(h);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),f)}return!!(c||u)}function T8(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const u=o*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const h=n.nodeAt(d),{top:f,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...h.attrs,rowspan:o-f}),t.insert(t.mapping.slice(a).map(e.positionAt(o,p,n)),h.type.createAndFill({...h.attrs,rowspan:f+h.attrs.rowspan-o})),c+=h.attrs.colspan-1}}return l}function M8(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const u=c*e.width+o,d=e.map[u];if(e.map[u-1]==d){l=!0;const h=n.nodeAt(d),f=e.colCount(d),p=t.mapping.slice(a).map(d+r);t.setNodeMarkup(p,null,tl(h.attrs,o-f,h.attrs.colspan-(o-f))),t.insert(p+h.nodeSize,h.type.createAndFill(tl(h.attrs,0,o-f))),c+=h.attrs.rowspan-1}}return l}function A8(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=Pt.get(s);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=t.tr;let h=0;function f(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");o=Pt.get(s),h=d.mapping.maps.length}kq(d,o,s,n,c,u,h)&&f(),T8(d,o,s,n,l,c,a,h)&&f(),T8(d,o,s,n,l,c,u,h)&&f(),M8(d,o,s,n,a,u,l,h)&&f(),M8(d,o,s,n,a,u,c,h)&&f();for(let p=a;p<u;p++){const g=o.positionAt(p,l,s),w=o.positionAt(p,c,s);d.replace(d.mapping.slice(h).map(g+n),d.mapping.slice(h).map(w+n),new J(i.rows[p-a],0,0))}f(),d.setSelection(new dt(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(u-1,c-1,s)))),e(d)}var Sq=d3({ArrowLeft:ch("horiz",-1),ArrowRight:ch("horiz",1),ArrowUp:ch("vert",-1),ArrowDown:ch("vert",1),"Shift-ArrowLeft":uh("horiz",-1),"Shift-ArrowRight":uh("horiz",1),"Shift-ArrowUp":uh("vert",-1),"Shift-ArrowDown":uh("vert",1),Backspace:lh,"Mod-Backspace":lh,Delete:lh,"Mod-Delete":lh});function of(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function ch(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof dt)return of(n,r,we.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=_T(i,t,e);if(o==null)return!1;if(t=="horiz")return of(n,r,we.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=MT(a,t,e);let c;return l?c=we.near(l,1):e<0?c=we.near(n.doc.resolve(a.before(-1)),-1):c=we.near(n.doc.resolve(a.after(-1)),1),of(n,r,c)}}}function uh(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof dt)o=s;else{const l=_T(i,t,e);if(l==null)return!1;o=new dt(n.doc.resolve(l))}const a=MT(o.$headCell,t,e);return a?of(n,r,new dt(o.$anchorCell,a)):!1}}function xq(t,e){const n=t.state.doc,r=Yc(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new dt(r))),!0):!1}function Cq(t,e,n){if(!gi(t.state))return!1;let r=yq(n);const i=t.state.selection;if(i instanceof dt){r||(r={width:1,height:1,rows:[H.from(Zv(Tn(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Pt.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=bq(r,a.right-a.left,a.bottom-a.top),A8(t.state,t.dispatch,o,a,r),!0}else if(r){const s=t1(t.state),o=s.start(-1);return A8(t.state,t.dispatch,o,Pt.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Eq(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=O8(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof dt)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=Yc(t.state.selection.$anchor))!=null&&((n=Pg(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(l,c){let u=Pg(t,c);const d=fo.getState(t.state)==null;if(!u||!I3(l,u))if(d)u=l;else return;const h=new dt(l,u);if(d||!t.state.selection.eq(h)){const f=t.state.tr.setSelection(h);d&&f.setMeta(fo,l.pos),t.dispatch(f)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),fo.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(fo,-1))}function a(l){const c=l,u=fo.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(O8(t,c.target)!=r&&(d=Pg(t,e),!d))return o();d&&s(d,c)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function _T(t,e,n){if(!(t.state.selection instanceof me))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function O8(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Pg(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Yc(t.state.doc.resolve(n.pos)):null}var Tq=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),ey(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,ey(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function ey(t,e,n,r,i,s){var o;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,h=0;d<u.childCount;d++){const{colspan:f,colwidth:p}=u.child(d).attrs;for(let g=0;g<f;g++,h++){const w=i==h?s:p&&p[g],y=w?w+"px":"";if(a+=w||r,w||(l=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const b=document.createElement("col");b.style.width=y,e.appendChild(b)}}}for(;c;){const d=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var ur=new lt("tableColumnResizing");function Mq({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Tq,lastColumnResizable:i=!0}={}){const s=new nt({key:ur,state:{init(o,a){var l,c;const u=(c=(l=s.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,d=Tn(a.schema).table.name;return r&&u&&(u[d]=(h,f)=>new r(h,n,f)),new Aq(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=ur.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Oq(o,a,t,i)},mouseleave:o=>{Iq(o)},mousedown:(o,a)=>{Nq(o,a,e,n)}},decorations:o=>{const a=ur.getState(o);if(a&&a.activeHandle>-1)return Pq(o,a.activeHandle)},nodeViews:{}}});return s}var Aq=class af{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(ur);if(r&&r.setHandle!=null)return new af(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new af(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return Qv(e.doc.resolve(i))||(i=-1),new af(i,n.dragging)}return n}};function Oq(t,e,n,r){const i=ur.getState(t.state);if(i&&!i.dragging){const s=Rq(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();e.clientX-a<=n?o=I8(t,e,"left",n):l-e.clientX<=n&&(o=I8(t,e,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=t.state.doc.resolve(o),l=a.node(-1),c=Pt.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}LT(t,o)}}}function Iq(t){const e=ur.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&LT(t,-1)}function Nq(t,e,n,r){var i;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,o=ur.getState(t.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=t.state.doc.nodeAt(o.activeHandle),l=Dq(t,o.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(ur,{setDragging:{startX:e.clientX,startWidth:l}}));function c(d){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",u);const h=ur.getState(t.state);h!=null&&h.dragging&&(_q(t,h.activeHandle,N8(h.dragging,d,n)),t.dispatch(t.state.tr.setMeta(ur,{setDragging:null})))}function u(d){if(!d.which)return c(d);const h=ur.getState(t.state);if(h&&h.dragging){const f=N8(h.dragging,d,n);D8(t,h.activeHandle,f,r)}}return D8(t,o.activeHandle,l,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",u),e.preventDefault(),!0}function Dq(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function Rq(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function I8(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=Yc(t.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Pt.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function N8(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function LT(t,e){t.dispatch(t.state.tr.setMeta(ur,{setHandle:e}))}function _q(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=Pt.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+a;if(c&&s.map[u]==s.map[u-s.width])continue;const d=s.map[u],h=i.nodeAt(d).attrs,f=h.colspan==1?0:a-s.colCount(d);if(h.colwidth&&h.colwidth[f]==n)continue;const p=h.colwidth?h.colwidth.slice():Lq(h.colspan);p[f]=n,l.setNodeMarkup(o+d,null,{...h,colwidth:p})}l.docChanged&&t.dispatch(l)}function D8(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=Pt.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&ey(s,l.firstChild,l,r,a,n)}function Lq(t){return Array(t).fill(0)}function Pq(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return tt.empty;const o=Pt.get(s),a=i.start(-1),l=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const u=l+c*o.width;if((l==o.width-1||o.map[u]!=o.map[u+1])&&(c==0||o.map[u]!=o.map[u-o.width])){const d=o.map[u],h=a+d+s.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",(n=ur.getState(t))!=null&&n.dragging&&r.push(Qt.node(a+d,a+d+s.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(Qt.widget(h,f))}}return tt.create(t.doc,r)}function zq({allowTableNodeSelection:t=!1}={}){return new nt({key:fo,state:{init(){return null},apply(e,n){const r=e.getMeta(fo);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:YW,handleDOMEvents:{mousedown:Eq},createSelectionBetween(e){return fo.getState(e.state)!=null?e.state.selection:null},handleTripleClick:xq,handleKeyDown:Sq,handlePaste:Cq},appendTransaction(e,n,r){return ZW(r,NT(r,n),t)}})}function R8(t,e,n,r,i,s){let o=0,a=!0,l=e.firstChild;const c=t.firstChild;for(let u=0,d=0;u<c.childCount;u+=1){const{colspan:h,colwidth:f}=c.child(u).attrs;for(let p=0;p<h;p+=1,d+=1){const g=i===d?s:f&&f[p],w=g?`${g}px`:"";o+=g||r,g||(a=!1),l?(l.style.width!==w&&(l.style.width=w),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=w}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}class Bq{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),R8(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,R8(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Fq(t,e,n,r){let i=0,s=!0;const o=[],a=t.firstChild;if(!a)return{};for(let d=0,h=0;d<a.childCount;d+=1){const{colspan:f,colwidth:p}=a.child(d).attrs;for(let g=0;g<f;g+=1,h+=1){const w=n===h?r:p&&p[g],y=w?`${w}px`:"";i+=w||e,w||(s=!1),o.push(["col",y?{style:`width: ${y}`}:{}])}}const l=s?`${i}px`:"",c=s?"":`${i}px`;return{colgroup:["colgroup",{},...o],tableWidth:l,tableMinWidth:c}}function _8(t,e){return t.createAndFill()}function jq(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function Hq(t,e,n,r,i){const s=jq(t),o=[],a=[];for(let c=0;c<n;c+=1){const u=_8(s.cell);if(u&&a.push(u),r){const d=_8(s.header_cell);d&&o.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(s.row.createChecked(null,r&&c===0?o:a));return s.table.createChecked(null,l)}function $q(t){return t instanceof dt}const dh=({editor:t})=>{const{selection:e}=t.state;if(!$q(e))return!1;let n=0;const r=PE(e.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Uq=kt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:Bq,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=Fq(t,this.options.cellMinWidth);return["table",Ge(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const o=Hq(s.schema,t,e,n);if(i){const a=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(me.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>nq(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>rq(t,e),deleteColumn:()=>({state:t,dispatch:e})=>sq(t,e),addRowBefore:()=>({state:t,dispatch:e})=>aq(t,e),addRowAfter:()=>({state:t,dispatch:e})=>lq(t,e),deleteRow:()=>({state:t,dispatch:e})=>uq(t,e),deleteTable:()=>({state:t,dispatch:e})=>vq(t,e),mergeCells:()=>({state:t,dispatch:e})=>S8(t,e),splitCell:()=>({state:t,dispatch:e})=>x8(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Fd("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Fd("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>mq(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>S8(t,e)?!0:x8(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>fq(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>E8(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>E8(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&NT(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=dt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:dh,"Mod-Backspace":dh,Delete:dh,"Mod-Delete":dh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Mq({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],zq({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:De(ce(t,"tableRole",e))}}}),Vq=kt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Ge(this.options.HTMLAttributes,t),0]}}),Wq=kt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Ge(this.options.HTMLAttributes,t),0]}}),qq=kt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Ge(this.options.HTMLAttributes,t),0]}}),Kq=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Gq=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Jq=pi.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Za({find:Kq,type:this.type})]},addPasteRules(){return[jo({find:Gq,type:this.type})]}}),Yq="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Xq="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",Lc=(t,e)=>{for(const n in e)t[n]=e[n];return t},ty="numeric",ny="ascii",ry="alpha",lf="asciinumeric",hh="alphanumeric",iy="domain",PT="emoji",Qq="scheme",Zq="slashscheme",L8="whitespace";function eK(t,e){return t in e||(e[t]=[]),e[t]}function Oa(t,e,n){e[ty]&&(e[lf]=!0,e[hh]=!0),e[ny]&&(e[lf]=!0,e[ry]=!0),e[lf]&&(e[hh]=!0),e[ry]&&(e[hh]=!0),e[hh]&&(e[iy]=!0),e[PT]&&(e[iy]=!0);for(const r in e){const i=eK(r,n);i.indexOf(t)<0&&i.push(t)}}function tK(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function qn(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}qn.groups={};qn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||qn.groups;let i;return e&&e.j?i=e:(i=new qn(e),n&&r&&Oa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||qn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new qn,Lc(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new qn,s){if(r)if(o.t&&typeof o.t=="string"){const l=Lc(tK(o.t,r),n);Oa(s,l,r)}else n&&Oa(s,n,r);o.t=s}return i.j[t]=o,o}};const Ie=(t,e,n,r,i)=>t.ta(e,n,r,i),Sr=(t,e,n,r,i)=>t.tr(e,n,r,i),P8=(t,e,n,r,i)=>t.ts(e,n,r,i),Y=(t,e,n,r,i)=>t.tt(e,n,r,i),ls="WORD",sy="UWORD",jd="LOCALHOST",oy="TLD",ay="UTLD",cf="SCHEME",Ol="SLASH_SCHEME",N3="NUM",zT="WS",D3="NL",ed="OPENBRACE",td="CLOSEBRACE",wp="OPENBRACKET",bp="CLOSEBRACKET",kp="OPENPAREN",Sp="CLOSEPAREN",xp="OPENANGLEBRACKET",Cp="CLOSEANGLEBRACKET",Ep="FULLWIDTHLEFTPAREN",Tp="FULLWIDTHRIGHTPAREN",Mp="LEFTCORNERBRACKET",Ap="RIGHTCORNERBRACKET",Op="LEFTWHITECORNERBRACKET",Ip="RIGHTWHITECORNERBRACKET",Np="FULLWIDTHLESSTHAN",Dp="FULLWIDTHGREATERTHAN",Rp="AMPERSAND",_p="APOSTROPHE",Lp="ASTERISK",io="AT",Pp="BACKSLASH",zp="BACKTICK",Bp="CARET",po="COLON",R3="COMMA",Fp="DOLLAR",Oi="DOT",jp="EQUALS",_3="EXCLAMATION",Ii="HYPHEN",Hp="PERCENT",$p="PIPE",Up="PLUS",Vp="POUND",Wp="QUERY",L3="QUOTE",P3="SEMI",Ni="SLASH",nd="TILDE",qp="UNDERSCORE",BT="EMOJI",Kp="SYM";var FT=Object.freeze({__proto__:null,WORD:ls,UWORD:sy,LOCALHOST:jd,TLD:oy,UTLD:ay,SCHEME:cf,SLASH_SCHEME:Ol,NUM:N3,WS:zT,NL:D3,OPENBRACE:ed,CLOSEBRACE:td,OPENBRACKET:wp,CLOSEBRACKET:bp,OPENPAREN:kp,CLOSEPAREN:Sp,OPENANGLEBRACKET:xp,CLOSEANGLEBRACKET:Cp,FULLWIDTHLEFTPAREN:Ep,FULLWIDTHRIGHTPAREN:Tp,LEFTCORNERBRACKET:Mp,RIGHTCORNERBRACKET:Ap,LEFTWHITECORNERBRACKET:Op,RIGHTWHITECORNERBRACKET:Ip,FULLWIDTHLESSTHAN:Np,FULLWIDTHGREATERTHAN:Dp,AMPERSAND:Rp,APOSTROPHE:_p,ASTERISK:Lp,AT:io,BACKSLASH:Pp,BACKTICK:zp,CARET:Bp,COLON:po,COMMA:R3,DOLLAR:Fp,DOT:Oi,EQUALS:jp,EXCLAMATION:_3,HYPHEN:Ii,PERCENT:Hp,PIPE:$p,PLUS:Up,POUND:Vp,QUERY:Wp,QUOTE:L3,SEMI:P3,SLASH:Ni,TILDE:nd,UNDERSCORE:qp,EMOJI:BT,SYM:Kp});const Cl=/[a-z]/,zg=new RegExp("\\p{L}","u"),Bg=new RegExp("\\p{Emoji}","u"),Fg=/\d/,z8=/\s/,B8=`
`,nK="️",rK="‍";let fh=null,ph=null;function iK(t){t===void 0&&(t=[]);const e={};qn.groups=e;const n=new qn;fh==null&&(fh=F8(Yq)),ph==null&&(ph=F8(Xq)),Y(n,"'",_p),Y(n,"{",ed),Y(n,"}",td),Y(n,"[",wp),Y(n,"]",bp),Y(n,"(",kp),Y(n,")",Sp),Y(n,"<",xp),Y(n,">",Cp),Y(n,"（",Ep),Y(n,"）",Tp),Y(n,"「",Mp),Y(n,"」",Ap),Y(n,"『",Op),Y(n,"』",Ip),Y(n,"＜",Np),Y(n,"＞",Dp),Y(n,"&",Rp),Y(n,"*",Lp),Y(n,"@",io),Y(n,"`",zp),Y(n,"^",Bp),Y(n,":",po),Y(n,",",R3),Y(n,"$",Fp),Y(n,".",Oi),Y(n,"=",jp),Y(n,"!",_3),Y(n,"-",Ii),Y(n,"%",Hp),Y(n,"|",$p),Y(n,"+",Up),Y(n,"#",Vp),Y(n,"?",Wp),Y(n,'"',L3),Y(n,"/",Ni),Y(n,";",P3),Y(n,"~",nd),Y(n,"_",qp),Y(n,"\\",Pp);const r=Sr(n,Fg,N3,{[ty]:!0});Sr(r,Fg,r);const i=Sr(n,Cl,ls,{[ny]:!0});Sr(i,Cl,i);const s=Sr(n,zg,sy,{[ry]:!0});Sr(s,Cl),Sr(s,zg,s);const o=Sr(n,z8,zT,{[L8]:!0});Y(n,B8,D3,{[L8]:!0}),Y(o,B8),Sr(o,z8,o);const a=Sr(n,Bg,BT,{[PT]:!0});Sr(a,Bg,a),Y(a,nK,a);const l=Y(a,rK);Sr(l,Bg,a);const c=[[Cl,i]],u=[[Cl,null],[zg,s]];for(let d=0;d<fh.length;d++)Ks(n,fh[d],oy,ls,c);for(let d=0;d<ph.length;d++)Ks(n,ph[d],ay,sy,u);Oa(oy,{tld:!0,ascii:!0},e),Oa(ay,{utld:!0,alpha:!0},e),Ks(n,"file",cf,ls,c),Ks(n,"mailto",cf,ls,c),Ks(n,"http",Ol,ls,c),Ks(n,"https",Ol,ls,c),Ks(n,"ftp",Ol,ls,c),Ks(n,"ftps",Ol,ls,c),Oa(cf,{scheme:!0,ascii:!0},e),Oa(Ol,{slashscheme:!0,ascii:!0},e),t=t.sort((d,h)=>d[0]>h[0]?1:-1);for(let d=0;d<t.length;d++){const h=t[d][0],p=t[d][1]?{[Qq]:!0}:{[Zq]:!0};h.indexOf("-")>=0?p[iy]=!0:Cl.test(h)?Fg.test(h)?p[lf]=!0:p[ny]=!0:p[ty]=!0,P8(n,h,h,p)}return P8(n,"localhost",jd,{ascii:!0}),n.jd=new qn(Kp),{start:n,tokens:Lc({groups:e},FT)}}function sK(t,e){const n=oK(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,h=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[o].length,h++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=h,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function oK(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Ks(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new qn(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new qn(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function F8(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const Hd={defaultProtocol:"http",events:null,format:j8,formatHref:j8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function z3(t,e){e===void 0&&(e=null);let n=Lc({},Hd);t&&(n=Lc(n,t instanceof z3?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}z3.prototype={o:Hd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:Hd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function j8(t){return t}function jT(t,e){this.t="token",this.v=t,this.tk=e}jT.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"…":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Hd.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Lc(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function n1(t,e){class n extends jT{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const H8=n1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$8=n1("text"),aK=n1("nl"),mh=n1("url",{isLink:!0,toHref(t){return t===void 0&&(t=Hd.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==jd&&t[1].t===po}}),xr=t=>new qn(t);function lK(t){let{groups:e}=t;const n=e.domain.concat([Rp,Lp,io,Pp,zp,Bp,Fp,jp,Ii,N3,Hp,$p,Up,Vp,Ni,Kp,nd,qp]),r=[_p,po,R3,Oi,_3,Wp,L3,P3,xp,Cp,ed,td,bp,wp,kp,Sp,Ep,Tp,Mp,Ap,Op,Ip,Np,Dp],i=[Rp,_p,Lp,Pp,zp,Bp,Fp,jp,Ii,ed,td,Hp,$p,Up,Vp,Wp,Ni,Kp,nd,qp],s=xr(),o=Y(s,nd);Ie(o,i,o),Ie(o,e.domain,o);const a=xr(),l=xr(),c=xr();Ie(s,e.domain,a),Ie(s,e.scheme,l),Ie(s,e.slashscheme,c),Ie(a,i,o),Ie(a,e.domain,a);const u=Y(a,io);Y(o,io,u),Y(l,io,u),Y(c,io,u);const d=Y(o,Oi);Ie(d,i,o),Ie(d,e.domain,o);const h=xr();Ie(u,e.domain,h),Ie(h,e.domain,h);const f=Y(h,Oi);Ie(f,e.domain,h);const p=xr(H8);Ie(f,e.tld,p),Ie(f,e.utld,p),Y(u,jd,p);const g=Y(h,Ii);Ie(g,e.domain,h),Ie(p,e.domain,h),Y(p,Oi,f),Y(p,Ii,g);const w=Y(p,po);Ie(w,e.numeric,H8);const y=Y(a,Ii),b=Y(a,Oi);Ie(y,e.domain,a),Ie(b,i,o),Ie(b,e.domain,a);const C=xr(mh);Ie(b,e.tld,C),Ie(b,e.utld,C),Ie(C,e.domain,a),Ie(C,i,o),Y(C,Oi,b),Y(C,Ii,y),Y(C,io,u);const S=Y(C,po),A=xr(mh);Ie(S,e.numeric,A);const x=xr(mh),I=xr();Ie(x,n,x),Ie(x,r,I),Ie(I,n,x),Ie(I,r,I),Y(C,Ni,x),Y(A,Ni,x);const R=Y(l,po),P=Y(c,po),j=Y(P,Ni),Q=Y(j,Ni);Ie(l,e.domain,a),Y(l,Oi,b),Y(l,Ii,y),Ie(c,e.domain,a),Y(c,Oi,b),Y(c,Ii,y),Ie(R,e.domain,x),Y(R,Ni,x),Ie(Q,e.domain,x),Ie(Q,n,x),Y(Q,Ni,x);const X=[[ed,td],[wp,bp],[kp,Sp],[xp,Cp],[Ep,Tp],[Mp,Ap],[Op,Ip],[Np,Dp]];for(let oe=0;oe<X.length;oe++){const[ge,Oe]=X[oe],Me=Y(x,ge);Y(I,ge,Me),Y(Me,Oe,x);const he=xr(mh);Ie(Me,n,he);const $=xr();Ie(Me,r),Ie(he,n,he),Ie(he,r,$),Ie($,n,he),Ie($,r,$),Y(he,Oe,x),Y($,Oe,x)}return Y(s,jd,C),Y(s,D3,aK),{start:s,tokens:FT}}function cK(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,h=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(jg($8,e,o)),o=[]),i-=h,u-=h;const f=d.t,p=n.slice(i-u,i);s.push(jg(f,e,p))}}return o.length>0&&s.push(jg($8,e,o)),s}function jg(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const uK=typeof console<"u"&&console&&console.warn||(()=>{}),dK="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function hK(){qn.groups={},Ct.scanner=null,Ct.parser=null,Ct.tokenQueue=[],Ct.pluginQueue=[],Ct.customSchemes=[],Ct.initialized=!1}function U8(t,e){if(e===void 0&&(e=!1),Ct.initialized&&uK(`linkifyjs: already initialized - will not register custom scheme "${t}" ${dK}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ct.customSchemes.push([t,e])}function fK(){Ct.scanner=iK(Ct.customSchemes);for(let t=0;t<Ct.tokenQueue.length;t++)Ct.tokenQueue[t][1]({scanner:Ct.scanner});Ct.parser=lK(Ct.scanner.tokens);for(let t=0;t<Ct.pluginQueue.length;t++)Ct.pluginQueue[t][1]({scanner:Ct.scanner,parser:Ct.parser});Ct.initialized=!0}function HT(t){return Ct.initialized||fK(),cK(Ct.parser.start,t,sK(Ct.scanner.start,t))}function $T(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new z3(n),i=HT(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}function pK(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function mK(t){return new nt({key:new lt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=v$(n.doc,[...e]);if(C$(a).forEach(({newRange:c})=>{const u=y$(r.doc,c,f=>f.isTextblock);let d,h;if(u.length>1?(d=u[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&h){const f=h.split(" ").filter(y=>y!=="");if(f.length<=0)return!1;const p=f[f.length-1],g=d.pos+h.lastIndexOf(p);if(!p)return!1;const w=HT(p).map(y=>y.toObject(t.defaultProtocol));if(!pK(w))return!1;w.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>t.validate(y.value)).forEach(y=>{w3(y.from,y.to,r.doc).some(b=>b.mark.type===t.type)||o.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function gK(t){return new nt({key:new lt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=zE(e.state,t.type.name),c=r.target,u=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,d=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function vK(t){return new nt({key:new lt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=$T(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const yK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function V8(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(yK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const wK=pi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){U8(t);return}U8(t.scheme,t.optionalSlashes)})},onDestroy(){hK()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!V8(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return V8(t.href,this.options.protocols)?["a",Ge(this.options.HTMLAttributes,t),0]:["a",Ge(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[jo({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=$T(t).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(mK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(gK({type:this.type})),this.options.linkOnPaste&&t.push(vK({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),bK=pi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),kK=zt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new nt({key:new lt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Qm(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=Qt.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),tt.create(t,i)}}})]}}),SK=zt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),xK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,CK=kt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ge(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[jE({find:xK,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),EK=/^\s*(\[([( |x])?\])\s$/,TK=kt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ge(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",c=>c.preventDefault()),a.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:u}=c.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=n();if(typeof h!="number")return!1;const f=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...f==null?void 0:f.attrs,checked:u}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,u)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,u])=>{i.setAttribute(c,u)}),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),s.append(a,o),i.append(s,l),Object.entries(e).forEach(([c,u])=>{i.setAttribute(c,u)}),{dom:i,contentDOM:l,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,c.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[Ic({find:EK,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),W8=kt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ge(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),ci=()=>new Map,ly=t=>{const e=ci();return t.forEach((n,r)=>{e.set(r,n)}),e},ia=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},MK=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},AK=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},nl=()=>new Set,Hg=t=>t[t.length-1],OK=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},rl=Array.from,IK=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},cy=Array.isArray;class UT{constructor(){this._observers=ci()}on(e,n){return ia(this._observers,e,nl).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return rl((this._observers.get(e)||ci()).values()).forEach(r=>r(...n))}destroy(){this._observers=ci()}}const Ls=Math.floor,uf=Math.abs,r1=(t,e)=>t<e?t:e,Xc=(t,e)=>t>e?t:e,VT=t=>t!==0?t<0:1/t<0,q8=1,K8=2,$g=4,Ug=8,$d=32,Cs=64,fr=128,i1=31,uy=63,Ha=127,NK=2147483647,WT=Number.MAX_SAFE_INTEGER,DK=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Ls(t)===t),RK=t=>t.toLowerCase(),_K=/^\s*/g,LK=t=>t.replace(_K,""),PK=/([A-Z])/g,G8=(t,e)=>LK(t.replace(PK,n=>`${e}${RK(n)}`)),zK=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},Ud=typeof TextEncoder<"u"?new TextEncoder:null,BK=t=>Ud.encode(t),FK=Ud?BK:zK;let rd=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});rd&&rd.decode(new Uint8Array).length===1&&(rd=null);class k0{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const s1=()=>new k0,jK=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Bi=t=>{const e=new Uint8Array(jK(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},HK=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Xc(n,e)*2),t.cpos=0)},tn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},dy=tn,$e=(t,e)=>{for(;e>Ha;)tn(t,fr|Ha&e),e=Ls(e/128);tn(t,Ha&e)},B3=(t,e)=>{const n=VT(e);for(n&&(e=-e),tn(t,(e>uy?fr:0)|(n?Cs:0)|uy&e),e=Ls(e/64);e>0;)tn(t,(e>Ha?fr:0)|Ha&e),e=Ls(e/128)},hy=new Uint8Array(3e4),$K=hy.length/3,UK=(t,e)=>{if(e.length<$K){const n=Ud.encodeInto(e,hy).written||0;$e(t,n);for(let r=0;r<n;r++)tn(t,hy[r])}else sr(t,FK(e))},VK=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;$e(t,r);for(let i=0;i<r;i++)tn(t,n.codePointAt(i))},oc=Ud&&Ud.encodeInto?UK:VK,o1=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=r1(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Xc(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},sr=(t,e)=>{$e(t,e.byteLength),o1(t,e)},F3=(t,e)=>{HK(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},WK=(t,e)=>F3(t,4).setFloat32(0,e,!1),qK=(t,e)=>F3(t,8).setFloat64(0,e,!1),KK=(t,e)=>F3(t,8).setBigInt64(0,e,!1),J8=new DataView(new ArrayBuffer(4)),GK=t=>(J8.setFloat32(0,t),J8.getFloat32(0)===t),Vd=(t,e)=>{switch(typeof e){case"string":tn(t,119),oc(t,e);break;case"number":DK(e)&&uf(e)<=NK?(tn(t,125),B3(t,e)):GK(e)?(tn(t,124),WK(t,e)):(tn(t,123),qK(t,e));break;case"bigint":tn(t,122),KK(t,e);break;case"object":if(e===null)tn(t,126);else if(cy(e)){tn(t,117),$e(t,e.length);for(let n=0;n<e.length;n++)Vd(t,e[n])}else if(e instanceof Uint8Array)tn(t,116),sr(t,e);else{tn(t,118);const n=Object.keys(e);$e(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];oc(t,i),Vd(t,e[i])}}break;case"boolean":tn(t,e?120:121);break;default:tn(t,127)}};class Y8 extends k0{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&$e(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const X8=t=>{t.count>0&&(B3(t.encoder,t.count===1?t.s:-t.s),t.count>1&&$e(t.encoder,t.count-2))};class df{constructor(){this.encoder=new k0,this.s=0,this.count=0}write(e){this.s===e?this.count++:(X8(this),this.count=1,this.s=e)}toUint8Array(){return X8(this),Bi(this.encoder)}}const Q8=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);B3(t.encoder,e),t.count>1&&$e(t.encoder,t.count-2)}};class Vg{constructor(){this.encoder=new k0,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Q8(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Q8(this),Bi(this.encoder)}}class JK{constructor(){this.sarr=[],this.s="",this.lensE=new df}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new k0;return this.sarr.push(this.s),this.s="",oc(e,this.sarr.join("")),o1(e,this.lensE.toUint8Array()),Bi(e)}}const Ho=t=>new Error(t),ui=()=>{throw Ho("Method unimplemented")},vr=()=>{throw Ho("Unexpected case")},qT=Ho("Unexpected end of array"),KT=Ho("Integer out of Range");class a1{constructor(e){this.arr=e,this.pos=0}}const j3=t=>new a1(t),YK=t=>t.pos!==t.arr.length,XK=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Cr=t=>XK(t,gt(t)),Wd=t=>t.arr[t.pos++],gt=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&Ha)*n,n*=128,i<fr)return e;if(e>WT)throw KT}throw qT},H3=t=>{let e=t.arr[t.pos++],n=e&uy,r=64;const i=(e&Cs)>0?-1:1;if(!(e&fr))return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&Ha)*r,r*=128,e<fr)return i*n;if(n>WT)throw KT}throw qT},QK=t=>{let e=gt(t);if(e===0)return"";{let n=String.fromCodePoint(Wd(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Wd(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},ZK=t=>rd.decode(Cr(t)),fy=rd?ZK:QK,$3=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},eG=t=>$3(t,4).getFloat32(0,!1),tG=t=>$3(t,8).getFloat64(0,!1),nG=t=>$3(t,8).getBigInt64(0,!1),rG=[t=>{},t=>null,H3,eG,tG,nG,t=>!1,t=>!0,fy,t=>{const e=gt(t),n={};for(let r=0;r<e;r++){const i=fy(t);n[i]=Gp(t)}return n},t=>{const e=gt(t),n=[];for(let r=0;r<e;r++)n.push(Gp(t));return n},Cr],Gp=t=>rG[127-Wd(t)](t);class Z8 extends a1{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),YK(this)?this.count=gt(this)+1:this.count=-1),this.count--,this.s}}class hf extends a1{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=H3(this);const e=VT(this.s);this.count=1,e&&(this.s=-this.s,this.count=gt(this)+2)}return this.count--,this.s}}class Wg extends a1{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=H3(this),n=e&1;this.diff=Ls(e/2),this.count=1,n&&(this.count=gt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class iG{constructor(e){this.decoder=new hf(e),this.str=fy(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const sG=crypto.getRandomValues.bind(crypto),oG=Math.random,GT=()=>sG(new Uint32Array(1))[0],aG=t=>t[Ls(oG()*t.length)],lG="10000000-1000-4000-8000"+-1e11,cG=()=>lG.replace(/[018]/g,t=>(t^GT()&15>>t/4).toString(16)),uG=Date.now,eb=t=>new Promise(t);Promise.all.bind(Promise);const tb=t=>t===void 0?null:t;class dG{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let JT=new dG,hG=!0;try{typeof localStorage<"u"&&localStorage&&(JT=localStorage,hG=!1)}catch{}const fG=JT,pG=Object.assign,YT=Object.keys,mG=(t,e)=>{for(const n in t)e(t[n],n)},nb=t=>YT(t).length,gG=t=>{for(const e in t)return!1;return!0},vG=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},yG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),wG=(t,e)=>t===e||nb(t)===nb(e)&&vG(t,(n,r)=>(n!==void 0||yG(e,r))&&e[r]===n),bG=Object.freeze,XT=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&XT(t[e])}return bG(t)},U3=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&U3(t,e,n+1)}},kG=(t,e)=>e.includes(t);var QT={};const Pc=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",SG=typeof window<"u"&&typeof document<"u"&&!Pc;let Mi;const xG=()=>{if(Mi===void 0)if(Pc){Mi=ci();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Mi.set(e,""),e=r):e!==null&&(Mi.set(e,r),e=null)}e!==null&&Mi.set(e,"")}else typeof location=="object"?(Mi=ci(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Mi.set(`--${G8(e,"-")}`,n),Mi.set(`-${G8(e,"-")}`,n)}})):Mi=ci();return Mi},py=t=>xG().has(t),Jp=t=>tb(Pc?QT[t.toUpperCase().replaceAll("-","_")]:fG.getItem(t)),ZT=t=>py("--"+t)||Jp(t)!==null;ZT("production");const CG=Pc&&kG(QT.FORCE_COLOR,["true","1","2"]),EG=CG||!py("--no-colors")&&!ZT("no-color")&&(!Pc||process.stdout.isTTY)&&(!Pc||py("--color")||Jp("COLORTERM")!==null||(Jp("TERM")||"").includes("color"));class TG{constructor(e,n){this.left=e,this.right=n}}const is=(t,e)=>new TG(t,e),MG=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const AG=t=>MK(t,(e,n)=>`${n}:${e};`).join(""),OG=t=>class{constructor(n){this._=n}destroy(){t(this._)}},IG=OG(clearTimeout),eM=(t,e)=>new IG(setTimeout(e,t)),Hs=Symbol,tM=Hs(),nM=Hs(),NG=Hs(),DG=Hs(),RG=Hs(),rM=Hs(),_G=Hs(),V3=Hs(),LG=Hs(),PG=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},zG={[tM]:is("font-weight","bold"),[nM]:is("font-weight","normal"),[NG]:is("color","blue"),[RG]:is("color","green"),[DG]:is("color","grey"),[rM]:is("color","red"),[_G]:is("color","purple"),[V3]:is("color","orange"),[LG]:is("color","black")},BG=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[],r=ci();let i=[],s=0;for(;s<t.length;s++){const a=t[s],l=zG[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const c=AG(r);s>0||c.length>0?(e.push("%c"+a),n.push(c)):e.push(a)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const a=t[s];a instanceof Symbol||i.push(a)}return i},iM=EG?BG:PG,FG=(...t)=>{console.log(...iM(t)),oM.forEach(e=>e.print(t))},sM=(...t)=>{console.warn(...iM(t)),t.unshift(V3),oM.forEach(e=>e.print(t))},oM=nl(),aM=t=>({[Symbol.iterator](){return this},next:t}),jG=(t,e)=>aM(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),qg=(t,e)=>aM(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class W3{constructor(e,n){this.clock=e,this.len=n}}class Qc{constructor(){this.clients=new Map}}const $o=(t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);for(let o=0;o<r.length;o++){const a=r[o];mM(t,s,a.clock,a.len,n)}}),HG=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=Ls((n+r)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;n=i+1}else r=i-1}return null},Zc=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&HG(n,e.clock)!==null},q3=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=Xc(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},my=t=>{const e=new Qc;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let o=n+1;o<t.length;o++)OK(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return q3(e),e},qd=(t,e,n,r)=>{ia(t.clients,e,()=>[]).push(new W3(n,r))},lM=()=>new Qc,$G=t=>{const e=lM();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const a=o.id.clock;let l=o.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])l+=c.length;i.push(new W3(a,l))}}i.length>0&&e.clients.set(r,i)}),e},K3=(t,e)=>{$e(t.restEncoder,e.clients.size),rl(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),$e(t.restEncoder,n);const i=r.length;$e(t.restEncoder,i);for(let s=0;s<i;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},UG=t=>{const e=new Qc,n=gt(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=gt(t.restDecoder),s=gt(t.restDecoder);if(s>0){const o=ia(e.clients,i,()=>[]);for(let a=0;a<s;a++)o.push(new W3(t.readDsClock(),t.readDsLen()))}}return e},rb=(t,e,n)=>{const r=new Qc,i=gt(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=gt(t.restDecoder),a=gt(t.restDecoder),l=n.clients.get(o)||[],c=jt(n,o);for(let u=0;u<a;u++){const d=t.readDsClock(),h=d+t.readDsLen();if(d<c){c<h&&qd(r,o,c,h-c);let f=Gi(l,d),p=l[f];for(!p.deleted&&p.id.clock<d&&(l.splice(f+1,0,nm(e,p,d-p.id.clock)),f++);f<l.length&&(p=l[f++],p.id.clock<h);)p.deleted||(h<p.id.clock+p.length&&l.splice(f,0,nm(e,p,h-p.id.clock)),p.delete(e))}else qd(r,o,d,h-d)}}if(r.clients.size>0){const s=new l1;return $e(s.restEncoder,0),K3(s,r),s.toUint8Array()}return null},cM=GT;class eu extends UT{constructor({guid:e=cG(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=cM(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new fM,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=eb(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>eb(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&st(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(rl(this.subdocs).map(e=>e.guid))}transact(e,n=null){return st(this,e,n)}get(e,n=gn){const r=ia(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==gn&&i!==n)if(i===gn){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,cc)}getText(e=""){return this.get(e,Uo)}getMap(e=""){return this.get(e,zc)}getXmlElement(e=""){return this.get(e,Dn)}getXmlFragment(e=""){return this.get(e,il)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,rl(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new eu({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,st(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class VG{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=gt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=gt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Yp extends VG{constructor(e){super(e),this.keys=[],gt(e),this.keyClockDecoder=new Wg(Cr(e)),this.clientDecoder=new hf(Cr(e)),this.leftClockDecoder=new Wg(Cr(e)),this.rightClockDecoder=new Wg(Cr(e)),this.infoDecoder=new Z8(Cr(e),Wd),this.stringDecoder=new iG(Cr(e)),this.parentInfoDecoder=new Z8(Cr(e),Wd),this.typeRefDecoder=new hf(Cr(e)),this.lenDecoder=new hf(Cr(e))}readLeftID(){return new ac(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ac(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Gp(this.restDecoder)}readBuf(){return Cr(this.restDecoder)}readJSON(){return Gp(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class WG{constructor(){this.restEncoder=s1()}toUint8Array(){return Bi(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){$e(this.restEncoder,e)}writeDsLen(e){$e(this.restEncoder,e)}}class qG extends WG{writeLeftID(e){$e(this.restEncoder,e.client),$e(this.restEncoder,e.clock)}writeRightID(e){$e(this.restEncoder,e.client),$e(this.restEncoder,e.clock)}writeClient(e){$e(this.restEncoder,e)}writeInfo(e){dy(this.restEncoder,e)}writeString(e){oc(this.restEncoder,e)}writeParentInfo(e){$e(this.restEncoder,e?1:0)}writeTypeRef(e){$e(this.restEncoder,e)}writeLen(e){$e(this.restEncoder,e)}writeAny(e){Vd(this.restEncoder,e)}writeBuf(e){sr(this.restEncoder,e)}writeJSON(e){oc(this.restEncoder,JSON.stringify(e))}writeKey(e){oc(this.restEncoder,e)}}class KG{constructor(){this.restEncoder=s1(),this.dsCurrVal=0}toUint8Array(){return Bi(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,$e(this.restEncoder,n)}writeDsLen(e){e===0&&vr(),$e(this.restEncoder,e-1),this.dsCurrVal+=e}}class l1 extends KG{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Vg,this.clientEncoder=new df,this.leftClockEncoder=new Vg,this.rightClockEncoder=new Vg,this.infoEncoder=new Y8(dy),this.stringEncoder=new JK,this.parentInfoEncoder=new Y8(dy),this.typeRefEncoder=new df,this.lenEncoder=new df}toUint8Array(){const e=s1();return $e(e,0),sr(e,this.keyClockEncoder.toUint8Array()),sr(e,this.clientEncoder.toUint8Array()),sr(e,this.leftClockEncoder.toUint8Array()),sr(e,this.rightClockEncoder.toUint8Array()),sr(e,Bi(this.infoEncoder)),sr(e,this.stringEncoder.toUint8Array()),sr(e,Bi(this.parentInfoEncoder)),sr(e,this.typeRefEncoder.toUint8Array()),sr(e,this.lenEncoder.toUint8Array()),o1(e,Bi(this.restEncoder)),Bi(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Vd(this.restEncoder,e)}writeBuf(e){sr(this.restEncoder,e)}writeJSON(e){Vd(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const GG=(t,e,n,r)=>{r=Xc(r,e[0].id.clock);const i=Gi(e,r);$e(t.restEncoder,e.length-i),t.writeClient(n),$e(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},uM=(t,e,n)=>{const r=new Map;n.forEach((i,s)=>{jt(e,s)>i&&r.set(s,i)}),c1(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),$e(t.restEncoder,r.size),rl(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{GG(t,e.clients.get(i),i,s)})},JG=(t,e)=>{const n=ci(),r=gt(t.restDecoder);for(let i=0;i<r;i++){const s=gt(t.restDecoder),o=new Array(s),a=t.readClient();let l=gt(t.restDecoder);n.set(a,{i:0,refs:o});for(let c=0;c<s;c++){const u=t.readInfo();switch(i1&u){case 0:{const d=t.readLen();o[c]=new Or(Re(a,l),d),l+=d;break}case 10:{const d=gt(t.restDecoder);o[c]=new ri(Re(a,l),d),l+=d;break}default:{const d=(u&(Cs|fr))===0,h=new Xe(Re(a,l),null,(u&fr)===fr?t.readLeftID():null,null,(u&Cs)===Cs?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&$d)===$d?t.readString():null,zM(t,u));o[c]=h,l+=h.length}}}}return n},YG=(t,e,n)=>{const r=[];let i=rl(n.keys()).sort((f,p)=>f-p);if(i.length===0)return null;const s=()=>{if(i.length===0)return null;let f=n.get(i[i.length-1]);for(;f.refs.length===f.i;)if(i.pop(),i.length>0)f=n.get(i[i.length-1]);else return null;return f};let o=s();if(o===null)return null;const a=new fM,l=new Map,c=(f,p)=>{const g=l.get(f);(g==null||g>p)&&l.set(f,p)};let u=o.refs[o.i++];const d=new Map,h=()=>{for(const f of r){const p=f.id.client,g=n.get(p);g?(g.i--,a.clients.set(p,g.refs.slice(g.i)),n.delete(p),g.i=0,g.refs=[]):a.clients.set(p,[f]),i=i.filter(w=>w!==p)}r.length=0};for(;;){if(u.constructor!==ri){const p=ia(d,u.id.client,()=>jt(e,u.id.client))-u.id.clock;if(p<0)r.push(u),c(u.id.client,u.id.clock-1),h();else{const g=u.getMissing(t,e);if(g!==null){r.push(u);const w=n.get(g)||{refs:[],i:0};if(w.refs.length===w.i)c(g,jt(e,g)),h();else{u=w.refs[w.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(r.length>0)u=r.pop();else if(o!==null&&o.i<o.refs.length)u=o.refs[o.i++];else{if(o=s(),o===null)break;u=o.refs[o.i++]}}if(a.clients.size>0){const f=new l1;return uM(f,a,new Map),$e(f.restEncoder,0),{missing:l,update:f.toUint8Array()}}return null},XG=(t,e)=>uM(t,e.doc.store,e.beforeState),QG=(t,e,n,r=new Yp(t))=>st(e,i=>{i.local=!1;let s=!1;const o=i.doc,a=o.store,l=JG(r,o),c=YG(i,a,l),u=a.pendingStructs;if(u){for(const[h,f]of u.missing)if(f<jt(a,h)){s=!0;break}if(c){for(const[h,f]of c.missing){const p=u.missing.get(h);(p==null||p>f)&&u.missing.set(h,f)}u.update=hb([u.update,c.update])}}else a.pendingStructs=c;const d=rb(r,i,a);if(a.pendingDs){const h=new Yp(j3(a.pendingDs));gt(h.restDecoder);const f=rb(h,i,a);d&&f?a.pendingDs=hb([d,f]):a.pendingDs=d||f}else a.pendingDs=d;if(s){const h=a.pendingStructs.update;a.pendingStructs=null,gy(i.doc,h)}},n,!1),gy=(t,e,n,r=Yp)=>{const i=j3(e);QG(i,t,n,new r(i))};class ZG{constructor(){this.l=[]}}const ib=()=>new ZG,sb=(t,e)=>t.l.push(e),ob=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},dM=(t,e,n)=>U3(t.l,[e,n]);class ac{constructor(e,n){this.client=e,this.clock=n}}const gh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Re=(t,e)=>new ac(t,e),Kd=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw vr()},Gd=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Xp{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}class eJ{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const tJ=(t,e,n=0)=>new eJ(t,e,n),vh=(t,e,n)=>{let r=null,i=null;return t._item===null?i=Kd(t):r=Re(t._item.id.client,t._item.id.clock),new Xp(r,i,e,n)},Kg=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return vh(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return vh(t,Re(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return vh(t,r.lastId,n);r=r.right}return vh(t,null,n)},nJ=(t,e,n=!0)=>{const r=e.store,i=t.item,s=t.type,o=t.tname,a=t.assoc;let l=null,c=0;if(i!==null){if(jt(r,i.client)<=i.clock)return null;const u=n?by(r,i):{item:lc(r,i),diff:0},d=u.item;if(!(d instanceof Xe))return null;if(l=d.parent,l._item===null||!l._item.deleted){c=d.deleted||!d.countable?0:u.diff+(a>=0?0:1);let h=d.left;for(;h!==null;)!h.deleted&&h.countable&&(c+=h.length),h=h.left}}else{if(o!==null)l=e.get(o);else if(s!==null){if(jt(r,s.client)<=s.clock)return null;const{item:u}=n?by(r,s):{item:lc(r,s)};if(u instanceof Xe&&u.content instanceof vi)l=u.content.type;else return null}else throw vr();a>=0?c=l._length:c=0}return tJ(l,c,t.assoc)};class G3{constructor(e,n){this.ds=e,this.sv=n}}const hM=(t,e)=>new G3(t,e),Gg=t=>hM($G(t.store),c1(t.store)),ba=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Zc(e.ds,t.id),vy=(t,e)=>{const n=ia(t.meta,vy,nl),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<jt(r,s)&&Kn(t,Re(s,i))}),$o(t,e.ds,i=>{}),n.add(e))};class fM{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const c1=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},jt=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},pM=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw vr()}n.push(e)},Gi=(t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let o=Ls(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;n=o+1}else r=o-1;o=Ls((n+r)/2)}throw vr()},rJ=(t,e)=>{const n=t.clients.get(e.client);return n[Gi(n,e.clock)]},lc=rJ,yy=(t,e,n)=>{const r=Gi(e,n),i=e[r];return i.id.clock<n&&i instanceof Xe?(e.splice(r+1,0,nm(t,i,n-i.id.clock)),r+1):r},Kn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[yy(t,n,e.clock)]},ab=(t,e,n)=>{const r=e.clients.get(n.client),i=Gi(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==Or&&r.splice(i+1,0,nm(t,s,n.clock-s.id.clock+1)),s},iJ=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Gi(r,e.id.clock)]=n},mM=(t,e,n,r,i)=>{if(r===0)return;const s=n+r;let o=yy(t,e,n),a;do a=e[o++],s<a.id.clock+a.length&&yy(t,e,s),i(a);while(o<e.length&&e[o].id.clock<s)};class sJ{constructor(e,n,r){this.doc=e,this.deleteSet=new Qc,this.beforeState=c1(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const lb=(t,e)=>e.deleteSet.clients.size===0&&!AK(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(q3(e.deleteSet),XG(t,e),K3(t,e.deleteSet),!0),cb=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&ia(t.changed,e,nl).add(n)},ff=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Xe&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},oJ=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let o=i.length-1;o>=0;o--){const a=i[o],l=a.clock+a.len;for(let c=Gi(s,a.clock),u=s[c];c<s.length&&u.id.clock<l;u=s[++c]){const d=s[c];if(a.clock+a.len<=d.id.clock)break;d instanceof Xe&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},aJ=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],a=r1(i.length-1,1+Gi(i,o.clock+o.len-1));for(let l=a,c=i[l];l>0&&c.id.clock>=o.clock;c=i[l])l-=1+ff(i,l)}})},gM=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,o=n._mergeStructs;try{q3(s),n.afterState=c1(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),dM(c._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),U3(a,[]),n._needFormattingCleanup&&MJ(n)}finally{r.gc&&oJ(s,i,r.gcFilter),aJ(s,i),n.afterState.forEach((u,d)=>{const h=n.beforeState.get(d)||0;if(h!==u){const f=i.clients.get(d),p=Xc(Gi(f,h),1);for(let g=f.length-1;g>=p;)g-=1+ff(f,g)}});for(let u=o.length-1;u>=0;u--){const{client:d,clock:h}=o[u].id,f=i.clients.get(d),p=Gi(f,h);p+1<f.length&&ff(f,p+1)>1||p>0&&ff(f,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(FG(V3,tM,"[yjs] ",nM,rM,"Changed the client-id because another client seems to be using it."),r.clientID=cM()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const u=new qG;lb(u,n)&&r.emit("update",[u.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const u=new l1;lb(u,n)&&r.emit("updateV2",[u.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):gM(t,e+1)}}},st=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new sJ(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const a=t._transaction===i[0];t._transaction=null,a&&gM(i,0)}}return o};class lJ{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const ub=(t,e,n)=>{$o(t,n.deletions,r=>{r instanceof Xe&&e.scope.some(i=>Gd(i,r))&&Z3(r,!1)})},db=(t,e,n)=>{let r=null;const i=t.doc,s=t.scope;st(i,a=>{for(;e.length>0&&t.currStackItem===null;){const l=i.store,c=e.pop(),u=new Set,d=[];let h=!1;$o(a,c.insertions,f=>{if(f instanceof Xe){if(f.redone!==null){let{item:p,diff:g}=by(l,f.id);g>0&&(p=Kn(a,Re(p.id.client,p.id.clock+g))),f=p}!f.deleted&&s.some(p=>Gd(p,f))&&d.push(f)}}),$o(a,c.deletions,f=>{f instanceof Xe&&s.some(p=>Gd(p,f))&&!Zc(c.insertions,f.id)&&u.add(f)}),u.forEach(f=>{h=PM(a,f,u,c.insertions,t.ignoreRemoteMapChanges,t)!==null||h});for(let f=d.length-1;f>=0;f--){const p=d[f];t.deleteFilter(p)&&(p.delete(a),h=!0)}t.currStackItem=h?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=a},t);const o=t.currStackItem;if(o!=null){const a=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return o};class vM extends UT{constructor(e,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=cy(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=i,s.add(this),this.trackedOrigins=s,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(w=>l.changedParentTypes.has(w))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const h=new Qc;l.afterState.forEach((w,y)=>{const b=l.beforeState.get(y)||0,C=w-b;C>0&&qd(h,y,b,C)});const f=uG();let p=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const w=d[d.length-1];w.deletions=my([w.deletions,l.deleteSet]),w.insertions=my([w.insertions,h])}else d.push(new lJ(l.deleteSet,h)),p=!0;!c&&!u&&(this.lastChange=f),$o(l,l.deleteSet,w=>{w instanceof Xe&&this.scope.some(y=>Gd(y,w))&&Z3(w,!0)});const g=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=cy(e)?e:[e],e.forEach(n=>{this.scope.every(r=>r!==n)&&(n.doc!==this.doc&&sM("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>ub(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>ub(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=db(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=db(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*cJ(t){const e=gt(t.restDecoder);for(let n=0;n<e;n++){const r=gt(t.restDecoder),i=t.readClient();let s=gt(t.restDecoder);for(let o=0;o<r;o++){const a=t.readInfo();if(a===10){const l=gt(t.restDecoder);yield new ri(Re(i,s),l),s+=l}else if(i1&a){const l=(a&(Cs|fr))===0,c=new Xe(Re(i,s),null,(a&fr)===fr?t.readLeftID():null,null,(a&Cs)===Cs?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&$d)===$d?t.readString():null,zM(t,a));yield c,s+=c.length}else{const l=t.readLen();yield new Or(Re(i,s),l),s+=l}}}}class uJ{constructor(e,n){this.gen=cJ(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ri);return this.curr}}class dJ{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const hJ=(t,e)=>{if(t.constructor===Or){const{client:n,clock:r}=t.id;return new Or(Re(n,r+e),t.length-e)}else if(t.constructor===ri){const{client:n,clock:r}=t.id;return new ri(Re(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new Xe(Re(r,i+e),null,Re(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},hb=(t,e=Yp,n=l1)=>{if(t.length===1)return t[0];const r=t.map(u=>new e(j3(u)));let i=r.map(u=>new uJ(u,!0)),s=null;const o=new n,a=new dJ(o);for(;i=i.filter(h=>h.curr!==null),i.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){const p=h.curr.id.clock-f.curr.id.clock;return p===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===ri?1:-1:p}else return f.curr.id.client-h.curr.id.client}),i.length!==0;){const u=i[0],d=u.curr.id.client;if(s!==null){let h=u.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=u.next(),f=!0;if(h===null||h.id.client!==d||f&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(d!==s.struct.id.client)Su(a,s.struct,s.offset),s={struct:h,offset:0},u.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===ri)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{Su(a,s.struct,s.offset);const p=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new ri(Re(d,s.struct.id.clock+s.struct.length),p),offset:0}}else{const p=s.struct.id.clock+s.struct.length-h.id.clock;p>0&&(s.struct.constructor===ri?s.struct.length-=p:h=hJ(h,p)),s.struct.mergeWith(h)||(Su(a,s.struct,s.offset),s={struct:h,offset:0},u.next())}}else s={struct:u.curr,offset:0},u.next();for(let h=u.curr;h!==null&&h.id.client===d&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==ri;h=u.next())Su(a,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(Su(a,s.struct,s.offset),s=null),fJ(a);const l=r.map(u=>UG(u)),c=my(l);return K3(o,c),o.toUint8Array()},yM=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Bi(t.encoder.restEncoder)}),t.encoder.restEncoder=s1(),t.written=0)},Su=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&yM(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),$e(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},fJ=t=>{yM(t);const e=t.encoder.restEncoder;$e(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];$e(e,r.written),o1(e,r.restEncoder)}},fb="You must not compute changes after the event-handler fired.";class u1{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=pJ(this.currentTarget,this.target))}deletes(e){return Zc(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ho(fb);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let o,a;if(this.adds(s)){let l=s.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(s))if(l!==null&&this.deletes(l))o="delete",a=Hg(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=Hg(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(s))o="delete",a=Hg(s.content.getContent());else return;e.set(i,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ho(fb);const n=this.target,r=nl(),i=nl(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&s.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,i.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const pJ=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},Cn=()=>{sM("Invalid access: Add Yjs type to a document before reading data.")},wM=80;let J3=0;class mJ{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=J3++}}const gJ=t=>{t.timestamp=J3++},bM=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=J3++},vJ=(t,e,n)=>{if(t.length>=wM){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return bM(r,e,n),r}else{const r=new mJ(e,n);return t.push(r),r}},d1=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>uf(e-s.index)<uf(e-o.index)?s:o);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,gJ(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&uf(n.index-i)<r.parent.length/wM?(bM(n,r,i),n):vJ(t._searchMarker,r,i)},Jd=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Xc(e,i.index+n))}},h1=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;ia(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;dM(r._eH,n,e)};class gn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=ib(),this._dEH=ib(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw ui()}clone(){throw ui()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){sb(this._eH,e)}observeDeep(e){sb(this._dEH,e)}unobserve(e){ob(this._eH,e)}unobserveDeep(e){ob(this._dEH,e)}toJSON(){}}const kM=(t,e,n)=>{t.doc??Cn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&r>0;a++)i.push(o[a]),r--;e=0}}s=s.right}return i},SM=t=>{t.doc??Cn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},xM=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&ba(r,e)){const i=r.content.getContent();for(let s=0;s<i.length;s++)n.push(i[s])}r=r.right}return n},Yd=(t,e)=>{let n=0,r=t._start;for(t.doc??Cn();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},CM=(t,e)=>{const n=[];return Yd(t,(r,i)=>{n.push(e(r,i,t))}),n},yJ=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},EM=(t,e)=>{t.doc??Cn();const n=d1(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Qp=(t,e,n,r)=>{let i=n;const s=t.doc,o=s.clientID,a=s.store,l=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new Xe(Re(o,jt(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new sl(c)),i.integrate(t,0),c=[])};r.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:i=new Xe(Re(o,jt(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new S0(new Uint8Array(d))),i.integrate(t,0);break;case eu:i=new Xe(Re(o,jt(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new x0(d)),i.integrate(t,0);break;default:if(d instanceof gn)i=new Xe(Re(o,jt(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new vi(d)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},TM=()=>Ho("Length exceeded!"),MM=(t,e,n,r)=>{if(n>e._length)throw TM();if(n===0)return e._searchMarker&&Jd(e._searchMarker,n,r.length),Qp(t,e,null,r);const i=n,s=d1(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Kn(t,Re(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&Jd(e._searchMarker,i,r.length),Qp(t,e,o,r)},wJ=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Qp(t,e,i,n)},AM=(t,e,n,r)=>{if(r===0)return;const i=n,s=r,o=d1(e,n);let a=e._start;for(o!==null&&(a=o.p,n-=o.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Kn(t,Re(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Kn(t,Re(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw TM();e._searchMarker&&Jd(e._searchMarker,i,-s+r)},Zp=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},Y3=(t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,o=s.clientID;let a;if(r==null)a=new sl([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new sl([r]);break;case Uint8Array:a=new S0(r);break;case eu:a=new x0(r);break;default:if(r instanceof gn)a=new vi(r);else throw new Error("Unexpected content type")}new Xe(Re(o,jt(s.store,o)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},X3=(t,e)=>{t.doc??Cn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},OM=t=>{const e={};return t.doc??Cn(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},IM=(t,e)=>{t.doc??Cn();const n=t._map.get(e);return n!==void 0&&!n.deleted},bJ=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&ba(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},yh=t=>(t.doc??Cn(),jG(t._map.entries(),e=>!e[1].deleted));class kJ extends u1{}class cc extends gn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new cc;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new cc}clone(){const e=new cc;return e.insert(0,this.toArray().map(n=>n instanceof gn?n.clone():n)),e}get length(){return this.doc??Cn(),this._length}_callObserver(e,n){super._callObserver(e,n),h1(this,e,new kJ(this,e))}insert(e,n){this.doc!==null?st(this.doc,r=>{MM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?st(this.doc,n=>{wJ(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?st(this.doc,r=>{AM(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return EM(this,e)}toArray(){return SM(this)}slice(e=0,n=this.length){return kM(this,e,n)}toJSON(){return this.map(e=>e instanceof gn?e.toJSON():e)}map(e){return CM(this,e)}forEach(e){Yd(this,e)}[Symbol.iterator](){return yJ(this)}_write(e){e.writeTypeRef(qJ)}}const SJ=t=>new cc;class xJ extends u1{constructor(e,n,r){super(e,n),this.keysChanged=r}}class zc extends gn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new zc}clone(){const e=new zc;return this.forEach((n,r)=>{e.set(r,n instanceof gn?n.clone():n)}),e}_callObserver(e,n){h1(this,e,new xJ(this,e,n))}toJSON(){this.doc??Cn();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof gn?i.toJSON():i}}),e}get size(){return[...yh(this)].length}keys(){return qg(yh(this),e=>e[0])}values(){return qg(yh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return qg(yh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Cn(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?st(this.doc,n=>{Zp(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?st(this.doc,r=>{Y3(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return X3(this,e)}has(e){return IM(this,e)}clear(){this.doc!==null?st(this.doc,e=>{this.forEach(function(n,r,i){Zp(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(KJ)}}const CJ=t=>new zc,ko=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&wG(t,e);class wy{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&vr(),this.right.content.constructor){case Kt:this.right.deleted||tu(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const pb=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Kt:e.right.deleted||tu(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Kn(t,Re(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},wh=(t,e,n,r)=>{const i=new Map,s=r?d1(e,n):null;if(s){const o=new wy(s.p.left,s.p,s.index,i);return pb(t,o,n-s.index)}else{const o=new wy(null,e._start,0,i);return pb(t,o,n)}},NM=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Kt&&ko(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((o,a)=>{const l=n.left,c=n.right,u=new Xe(Re(s,jt(i.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,new Kt(a,o));u.integrate(t,0),n.right=u,n.forward()})},tu=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},DM=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Kt&&ko(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},RM=(t,e,n,r)=>{const i=t.doc,s=i.clientID,o=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)??null;if(!ko(c,l)){o.set(a,c);const{left:u,right:d}=n;n.right=new Xe(Re(s,jt(i.store,s)),u,u&&u.lastId,d,d&&d.id,e,null,new Kt(a,l)),n.right.integrate(t,0),n.forward()}}return o},Jg=(t,e,n,r,i)=>{n.currentAttributes.forEach((h,f)=>{i[f]===void 0&&(i[f]=null)});const s=t.doc,o=s.clientID;DM(n,i);const a=RM(t,e,n,i),l=r.constructor===String?new mi(r):r instanceof gn?new vi(r):new ul(r);let{left:c,right:u,index:d}=n;e._searchMarker&&Jd(e._searchMarker,n.index,l.getLength()),u=new Xe(Re(o,jt(s.store,o)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(t,0),n.right=u,n.index=d,n.forward(),NM(t,e,n,a)},mb=(t,e,n,r,i)=>{const s=t.doc,o=s.clientID;DM(n,i);const a=RM(t,e,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Kt));){if(!n.right.deleted)switch(n.right.content.constructor){case Kt:{const{key:l,value:c}=n.right.content,u=i[l];if(u!==void 0){if(ko(u,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}n.right.delete(t)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Kn(t,Re(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Xe(Re(o,jt(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new mi(l)),n.right.integrate(t,0),n.forward()}NM(t,e,n,a)},_M=(t,e,n,r,i)=>{let s=e;const o=ci();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Kt){const c=s.content;o.set(c.key,c)}s=s.right}let a=0,l=!1;for(;e!==s;){if(n===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case Kt:{const{key:u,value:d}=c,h=r.get(u)??null;(o.get(u)!==c||h===d)&&(e.delete(t),a++,!l&&(i.get(u)??null)===d&&h!==d&&(h===null?i.delete(u):i.set(u,h))),!l&&!e.deleted&&tu(i,c);break}}}e=e.right}return a},EJ=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Kt){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},TJ=t=>{let e=0;return st(t.doc,n=>{let r=t._start,i=t._start,s=ci();const o=ly(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Kt:tu(o,i.content);break;default:e+=_M(n,r,i,s,o),s=ly(o),r=i;break}i=i.right}}),e},MJ=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&mM(t,n.store.clients.get(r),s,i,o=>{!o.deleted&&o.content.constructor===Kt&&o.constructor!==Or&&e.add(o.parent)})}st(n,r=>{$o(t,t.deleteSet,i=>{if(i instanceof Or||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Kt?e.add(s):EJ(r,i)});for(const i of e)TJ(i)})},gb=(t,e,n)=>{const r=n,i=ly(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case vi:case ul:case mi:n<e.right.length&&Kn(t,Re(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&_M(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Jd(o._searchMarker,e.index,-r+n),e};class AJ extends u1{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];st(e,r=>{const i=new Map,s=new Map;let o=this.target._start,a=null;const l={};let c="",u=0,d=0;const h=()=>{if(a!==null){let f=null;switch(a){case"delete":d>0&&(f={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},i.size>0&&(f.attributes={},i.forEach((p,g)=>{p!==null&&(f.attributes[g]=p)}))),c="";break;case"retain":u>0&&(f={retain:u},gG(l)||(f.attributes=pG({},l))),u=0;break}f&&n.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case vi:case ul:this.adds(o)?this.deletes(o)||(h(),a="insert",c=o.content.getContent()[0],h()):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=1):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=1);break;case mi:this.adds(o)?this.deletes(o)||(a!=="insert"&&(h(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=o.length):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=o.length);break;case Kt:{const{key:f,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const g=i.get(f)??null;ko(g,p)?p!==null&&o.delete(r):(a==="retain"&&h(),ko(p,s.get(f)??null)?delete l[f]:l[f]=p)}}else if(this.deletes(o)){s.set(f,p);const g=i.get(f)??null;ko(g,p)||(a==="retain"&&h(),l[f]=g)}else if(!o.deleted){s.set(f,p);const g=l[f];g!==void 0&&(ko(g,p)?g!==null&&o.delete(r):(a==="retain"&&h(),p===null?delete l[f]:l[f]=p))}o.deleted||(a==="insert"&&h(),tu(i,o.content));break}}o=o.right}for(h();n.length>0;){const f=n[n.length-1];if(f.retain!==void 0&&f.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Uo extends gn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Cn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Uo}clone(){const e=new Uo;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new AJ(this,e,n);h1(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Cn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===mi&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?st(this.doc,r=>{const i=new wy(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const a=!n&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&Jg(r,this,i,a,o.attributes||{})}else o.retain!==void 0?mb(r,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&gb(r,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Cn();const i=[],s=new Map,o=this.doc;let a="",l=this._start;function c(){if(a.length>0){const d={};let h=!1;s.forEach((p,g)=>{h=!0,d[g]=p});const f={insert:a};h&&(f.attributes=d),i.push(f),a=""}}const u=()=>{for(;l!==null;){if(ba(l,e)||n!==void 0&&ba(l,n))switch(l.content.constructor){case mi:{const d=s.get("ychange");e!==void 0&&!ba(l,e)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),s.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!ba(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),s.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(c(),s.delete("ychange")),a+=l.content.str;break}case vi:case ul:{c();const d={insert:l.content.getContent()[0]};if(s.size>0){const h={};d.attributes=h,s.forEach((f,p)=>{h[p]=f})}i.push(d);break}case Kt:ba(l,e)&&(c(),tu(s,l.content));break}l=l.right}c()};return e||n?st(o,d=>{e&&vy(d,e),n&&vy(d,n),u()},"cleanup"):u(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?st(i,s=>{const o=wh(s,this,e,!r);r||(r={},o.currentAttributes.forEach((a,l)=>{r[l]=a})),Jg(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?st(i,s=>{const o=wh(s,this,e,!r);Jg(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?st(r,i=>{gb(i,wh(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?st(i,s=>{const o=wh(s,this,e,!1);o.right!==null&&mb(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?st(this.doc,n=>{Zp(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?st(this.doc,r=>{Y3(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return X3(this,e)}getAttributes(){return OM(this)}_write(e){e.writeTypeRef(GJ)}}const OJ=t=>new Uo;class Yg{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Cn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Dn||n.constructor===il)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class il extends gn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new il}clone(){const e=new il;return e.insert(0,this.toArray().map(n=>n instanceof gn?n.clone():n)),e}get length(){return this.doc??Cn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Yg(this,e)}querySelector(e){e=e.toUpperCase();const r=new Yg(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),rl(new Yg(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){h1(this,e,new DJ(this,n,e))}toString(){return CM(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),Yd(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?st(this.doc,r=>{MM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)st(this.doc,r=>{const i=e&&e instanceof gn?e._item:e;Qp(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw Ho("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?st(this.doc,r=>{AM(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return SM(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return EM(this,e)}slice(e=0,n=this.length){return kM(this,e,n)}forEach(e){Yd(this,e)}_write(e){e.writeTypeRef(YJ)}}const IJ=t=>new il;class Dn extends il{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Dn(this.nodeName)}clone(){const e=new Dn(this.nodeName),n=this.getAttributes();return mG(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof gn?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?st(this.doc,n=>{Zp(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?st(this.doc,r=>{Y3(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return X3(this,e)}hasAttribute(e){return IM(this,e)}getAttributes(e){return e?bJ(this,e):OM(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const a=s[o];typeof a=="string"&&i.setAttribute(o,a)}return Yd(this,o=>{i.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(JJ),e.writeKey(this.nodeName)}}const NJ=t=>new Dn(t.readKey());class DJ extends u1{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class em extends zc{constructor(e){super(),this.hookName=e}_copy(){return new em(this.hookName)}clone(){const e=new em(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(XJ),e.writeKey(this.hookName)}}const RJ=t=>new em(t.readKey());class pr extends Uo{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new pr}clone(){const e=new pr;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,a)=>o.key<a.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const a=s.attrs[o];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(QJ)}}const _J=t=>new pr;class Q3{constructor(e,n){this.id=e,this.length=n}get deleted(){throw ui()}mergeWith(e){return!1}write(e,n,r){throw ui()}integrate(e,n){throw ui()}}const LJ=0;class Or extends Q3{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),pM(e.doc.store,this)}write(e,n){e.writeInfo(LJ),e.writeLen(this.length-n)}getMissing(e,n){return null}}class S0{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new S0(this.content)}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const PJ=t=>new S0(t.readBuf());class Xd{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Xd(this.len)}splice(e){const n=new Xd(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){qd(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const zJ=t=>new Xd(t.readLen()),LM=(t,e)=>new eu({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class x0{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new x0(LM(this.doc.guid,this.opts))}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const BJ=t=>new x0(LM(t.readString(),t.readAny()));class ul{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ul(this.embed)}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const FJ=t=>new ul(t.readJSON());class Kt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Kt(this.key,this.value)}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const jJ=t=>new Kt(t.readKey(),t.readJSON());class tm{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new tm(this.arr)}splice(e){const n=new tm(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const HJ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new tm(n)},$J=Jp("node_env")==="development";class sl{constructor(e){this.arr=e,$J&&XT(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new sl(this.arr)}splice(e){const n=new sl(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const UJ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new sl(n)};class mi{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new mi(this.str)}splice(e){const n=new mi(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"�",n.str="�"+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const VJ=t=>new mi(t.readString()),WJ=[SJ,CJ,OJ,NJ,IJ,RJ,_J],qJ=0,KJ=1,GJ=2,JJ=3,YJ=4,XJ=5,QJ=6;class vi{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new vi(this.type._copy())}splice(e){throw ui()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const ZJ=t=>new vi(WJ[t.readTypeRef()](t)),by=(t,e)=>{let n=e,r=0,i;do r>0&&(n=Re(n.client,n.clock+r)),i=lc(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof Xe);return{item:i,diff:r}},Z3=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},nm=(t,e,n)=>{const{client:r,clock:i}=e.id,s=new Xe(Re(r,i+n),e,Re(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=Re(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},vb=(t,e)=>IK(t,n=>Zc(n.deletions,e)),PM=(t,e,n,r,i,s)=>{const o=t.doc,a=o.store,l=o.clientID,c=e.redone;if(c!==null)return Kn(t,c);let u=e.parent._item,d=null,h;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!n.has(u)||PM(t,u,n,r,i,s)===null))return null;for(;u.redone!==null;)u=Kn(t,u.redone)}const f=u===null?e.parent:u.content.type;if(e.parentSub===null){for(d=e.left,h=e;d!==null;){let y=d;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:Kn(t,y.redone);if(y!==null&&y.parent._item===u){d=y;break}d=d.left}for(;h!==null;){let y=h;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:Kn(t,y.redone);if(y!==null&&y.parent._item===u){h=y;break}h=h.right}}else if(h=null,e.right&&!i){for(d=e;d!==null&&d.right!==null&&(d.right.redone||Zc(r,d.right.id)||vb(s.undoStack,d.right.id)||vb(s.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Kn(t,d.redone);if(d&&d.right!==null)return null}else d=f._map.get(e.parentSub)||null;const p=jt(a,l),g=Re(l,p),w=new Xe(g,d,d&&d.lastId,h,h&&h.id,f,e.parentSub,e.content.copy());return e.redone=g,Z3(w,!0),w.integrate(t,0),w};class Xe extends Q3{constructor(e,n,r,i,s,o,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?K8:0}set marker(e){(this.info&Ug)>0!==e&&(this.info^=Ug)}get marker(){return(this.info&Ug)>0}get keep(){return(this.info&q8)>0}set keep(e){this.keep!==e&&(this.info^=q8)}get countable(){return(this.info&K8)>0}get deleted(){return(this.info&$g)>0}set deleted(e){this.deleted!==e&&(this.info^=$g)}markDeleted(){this.info|=$g}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=jt(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=jt(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ac&&this.id.client!==this.parent.client&&this.parent.clock>=jt(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=ab(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Kn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Or||this.right&&this.right.constructor===Or)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Xe&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Xe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ac){const r=lc(n,this.parent);r.constructor===Or?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=ab(e,e.doc.store,Re(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),gh(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(gh(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(lc(e.doc.store,i.origin)))s.has(lc(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),pM(e.doc.store,this),this.content.integrate(e,this),cb(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Or(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Re(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&gh(e.origin,this.lastId)&&this.right===e&&gh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),qd(e.deleteSet,this.id.client,this.id.clock,this.length),cb(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw vr();this.content.gc(e),n?iJ(e,this,new Or(this.id,this.length)):this.content=new Xd(this.length)}write(e,n){const r=n>0?Re(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&i1|(r===null?0:fr)|(i===null?0:Cs)|(s===null?0:$d);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=Kd(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===ac?(e.writeParentInfo(!1),e.writeLeftID(a)):vr();s!==null&&e.writeString(s)}this.content.write(e,n)}}const zM=(t,e)=>eY[e&i1](t),eY=[()=>{vr()},zJ,HJ,PJ,VJ,FJ,jJ,ZJ,UJ,BJ,()=>{vr()}],tY=10;class ri extends Q3{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){vr()}write(e,n){e.writeInfo(tY),$e(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const BM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},FM="__ $YJS$ __";BM[FM]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");BM[FM]=!0;const nY=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},rY=/[\uD800-\uDBFF]/,iY=/[\uDC00-\uDFFF]/,sY=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&rY.test(t[n-1])&&n--;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&iY.test(t[t.length-r])&&r--,{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},oY=sY,Lt=new lt("y-sync"),Es=new lt("y-undo");new lt("yjs-cursor");const rm=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!Zc(e.ds,t.id),aY=[{light:"#ecd44433",dark:"#ecd444"}],lY=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=nl();t.forEach(i=>r.add(i)),e=e.filter(i=>!r.has(i))}t.set(n,aG(e))}return t.get(n)},cY=(t,{colors:e=aY,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:s}={})=>{let o=!1;const a=new dY(t,s),l=new nt({props:{editable:c=>{const u=Lt.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:Lt,state:{init:(c,u)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(c,u)=>{const d=c.getMeta(Lt);if(d!==void 0){u=Object.assign({},u);for(const h in d)u[h]=d[h]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,a.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&eM(0,()=>{a.prosemirrorView!=null&&(d.restore==null?a._renderSnapshot(d.snapshot,d.prevSnapshot,u):(a._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),u}},view:c=>(a.initView(c),s==null&&a._forceRerender(),i(),{update:()=>{const u=l.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(o||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(o=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=Es.getState(c.state),h=d&&d.undoManager;h&&h.stopCapturing()}a.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),a._prosemirrorChanged(c.state.doc)},Lt)})}},destroy:()=>{a.destroy()}})});return l},uY=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null){const r=Ty(n.doc,n.type,e.anchor,n.mapping),i=Ty(n.doc,n.type,e.head,n.mapping);r!==null&&i!==null&&(t=t.setSelection(me.create(t.doc,r,i)))}},ky=(t,e)=>({anchor:Ey(e.selection.anchor,t.type,t.mapping),head:Ey(e.selection.head,t.type,t.mapping)});class dY{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=nY(),this.mapping=n,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=ky(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(SG&&this._domSelectionInView===null&&(eM(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),s=MG.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||s.clientWidth||0)&&i.top<=(window.innerHeight||s.clientHeight||0)}renderSnapshot(e,n){n||(n=hM(lM(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Lt,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(r=>pf(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J(H.from(e),0,0));n.setMeta(Lt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>pf(i,this.prosemirrorView.state.schema,this.mapping)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J(H.from(n),0,0));e&&r.setSelection(me.create(r.doc,e.anchor,e.head)),this.prosemirrorView.dispatch(r.setMeta(Lt,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,r){let i=this.doc;e||(e=Gg(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&vr(),i=new eu({gc:!1}),gy(i,n),n=Gg(i),gy(i,e),e=Gg(i)),this.mapping.clear(),this.mux(()=>{i.transact(s=>{const o=r.permanentUserData;o&&o.dss.forEach(u=>{$o(s,u,d=>{})});const a=(u,d)=>{const h=u==="added"?o.getUserByClientId(d.client):o.getUserByDeletedId(d);return{user:h,type:u,color:lY(r.colorMapping,r.colors,h)}},l=xM(this.type,new G3(n.ds,e.sv)).map(u=>!u._item.deleted||rm(u._item,e)||rm(u._item,n)?pf(u,this.prosemirrorView.state.schema,new Map,e,n,a):null).filter(u=>u!==null),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J(H.from(l),0,0));this.prosemirrorView.dispatch(c.setMeta(Lt,{isChangeOrigin:!0}))},Lt)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const r=Lt.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(a,l)=>this.mapping.delete(l);$o(n,n.deleteSet,a=>{if(a.constructor===Xe){const l=a.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const s=this.type.toArray().map(a=>jM(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null);let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J(H.from(s),0,0));uY(o,this.beforeTransactionSelection,this),o=o.setMeta(Lt,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof vM}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{xy(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=ky(this,this.prosemirrorView.state)},Lt)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const jM=(t,e,n,r,i,s)=>{const o=n.get(t);if(o===void 0){if(t instanceof Dn)return pf(t,e,n,r,i,s);throw ui()}return o},pf=(t,e,n,r,i,s)=>{const o=[],a=l=>{var c;if(l.constructor===Dn){const u=jM(l,e,n,r,i,s);u!==null&&o.push(u)}else{const u=(c=l._item.right)==null?void 0:c.content.type;u instanceof Uo&&!u._item.deleted&&u._item.id.client===u.doc.clientID&&(l.applyDelta([{retain:l.length},...u.toDelta()]),u.doc.transact(h=>{u._item.delete(h)}));const d=hY(l,e,n,r,i,s);d!==null&&d.forEach(h=>{h!==null&&o.push(h)})}};r===void 0||i===void 0?t.toArray().forEach(a):xM(t,new G3(i.ds,r.sv)).forEach(a);try{const l=t.getAttributes(r);r!==void 0&&(rm(t._item,r)?rm(t._item,i)||(l.ychange=s?s("added",t._item.id):{type:"added"}):l.ychange=s?s("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,l,o);return n.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Lt),n.delete(t),null}},hY=(t,e,n,r,i,s)=>{const o=[],a=t.toDelta(r,i,s);try{for(let l=0;l<a.length;l++){const c=a[l],u=[];for(const d in c.attributes)u.push(e.mark(d,c.attributes[d]));o.push(e.text(c.insert,u))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Lt),null}return o},fY=(t,e)=>{const n=new pr,r=t.map(i=>({insert:i.text,attributes:$M(i.marks)}));return n.applyDelta(r),e.set(n,t),n},pY=(t,e)=>{const n=new Dn(t.type.name);for(const r in t.attrs){const i=t.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,f1(t).map(r=>Sy(r,e))),e.set(n,t),n},Sy=(t,e)=>t instanceof Array?fY(t,e):pY(t,e),yb=t=>typeof t=="object"&&t!==null,e5=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let r=n.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<n.length&&r;i++){const s=n[i],o=t[s],a=e[s];r=s==="ychange"||o===a||yb(o)&&yb(a)&&e5(o,a)}return r},f1=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.isText){const s=[];for(let o=e[r];r<e.length&&o.isText;o=e[++r])s.push(o);r--,n.push(s)}else n.push(i)}return n},HM=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,i)=>r.insert===e[i].text&&YT(r.attributes||{}).length===e[i].marks.length&&e[i].marks.every(s=>e5(r.attributes[s.type.name]||{},s.attrs)))},Qd=(t,e)=>{if(t instanceof Dn&&!(e instanceof Array)&&Cy(t,e)){const n=f1(e);return t._length===n.length&&e5(t.getAttributes(),e.attrs)&&t.toArray().every((r,i)=>Qd(r,n[i]))}return t instanceof pr&&e instanceof Array&&HM(t,e)},im=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),wb=(t,e,n)=>{const r=t.toArray(),i=f1(e),s=i.length,o=r.length,a=r1(o,s);let l=0,c=0,u=!1;for(;l<a;l++){const d=r[l],h=i[l];if(im(n.get(d),h))u=!0;else if(!Qd(d,h))break}for(;l+c<a;c++){const d=r[o-c-1],h=i[s-c-1];if(im(n.get(d),h))u=!0;else if(!Qd(d,h))break}return{equalityFactor:l+c,foundMappedChild:u}},mY=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof mi?e+=n.content.str:n.content instanceof Kt&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},gY=(t,e,n)=>{n.set(t,e);const{nAttrs:r,str:i}=mY(t),s=e.map(c=>({insert:c.text,attributes:Object.assign({},r,$M(c.marks))})),{insert:o,remove:a,index:l}=oY(i,s.map(c=>c.insert).join(""));t.delete(l,a),t.insert(l,o),t.applyDelta(s.map(c=>({retain:c.insert.length,attributes:c.attributes})))},$M=t=>{const e={};return t.forEach(n=>{n.type.name!=="ychange"&&(e[n.type.name]=n.attrs)}),e},xy=(t,e,n,r)=>{if(e instanceof Dn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(e,n),e instanceof Dn){const d=e.getAttributes(),h=n.attrs;for(const f in h)h[f]!==null?d[f]!==h[f]&&f!=="ychange"&&e.setAttribute(f,h[f]):e.removeAttribute(f);for(const f in d)h[f]===void 0&&e.removeAttribute(f)}const i=f1(n),s=i.length,o=e.toArray(),a=o.length,l=r1(s,a);let c=0,u=0;for(;c<l;c++){const d=o[c],h=i[c];if(!im(r.get(d),h))if(Qd(d,h))r.set(d,h);else break}for(;u+c+1<l;u++){const d=o[a-u-1],h=i[s-u-1];if(!im(r.get(d),h))if(Qd(d,h))r.set(d,h);else break}t.transact(()=>{for(;a-c-u>0&&s-c-u>0;){const h=o[c],f=i[c],p=o[a-u-1],g=i[s-u-1];if(h instanceof pr&&f instanceof Array)HM(h,f)||gY(h,f,r),c+=1;else{let w=h instanceof Dn&&Cy(h,f),y=p instanceof Dn&&Cy(p,g);if(w&&y){const b=wb(h,f,r),C=wb(p,g,r);b.foundMappedChild&&!C.foundMappedChild?y=!1:!b.foundMappedChild&&C.foundMappedChild||b.equalityFactor<C.equalityFactor?w=!1:y=!1}w?(xy(t,h,f,r),c+=1):y?(xy(t,p,g,r),u+=1):(r.delete(e.get(c)),e.delete(c,1),e.insert(c,[Sy(f,r)]),c+=1)}}const d=a-c-u;if(a===1&&s===0&&o[0]instanceof pr?(r.delete(o[0]),o[0].delete(0,o[0].length)):d>0&&(e.slice(c,c+d).forEach(h=>r.delete(h)),e.delete(c,d)),c+u<s){const h=[];for(let f=c;f<s-u;f++)h.push(Sy(i[f],r));e.insert(c,h)}},Lt)},Cy=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name,Ey=(t,e,n)=>{if(t===0)return Kg(e,0,-1);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof pr){if(r._length>=t)return Kg(r,t,-1);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<i)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&i>1)return new Xp(r._item===null?null:r._item.id,r._item===null?Kd(r):null,null);if(t-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new Xp(r._item===null?null:r._item.id,r._item===null?Kd(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw vr();if(t===0&&r.constructor!==pr&&r!==e)return vY(r._item.parent,r._item)}return Kg(e,e._length,-1)},vY=(t,e)=>{let n=null,r=null;return t._item===null?r=Kd(t):n=Re(t._item.id.client,t._item.id.clock),new Xp(n,r,e.id)},Ty=(t,e,n,r)=>{const i=nJ(n,t);if(i===null||i.type!==e&&!Gd(e,i.type._item))return null;let s=i.type,o=0;if(s.constructor===pr)o=i.index;else if(s._item===null||!s._item.deleted){let a=s._first,l=0;for(;l<s._length&&l<i.index&&a!==null;){if(!a.deleted){const c=a.content.type;l++,c instanceof pr?o+=c._length:o+=r.get(c).nodeSize}a=a.right}o+=1}for(;s!==e&&s._item!==null;){const a=s._item.parent;if(a._item===null||!a._item.deleted){o+=1;let l=a._first;for(;l!==null;){const c=l.content.type;if(c===s)break;l.deleted||(c instanceof pr?o+=c._length:o+=r.get(c).nodeSize),l=l.right}}s=a}return o-1};function yY(t){const e=t.toArray();function n(r){let i;if(!r.nodeName)i=r.toDelta().map(o=>{const a={type:"text",text:o.insert};return o.attributes&&(a.marks=Object.keys(o.attributes).map(l=>{const c=o.attributes[l],u={type:l};return Object.keys(c)&&(u.attrs=c),u})),a});else{i={type:r.nodeName};const s=r.getAttributes();Object.keys(s).length&&(i.attrs=s);const o=r.toArray();o.length&&(i.content=o.map(n).flat())}return i}return{type:"doc",content:e.map(n)}}const wY=t=>{const e=Es.getState(t).undoManager;if(e!=null)return e.undo(),!0},bY=t=>{const e=Es.getState(t).undoManager;if(e!=null)return e.redo(),!0},kY=new Set(["paragraph"]),SY=(t,e)=>!(t instanceof Xe)||!(t.content instanceof vi)||!(t.content.type instanceof Uo||t.content.type instanceof Dn&&e.has(t.content.type.nodeName))||t.content.type._length===0,xY=({protectedNodes:t=kY,trackedOrigins:e=[],undoManager:n=null}={})=>new nt({key:Es,state:{init:(r,i)=>{const s=Lt.getState(i),o=n||new vM(s.type,{trackedOrigins:new Set([Lt].concat(e)),deleteFilter:a=>SY(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:o,prevSel:null,hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}},apply:(r,i,s,o)=>{const a=Lt.getState(o).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return a?{undoManager:l,prevSel:ky(a,s),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Lt.getState(r.state),s=Es.getState(r.state).undoManager;return s.on("stack-item-added",({stackItem:o})=>{const a=i.binding;a&&o.meta.set(a,Es.getState(r.state).prevSel)}),s.on("stack-item-popped",({stackItem:o})=>{const a=i.binding;a&&(a.beforeTransactionSelection=o.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{s.destroy()}}}});zt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Es.getState(e).undoManager.undoStack.length===0?!1:n?wY(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Es.getState(e).undoManager.redoStack.length===0?!1:n?bY(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=xY(this.options.yUndoOptions),r=n.spec.view;n.spec.view=o=>{const{undoManager:a}=Es.getState(o.state);a.restore&&(a.restore(),a.restore=()=>{});const l=r?r(o):void 0;return{destroy:()=>{const c=a.trackedOrigins.has(a),u=a._observers;a.restore=()=>{c&&a.trackedOrigins.add(a),a.doc.on("afterTransaction",a.afterTransactionHandler),a._observers=u},l!=null&&l.destroy&&l.destroy()}}};const i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},s=cY(e,i);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const o=yY(e);if(o.content.length===0)return;this.editor.schema.nodeFromJSON(o).check()}catch(o){return this.editor.emit("contentError",{error:o,editor:this.editor,disableCollaboration:()=>{var a;(a=e.doc)===null||a===void 0||a.destroy(),this.storage.isDisabled=!0}}),!1}})),[s,n,this.editor.options.enableContentCheck&&new nt({key:new lt("filterInvalidContent"),filterTransaction:()=>{var o;return this.storage.isDisabled&&((o=e.doc)===null||o===void 0||o.destroy()),!0}})].filter(Boolean)}});function CY(t){return!!t.getMeta(Lt)}function bb(t){if(!t.length)return tt.empty;const e=[],n=t[0].$from.node(0);return t.forEach(r=>{const i=r.$from.pos,s=r.$from.nodeAfter;s&&e.push(Qt.node(i,i+s.nodeSize,{class:"ProseMirror-selectednoderange"}))}),tt.create(n,e)}function p1(t,e,n){const r=[],i=t.node(0);n=typeof n=="number"&&n>=0?n:t.sameParent(e)?Math.max(0,t.sharedDepth(e.pos)-1):t.sharedDepth(e.pos);const s=new Id(t,e,n),o=s.depth===0?0:i.resolve(s.start).posAtIndex(0);return s.parent.forEach((a,l)=>{const c=o+l,u=c+a.nodeSize;if(c<s.start||c>=s.end)return;const d=new t3(i.resolve(c),i.resolve(u));r.push(d)}),r}class t5{constructor(e,n){this.anchor=e,this.head=n}map(e){return new t5(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return new So(n,r)}}let So=class Zs extends we{constructor(e,n,r,i=1){const{doc:s}=e,o=e===n,a=e.pos===s.content.size&&n.pos===s.content.size,l=o&&!a?s.resolve(n.pos+(i>0?1:-1)):n,c=o&&a?s.resolve(e.pos-(i>0?1:-1)):e,u=p1(c.min(l),c.max(l),r);super(l.pos>=e.pos?u[0].$from:u[u.length-1].$to,l.pos>=e.pos?u[u.length-1].$to:u[0].$from,u),this.depth=r}get $to(){return this.ranges[this.ranges.length-1].$to}eq(e){return e instanceof Zs&&e.$from.pos===this.$from.pos&&e.$to.pos===this.$to.pos}map(e,n){const r=e.resolve(n.map(this.anchor)),i=e.resolve(n.map(this.head));return new Zs(r,i)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:e}=this.$from;if(this.isForwards&&this.ranges.length>1){const i=this.ranges.slice(0,-1),s=i[0].$from,o=i[i.length-1].$to;return new Zs(s,o,this.depth)}const n=this.ranges[0],r=e.resolve(Math.max(0,n.$from.pos-1));return new Zs(this.$anchor,r,this.depth)}extendForwards(){const{doc:e}=this.$from;if(this.isBackwards&&this.ranges.length>1){const i=this.ranges.slice(1),s=i[0].$from,o=i[i.length-1].$to;return new Zs(o,s,this.depth)}const n=this.ranges[this.ranges.length-1],r=e.resolve(Math.min(e.content.size,n.$to.pos+1));return new Zs(this.$anchor,r,this.depth)}static fromJSON(e,n){return new Zs(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r,i,s=1){return new this(e.resolve(n),e.resolve(r),i,s)}getBookmark(){return new t5(this.anchor,this.head)}};function bh(t){return t instanceof So}So.prototype.visible=!1;zt.create({name:"nodeRange",addOptions:()=>({depth:void 0,key:"Mod"}),addKeyboardShortcuts(){return{"Shift-ArrowUp":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:l}=s;if(!bh(s)){const u=So.create(i,a,l,e,-1);return o.setSelection(u),n.dispatch(o),!0}const c=s.extendBackwards();return o.setSelection(c),n.dispatch(o),!0},"Shift-ArrowDown":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:l}=s;if(!bh(s)){const u=So.create(i,a,l,e);return o.setSelection(u),n.dispatch(o),!0}const c=s.extendForwards();return o.setSelection(c),n.dispatch(o),!0},"Mod-a":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,tr:s}=r,o=So.create(i,0,i.content.size,e);return s.setSelection(o),n.dispatch(s),!0}}},onSelectionUpdate(){const{selection:t}=this.editor.state;bh(t)&&this.editor.view.dom.classList.add("ProseMirror-noderangeselection")},addProseMirrorPlugins(){let t=!1,e=!1;return[new nt({key:new lt("nodeRange"),props:{attributes:()=>t?{class:"ProseMirror-noderangeselection"}:{class:""},handleDOMEvents:{mousedown:(n,r)=>{const{key:i}=this.options,s=/Mac/.test(navigator.platform),o=!!r.shiftKey,a=!!r.ctrlKey,l=!!r.altKey,c=!!r.metaKey;return(i==null||i==="Shift"&&o||i==="Control"&&a||i==="Alt"&&l||i==="Meta"&&c||i==="Mod"&&(s?c:a))&&(e=!0),!!e&&(document.addEventListener("mouseup",()=>{e=!1;const{state:u}=n,{doc:d,selection:h,tr:f}=u,{$anchor:p,$head:g}=h;if(p.sameParent(g))return;const w=So.create(d,p.pos,g.pos,this.options.depth);f.setSelection(w),n.dispatch(f)},{once:!0}),!1)}},decorations:n=>{const{selection:r}=n,i=bh(r);if(t=!1,!e)return i?(t=!0,bb(r.ranges)):null;const{$from:s,$to:o}=r;if(!i&&s.sameParent(o))return null;const a=p1(s,o,this.options.depth);return a.length?(t=!0,bb(a)):null}}})]}});function EY(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],r=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((i,s)=>{r[s].style.cssText=function(o){let a="";const l=getComputedStyle(o);for(let c=0;c<l.length;c+=1)a+=`${l[c]}:${l.getPropertyValue(l[c])};`;return a}(i)}),e}const UM=t=>{const{x:e,y:n,direction:r,editor:i}=t;let s=null,o=null,a=null,l=e;for(;o===null&&l<window.innerWidth&&l>0;){const c=document.elementsFromPoint(l,n),u=c.findIndex(h=>h.classList.contains("ProseMirror")),d=c.slice(0,u);if(d.length>0){const h=d[0];if(s=h,a=i.view.posAtDOM(h,0),a>=0){o=i.state.doc.nodeAt(Math.max(a-1,0)),o!=null&&o.isText&&(o=i.state.doc.nodeAt(Math.max(a-1,0))),o||(o=i.state.doc.nodeAt(Math.max(a,0)));break}}r==="left"?l-=1:l+=1}return{resultElement:s,resultNode:o,pos:a??null}};function kh(t,e){return window.getComputedStyle(t)[e]}function TY(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function kb(t){var e;(e=t.parentNode)===null||e===void 0||e.removeChild(t)}function MY(t,e){const{doc:n}=e.view.state,r=UM({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!r.resultNode||r.pos===null)return[];const i=t.clientX,s=function(u,d,h){const f=parseInt(kh(u.dom,"paddingLeft"),10),p=parseInt(kh(u.dom,"paddingRight"),10),g=parseInt(kh(u.dom,"borderLeftWidth"),10),w=parseInt(kh(u.dom,"borderLeftWidth"),10),y=u.dom.getBoundingClientRect();return{left:TY(d,y.left+f+g,y.right-p-w),top:h}}(e.view,i,t.clientY),o=e.view.posAtCoords(s);if(!o)return[];const{pos:a}=o;if(!n.resolve(a).parent)return[];const l=n.resolve(r.pos),c=n.resolve(r.pos+1);return p1(l,c,0)}const Sb=(t,e)=>{const n=t.resolve(e),{depth:r}=n;return r===0?e:n.pos-n.parentOffset-1},xb=(t,e)=>{const n=t.nodeAt(e),r=t.resolve(e);let{depth:i}=r,s=n;for(;i>0;){const o=r.node(i);i-=1,i===0&&(s=o)}return s},Xg=(t,e)=>{const n=Lt.getState(t);return n?Ey(e,n.type,n.binding.mapping):null},Cb=(t,e)=>{let n=e;for(;n&&n.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},VM=new lt("dragHandle"),WM=({pluginKey:t=VM,element:e,editor:n,tippyOptions:r,onNodeChange:i})=>{const s=document.createElement("div");let o,a=null,l=!1,c=null,u=-1;return e.addEventListener("dragstart",d=>{(function(h,f){const{view:p}=f;if(!h.dataTransfer)return;const{empty:g,$from:w,$to:y}=p.state.selection,b=MY(h,f),C=p1(w,y,0),S=C.some(X=>b.find(oe=>oe.$from===X.$from&&oe.$to===X.$to)),A=g||!S?b:C;if(!A.length)return;const{tr:x}=p.state,I=document.createElement("div"),R=A[0].$from.pos,P=A[A.length-1].$to.pos,j=So.create(p.state.doc,R,P),Q=j.content();A.forEach(X=>{const oe=EY(p.nodeDOM(X.$from.pos));I.append(oe)}),I.style.position="absolute",I.style.top="-10000px",document.body.append(I),h.dataTransfer.clearData(),h.dataTransfer.setDragImage(I,0,0),p.dragging={slice:Q,move:!0},x.setSelection(j),p.dispatch(x),document.addEventListener("drop",()=>kb(I),{once:!0})})(d,n),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new nt({key:typeof t=="string"?new lt(t):t,state:{init:()=>({locked:!1}),apply(d,h,f,p){const g=d.getMeta("lockDragHandle"),w=d.getMeta("hideDragHandle");if(g!==void 0&&(l=g),w&&a)return a.hide(),l=!1,c=null,u=-1,i==null||i({editor:n,node:null,pos:-1}),h;if(d.docChanged&&u!==-1&&e&&a)if(CY(d)){const y=((b,C)=>{const S=Lt.getState(b);return S?Ty(S.doc,S.type,C,S.binding.mapping)||0:-1})(p,o);y!==u&&(u=y)}else{const y=d.mapping.map(u);y!==u&&(u=y,o=Xg(p,u))}return h}},view:d=>{var h;return e.draggable=!0,e.style.pointerEvents="auto",(h=n.view.dom.parentElement)===null||h===void 0||h.appendChild(s),s.appendChild(e),s.style.pointerEvents="none",s.style.position="absolute",s.style.top="0",s.style.left="0",a=Jc(d.dom,{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]},...r,appendTo:s,content:e}),{update(f,p){if(!e||!a||(e.draggable=!l,d.state.doc.eq(p.doc)||u===-1))return;let g=d.nodeDOM(u);if(g=Cb(d,g),g===d.dom||(g==null?void 0:g.nodeType)!==1)return;const w=d.posAtDOM(g,0),y=xb(n.state.doc,w),b=Sb(n.state.doc,w);c=y,u=b,o=Xg(d.state,u),i==null||i({editor:n,node:c,pos:u}),a.setProps({getReferenceClientRect:()=>g.getBoundingClientRect()})},destroy(){a==null||a.destroy(),e&&kb(s)}}},props:{handleDOMEvents:{mouseleave:(d,h)=>(l||h.target&&!s.contains(h.relatedTarget)&&(a==null||a.hide(),c=null,u=-1,i==null||i({editor:n,node:null,pos:-1})),!1),mousemove(d,h){if(!e||!a||l)return!1;const f=UM({x:h.clientX,y:h.clientY,direction:"right",editor:n});if(!f.resultElement)return!1;let p=f.resultElement;if(p=Cb(d,p),p===d.dom||(p==null?void 0:p.nodeType)!==1)return!1;const g=d.posAtDOM(p,0),w=xb(n.state.doc,g);if(w!==c){const y=Sb(n.state.doc,g);c=w,u=y,o=Xg(d.state,u),i==null||i({editor:n,node:c,pos:u}),a.setProps({getReferenceClientRect:()=>p.getBoundingClientRect()}),a.show()}return!1}}}})};zt.create({name:"dragHandle",addOptions:()=>({render(){const t=document.createElement("div");return t.classList.add("drag-handle"),t},tippyOptions:{},locked:!1,onNodeChange:()=>null}),addCommands(){return{lockDragHandle:()=>({editor:t})=>(this.options.locked=!0,t.commands.setMeta("lockDragHandle",this.options.locked)),unlockDragHandle:()=>({editor:t})=>(this.options.locked=!1,t.commands.setMeta("lockDragHandle",this.options.locked)),toggleDragHandle:()=>({editor:t})=>(this.options.locked=!this.options.locked,t.commands.setMeta("lockDragHandle",this.options.locked))}},addProseMirrorPlugins(){const t=this.options.render();return[WM({tippyOptions:this.options.tippyOptions,element:t,editor:this.editor,onNodeChange:this.options.onNodeChange})]}});const AY=t=>{const{className:e="drag-handle",children:n,editor:r,pluginKey:i=VM,onNodeChange:s,tippyOptions:o={}}=t,[a,l]=B.useState(null),c=B.useRef(null);return B.useEffect(()=>a?r.isDestroyed?()=>{c.current=null}:(c.current||(c.current=WM({editor:r,element:a,pluginKey:i,tippyOptions:o,onNodeChange:s}),r.registerPlugin(c.current)),()=>{r.unregisterPlugin(i),c.current=null}):()=>{c.current=null},[a,r,s,i]),Tt.createElement("div",{className:e,ref:l},n)};class lr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new lr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Pr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Pr(n,lr.range(this,e))}}class K{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,o=n&&n.loc;if(o&&o.start<=o.end){var a=o.lexer.input;i=o.start,s=o.end,i===a.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=a.slice(i,s).replace(/[^]/g,"$&̲"),c;i>15?c="…"+a.slice(i-15,i):c=a.slice(0,i);var u;s+15<a.length?u=a.slice(s,s+15)+"…":u=a.slice(s),r+=c+l+u}var d=new Error(r);return d.name="ParseError",d.__proto__=K.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}K.prototype.__proto__=Error.prototype;var OY=function(e,n){return e.indexOf(n)!==-1},IY=function(e,n){return e===void 0?n:e},NY=/([A-Z])/g,DY=function(e){return e.replace(NY,"-$1").toLowerCase()},RY={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},_Y=/[&><"']/g;function LY(t){return String(t).replace(_Y,e=>RY[e])}var qM=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},PY=function(e){var n=qM(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},zY=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},BY=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},ye={contains:OY,deflt:IY,escape:LY,hyphenate:DY,getBaseElem:qM,isCharacterBox:PY,protocolFromUrl:BY},mf={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function FY(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class n5{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in mf)if(mf.hasOwnProperty(n)){var r=mf[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:FY(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new K("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=ye.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Gs{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return _i[jY[this.id]]}sub(){return _i[HY[this.id]]}fracNum(){return _i[$Y[this.id]]}fracDen(){return _i[UY[this.id]]}cramp(){return _i[VY[this.id]]}text(){return _i[WY[this.id]]}isTight(){return this.size>=2}}var r5=0,sm=1,uc=2,Ts=3,Zd=4,Dr=5,Bc=6,Rn=7,_i=[new Gs(r5,0,!1),new Gs(sm,0,!0),new Gs(uc,1,!1),new Gs(Ts,1,!0),new Gs(Zd,2,!1),new Gs(Dr,2,!0),new Gs(Bc,3,!1),new Gs(Rn,3,!0)],jY=[Zd,Dr,Zd,Dr,Bc,Rn,Bc,Rn],HY=[Dr,Dr,Dr,Dr,Rn,Rn,Rn,Rn],$Y=[uc,Ts,Zd,Dr,Bc,Rn,Bc,Rn],UY=[Ts,Ts,Dr,Dr,Rn,Rn,Rn,Rn],VY=[sm,sm,Ts,Ts,Dr,Dr,Rn,Rn],WY=[r5,sm,uc,Ts,uc,Ts,uc,Ts],Se={DISPLAY:_i[r5],TEXT:_i[uc],SCRIPT:_i[Zd],SCRIPTSCRIPT:_i[Bc]},My=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function qY(t){for(var e=0;e<My.length;e++)for(var n=My[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var gf=[];My.forEach(t=>t.blocks.forEach(e=>gf.push(...e)));function KM(t){for(var e=0;e<gf.length;e+=2)if(t>=gf[e]&&t<=gf[e+1])return!0;return!1}var El=80,KY=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},GY=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},JY=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},YY=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},XY=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},QY=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},ZY=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},eX=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=KY(n,El);break;case"sqrtSize1":i=GY(n,El);break;case"sqrtSize2":i=JY(n,El);break;case"sqrtSize3":i=YY(n,El);break;case"sqrtSize4":i=XY(n,El);break;case"sqrtTall":i=ZY(n,El,r)}return i},tX=function(e,n){switch(e){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Eb={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},nX=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class C0{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return ye.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Fi={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Sh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Tb={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function rX(t,e){Fi[t]=e}function i5(t,e,n){if(!Fi[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Fi[e][r];if(!i&&t[0]in Tb&&(r=Tb[t[0]].charCodeAt(0),i=Fi[e][r]),!i&&n==="text"&&KM(r)&&(i=Fi[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Qg={};function iX(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Qg[e]){var n=Qg[e]={cssEmPerMu:Sh.quad[e]/18};for(var r in Sh)Sh.hasOwnProperty(r)&&(n[r]=Sh[r][e])}return Qg[e]}var sX=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Mb=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ab=function(e,n){return n.size<2?e:sX[e-1][n.size-1]};class fs{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||fs.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Mb[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new fs(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Ab(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Mb[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Ab(fs.BASESIZE,e);return this.size===n&&this.textSize===fs.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==fs.BASESIZE?["sizing","reset-size"+this.size,"size"+fs.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=iX(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}fs.BASESIZE=6;var Ay={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},oX={ex:!0,em:!0,mu:!0},GM=function(e){return typeof e!="string"&&(e=e.unit),e in Ay||e in oX||e==="ex"},Mt=function(e,n){var r;if(e.unit in Ay)r=Ay[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new K("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},G=function(e){return+e.toFixed(4)+"em"},Vo=function(e){return e.filter(n=>n).join(" ")},JM=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},YM=function(e){var n=document.createElement(e);n.className=Vo(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},XM=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+ye.escape(Vo(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ye.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+ye.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+ye.escape(this.attributes[s])+'"');n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+e+">",n};class E0{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,JM.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return ye.contains(this.classes,e)}toNode(){return YM.call(this,"span")}toMarkup(){return XM.call(this,"span")}}class s5{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,JM.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return ye.contains(this.classes,e)}toNode(){return YM.call(this,"a")}toMarkup(){return XM.call(this,"a")}}class aX{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return ye.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+ye.escape(this.src)+'"'+(' alt="'+ye.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=ye.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+ye.escape(n)+'"'),e+="'/>",e}}var lX={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class $r{constructor(e,n,r,i,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var c=qY(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=lX[this.text])}hasClass(e){return ye.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=G(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Vo(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=ye.escape(Vo(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ye.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+ye.escape(r)+'"');var s=ye.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Ps{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+ye.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Wo{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Eb[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+ye.escape(this.alternate)+'"/>':'<path d="'+ye.escape(Eb[this.pathName])+'"/>'}}class Oy{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+ye.escape(this.attributes[n])+'"');return e+="/>",e}}function Ob(t){if(t instanceof $r)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function cX(t){if(t instanceof E0)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var uX={bin:1,close:1,inner:1,open:1,punct:1,rel:1},dX={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ht={math:{},text:{}};function m(t,e,n,r,i,s){ht[t][i]={font:e,group:n,replace:r},s&&r&&(ht[t][r]=ht[t][i])}var v="math",U="text",k="main",T="ams",St="accent-token",ne="bin",Hn="close",nu="inner",ke="mathord",Gt="op-token",br="open",m1="punct",M="rel",$s="spacing",D="textord";m(v,k,M,"≡","\\equiv",!0);m(v,k,M,"≺","\\prec",!0);m(v,k,M,"≻","\\succ",!0);m(v,k,M,"∼","\\sim",!0);m(v,k,M,"⊥","\\perp");m(v,k,M,"⪯","\\preceq",!0);m(v,k,M,"⪰","\\succeq",!0);m(v,k,M,"≃","\\simeq",!0);m(v,k,M,"∣","\\mid",!0);m(v,k,M,"≪","\\ll",!0);m(v,k,M,"≫","\\gg",!0);m(v,k,M,"≍","\\asymp",!0);m(v,k,M,"∥","\\parallel");m(v,k,M,"⋈","\\bowtie",!0);m(v,k,M,"⌣","\\smile",!0);m(v,k,M,"⊑","\\sqsubseteq",!0);m(v,k,M,"⊒","\\sqsupseteq",!0);m(v,k,M,"≐","\\doteq",!0);m(v,k,M,"⌢","\\frown",!0);m(v,k,M,"∋","\\ni",!0);m(v,k,M,"∝","\\propto",!0);m(v,k,M,"⊢","\\vdash",!0);m(v,k,M,"⊣","\\dashv",!0);m(v,k,M,"∋","\\owns");m(v,k,m1,".","\\ldotp");m(v,k,m1,"⋅","\\cdotp");m(v,k,D,"#","\\#");m(U,k,D,"#","\\#");m(v,k,D,"&","\\&");m(U,k,D,"&","\\&");m(v,k,D,"ℵ","\\aleph",!0);m(v,k,D,"∀","\\forall",!0);m(v,k,D,"ℏ","\\hbar",!0);m(v,k,D,"∃","\\exists",!0);m(v,k,D,"∇","\\nabla",!0);m(v,k,D,"♭","\\flat",!0);m(v,k,D,"ℓ","\\ell",!0);m(v,k,D,"♮","\\natural",!0);m(v,k,D,"♣","\\clubsuit",!0);m(v,k,D,"℘","\\wp",!0);m(v,k,D,"♯","\\sharp",!0);m(v,k,D,"♢","\\diamondsuit",!0);m(v,k,D,"ℜ","\\Re",!0);m(v,k,D,"♡","\\heartsuit",!0);m(v,k,D,"ℑ","\\Im",!0);m(v,k,D,"♠","\\spadesuit",!0);m(v,k,D,"§","\\S",!0);m(U,k,D,"§","\\S");m(v,k,D,"¶","\\P",!0);m(U,k,D,"¶","\\P");m(v,k,D,"†","\\dag");m(U,k,D,"†","\\dag");m(U,k,D,"†","\\textdagger");m(v,k,D,"‡","\\ddag");m(U,k,D,"‡","\\ddag");m(U,k,D,"‡","\\textdaggerdbl");m(v,k,Hn,"⎱","\\rmoustache",!0);m(v,k,br,"⎰","\\lmoustache",!0);m(v,k,Hn,"⟯","\\rgroup",!0);m(v,k,br,"⟮","\\lgroup",!0);m(v,k,ne,"∓","\\mp",!0);m(v,k,ne,"⊖","\\ominus",!0);m(v,k,ne,"⊎","\\uplus",!0);m(v,k,ne,"⊓","\\sqcap",!0);m(v,k,ne,"∗","\\ast");m(v,k,ne,"⊔","\\sqcup",!0);m(v,k,ne,"◯","\\bigcirc",!0);m(v,k,ne,"∙","\\bullet",!0);m(v,k,ne,"‡","\\ddagger");m(v,k,ne,"≀","\\wr",!0);m(v,k,ne,"⨿","\\amalg");m(v,k,ne,"&","\\And");m(v,k,M,"⟵","\\longleftarrow",!0);m(v,k,M,"⇐","\\Leftarrow",!0);m(v,k,M,"⟸","\\Longleftarrow",!0);m(v,k,M,"⟶","\\longrightarrow",!0);m(v,k,M,"⇒","\\Rightarrow",!0);m(v,k,M,"⟹","\\Longrightarrow",!0);m(v,k,M,"↔","\\leftrightarrow",!0);m(v,k,M,"⟷","\\longleftrightarrow",!0);m(v,k,M,"⇔","\\Leftrightarrow",!0);m(v,k,M,"⟺","\\Longleftrightarrow",!0);m(v,k,M,"↦","\\mapsto",!0);m(v,k,M,"⟼","\\longmapsto",!0);m(v,k,M,"↗","\\nearrow",!0);m(v,k,M,"↩","\\hookleftarrow",!0);m(v,k,M,"↪","\\hookrightarrow",!0);m(v,k,M,"↘","\\searrow",!0);m(v,k,M,"↼","\\leftharpoonup",!0);m(v,k,M,"⇀","\\rightharpoonup",!0);m(v,k,M,"↙","\\swarrow",!0);m(v,k,M,"↽","\\leftharpoondown",!0);m(v,k,M,"⇁","\\rightharpoondown",!0);m(v,k,M,"↖","\\nwarrow",!0);m(v,k,M,"⇌","\\rightleftharpoons",!0);m(v,T,M,"≮","\\nless",!0);m(v,T,M,"","\\@nleqslant");m(v,T,M,"","\\@nleqq");m(v,T,M,"⪇","\\lneq",!0);m(v,T,M,"≨","\\lneqq",!0);m(v,T,M,"","\\@lvertneqq");m(v,T,M,"⋦","\\lnsim",!0);m(v,T,M,"⪉","\\lnapprox",!0);m(v,T,M,"⊀","\\nprec",!0);m(v,T,M,"⋠","\\npreceq",!0);m(v,T,M,"⋨","\\precnsim",!0);m(v,T,M,"⪹","\\precnapprox",!0);m(v,T,M,"≁","\\nsim",!0);m(v,T,M,"","\\@nshortmid");m(v,T,M,"∤","\\nmid",!0);m(v,T,M,"⊬","\\nvdash",!0);m(v,T,M,"⊭","\\nvDash",!0);m(v,T,M,"⋪","\\ntriangleleft");m(v,T,M,"⋬","\\ntrianglelefteq",!0);m(v,T,M,"⊊","\\subsetneq",!0);m(v,T,M,"","\\@varsubsetneq");m(v,T,M,"⫋","\\subsetneqq",!0);m(v,T,M,"","\\@varsubsetneqq");m(v,T,M,"≯","\\ngtr",!0);m(v,T,M,"","\\@ngeqslant");m(v,T,M,"","\\@ngeqq");m(v,T,M,"⪈","\\gneq",!0);m(v,T,M,"≩","\\gneqq",!0);m(v,T,M,"","\\@gvertneqq");m(v,T,M,"⋧","\\gnsim",!0);m(v,T,M,"⪊","\\gnapprox",!0);m(v,T,M,"⊁","\\nsucc",!0);m(v,T,M,"⋡","\\nsucceq",!0);m(v,T,M,"⋩","\\succnsim",!0);m(v,T,M,"⪺","\\succnapprox",!0);m(v,T,M,"≆","\\ncong",!0);m(v,T,M,"","\\@nshortparallel");m(v,T,M,"∦","\\nparallel",!0);m(v,T,M,"⊯","\\nVDash",!0);m(v,T,M,"⋫","\\ntriangleright");m(v,T,M,"⋭","\\ntrianglerighteq",!0);m(v,T,M,"","\\@nsupseteqq");m(v,T,M,"⊋","\\supsetneq",!0);m(v,T,M,"","\\@varsupsetneq");m(v,T,M,"⫌","\\supsetneqq",!0);m(v,T,M,"","\\@varsupsetneqq");m(v,T,M,"⊮","\\nVdash",!0);m(v,T,M,"⪵","\\precneqq",!0);m(v,T,M,"⪶","\\succneqq",!0);m(v,T,M,"","\\@nsubseteqq");m(v,T,ne,"⊴","\\unlhd");m(v,T,ne,"⊵","\\unrhd");m(v,T,M,"↚","\\nleftarrow",!0);m(v,T,M,"↛","\\nrightarrow",!0);m(v,T,M,"⇍","\\nLeftarrow",!0);m(v,T,M,"⇏","\\nRightarrow",!0);m(v,T,M,"↮","\\nleftrightarrow",!0);m(v,T,M,"⇎","\\nLeftrightarrow",!0);m(v,T,M,"△","\\vartriangle");m(v,T,D,"ℏ","\\hslash");m(v,T,D,"▽","\\triangledown");m(v,T,D,"◊","\\lozenge");m(v,T,D,"Ⓢ","\\circledS");m(v,T,D,"®","\\circledR");m(U,T,D,"®","\\circledR");m(v,T,D,"∡","\\measuredangle",!0);m(v,T,D,"∄","\\nexists");m(v,T,D,"℧","\\mho");m(v,T,D,"Ⅎ","\\Finv",!0);m(v,T,D,"⅁","\\Game",!0);m(v,T,D,"‵","\\backprime");m(v,T,D,"▲","\\blacktriangle");m(v,T,D,"▼","\\blacktriangledown");m(v,T,D,"■","\\blacksquare");m(v,T,D,"⧫","\\blacklozenge");m(v,T,D,"★","\\bigstar");m(v,T,D,"∢","\\sphericalangle",!0);m(v,T,D,"∁","\\complement",!0);m(v,T,D,"ð","\\eth",!0);m(U,k,D,"ð","ð");m(v,T,D,"╱","\\diagup");m(v,T,D,"╲","\\diagdown");m(v,T,D,"□","\\square");m(v,T,D,"□","\\Box");m(v,T,D,"◊","\\Diamond");m(v,T,D,"¥","\\yen",!0);m(U,T,D,"¥","\\yen",!0);m(v,T,D,"✓","\\checkmark",!0);m(U,T,D,"✓","\\checkmark");m(v,T,D,"ℶ","\\beth",!0);m(v,T,D,"ℸ","\\daleth",!0);m(v,T,D,"ℷ","\\gimel",!0);m(v,T,D,"ϝ","\\digamma",!0);m(v,T,D,"ϰ","\\varkappa");m(v,T,br,"┌","\\@ulcorner",!0);m(v,T,Hn,"┐","\\@urcorner",!0);m(v,T,br,"└","\\@llcorner",!0);m(v,T,Hn,"┘","\\@lrcorner",!0);m(v,T,M,"≦","\\leqq",!0);m(v,T,M,"⩽","\\leqslant",!0);m(v,T,M,"⪕","\\eqslantless",!0);m(v,T,M,"≲","\\lesssim",!0);m(v,T,M,"⪅","\\lessapprox",!0);m(v,T,M,"≊","\\approxeq",!0);m(v,T,ne,"⋖","\\lessdot");m(v,T,M,"⋘","\\lll",!0);m(v,T,M,"≶","\\lessgtr",!0);m(v,T,M,"⋚","\\lesseqgtr",!0);m(v,T,M,"⪋","\\lesseqqgtr",!0);m(v,T,M,"≑","\\doteqdot");m(v,T,M,"≓","\\risingdotseq",!0);m(v,T,M,"≒","\\fallingdotseq",!0);m(v,T,M,"∽","\\backsim",!0);m(v,T,M,"⋍","\\backsimeq",!0);m(v,T,M,"⫅","\\subseteqq",!0);m(v,T,M,"⋐","\\Subset",!0);m(v,T,M,"⊏","\\sqsubset",!0);m(v,T,M,"≼","\\preccurlyeq",!0);m(v,T,M,"⋞","\\curlyeqprec",!0);m(v,T,M,"≾","\\precsim",!0);m(v,T,M,"⪷","\\precapprox",!0);m(v,T,M,"⊲","\\vartriangleleft");m(v,T,M,"⊴","\\trianglelefteq");m(v,T,M,"⊨","\\vDash",!0);m(v,T,M,"⊪","\\Vvdash",!0);m(v,T,M,"⌣","\\smallsmile");m(v,T,M,"⌢","\\smallfrown");m(v,T,M,"≏","\\bumpeq",!0);m(v,T,M,"≎","\\Bumpeq",!0);m(v,T,M,"≧","\\geqq",!0);m(v,T,M,"⩾","\\geqslant",!0);m(v,T,M,"⪖","\\eqslantgtr",!0);m(v,T,M,"≳","\\gtrsim",!0);m(v,T,M,"⪆","\\gtrapprox",!0);m(v,T,ne,"⋗","\\gtrdot");m(v,T,M,"⋙","\\ggg",!0);m(v,T,M,"≷","\\gtrless",!0);m(v,T,M,"⋛","\\gtreqless",!0);m(v,T,M,"⪌","\\gtreqqless",!0);m(v,T,M,"≖","\\eqcirc",!0);m(v,T,M,"≗","\\circeq",!0);m(v,T,M,"≜","\\triangleq",!0);m(v,T,M,"∼","\\thicksim");m(v,T,M,"≈","\\thickapprox");m(v,T,M,"⫆","\\supseteqq",!0);m(v,T,M,"⋑","\\Supset",!0);m(v,T,M,"⊐","\\sqsupset",!0);m(v,T,M,"≽","\\succcurlyeq",!0);m(v,T,M,"⋟","\\curlyeqsucc",!0);m(v,T,M,"≿","\\succsim",!0);m(v,T,M,"⪸","\\succapprox",!0);m(v,T,M,"⊳","\\vartriangleright");m(v,T,M,"⊵","\\trianglerighteq");m(v,T,M,"⊩","\\Vdash",!0);m(v,T,M,"∣","\\shortmid");m(v,T,M,"∥","\\shortparallel");m(v,T,M,"≬","\\between",!0);m(v,T,M,"⋔","\\pitchfork",!0);m(v,T,M,"∝","\\varpropto");m(v,T,M,"◀","\\blacktriangleleft");m(v,T,M,"∴","\\therefore",!0);m(v,T,M,"∍","\\backepsilon");m(v,T,M,"▶","\\blacktriangleright");m(v,T,M,"∵","\\because",!0);m(v,T,M,"⋘","\\llless");m(v,T,M,"⋙","\\gggtr");m(v,T,ne,"⊲","\\lhd");m(v,T,ne,"⊳","\\rhd");m(v,T,M,"≂","\\eqsim",!0);m(v,k,M,"⋈","\\Join");m(v,T,M,"≑","\\Doteq",!0);m(v,T,ne,"∔","\\dotplus",!0);m(v,T,ne,"∖","\\smallsetminus");m(v,T,ne,"⋒","\\Cap",!0);m(v,T,ne,"⋓","\\Cup",!0);m(v,T,ne,"⩞","\\doublebarwedge",!0);m(v,T,ne,"⊟","\\boxminus",!0);m(v,T,ne,"⊞","\\boxplus",!0);m(v,T,ne,"⋇","\\divideontimes",!0);m(v,T,ne,"⋉","\\ltimes",!0);m(v,T,ne,"⋊","\\rtimes",!0);m(v,T,ne,"⋋","\\leftthreetimes",!0);m(v,T,ne,"⋌","\\rightthreetimes",!0);m(v,T,ne,"⋏","\\curlywedge",!0);m(v,T,ne,"⋎","\\curlyvee",!0);m(v,T,ne,"⊝","\\circleddash",!0);m(v,T,ne,"⊛","\\circledast",!0);m(v,T,ne,"⋅","\\centerdot");m(v,T,ne,"⊺","\\intercal",!0);m(v,T,ne,"⋒","\\doublecap");m(v,T,ne,"⋓","\\doublecup");m(v,T,ne,"⊠","\\boxtimes",!0);m(v,T,M,"⇢","\\dashrightarrow",!0);m(v,T,M,"⇠","\\dashleftarrow",!0);m(v,T,M,"⇇","\\leftleftarrows",!0);m(v,T,M,"⇆","\\leftrightarrows",!0);m(v,T,M,"⇚","\\Lleftarrow",!0);m(v,T,M,"↞","\\twoheadleftarrow",!0);m(v,T,M,"↢","\\leftarrowtail",!0);m(v,T,M,"↫","\\looparrowleft",!0);m(v,T,M,"⇋","\\leftrightharpoons",!0);m(v,T,M,"↶","\\curvearrowleft",!0);m(v,T,M,"↺","\\circlearrowleft",!0);m(v,T,M,"↰","\\Lsh",!0);m(v,T,M,"⇈","\\upuparrows",!0);m(v,T,M,"↿","\\upharpoonleft",!0);m(v,T,M,"⇃","\\downharpoonleft",!0);m(v,k,M,"⊶","\\origof",!0);m(v,k,M,"⊷","\\imageof",!0);m(v,T,M,"⊸","\\multimap",!0);m(v,T,M,"↭","\\leftrightsquigarrow",!0);m(v,T,M,"⇉","\\rightrightarrows",!0);m(v,T,M,"⇄","\\rightleftarrows",!0);m(v,T,M,"↠","\\twoheadrightarrow",!0);m(v,T,M,"↣","\\rightarrowtail",!0);m(v,T,M,"↬","\\looparrowright",!0);m(v,T,M,"↷","\\curvearrowright",!0);m(v,T,M,"↻","\\circlearrowright",!0);m(v,T,M,"↱","\\Rsh",!0);m(v,T,M,"⇊","\\downdownarrows",!0);m(v,T,M,"↾","\\upharpoonright",!0);m(v,T,M,"⇂","\\downharpoonright",!0);m(v,T,M,"⇝","\\rightsquigarrow",!0);m(v,T,M,"⇝","\\leadsto");m(v,T,M,"⇛","\\Rrightarrow",!0);m(v,T,M,"↾","\\restriction");m(v,k,D,"‘","`");m(v,k,D,"$","\\$");m(U,k,D,"$","\\$");m(U,k,D,"$","\\textdollar");m(v,k,D,"%","\\%");m(U,k,D,"%","\\%");m(v,k,D,"_","\\_");m(U,k,D,"_","\\_");m(U,k,D,"_","\\textunderscore");m(v,k,D,"∠","\\angle",!0);m(v,k,D,"∞","\\infty",!0);m(v,k,D,"′","\\prime");m(v,k,D,"△","\\triangle");m(v,k,D,"Γ","\\Gamma",!0);m(v,k,D,"Δ","\\Delta",!0);m(v,k,D,"Θ","\\Theta",!0);m(v,k,D,"Λ","\\Lambda",!0);m(v,k,D,"Ξ","\\Xi",!0);m(v,k,D,"Π","\\Pi",!0);m(v,k,D,"Σ","\\Sigma",!0);m(v,k,D,"Υ","\\Upsilon",!0);m(v,k,D,"Φ","\\Phi",!0);m(v,k,D,"Ψ","\\Psi",!0);m(v,k,D,"Ω","\\Omega",!0);m(v,k,D,"A","Α");m(v,k,D,"B","Β");m(v,k,D,"E","Ε");m(v,k,D,"Z","Ζ");m(v,k,D,"H","Η");m(v,k,D,"I","Ι");m(v,k,D,"K","Κ");m(v,k,D,"M","Μ");m(v,k,D,"N","Ν");m(v,k,D,"O","Ο");m(v,k,D,"P","Ρ");m(v,k,D,"T","Τ");m(v,k,D,"X","Χ");m(v,k,D,"¬","\\neg",!0);m(v,k,D,"¬","\\lnot");m(v,k,D,"⊤","\\top");m(v,k,D,"⊥","\\bot");m(v,k,D,"∅","\\emptyset");m(v,T,D,"∅","\\varnothing");m(v,k,ke,"α","\\alpha",!0);m(v,k,ke,"β","\\beta",!0);m(v,k,ke,"γ","\\gamma",!0);m(v,k,ke,"δ","\\delta",!0);m(v,k,ke,"ϵ","\\epsilon",!0);m(v,k,ke,"ζ","\\zeta",!0);m(v,k,ke,"η","\\eta",!0);m(v,k,ke,"θ","\\theta",!0);m(v,k,ke,"ι","\\iota",!0);m(v,k,ke,"κ","\\kappa",!0);m(v,k,ke,"λ","\\lambda",!0);m(v,k,ke,"μ","\\mu",!0);m(v,k,ke,"ν","\\nu",!0);m(v,k,ke,"ξ","\\xi",!0);m(v,k,ke,"ο","\\omicron",!0);m(v,k,ke,"π","\\pi",!0);m(v,k,ke,"ρ","\\rho",!0);m(v,k,ke,"σ","\\sigma",!0);m(v,k,ke,"τ","\\tau",!0);m(v,k,ke,"υ","\\upsilon",!0);m(v,k,ke,"ϕ","\\phi",!0);m(v,k,ke,"χ","\\chi",!0);m(v,k,ke,"ψ","\\psi",!0);m(v,k,ke,"ω","\\omega",!0);m(v,k,ke,"ε","\\varepsilon",!0);m(v,k,ke,"ϑ","\\vartheta",!0);m(v,k,ke,"ϖ","\\varpi",!0);m(v,k,ke,"ϱ","\\varrho",!0);m(v,k,ke,"ς","\\varsigma",!0);m(v,k,ke,"φ","\\varphi",!0);m(v,k,ne,"∗","*",!0);m(v,k,ne,"+","+");m(v,k,ne,"−","-",!0);m(v,k,ne,"⋅","\\cdot",!0);m(v,k,ne,"∘","\\circ",!0);m(v,k,ne,"÷","\\div",!0);m(v,k,ne,"±","\\pm",!0);m(v,k,ne,"×","\\times",!0);m(v,k,ne,"∩","\\cap",!0);m(v,k,ne,"∪","\\cup",!0);m(v,k,ne,"∖","\\setminus",!0);m(v,k,ne,"∧","\\land");m(v,k,ne,"∨","\\lor");m(v,k,ne,"∧","\\wedge",!0);m(v,k,ne,"∨","\\vee",!0);m(v,k,D,"√","\\surd");m(v,k,br,"⟨","\\langle",!0);m(v,k,br,"∣","\\lvert");m(v,k,br,"∥","\\lVert");m(v,k,Hn,"?","?");m(v,k,Hn,"!","!");m(v,k,Hn,"⟩","\\rangle",!0);m(v,k,Hn,"∣","\\rvert");m(v,k,Hn,"∥","\\rVert");m(v,k,M,"=","=");m(v,k,M,":",":");m(v,k,M,"≈","\\approx",!0);m(v,k,M,"≅","\\cong",!0);m(v,k,M,"≥","\\ge");m(v,k,M,"≥","\\geq",!0);m(v,k,M,"←","\\gets");m(v,k,M,">","\\gt",!0);m(v,k,M,"∈","\\in",!0);m(v,k,M,"","\\@not");m(v,k,M,"⊂","\\subset",!0);m(v,k,M,"⊃","\\supset",!0);m(v,k,M,"⊆","\\subseteq",!0);m(v,k,M,"⊇","\\supseteq",!0);m(v,T,M,"⊈","\\nsubseteq",!0);m(v,T,M,"⊉","\\nsupseteq",!0);m(v,k,M,"⊨","\\models");m(v,k,M,"←","\\leftarrow",!0);m(v,k,M,"≤","\\le");m(v,k,M,"≤","\\leq",!0);m(v,k,M,"<","\\lt",!0);m(v,k,M,"→","\\rightarrow",!0);m(v,k,M,"→","\\to");m(v,T,M,"≱","\\ngeq",!0);m(v,T,M,"≰","\\nleq",!0);m(v,k,$s," ","\\ ");m(v,k,$s," ","\\space");m(v,k,$s," ","\\nobreakspace");m(U,k,$s," ","\\ ");m(U,k,$s," "," ");m(U,k,$s," ","\\space");m(U,k,$s," ","\\nobreakspace");m(v,k,$s,null,"\\nobreak");m(v,k,$s,null,"\\allowbreak");m(v,k,m1,",",",");m(v,k,m1,";",";");m(v,T,ne,"⊼","\\barwedge",!0);m(v,T,ne,"⊻","\\veebar",!0);m(v,k,ne,"⊙","\\odot",!0);m(v,k,ne,"⊕","\\oplus",!0);m(v,k,ne,"⊗","\\otimes",!0);m(v,k,D,"∂","\\partial",!0);m(v,k,ne,"⊘","\\oslash",!0);m(v,T,ne,"⊚","\\circledcirc",!0);m(v,T,ne,"⊡","\\boxdot",!0);m(v,k,ne,"△","\\bigtriangleup");m(v,k,ne,"▽","\\bigtriangledown");m(v,k,ne,"†","\\dagger");m(v,k,ne,"⋄","\\diamond");m(v,k,ne,"⋆","\\star");m(v,k,ne,"◃","\\triangleleft");m(v,k,ne,"▹","\\triangleright");m(v,k,br,"{","\\{");m(U,k,D,"{","\\{");m(U,k,D,"{","\\textbraceleft");m(v,k,Hn,"}","\\}");m(U,k,D,"}","\\}");m(U,k,D,"}","\\textbraceright");m(v,k,br,"{","\\lbrace");m(v,k,Hn,"}","\\rbrace");m(v,k,br,"[","\\lbrack",!0);m(U,k,D,"[","\\lbrack",!0);m(v,k,Hn,"]","\\rbrack",!0);m(U,k,D,"]","\\rbrack",!0);m(v,k,br,"(","\\lparen",!0);m(v,k,Hn,")","\\rparen",!0);m(U,k,D,"<","\\textless",!0);m(U,k,D,">","\\textgreater",!0);m(v,k,br,"⌊","\\lfloor",!0);m(v,k,Hn,"⌋","\\rfloor",!0);m(v,k,br,"⌈","\\lceil",!0);m(v,k,Hn,"⌉","\\rceil",!0);m(v,k,D,"\\","\\backslash");m(v,k,D,"∣","|");m(v,k,D,"∣","\\vert");m(U,k,D,"|","\\textbar",!0);m(v,k,D,"∥","\\|");m(v,k,D,"∥","\\Vert");m(U,k,D,"∥","\\textbardbl");m(U,k,D,"~","\\textasciitilde");m(U,k,D,"\\","\\textbackslash");m(U,k,D,"^","\\textasciicircum");m(v,k,M,"↑","\\uparrow",!0);m(v,k,M,"⇑","\\Uparrow",!0);m(v,k,M,"↓","\\downarrow",!0);m(v,k,M,"⇓","\\Downarrow",!0);m(v,k,M,"↕","\\updownarrow",!0);m(v,k,M,"⇕","\\Updownarrow",!0);m(v,k,Gt,"∐","\\coprod");m(v,k,Gt,"⋁","\\bigvee");m(v,k,Gt,"⋀","\\bigwedge");m(v,k,Gt,"⨄","\\biguplus");m(v,k,Gt,"⋂","\\bigcap");m(v,k,Gt,"⋃","\\bigcup");m(v,k,Gt,"∫","\\int");m(v,k,Gt,"∫","\\intop");m(v,k,Gt,"∬","\\iint");m(v,k,Gt,"∭","\\iiint");m(v,k,Gt,"∏","\\prod");m(v,k,Gt,"∑","\\sum");m(v,k,Gt,"⨂","\\bigotimes");m(v,k,Gt,"⨁","\\bigoplus");m(v,k,Gt,"⨀","\\bigodot");m(v,k,Gt,"∮","\\oint");m(v,k,Gt,"∯","\\oiint");m(v,k,Gt,"∰","\\oiiint");m(v,k,Gt,"⨆","\\bigsqcup");m(v,k,Gt,"∫","\\smallint");m(U,k,nu,"…","\\textellipsis");m(v,k,nu,"…","\\mathellipsis");m(U,k,nu,"…","\\ldots",!0);m(v,k,nu,"…","\\ldots",!0);m(v,k,nu,"⋯","\\@cdots",!0);m(v,k,nu,"⋱","\\ddots",!0);m(v,k,D,"⋮","\\varvdots");m(v,k,St,"ˊ","\\acute");m(v,k,St,"ˋ","\\grave");m(v,k,St,"¨","\\ddot");m(v,k,St,"~","\\tilde");m(v,k,St,"ˉ","\\bar");m(v,k,St,"˘","\\breve");m(v,k,St,"ˇ","\\check");m(v,k,St,"^","\\hat");m(v,k,St,"⃗","\\vec");m(v,k,St,"˙","\\dot");m(v,k,St,"˚","\\mathring");m(v,k,ke,"","\\@imath");m(v,k,ke,"","\\@jmath");m(v,k,D,"ı","ı");m(v,k,D,"ȷ","ȷ");m(U,k,D,"ı","\\i",!0);m(U,k,D,"ȷ","\\j",!0);m(U,k,D,"ß","\\ss",!0);m(U,k,D,"æ","\\ae",!0);m(U,k,D,"œ","\\oe",!0);m(U,k,D,"ø","\\o",!0);m(U,k,D,"Æ","\\AE",!0);m(U,k,D,"Œ","\\OE",!0);m(U,k,D,"Ø","\\O",!0);m(U,k,St,"ˊ","\\'");m(U,k,St,"ˋ","\\`");m(U,k,St,"ˆ","\\^");m(U,k,St,"˜","\\~");m(U,k,St,"ˉ","\\=");m(U,k,St,"˘","\\u");m(U,k,St,"˙","\\.");m(U,k,St,"¸","\\c");m(U,k,St,"˚","\\r");m(U,k,St,"ˇ","\\v");m(U,k,St,"¨",'\\"');m(U,k,St,"˝","\\H");m(U,k,St,"◯","\\textcircled");var QM={"--":!0,"---":!0,"``":!0,"''":!0};m(U,k,D,"–","--",!0);m(U,k,D,"–","\\textendash");m(U,k,D,"—","---",!0);m(U,k,D,"—","\\textemdash");m(U,k,D,"‘","`",!0);m(U,k,D,"‘","\\textquoteleft");m(U,k,D,"’","'",!0);m(U,k,D,"’","\\textquoteright");m(U,k,D,"“","``",!0);m(U,k,D,"“","\\textquotedblleft");m(U,k,D,"”","''",!0);m(U,k,D,"”","\\textquotedblright");m(v,k,D,"°","\\degree",!0);m(U,k,D,"°","\\degree");m(U,k,D,"°","\\textdegree",!0);m(v,k,D,"£","\\pounds");m(v,k,D,"£","\\mathsterling",!0);m(U,k,D,"£","\\pounds");m(U,k,D,"£","\\textsterling",!0);m(v,T,D,"✠","\\maltese");m(U,T,D,"✠","\\maltese");var Ib='0123456789/@."';for(var Zg=0;Zg<Ib.length;Zg++){var Nb=Ib.charAt(Zg);m(v,k,D,Nb,Nb)}var Db='0123456789!@*()-=+";:?/.,';for(var e4=0;e4<Db.length;e4++){var Rb=Db.charAt(e4);m(U,k,D,Rb,Rb)}var om="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var t4=0;t4<om.length;t4++){var xh=om.charAt(t4);m(v,k,ke,xh,xh),m(U,k,D,xh,xh)}m(v,T,D,"C","ℂ");m(U,T,D,"C","ℂ");m(v,T,D,"H","ℍ");m(U,T,D,"H","ℍ");m(v,T,D,"N","ℕ");m(U,T,D,"N","ℕ");m(v,T,D,"P","ℙ");m(U,T,D,"P","ℙ");m(v,T,D,"Q","ℚ");m(U,T,D,"Q","ℚ");m(v,T,D,"R","ℝ");m(U,T,D,"R","ℝ");m(v,T,D,"Z","ℤ");m(U,T,D,"Z","ℤ");m(v,k,ke,"h","ℎ");m(U,k,ke,"h","ℎ");var Ce="";for(var In=0;In<om.length;In++){var Rt=om.charAt(In);Ce=String.fromCharCode(55349,56320+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56372+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56424+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56580+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56684+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56736+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56788+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56840+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56944+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),In<26&&(Ce=String.fromCharCode(55349,56632+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce),Ce=String.fromCharCode(55349,56476+In),m(v,k,ke,Rt,Ce),m(U,k,D,Rt,Ce))}Ce="𝕜";m(v,k,ke,"k",Ce);m(U,k,D,"k",Ce);for(var ua=0;ua<10;ua++){var Js=ua.toString();Ce=String.fromCharCode(55349,57294+ua),m(v,k,ke,Js,Ce),m(U,k,D,Js,Ce),Ce=String.fromCharCode(55349,57314+ua),m(v,k,ke,Js,Ce),m(U,k,D,Js,Ce),Ce=String.fromCharCode(55349,57324+ua),m(v,k,ke,Js,Ce),m(U,k,D,Js,Ce),Ce=String.fromCharCode(55349,57334+ua),m(v,k,ke,Js,Ce),m(U,k,D,Js,Ce)}var Iy="ÐÞþ";for(var n4=0;n4<Iy.length;n4++){var Ch=Iy.charAt(n4);m(v,k,ke,Ch,Ch),m(U,k,D,Ch,Ch)}var Eh=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],_b=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],hX=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[Eh[a][2],Eh[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[_b[l][2],_b[l][o]]}else{if(s===120485||s===120486)return[Eh[0][2],Eh[0][o]];if(120486<s&&s<120782)return["",""];throw new K("Unsupported character: "+e)}},g1=function(e,n,r){return ht[r][e]&&ht[r][e].replace&&(e=ht[r][e].replace),{value:e,metrics:i5(e,n,r)}},Zr=function(e,n,r,i,s){var o=g1(e,n,r),a=o.metrics;e=o.value;var l;if(a){var c=a.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new $r(e,a.height,a.depth,c,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new $r(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},fX=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&g1(e,"Main-Bold",n).metrics?Zr(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||ht[n][e].font==="main"?Zr(e,"Main-Regular",n,r,i):Zr(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},pX=function(e,n,r,i,s){return s!=="textord"&&g1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},mX=function(e,n,r){var i=e.mode,s=e.text,o=["mord"],a=i==="math"||i==="text"&&n.font,l=a?n.font:n.fontFamily,c="",u="";if(s.charCodeAt(0)===55349&&([c,u]=hX(s,i)),c.length>0)return Zr(s,c,i,n,o.concat(u));if(l){var d,h;if(l==="boldsymbol"){var f=pX(s,i,n,o,r);d=f.fontName,h=[f.fontClass]}else a?(d=tA[l].fontName,h=[l]):(d=Th(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(g1(s,d,i).metrics)return Zr(s,d,i,n,o.concat(h));if(QM.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var p=[],g=0;g<s.length;g++)p.push(Zr(s[g],d,i,n,o.concat(h)));return eA(p)}}if(r==="mathord")return Zr(s,"Math-Italic",i,n,o.concat(["mathnormal"]));if(r==="textord"){var w=ht[i][s]&&ht[i][s].font;if(w==="ams"){var y=Th("amsrm",n.fontWeight,n.fontShape);return Zr(s,y,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(w==="main"||!w){var b=Th("textrm",n.fontWeight,n.fontShape);return Zr(s,b,i,n,o.concat(n.fontWeight,n.fontShape))}else{var C=Th(w,n.fontWeight,n.fontShape);return Zr(s,C,i,n,o.concat(C,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},gX=(t,e)=>{if(Vo(t.classes)!==Vo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},vX=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof $r&&r instanceof $r&&gX(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},o5=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>n&&(n=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Vn=function(e,n,r,i){var s=new E0(e,n,r,i);return o5(s),s},ZM=(t,e,n,r)=>new E0(t,e,n,r),yX=function(e,n,r){var i=Vn([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=G(i.height),i.maxFontSize=1,i},wX=function(e,n,r,i){var s=new s5(e,n,r,i);return o5(s),s},eA=function(e){var n=new C0(e);return o5(n),n},bX=function(e,n){return e instanceof C0?Vn([],[e],n):e},kX=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,o=1;o<n.length;o++){var a=-n[o].shift-s-n[o].elem.depth,l=a-(n[o-1].elem.height+n[o-1].elem.depth);s=s+a,r.push({type:"kern",size:l}),r.push(n[o])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var u=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];u-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},SX=function(e,n){for(var{children:r,depth:i}=kX(e),s=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Vn(["pstrut"],[]);c.style.height=G(s);for(var u=[],d=i,h=i,f=i,p=0;p<r.length;p++){var g=r[p];if(g.type==="kern")f+=g.size;else{var w=g.elem,y=g.wrapperClasses||[],b=g.wrapperStyle||{},C=Vn(y,[c,w],void 0,b);C.style.top=G(-s-f-w.depth),g.marginLeft&&(C.style.marginLeft=g.marginLeft),g.marginRight&&(C.style.marginRight=g.marginRight),u.push(C),f+=w.height+w.depth}d=Math.min(d,f),h=Math.max(h,f)}var S=Vn(["vlist"],u);S.style.height=G(h);var A;if(d<0){var x=Vn([],[]),I=Vn(["vlist"],[x]);I.style.height=G(-d);var R=Vn(["vlist-s"],[new $r("​")]);A=[Vn(["vlist-r"],[S,R]),Vn(["vlist-r"],[I])]}else A=[Vn(["vlist-r"],[S])];var P=Vn(["vlist-t"],A);return A.length===2&&P.classes.push("vlist-t2"),P.height=h,P.depth=-d,P},xX=(t,e)=>{var n=Vn(["mspace"],[],e),r=Mt(t,e);return n.style.marginRight=G(r),n},Th=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},tA={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},nA={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},CX=function(e,n){var[r,i,s]=nA[e],o=new Wo(r),a=new Ps([o],{width:G(i),height:G(s),style:"width:"+G(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=ZM(["overlay"],[a],n);return l.height=s,l.style.height=G(s),l.style.width=G(i),l},L={fontMap:tA,makeSymbol:Zr,mathsym:fX,makeSpan:Vn,makeSvgSpan:ZM,makeLineSpan:yX,makeAnchor:wX,makeFragment:eA,wrapFragment:bX,makeVList:SX,makeOrd:mX,makeGlue:xX,staticSvg:CX,svgData:nA,tryCombineChars:vX},xt={number:3,unit:"mu"},da={number:4,unit:"mu"},ss={number:5,unit:"mu"},EX={mord:{mop:xt,mbin:da,mrel:ss,minner:xt},mop:{mord:xt,mop:xt,mrel:ss,minner:xt},mbin:{mord:da,mop:da,mopen:da,minner:da},mrel:{mord:ss,mop:ss,mopen:ss,minner:ss},mopen:{},mclose:{mop:xt,mbin:da,mrel:ss,minner:xt},mpunct:{mord:xt,mop:xt,mrel:ss,mopen:xt,mclose:xt,mpunct:xt,minner:xt},minner:{mord:xt,mop:xt,mbin:da,mrel:ss,mopen:xt,mpunct:xt,minner:xt}},TX={mord:{mop:xt},mop:{mord:xt,mop:xt},mbin:{},mrel:{},mopen:{},mclose:{mop:xt},mpunct:{},minner:{mop:xt}},rA={},am={},lm={};function Z(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)rA[n[l]]=a;e&&(s&&(am[e]=s),o&&(lm[e]=o))}function dl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Z({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var cm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ht=function(e){return e.type==="ordgroup"?e.body:[e]},zs=L.makeSpan,MX=["leftmost","mbin","mopen","mrel","mop","mpunct"],AX=["rightmost","mrel","mclose","mpunct"],OX={display:Se.DISPLAY,text:Se.TEXT,script:Se.SCRIPT,scriptscript:Se.SCRIPTSCRIPT},IX={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Zt=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=Ve(e[o],n);if(a instanceof C0){var l=a.children;s.push(...l)}else s.push(a)}if(L.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var u=e[0];u.type==="sizing"?c=n.havingSize(u.size):u.type==="styling"&&(c=n.havingStyle(OX[u.style]))}var d=zs([i[0]||"leftmost"],[],n),h=zs([i[1]||"rightmost"],[],n),f=r==="root";return Lb(s,(p,g)=>{var w=g.classes[0],y=p.classes[0];w==="mbin"&&ye.contains(AX,y)?g.classes[0]="mord":y==="mbin"&&ye.contains(MX,w)&&(p.classes[0]="mord")},{node:d},h,f),Lb(s,(p,g)=>{var w=Ny(g),y=Ny(p),b=w&&y?p.hasClass("mtight")?TX[w][y]:EX[w][y]:null;if(b)return L.makeGlue(b,c)},{node:d},h,f),s},Lb=function t(e,n,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o],l=iA(a);if(l){t(l.children,n,r,null,s);continue}var c=!a.hasClass("mspace");if(c){var u=n(a,r.node);u&&(r.insertAfter?r.insertAfter(u):(e.unshift(u),o++))}c?r.node=a:s&&a.hasClass("newline")&&(r.node=zs(["leftmost"])),r.insertAfter=(d=>h=>{e.splice(d+1,0,h),o++})(o)}i&&e.pop()},iA=function(e){return e instanceof C0||e instanceof s5||e instanceof E0&&e.hasClass("enclosing")?e:null},NX=function t(e,n){var r=iA(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},Ny=function(e,n){return e?(n&&(e=NX(e,n)),IX[e.classes[0]]||null):null},e0=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return zs(n.concat(r))},Ve=function(e,n,r){if(!e)return zs();if(am[e.type]){var i=am[e.type](e,n);if(r&&n.size!==r.size){i=zs(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new K("Got group of unknown type: '"+e.type+"'")};function Mh(t,e){var n=zs(["base"],t,e),r=zs(["strut"]);return r.style.height=G(n.height+n.depth),n.depth&&(r.style.verticalAlign=G(-n.depth)),n.children.unshift(r),n}function Dy(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Zt(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],a=0;a<r.length;a++)if(o.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,o.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(s.push(Mh(o,e)),o=[])}else r[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Mh(o,e)),o=[]),s.push(r[a]));o.length>0&&s.push(Mh(o,e));var c;n?(c=Mh(Zt(n,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var u=zs(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=G(u.height+u.depth),u.depth&&(d.style.verticalAlign=G(-u.depth))}return u}function sA(t){return new C0(t)}class Ir{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Vo(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=ye.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+ye.escape(Vo(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class id{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return ye.escape(this.toText())}toText(){return this.text}}class DX{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character=" ":e>=.1666&&e<=.1667?this.character=" ":e>=.2222&&e<=.2223?this.character=" ":e>=.2777&&e<=.2778?this.character="  ":e>=-.05556&&e<=-.05555?this.character=" ⁣":e>=-.1667&&e<=-.1666?this.character=" ⁣":e>=-.2223&&e<=-.2222?this.character=" ⁣":e>=-.2778&&e<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",G(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+G(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var W={MathNode:Ir,TextNode:id,SpaceNode:DX,newDocumentFragment:sA},Ur=function(e,n,r){return ht[n][e]&&ht[n][e].replace&&e.charCodeAt(0)!==55349&&!(QM.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ht[n][e].replace),new W.TextNode(e)},a5=function(e){return e.length===1?e[0]:new W.MathNode("mrow",e)},l5=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(ye.contains(["\\imath","\\jmath"],s))return null;ht[i][s]&&ht[i][s].replace&&(s=ht[i][s].replace);var o=L.fontMap[r].fontName;return i5(s,o,i)?L.fontMap[r].variant:null},nr=function(e,n,r){if(e.length===1){var i=at(e[0],n);return r&&i instanceof Ir&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,a=0;a<e.length;a++){var l=at(e[a],n);if(l instanceof Ir&&o instanceof Ir){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&o.type==="mn"){var c=l.children[0];if(c instanceof id&&c.text==="."){o.children.push(...l.children);continue}}else if(o.type==="mi"&&o.children.length===1){var u=o.children[0];if(u instanceof id&&u.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof id&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),s.pop())}}}s.push(l),o=l}return s},qo=function(e,n,r){return a5(nr(e,n,r))},at=function(e,n){if(!e)return new W.MathNode("mrow");if(lm[e.type]){var r=lm[e.type](e,n);return r}else throw new K("Got group of unknown type: '"+e.type+"'")};function Pb(t,e,n,r,i){var s=nr(t,n),o;s.length===1&&s[0]instanceof Ir&&ye.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new W.MathNode("mrow",s);var a=new W.MathNode("annotation",[new W.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new W.MathNode("semantics",[o,a]),c=new W.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return L.makeSpan([u],[c])}var oA=function(e){return new fs({style:e.displayMode?Se.DISPLAY:Se.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},aA=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=L.makeSpan(r,[e])}return e},RX=function(e,n,r){var i=oA(r),s;if(r.output==="mathml")return Pb(e,n,i,r.displayMode,!0);if(r.output==="html"){var o=Dy(e,i);s=L.makeSpan(["katex"],[o])}else{var a=Pb(e,n,i,r.displayMode,!1),l=Dy(e,i);s=L.makeSpan(["katex"],[a,l])}return aA(s,r)},_X=function(e,n,r){var i=oA(r),s=Dy(e,i),o=L.makeSpan(["katex"],[s]);return aA(o,r)},LX={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},PX=function(e){var n=new W.MathNode("mo",[new W.TextNode(LX[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},zX={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},BX=function(e){return e.type==="ordgroup"?e.body.length:1},FX=function(e,n){function r(){var a=4e5,l=e.label.slice(1);if(ye.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,u=BX(c.base),d,h,f;if(u>5)l==="widehat"||l==="widecheck"?(d=420,a=2364,f=.42,h=l+"4"):(d=312,a=2340,f=.34,h="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],h=l+p):(a=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var g=new Wo(h),w=new Ps([g],{width:"100%",height:G(f),viewBox:"0 0 "+a+" "+d,preserveAspectRatio:"none"});return{span:L.makeSvgSpan([],[w],n),minWidth:0,height:f}}else{var y=[],b=zX[l],[C,S,A]=b,x=A/1e3,I=C.length,R,P;if(I===1){var j=b[3];R=["hide-tail"],P=[j]}else if(I===2)R=["halfarrow-left","halfarrow-right"],P=["xMinYMin","xMaxYMin"];else if(I===3)R=["brace-left","brace-center","brace-right"],P=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+I+" children.");for(var Q=0;Q<I;Q++){var X=new Wo(C[Q]),oe=new Ps([X],{width:"400em",height:G(x),viewBox:"0 0 "+a+" "+A,preserveAspectRatio:P[Q]+" slice"}),ge=L.makeSvgSpan([R[Q]],[oe],n);if(I===1)return{span:ge,minWidth:S,height:x};ge.style.height=G(x),y.push(ge)}return{span:L.makeSpan(["stretchy"],y,n),minWidth:S,height:x}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=G(o),s>0&&(i.style.minWidth=G(s)),i},jX=function(e,n,r,i,s){var o,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(o=L.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new Oy({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new Oy({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Ps(c,{width:"100%",height:G(a)});o=L.makeSvgSpan([],[u],s)}return o.height=a,o.style.height=G(a),o},Bs={encloseSpan:jX,mathMLnode:PX,svgSpan:FX};function Ae(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function c5(t){var e=v1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function v1(t){return t&&(t.type==="atom"||dX.hasOwnProperty(t.type))?t:null}var u5=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ae(t.base,"accent"),n=r.base,t.base=n,i=cX(Ve(t,e)),t.base=r):(r=Ae(t,"accent"),n=r.base);var s=Ve(n,e.havingCrampedStyle()),o=r.isShifty&&ye.isCharacterBox(n),a=0;if(o){var l=ye.getBaseElem(n),c=Ve(l,e.havingCrampedStyle());a=Ob(c).skew}var u=r.label==="\\c",d=u?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=Bs.svgSpan(r,e),h=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+G(2*a)+")",marginLeft:G(2*a)}:void 0}]},e);else{var f,p;r.label==="\\vec"?(f=L.staticSvg("vec",e),p=L.svgData.vec[1]):(f=L.makeOrd({mode:r.mode,text:r.label},e,"textord"),f=Ob(f),f.italic=0,p=f.width,u&&(d+=f.depth)),h=L.makeSpan(["accent-body"],[f]);var g=r.label==="\\textcircled";g&&(h.classes.push("accent-full"),d=s.height);var w=a;g||(w-=p/2),h.style.left=G(w),r.label==="\\textcircled"&&(h.style.top=".2em"),h=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var y=L.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},lA=(t,e)=>{var n=t.isStretchy?Bs.mathMLnode(t.label):new W.MathNode("mo",[Ur(t.label,t.mode)]),r=new W.MathNode("mover",[at(t.base,e),n]);return r.setAttribute("accent","true"),r},HX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Z({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=cm(e[0]),r=!HX.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:u5,mathmlBuilder:lA});Z({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:u5,mathmlBuilder:lA});Z({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ve(t.base,e),r=Bs.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=L.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return L.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=Bs.mathMLnode(t.label),r=new W.MathNode("munder",[at(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Ah=t=>{var e=new W.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Z({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=L.wrapFragment(Ve(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;t.below&&(r=e.havingStyle(n.sub()),o=L.wrapFragment(Ve(t.below,r,e),e),o.classes.push(s+"-arrow-pad"));var a=Bs.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*a.height,c=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(o){var d=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;u=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:d}]},e)}else u=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),L.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Bs.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Ah(at(t.body,e));if(t.below){var s=Ah(at(t.below,e));r=new W.MathNode("munderover",[n,s,i])}else r=new W.MathNode("mover",[n,i])}else if(t.below){var o=Ah(at(t.below,e));r=new W.MathNode("munder",[n,o])}else r=Ah(),r=new W.MathNode("mover",[n,r]);return r}});var $X=L.makeSpan;function cA(t,e){var n=Zt(t.body,e,!0);return $X([t.mclass],n,e)}function uA(t,e){var n,r=nr(t.body,e);return t.mclass==="minner"?n=new W.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new W.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new W.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Z({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ht(i),isCharacterBox:ye.isCharacterBox(i)}},htmlBuilder:cA,mathmlBuilder:uA});var y1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Z({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:y1(e[0]),body:Ht(e[1]),isCharacterBox:ye.isCharacterBox(e[1])}}});Z({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],o;r!=="\\stackrel"?o=y1(i):o="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ht(i)},l={type:"supsub",mode:s.mode,base:a,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:ye.isCharacterBox(l)}},htmlBuilder:cA,mathmlBuilder:uA});Z({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:y1(e[0]),body:Ht(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!0),r=L.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=nr(t.body,e),r=new W.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var UX={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},zb=()=>({type:"styling",body:[],mode:"math",style:"display"}),Bb=t=>t.type==="textord"&&t.text==="@",VX=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function WX(t,e,n){var r=UX[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=n.callFunction("\\Big",[s],[]),a=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function qX(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new K("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],a=zb(),l=0;l<o.length;l++)if(!Bb(o[l]))a.body.push(o[l]);else{r.push(a),l+=1;var c=c5(o[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var h=!0,f=l+1;f<o.length;f++){if(VX(o[f],c)){h=!1,l=f;break}if(Bb(o[f]))throw new K("Missing a "+c+" character to complete a CD arrow.",o[f]);u[d].body.push(o[f])}if(h)throw new K("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new K('Expected one of "<>AV=|." after @',o[l]);var p=WX(c,u,t),g={type:"styling",body:[p],mode:"math",style:"display"};r.push(g),a=zb()}s%2===0?r.push(a):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var w=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Z({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=L.wrapFragment(Ve(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=G(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new W.MathNode("mrow",[at(t.label,e)]);return n=new W.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new W.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Z({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=L.wrapFragment(Ve(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new W.MathNode("mrow",[at(t.fragment,e)])}});Z({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ae(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var a=Ae(i[o],"textord");s+=a.text}var l=parseInt(s),c;if(isNaN(l))throw new K("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new K("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var dA=(t,e)=>{var n=Zt(t.body,e.withColor(t.color),!1);return L.makeFragment(n)},hA=(t,e)=>{var n=nr(t.body,e.withColor(t.color)),r=new W.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Z({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ae(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ht(i)}},htmlBuilder:dA,mathmlBuilder:hA});Z({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ae(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:dA,mathmlBuilder:hA});Z({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ae(i,"size").value}},htmlBuilder(t,e){var n=L.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=G(Mt(t.size,e)))),n},mathmlBuilder(t,e){var n=new W.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",G(Mt(t.size,e)))),n}});var Ry={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},fA=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new K("Expected a control sequence",t);return e},KX=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},pA=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Z({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Ry[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Ry[r.text]),Ae(e.parseFunction(),"internal");throw new K("Invalid token after macro prefix",r)}});Z({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new K("Expected a control sequence",r);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new K('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new K('Argument number "'+r.text+'" out of order');s++,a.push([])}else{if(r.text==="EOF")throw new K("Expected a macro definition");a[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:a},n===Ry[n]),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=fA(e.gullet.popToken());e.gullet.consumeSpaces();var i=KX(e);return pA(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=fA(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return pA(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var _u=function(e,n,r){var i=ht.math[e]&&ht.math[e].replace,s=i5(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},d5=function(e,n,r,i){var s=r.havingBaseStyle(n),o=L.makeSpan(i.concat(s.sizingClasses(r)),[e],r),a=s.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},mA=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=G(s),e.height-=s,e.depth+=s},GX=function(e,n,r,i,s,o){var a=L.makeSymbol(e,"Main-Regular",s,i),l=d5(a,n,i,o);return r&&mA(l,i,n),l},JX=function(e,n,r,i){return L.makeSymbol(e,"Size"+n+"-Regular",r,i)},gA=function(e,n,r,i,s,o){var a=JX(e,n,s,i),l=d5(L.makeSpan(["delimsizing","size"+n],[a],i),Se.TEXT,i,o);return r&&mA(l,i,Se.TEXT),l},r4=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=L.makeSpan(["delimsizinginner",i],[L.makeSpan([],[L.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},i4=function(e,n,r){var i=Fi["Size4-Regular"][e.charCodeAt(0)]?Fi["Size4-Regular"][e.charCodeAt(0)][4]:Fi["Size1-Regular"][e.charCodeAt(0)][4],s=new Wo("inner",tX(e,Math.round(1e3*n))),o=new Ps([s],{width:G(i),height:G(n),style:"width:"+G(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=L.makeSvgSpan([],[o],r);return a.height=n,a.style.height=G(n),a.style.width=G(i),{type:"elem",elem:a}},_y=.008,Oh={type:"kern",size:-1*_y},YX=["|","\\lvert","\\rvert","\\vert"],XX=["\\|","\\lVert","\\rVert","\\Vert"],vA=function(e,n,r,i,s,o){var a,l,c,u,d="",h=0;a=c=u=e,l=null;var f="Size1-Regular";e==="\\uparrow"?c=u="⏐":e==="\\Uparrow"?c=u="‖":e==="\\downarrow"?a=c="⏐":e==="\\Downarrow"?a=c="‖":e==="\\updownarrow"?(a="\\uparrow",c="⏐",u="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",c="‖",u="\\Downarrow"):ye.contains(YX,e)?(c="∣",d="vert",h=333):ye.contains(XX,e)?(c="∥",d="doublevert",h=556):e==="["||e==="\\lbrack"?(a="⎡",c="⎢",u="⎣",f="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(a="⎤",c="⎥",u="⎦",f="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e==="⌊"?(c=a="⎢",u="⎣",f="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e==="⌈"?(a="⎡",c=u="⎢",f="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e==="⌋"?(c=a="⎥",u="⎦",f="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e==="⌉"?(a="⎤",c=u="⎥",f="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(a="⎛",c="⎜",u="⎝",f="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(a="⎞",c="⎟",u="⎠",f="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(a="⎧",l="⎨",u="⎩",c="⎪",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="⎫",l="⎬",u="⎭",c="⎪",f="Size4-Regular"):e==="\\lgroup"||e==="⟮"?(a="⎧",u="⎩",c="⎪",f="Size4-Regular"):e==="\\rgroup"||e==="⟯"?(a="⎫",u="⎭",c="⎪",f="Size4-Regular"):e==="\\lmoustache"||e==="⎰"?(a="⎧",u="⎭",c="⎪",f="Size4-Regular"):(e==="\\rmoustache"||e==="⎱")&&(a="⎫",u="⎩",c="⎪",f="Size4-Regular");var p=_u(a,f,s),g=p.height+p.depth,w=_u(c,f,s),y=w.height+w.depth,b=_u(u,f,s),C=b.height+b.depth,S=0,A=1;if(l!==null){var x=_u(l,f,s);S=x.height+x.depth,A=2}var I=g+C+S,R=Math.max(0,Math.ceil((n-I)/(A*y))),P=I+R*A*y,j=i.fontMetrics().axisHeight;r&&(j*=i.sizeMultiplier);var Q=P/2-j,X=[];if(d.length>0){var oe=P-g-C,ge=Math.round(P*1e3),Oe=nX(d,Math.round(oe*1e3)),Me=new Wo(d,Oe),he=(h/1e3).toFixed(3)+"em",$=(ge/1e3).toFixed(3)+"em",ee=new Ps([Me],{width:he,height:$,viewBox:"0 0 "+h+" "+ge}),te=L.makeSvgSpan([],[ee],i);te.height=ge/1e3,te.style.width=he,te.style.height=$,X.push({type:"elem",elem:te})}else{if(X.push(r4(u,f,s)),X.push(Oh),l===null){var ve=P-g-C+2*_y;X.push(i4(c,ve,i))}else{var de=(P-g-C-S)/2+2*_y;X.push(i4(c,de,i)),X.push(Oh),X.push(r4(l,f,s)),X.push(Oh),X.push(i4(c,de,i))}X.push(Oh),X.push(r4(a,f,s))}var rt=i.havingBaseStyle(Se.TEXT),Be=L.makeVList({positionType:"bottom",positionData:Q,children:X},rt);return d5(L.makeSpan(["delimsizing","mult"],[Be],rt),Se.TEXT,i,o)},s4=80,o4=.08,a4=function(e,n,r,i,s){var o=eX(e,i,r),a=new Wo(e,o),l=new Ps([a],{width:"400em",height:G(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return L.makeSvgSpan(["hide-tail"],[l],s)},QX=function(e,n){var r=n.havingBaseSizing(),i=kA("\\surd",e*r.sizeMultiplier,bA,r),s=r.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*o+s4,e<1?s=1:e<1.4&&(s=.7),l=(1+o+o4)/s,c=(1+o)/s,a=a4("sqrtMain",l,u,o,n),a.style.minWidth="0.853em",d=.833/s):i.type==="large"?(u=(1e3+s4)*sd[i.size],c=(sd[i.size]+o)/s,l=(sd[i.size]+o+o4)/s,a=a4("sqrtSize"+i.size,l,u,o,n),a.style.minWidth="1.02em",d=1/s):(l=e+o+o4,c=e+o,u=Math.floor(1e3*e+o)+s4,a=a4("sqrtTall",l,u,o,n),a.style.minWidth="0.742em",d=1.056),a.height=c,a.style.height=G(l),{span:a,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*s}},yA=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],ZX=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],wA=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],sd=[0,1.2,1.8,2.4,3],eQ=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle"),ye.contains(yA,e)||ye.contains(wA,e))return gA(e,n,!1,r,i,s);if(ye.contains(ZX,e))return vA(e,sd[n],!1,r,i,s);throw new K("Illegal delimiter: '"+e+"'")},tQ=[{type:"small",style:Se.SCRIPTSCRIPT},{type:"small",style:Se.SCRIPT},{type:"small",style:Se.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],nQ=[{type:"small",style:Se.SCRIPTSCRIPT},{type:"small",style:Se.SCRIPT},{type:"small",style:Se.TEXT},{type:"stack"}],bA=[{type:"small",style:Se.SCRIPTSCRIPT},{type:"small",style:Se.SCRIPT},{type:"small",style:Se.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],rQ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},kA=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var a=_u(e,rQ(r[o]),"math"),l=a.height+a.depth;if(r[o].type==="small"){var c=i.havingBaseStyle(r[o].style);l*=c.sizeMultiplier}if(l>n)return r[o]}return r[r.length-1]},SA=function(e,n,r,i,s,o){e==="<"||e==="\\lt"||e==="⟨"?e="\\langle":(e===">"||e==="\\gt"||e==="⟩")&&(e="\\rangle");var a;ye.contains(wA,e)?a=tQ:ye.contains(yA,e)?a=bA:a=nQ;var l=kA(e,n,a,i);return l.type==="small"?GX(e,l.style,r,i,s,o):l.type==="large"?gA(e,l.size,r,i,s,o):vA(e,n,r,i,s,o)},iQ=function(e,n,r,i,s,o){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(n-a,r+a),d=Math.max(u/500*l,2*u-c);return SA(e,d,!0,i,s,o)},Ms={sqrtImage:QX,sizedDelim:eQ,sizeToMaxHeight:sd,customSizedDelim:SA,leftRightDelim:iQ},Fb={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},sQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function w1(t,e){var n=v1(t);if(n&&ye.contains(sQ,n.text))return n;throw n?new K("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new K("Invalid delimiter type '"+t.type+"'",t)}Z({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=w1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Fb[t.funcName].size,mclass:Fb[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?L.makeSpan([t.mclass]):Ms.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Ur(t.delim,t.mode));var n=new W.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=G(Ms.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function jb(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Z({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new K("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:w1(e[0],t).text,color:n}}});Z({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=w1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ae(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{jb(t);for(var n=Zt(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<n.length;o++)n[o].isMiddle?s=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(t.left==="."?a=e0(e,["mopen"]):a=Ms.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(a),s)for(var l=1;l<n.length;l++){var c=n[l],u=c.isMiddle;u&&(n[l]=Ms.leftRightDelim(u.delim,r,i,u.options,t.mode,[]))}var d;if(t.right===".")d=e0(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;d=Ms.leftRightDelim(t.right,r,i,h,t.mode,["mclose"])}return n.push(d),L.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{jb(t);var n=nr(t.body,e);if(t.left!=="."){var r=new W.MathNode("mo",[Ur(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new W.MathNode("mo",[Ur(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return a5(n)}});Z({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=w1(e[0],t);if(!t.parser.leftrightDepth)throw new K("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=e0(e,[]);else{n=Ms.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Ur("|","text"):Ur(t.delim,t.mode),r=new W.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var h5=(t,e)=>{var n=L.wrapFragment(Ve(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,o=0,a=ye.isCharacterBox(t.body);if(r==="sout")s=L.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Mt({number:.6,unit:"pt"},e),c=Mt({number:.35,unit:"ex"},e),u=e.havingBaseSizing();i=i/u.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=G(d/2+l);var h=Math.floor(1e3*d*i),f=QY(h),p=new Ps([new Wo("phase",f)],{width:"400em",height:G(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=L.makeSvgSpan(["hide-tail"],[p],e),s.style.height=G(d),o=n.depth+l+c}else{/cancel/.test(r)?a||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,w=0,y=0;/box/.test(r)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(r==="colorbox"?0:y),w=g):r==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*y,w=Math.max(0,.25-n.depth)):(g=a?.2:0,w=g),s=Bs.encloseSpan(n,r,g,w,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=G(y)):r==="angl"&&y!==.049&&(s.style.borderTopWidth=G(y),s.style.borderRightWidth=G(y)),o=n.depth+w,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var b;if(t.backgroundColor)b=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:n,shift:0}]},e);else{var C=/cancel|phase/.test(r)?["svg-align"]:[];b=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:C}]},e)}return/cancel/.test(r)&&(b.height=n.height,b.depth=n.depth),/cancel/.test(r)&&!a?L.makeSpan(["mord","cancel-lap"],[b],e):L.makeSpan(["mord"],[b],e)},f5=(t,e)=>{var n=0,r=new W.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[at(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Z({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:h5,mathmlBuilder:f5});Z({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,o=Ae(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:h5,mathmlBuilder:f5});Z({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Z({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:h5,mathmlBuilder:f5});Z({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var xA={};function Zi(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)xA[n[l]]=a;s&&(am[e]=s),o&&(lm[e]=o)}var CA={};function E(t,e){CA[t]=e}function Hb(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var b1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new K("{"+t.envName+"} can be used only in display mode.")};function p5(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function sa(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:h}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!o){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)o=1;else if(o=parseFloat(f),!o||o<0)throw new K("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],g=[p],w=[],y=[],b=l!=null?[]:void 0;function C(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function S(){b&&(t.gullet.macros.get("\\df@tag")?(b.push(t.subparse([new Pr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(C(),y.push(Hb(t));;){var A=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),A={type:"ordgroup",mode:t.mode,body:A},n&&(A={type:"styling",mode:t.mode,style:n,body:[A]}),p.push(A);var x=t.fetch().text;if(x==="&"){if(d&&p.length===d){if(c||a)throw new K("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(x==="\\end"){S(),p.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(g.length>1||!u)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(x==="\\\\"){t.consume();var I=void 0;t.gullet.future().text!==" "&&(I=t.parseSizeGroup(!0)),w.push(I?I.value:null),S(),y.push(Hb(t)),p=[],g.push(p),C()}else throw new K("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:o,body:g,cols:s,rowGaps:w,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:a,tags:b,leqno:h}}function m5(t){return t.slice(0,1)==="d"?"display":"text"}var es=function(e,n){var r,i,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),c=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=n.havingStyle(Se.SCRIPT).sizeMultiplier;h=.2778*(f/n.sizeMultiplier)}var p=e.colSeparationType==="CD"?Mt({number:3,unit:"ex"},n):12*d,g=3*d,w=e.arraystretch*p,y=.7*w,b=.3*w,C=0;function S(kr){for(var Wr=0;Wr<kr.length;++Wr)Wr>0&&(C+=.25),c.push({pos:C,isDashed:kr[Wr]})}for(S(o[0]),r=0;r<e.body.length;++r){var A=e.body[r],x=y,I=b;a<A.length&&(a=A.length);var R=new Array(A.length);for(i=0;i<A.length;++i){var P=Ve(A[i],n);I<P.depth&&(I=P.depth),x<P.height&&(x=P.height),R[i]=P}var j=e.rowGaps[r],Q=0;j&&(Q=Mt(j,n),Q>0&&(Q+=b,I<Q&&(I=Q),Q=0)),e.addJot&&(I+=g),R.height=x,R.depth=I,C+=x,R.pos=C,C+=I+Q,l[r]=R,S(o[r+1])}var X=C/2+n.fontMetrics().axisHeight,oe=e.cols||[],ge=[],Oe,Me,he=[];if(e.tags&&e.tags.some(kr=>kr))for(r=0;r<s;++r){var $=l[r],ee=$.pos-X,te=e.tags[r],ve=void 0;te===!0?ve=L.makeSpan(["eqn-num"],[],n):te===!1?ve=L.makeSpan([],[],n):ve=L.makeSpan([],Zt(te,n,!0),n),ve.depth=$.depth,ve.height=$.height,he.push({type:"elem",elem:ve,shift:ee})}for(i=0,Me=0;i<a||Me<oe.length;++i,++Me){for(var de=oe[Me]||{},rt=!0;de.type==="separator";){if(rt||(Oe=L.makeSpan(["arraycolsep"],[]),Oe.style.width=G(n.fontMetrics().doubleRuleSep),ge.push(Oe)),de.separator==="|"||de.separator===":"){var Be=de.separator==="|"?"solid":"dashed",Fe=L.makeSpan(["vertical-separator"],[],n);Fe.style.height=G(C),Fe.style.borderRightWidth=G(u),Fe.style.borderRightStyle=Be,Fe.style.margin="0 "+G(-u/2);var je=C-X;je&&(Fe.style.verticalAlign=G(-je)),ge.push(Fe)}else throw new K("Invalid separator type: "+de.separator);Me++,de=oe[Me]||{},rt=!1}if(!(i>=a)){var Ze=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ze=ye.deflt(de.pregap,h),Ze!==0&&(Oe=L.makeSpan(["arraycolsep"],[]),Oe.style.width=G(Ze),ge.push(Oe)));var vt=[];for(r=0;r<s;++r){var Bt=l[r],Jt=Bt[i];if(Jt){var Ye=Bt.pos-X;Jt.depth=Bt.depth,Jt.height=Bt.height,vt.push({type:"elem",elem:Jt,shift:Ye})}}vt=L.makeVList({positionType:"individualShift",children:vt},n),vt=L.makeSpan(["col-align-"+(de.align||"c")],[vt]),ge.push(vt),(i<a-1||e.hskipBeforeAndAfter)&&(Ze=ye.deflt(de.postgap,h),Ze!==0&&(Oe=L.makeSpan(["arraycolsep"],[]),Oe.style.width=G(Ze),ge.push(Oe)))}}if(l=L.makeSpan(["mtable"],ge),c.length>0){for(var It=L.makeLineSpan("hline",n,u),yi=L.makeLineSpan("hdashline",n,u),wi=[{type:"elem",elem:l,shift:0}];c.length>0;){var An=c.pop(),bi=An.pos-X;An.isDashed?wi.push({type:"elem",elem:yi,shift:bi}):wi.push({type:"elem",elem:It,shift:bi})}l=L.makeVList({positionType:"individualShift",children:wi},n)}if(he.length===0)return L.makeSpan(["mord"],[l],n);var Vr=L.makeVList({positionType:"individualShift",children:he},n);return Vr=L.makeSpan(["tag"],[Vr],n),L.makeFragment([l,Vr])},oQ={c:"center ",l:"left ",r:"right "},ts=function(e,n){for(var r=[],i=new W.MathNode("mtd",[],["mtr-glue"]),s=new W.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],c=0;c<a.length;c++)l.push(new W.MathNode("mtd",[at(a[c],n)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new W.MathNode("mtr",l))}var u=new W.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",G(d));var h="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,g="",w=!1,y=0,b=p.length;p[0].type==="separator"&&(h+="top ",y=1),p[p.length-1].type==="separator"&&(h+="bottom ",b-=1);for(var C=y;C<b;C++)p[C].type==="align"?(f+=oQ[p[C].align],w&&(g+="none "),w=!0):p[C].type==="separator"&&w&&(g+=p[C].separator==="|"?"solid ":"dashed ",w=!1);u.setAttribute("columnalign",f.trim()),/[sd]/.test(g)&&u.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var S=e.cols||[],A="",x=1;x<S.length;x++)A+=x%2?"0em ":"1em ";u.setAttribute("columnspacing",A.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var I="",R=e.hLinesBeforeRow;h+=R[0].length>0?"left ":"",h+=R[R.length-1].length>0?"right ":"";for(var P=1;P<R.length-1;P++)I+=R[P].length===0?"none ":R[P][0]?"dashed ":"solid ";return/[sd]/.test(I)&&u.setAttribute("rowlines",I.trim()),h!==""&&(u=new W.MathNode("menclose",[u]),u.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(u=new W.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},EA=function(e,n){e.envName.indexOf("ed")===-1&&b1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=sa(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:p5(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",d=0;d<n[0].body.length;d++){var h=Ae(n[0].body[d],"textord");u+=h.text}a=Number(u),l=a*2}var f=!l;o.body.forEach(function(y){for(var b=1;b<y.length;b+=2){var C=Ae(y[b],"styling"),S=Ae(C.body[0],"ordgroup");S.body.unshift(c)}if(f)l<y.length&&(l=y.length);else{var A=y.length/2;if(a<A)throw new K("Too many math in a row: "+("expected "+a+", but got "+A),y[0])}});for(var p=0;p<l;++p){var g="r",w=0;p%2===1?g="l":p>0&&f&&(w=1),r[p]={type:"align",align:g,pregap:w,postgap:0}}return o.colSeparationType=f?"align":"alignat",o};Zi({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=v1(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(o){var a=c5(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new K("Unknown column alignment: "+l,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return sa(t.parser,s,m5(t.envName))},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new K("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=sa(t.parser,r,m5(t.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=sa(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=v1(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(o){var a=c5(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new K("Unknown column alignment: "+l,o)});if(i.length>1)throw new K("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=sa(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new K("{subarray} can contain only one column");return s},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=sa(t.parser,e,m5(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:EA,htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){ye.contains(["gather","gather*"],t.envName)&&b1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:p5(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return sa(t.parser,e,"display")},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:EA,htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){b1(t);var e={autoTag:p5(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return sa(t.parser,e,"display")},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["CD"],props:{numArgs:0},handler(t){return b1(t),qX(t.parser)},htmlBuilder:es,mathmlBuilder:ts});E("\\nonumber","\\gdef\\@eqnsw{0}");E("\\notag","\\nonumber");Z({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new K(t.funcName+" valid only within array environment")}});var $b=xA;Z({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new K("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=Ae(i.body[o],"textord").text;if(r==="\\begin"){if(!$b.hasOwnProperty(s))throw new K("No such environment: "+s,i);var a=$b[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",a),u={mode:n.mode,envName:s,parser:n},d=a.handler(u,l,c);n.expect("\\end",!1);var h=n.nextToken,f=Ae(n.parseFunction(),"environment");if(f.name!==s)throw new K("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var TA=(t,e)=>{var n=t.font,r=e.withFont(n);return Ve(t.body,r)},MA=(t,e)=>{var n=t.font,r=e.withFont(n);return at(t.body,r)},Ub={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Z({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=cm(e[0]),s=r;return s in Ub&&(s=Ub[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:TA,mathmlBuilder:MA});Z({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=ye.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:y1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Z({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,o=n.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:TA,mathmlBuilder:MA});var AA=(t,e)=>{var n=e;return t==="display"?n=n.id>=Se.SCRIPT.id?n.text():Se.DISPLAY:t==="text"&&n.size===Se.DISPLAY.size?n=Se.TEXT:t==="script"?n=Se.SCRIPT:t==="scriptscript"&&(n=Se.SCRIPTSCRIPT),n},g5=(t,e)=>{var n=AA(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var o=Ve(t.numer,s,e);if(t.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(i);var c=Ve(t.denom,s,e),u,d,h;t.hasBarLine?(t.barSize?(d=Mt(t.barSize,e),u=L.makeLineSpan("frac-line",e,d)):u=L.makeLineSpan("frac-line",e),d=u.height,h=u.height):(u=null,d=0,h=e.fontMetrics().defaultRuleThickness);var f,p,g;n.size===Se.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?p=3*h:p=7*h,g=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,p=h):(f=e.fontMetrics().num3,p=3*h),g=e.fontMetrics().denom2);var w;if(u){var b=e.fontMetrics().axisHeight;f-o.depth-(b+.5*d)<p&&(f+=p-(f-o.depth-(b+.5*d))),b-.5*d-(c.height-g)<p&&(g+=p-(b-.5*d-(c.height-g)));var C=-(b-.5*d);w=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:u,shift:C},{type:"elem",elem:o,shift:-f}]},e)}else{var y=f-o.depth-(c.height-g);y<p&&(f+=.5*(p-y),g+=.5*(p-y)),w=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:o,shift:-f}]},e)}s=e.havingStyle(n),w.height*=s.sizeMultiplier/e.sizeMultiplier,w.depth*=s.sizeMultiplier/e.sizeMultiplier;var S;n.size===Se.DISPLAY.size?S=e.fontMetrics().delim1:n.size===Se.SCRIPTSCRIPT.size?S=e.havingStyle(Se.SCRIPT).fontMetrics().delim2:S=e.fontMetrics().delim2;var A,x;return t.leftDelim==null?A=e0(e,["mopen"]):A=Ms.customSizedDelim(t.leftDelim,S,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?x=L.makeSpan([]):t.rightDelim==null?x=e0(e,["mclose"]):x=Ms.customSizedDelim(t.rightDelim,S,!0,e.havingStyle(n),t.mode,["mclose"]),L.makeSpan(["mord"].concat(s.sizingClasses(e)),[A,L.makeSpan(["mfrac"],[w]),x],e)},v5=(t,e)=>{var n=new W.MathNode("mfrac",[at(t.numer,e),at(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Mt(t.barSize,e);n.setAttribute("linethickness",G(r))}var i=AA(t.size,e.style);if(i.size!==e.style.size){n=new W.MathNode("mstyle",[n]);var s=i.size===Se.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var o=[];if(t.leftDelim!=null){var a=new W.MathNode("mo",[new W.TextNode(t.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),t.rightDelim!=null){var l=new W.MathNode("mo",[new W.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return a5(o)}return n};Z({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],o,a=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:g5,mathmlBuilder:v5});Z({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Z({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var Vb=["display","text","script","scriptscript"],Wb=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Z({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=cm(e[0]),o=s.type==="atom"&&s.family==="open"?Wb(s.text):null,a=cm(e[1]),l=a.type==="atom"&&a.family==="close"?Wb(a.text):null,c=Ae(e[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var h="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=Ae(f.body[0],"textord");h=Vb[Number(p.text)]}}else f=Ae(f,"textord"),h=Vb[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:o,rightDelim:l,size:h}},htmlBuilder:g5,mathmlBuilder:v5});Z({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ae(e[0],"size").value,token:i}}});Z({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=zY(Ae(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:g5,mathmlBuilder:v5});var OA=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ve(t.sup,e.havingStyle(n.sup()),e):Ve(t.sub,e.havingStyle(n.sub()),e),i=Ae(t.base,"horizBrace")):i=Ae(t,"horizBrace");var s=Ve(i.base,e.havingBaseStyle(Se.DISPLAY)),o=Bs.svgSpan(i,e),a;if(i.isOver?(a=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=L.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=L.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=L.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return L.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},aQ=(t,e)=>{var n=Bs.mathMLnode(t.label);return new W.MathNode(t.isOver?"mover":"munder",[at(t.base,e),n])};Z({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:OA,mathmlBuilder:aQ});Z({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ae(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ht(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1);return L.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=qo(t.body,e);return n instanceof Ir||(n=new Ir("mrow",[n])),n.setAttribute("href",t.href),n}});Z({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ae(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ht(a)}}});Z({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ht(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!1);return L.makeFragment(n)},mathmlBuilder(t,e){return new W.MathNode("mrow",nr(t.body,e))}});Z({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ae(e[0],"raw").string,o=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length!==2)throw new K("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:Ht(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=L.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>qo(t.body,e)});Z({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ht(e[0]),mathml:Ht(e[1])}},htmlBuilder:(t,e)=>{var n=Zt(t.html,e,!1);return L.makeFragment(n)},mathmlBuilder:(t,e)=>qo(t.mathml,e)});var l4=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new K("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!GM(r))throw new K("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Z({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(n[0])for(var l=Ae(n[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":a=h;break;case"width":i=l4(h);break;case"height":s=l4(h);break;case"totalheight":o=l4(h);break;default:throw new K("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Ae(e[0],"url").url;return a===""&&(a=f,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:s,totalheight:o,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Mt(t.height,e),r=0;t.totalheight.number>0&&(r=Mt(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Mt(t.width,e));var s={height:G(n+r)};i>0&&(s.width=G(i)),r>0&&(s.verticalAlign=G(-r));var o=new aX(t.src,t.alt,s);return o.height=n,o.depth=r,o},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Mt(t.height,e),i=0;if(t.totalheight.number>0&&(i=Mt(t.totalheight,e)-r,n.setAttribute("valign",G(-i))),n.setAttribute("height",G(r+i)),t.width.number>0){var s=Mt(t.width,e);n.setAttribute("width",G(s))}return n.setAttribute("src",t.src),n}});Z({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ae(e[0],"size");if(n.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return L.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Mt(t.dimension,e);return new W.SpaceNode(n)}});Z({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=L.makeSpan([],[Ve(t.body,e)]),n=L.makeSpan(["inner"],[n],e)):n=L.makeSpan(["inner"],[Ve(t.body,e)]);var r=L.makeSpan(["fix"],[]),i=L.makeSpan([t.alignment],[n,r],e),s=L.makeSpan(["strut"]);return s.style.height=G(i.height+i.depth),i.depth&&(s.style.verticalAlign=G(-i.depth)),i.children.unshift(s),i=L.makeSpan(["thinbox"],[i],e),L.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[at(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Z({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});Z({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new K("Mismatched "+t.funcName)}});var qb=(t,e)=>{switch(e.style.size){case Se.DISPLAY.size:return t.display;case Se.TEXT.size:return t.text;case Se.SCRIPT.size:return t.script;case Se.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Z({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ht(e[0]),text:Ht(e[1]),script:Ht(e[2]),scriptscript:Ht(e[3])}},htmlBuilder:(t,e)=>{var n=qb(t,e),r=Zt(n,e,!1);return L.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=qb(t,e);return qo(n,e)}});var IA=(t,e,n,r,i,s,o)=>{t=L.makeSpan([],[t]);var a=n&&ye.isCharacterBox(n),l,c;if(e){var u=Ve(e,r.havingStyle(i.sup()),r);c={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=Ve(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var h;if(c&&l){var f=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+o;h=L.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:G(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:G(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=t.height-o;h=L.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:G(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var g=t.depth+o;h=L.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:G(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var w=[h];if(l&&s!==0&&!a){var y=L.makeSpan(["mspace"],[],r);y.style.marginRight=G(s),w.unshift(y)}return L.makeSpan(["mop","op-limits"],w,r)},NA=["\\smallint"],ru=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"op"),i=!0):s=Ae(t,"op");var o=e.style,a=!1;o.size===Se.DISPLAY.size&&s.symbol&&!ye.contains(NA,s.name)&&(a=!0);var l;if(s.symbol){var c=a?"Size2-Regular":"Size1-Regular",u="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(u=s.name.slice(1),s.name=u==="oiint"?"\\iint":"\\iiint"),l=L.makeSymbol(s.name,c,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),u.length>0){var d=l.italic,h=L.staticSvg(u+"Size"+(a?"2":"1"),e);l=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:a?.08:0}]},e),s.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=Zt(s.body,e,!0);f.length===1&&f[0]instanceof $r?(l=f[0],l.classes[0]="mop"):l=L.makeSpan(["mop"],f,e)}else{for(var p=[],g=1;g<s.name.length;g++)p.push(L.mathsym(s.name[g],s.mode,e));l=L.makeSpan(["mop"],p,e)}var w=0,y=0;return(l instanceof $r||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(w=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),i?IA(l,n,r,e,o,y,w):(w&&(l.style.position="relative",l.style.top=G(w)),l)},T0=(t,e)=>{var n;if(t.symbol)n=new Ir("mo",[Ur(t.name,t.mode)]),ye.contains(NA,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Ir("mo",nr(t.body,e));else{n=new Ir("mi",[new id(t.name.slice(1))]);var r=new Ir("mo",[Ur("⁡","text")]);t.parentIsSupSub?n=new Ir("mrow",[n,r]):n=sA([n,r])}return n},lQ={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Z({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=lQ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ru,mathmlBuilder:T0});Z({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ht(r)}},htmlBuilder:ru,mathmlBuilder:T0});var cQ={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Z({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ru,mathmlBuilder:T0});Z({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ru,mathmlBuilder:T0});Z({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=cQ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ru,mathmlBuilder:T0});var DA=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"operatorname"),i=!0):s=Ae(t,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=Zt(a,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof $r&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=L.makeSpan(["mop"],l,e)}else o=L.makeSpan(["mop"],[],e);return i?IA(o,n,r,e,e.style,0,0):o},uQ=(t,e)=>{for(var n=nr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof W.SpaceNode))if(s instanceof W.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof W.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=n.map(u=>u.toText()).join("");n=[new W.TextNode(a)]}var l=new W.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new W.MathNode("mo",[Ur("⁡","text")]);return t.parentIsSupSub?new W.MathNode("mrow",[l,c]):W.newDocumentFragment([l,c])};Z({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ht(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:DA,mathmlBuilder:uQ});E("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");dl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?L.makeFragment(Zt(t.body,e,!1)):L.makeSpan(["mord"],Zt(t.body,e,!0),e)},mathmlBuilder(t,e){return qo(t.body,e,!0)}});Z({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ve(t.body,e.havingCrampedStyle()),r=L.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return L.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new W.MathNode("mover",[at(t.body,e),n]);return r.setAttribute("accent","true"),r}});Z({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ht(r)}},htmlBuilder:(t,e)=>{var n=Zt(t.body,e.withPhantom(),!1);return L.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=nr(t.body,e);return new W.MathNode("mphantom",n)}});Z({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=L.makeSpan([],[Ve(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),L.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=nr(Ht(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Z({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=L.makeSpan(["inner"],[Ve(t.body,e.withPhantom())]),r=L.makeSpan(["fix"],[]);return L.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=nr(Ht(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Z({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ae(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ve(t.body,e),r=Mt(t.dy,e);return L.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new W.MathNode("mpadded",[at(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Z({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Z({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ae(e[0],"size"),o=Ae(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ae(i,"size").value,width:s.value,height:o.value}},htmlBuilder(t,e){var n=L.makeSpan(["mord","rule"],[],e),r=Mt(t.width,e),i=Mt(t.height,e),s=t.shift?Mt(t.shift,e):0;return n.style.borderRightWidth=G(r),n.style.borderTopWidth=G(i),n.style.bottom=G(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Mt(t.width,e),r=Mt(t.height,e),i=t.shift?Mt(t.shift,e):0,s=e.color&&e.getColor()||"black",o=new W.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",G(n)),o.setAttribute("height",G(r));var a=new W.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",G(i)):(a.setAttribute("height",G(i)),a.setAttribute("depth",G(-i))),a.setAttribute("voffset",G(i)),a}});function RA(t,e,n){for(var r=Zt(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return L.makeFragment(r)}var Kb=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],dQ=(t,e)=>{var n=e.havingSize(t.size);return RA(t.body,n,e)};Z({type:"sizing",names:Kb,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Kb.indexOf(r)+1,body:s}},htmlBuilder:dQ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=nr(t.body,n),i=new W.MathNode("mstyle",r);return i.setAttribute("mathsize",G(n.sizeMultiplier)),i}});Z({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,o=n[0]&&Ae(n[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var c=o.body[l];if(a=c.text,a==="t")i=!0;else if(a==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var u=e[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=L.makeSpan([],[Ve(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return L.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[at(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Z({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Ve(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=L.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<Se.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,a=n.height+n.depth+o+i,{span:l,ruleWidth:c,advanceWidth:u}=Ms.sqrtImage(a,e),d=l.height-c;d>n.height+n.depth+o&&(o=(o+d-n.height-n.depth)/2);var h=l.height-n.height-o-c;n.style.paddingLeft=G(u);var f=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var p=e.havingStyle(Se.SCRIPTSCRIPT),g=Ve(t.index,p,e),w=.6*(f.height-f.depth),y=L.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:g}]},e),b=L.makeSpan(["root"],[y]);return L.makeSpan(["mord","sqrt"],[b,f],e)}else return L.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new W.MathNode("mroot",[at(n,e),at(r,e)]):new W.MathNode("msqrt",[at(n,e)])}});var Gb={display:Se.DISPLAY,text:Se.TEXT,script:Se.SCRIPT,scriptscript:Se.SCRIPTSCRIPT};Z({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(t,e){var n=Gb[t.style],r=e.havingStyle(n).withFont("");return RA(t.body,r,e)},mathmlBuilder(t,e){var n=Gb[t.style],r=e.havingStyle(n),i=nr(t.body,r),s=new W.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[t.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var hQ=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===Se.DISPLAY.size||r.alwaysHandleSupSub);return i?ru:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===Se.DISPLAY.size||r.limits);return s?DA:null}else{if(r.type==="accent")return ye.isCharacterBox(r.base)?u5:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?OA:null}else return null}else return null};dl({type:"supsub",htmlBuilder(t,e){var n=hQ(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,o=Ve(r,e),a,l,c=e.fontMetrics(),u=0,d=0,h=r&&ye.isCharacterBox(r);if(i){var f=e.havingStyle(e.style.sup());a=Ve(i,f,e),h||(u=o.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=Ve(s,p,e),h||(d=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var g;e.style===Se.DISPLAY?g=c.sup1:e.style.cramped?g=c.sup3:g=c.sup2;var w=e.sizeMultiplier,y=G(.5/c.ptPerEm/w),b=null;if(l){var C=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(o instanceof $r||C)&&(b=G(-o.italic))}var S;if(a&&l){u=Math.max(u,g,a.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var A=c.defaultRuleThickness,x=4*A;if(u-a.depth-(l.height-d)<x){d=x-(u-a.depth)+l.height;var I=.8*c.xHeight-(u-a.depth);I>0&&(u+=I,d-=I)}var R=[{type:"elem",elem:l,shift:d,marginRight:y,marginLeft:b},{type:"elem",elem:a,shift:-u,marginRight:y}];S=L.makeVList({positionType:"individualShift",children:R},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var P=[{type:"elem",elem:l,marginLeft:b,marginRight:y}];S=L.makeVList({positionType:"shift",positionData:d,children:P},e)}else if(a)u=Math.max(u,g,a.depth+.25*c.xHeight),S=L.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:a,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var j=Ny(o,"right")||"mord";return L.makeSpan([j],[o,L.makeSpan(["msupsub"],[S])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[at(t.base,e)];t.sub&&s.push(at(t.sub,e)),t.sup&&s.push(at(t.sup,e));var o;if(n)o=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===Se.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===Se.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===Se.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===Se.DISPLAY)?o="munder":o="msub"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===Se.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===Se.DISPLAY)?o="mover":o="msup"}return new W.MathNode(o,s)}});dl({type:"atom",htmlBuilder(t,e){return L.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new W.MathNode("mo",[Ur(t.text,t.mode)]);if(t.family==="bin"){var r=l5(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var _A={mi:"italic",mn:"normal",mtext:"normal"};dl({type:"mathord",htmlBuilder(t,e){return L.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new W.MathNode("mi",[Ur(t.text,t.mode,e)]),r=l5(t,e)||"italic";return r!==_A[n.type]&&n.setAttribute("mathvariant",r),n}});dl({type:"textord",htmlBuilder(t,e){return L.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Ur(t.text,t.mode,e),r=l5(t,e)||"normal",i;return t.mode==="text"?i=new W.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new W.MathNode("mn",[n]):t.text==="\\prime"?i=new W.MathNode("mo",[n]):i=new W.MathNode("mi",[n]),r!==_A[i.type]&&i.setAttribute("mathvariant",r),i}});var c4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},u4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};dl({type:"spacing",htmlBuilder(t,e){if(u4.hasOwnProperty(t.text)){var n=u4[t.text].className||"";if(t.mode==="text"){var r=L.makeOrd(t,e,"textord");return r.classes.push(n),r}else return L.makeSpan(["mspace",n],[L.mathsym(t.text,t.mode,e)],e)}else{if(c4.hasOwnProperty(t.text))return L.makeSpan(["mspace",c4[t.text]],[],e);throw new K('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(u4.hasOwnProperty(t.text))n=new W.MathNode("mtext",[new W.TextNode(" ")]);else{if(c4.hasOwnProperty(t.text))return new W.MathNode("mspace");throw new K('Unknown type of space "'+t.text+'"')}return n}});var Jb=()=>{var t=new W.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};dl({type:"tag",mathmlBuilder(t,e){var n=new W.MathNode("mtable",[new W.MathNode("mtr",[Jb(),new W.MathNode("mtd",[qo(t.body,e)]),Jb(),new W.MathNode("mtd",[qo(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Yb={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Xb={"\\textbf":"textbf","\\textmd":"textmd"},fQ={"\\textit":"textit","\\textup":"textup"},Qb=(t,e)=>{var n=t.font;if(n){if(Yb[n])return e.withTextFontFamily(Yb[n]);if(Xb[n])return e.withTextFontWeight(Xb[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(fQ[n])};Z({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ht(i),font:r}},htmlBuilder(t,e){var n=Qb(t,e),r=Zt(t.body,n,!0);return L.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=Qb(t,e);return qo(t.body,n)}});Z({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ve(t.body,e),r=L.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=L.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return L.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("‾")]);n.setAttribute("stretchy","true");var r=new W.MathNode("munder",[at(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Z({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ve(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return L.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new W.MathNode("mpadded",[at(t.body,e)],["vcenter"])}});Z({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new K("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Zb(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),r.push(L.makeSymbol(o,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return L.makeSpan(["mord","text"].concat(i.sizingClasses(e)),L.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new W.TextNode(Zb(t)),r=new W.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Zb=t=>t.body.replace(/ /g,t.star?"␣":" "),xo=rA,LA=`[ \r
	]`,pQ="\\\\[a-zA-Z@]+",mQ="\\\\[^\uD800-\uDFFF]",gQ="("+pQ+")"+LA+"*",vQ=`\\\\(
|[ \r	]+
?)[ \r	]*`,Ly="[̀-ͯ]",yQ=new RegExp(Ly+"+$"),wQ="("+LA+"+)|"+(vQ+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(Ly+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Ly+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+gQ)+("|"+mQ+")");class ek{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(wQ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Pr("EOF",new lr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new K("Unexpected character: '"+e[n]+"'",new Pr(e[n],new lr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new Pr(i,new lr(this,n,this.tokenRegex.lastIndex))}}class bQ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new K("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var kQ=CA;E("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});E("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});E("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});E("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});E("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});E("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");E("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var tk={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};E("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new K("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=tk[e.text],r==null||r>=n)throw new K("Invalid base-"+n+" digit "+e.text);for(var i;(i=tk[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var y5=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new K("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new K("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new K("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var a="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)a+=l.text,l=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new K("Invalid number of arguments: "+a);o=parseInt(a),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:o}),""};E("\\newcommand",t=>y5(t,!1,!0));E("\\renewcommand",t=>y5(t,!0,!1));E("\\providecommand",t=>y5(t,!0,!0));E("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});E("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});E("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),xo[n],ht.math[n],ht.text[n]),""});E("\\bgroup","{");E("\\egroup","}");E("~","\\nobreakspace");E("\\lq","`");E("\\rq","'");E("\\aa","\\r a");E("\\AA","\\r A");E("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");E("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");E("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");E("ℬ","\\mathscr{B}");E("ℰ","\\mathscr{E}");E("ℱ","\\mathscr{F}");E("ℋ","\\mathscr{H}");E("ℐ","\\mathscr{I}");E("ℒ","\\mathscr{L}");E("ℳ","\\mathscr{M}");E("ℛ","\\mathscr{R}");E("ℭ","\\mathfrak{C}");E("ℌ","\\mathfrak{H}");E("ℨ","\\mathfrak{Z}");E("\\Bbbk","\\Bbb{k}");E("·","\\cdotp");E("\\llap","\\mathllap{\\textrm{#1}}");E("\\rlap","\\mathrlap{\\textrm{#1}}");E("\\clap","\\mathclap{\\textrm{#1}}");E("\\mathstrut","\\vphantom{(}");E("\\underbar","\\underline{\\text{#1}}");E("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');E("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");E("\\ne","\\neq");E("≠","\\neq");E("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");E("∉","\\notin");E("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");E("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");E("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");E("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");E("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");E("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");E("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");E("⟂","\\perp");E("‼","\\mathclose{!\\mkern-0.8mu!}");E("∌","\\notni");E("⌜","\\ulcorner");E("⌝","\\urcorner");E("⌞","\\llcorner");E("⌟","\\lrcorner");E("©","\\copyright");E("®","\\textregistered");E("️","\\textregistered");E("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');E("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');E("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');E("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');E("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");E("⋮","\\vdots");E("\\varGamma","\\mathit{\\Gamma}");E("\\varDelta","\\mathit{\\Delta}");E("\\varTheta","\\mathit{\\Theta}");E("\\varLambda","\\mathit{\\Lambda}");E("\\varXi","\\mathit{\\Xi}");E("\\varPi","\\mathit{\\Pi}");E("\\varSigma","\\mathit{\\Sigma}");E("\\varUpsilon","\\mathit{\\Upsilon}");E("\\varPhi","\\mathit{\\Phi}");E("\\varPsi","\\mathit{\\Psi}");E("\\varOmega","\\mathit{\\Omega}");E("\\substack","\\begin{subarray}{c}#1\\end{subarray}");E("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");E("\\boxed","\\fbox{$\\displaystyle{#1}$}");E("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");E("\\implies","\\DOTSB\\;\\Longrightarrow\\;");E("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var nk={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};E("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in nk?e=nk[n]:(n.slice(0,4)==="\\not"||n in ht.math&&ye.contains(["bin","rel"],ht.math[n].group))&&(e="\\dotsb"),e});var w5={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};E("\\dotso",function(t){var e=t.future().text;return e in w5?"\\ldots\\,":"\\ldots"});E("\\dotsc",function(t){var e=t.future().text;return e in w5&&e!==","?"\\ldots\\,":"\\ldots"});E("\\cdots",function(t){var e=t.future().text;return e in w5?"\\@cdots\\,":"\\@cdots"});E("\\dotsb","\\cdots");E("\\dotsm","\\cdots");E("\\dotsi","\\!\\cdots");E("\\dotsx","\\ldots\\,");E("\\DOTSI","\\relax");E("\\DOTSB","\\relax");E("\\DOTSX","\\relax");E("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");E("\\,","\\tmspace+{3mu}{.1667em}");E("\\thinspace","\\,");E("\\>","\\mskip{4mu}");E("\\:","\\tmspace+{4mu}{.2222em}");E("\\medspace","\\:");E("\\;","\\tmspace+{5mu}{.2777em}");E("\\thickspace","\\;");E("\\!","\\tmspace-{3mu}{.1667em}");E("\\negthinspace","\\!");E("\\negmedspace","\\tmspace-{4mu}{.2222em}");E("\\negthickspace","\\tmspace-{5mu}{.277em}");E("\\enspace","\\kern.5em ");E("\\enskip","\\hskip.5em\\relax");E("\\quad","\\hskip1em\\relax");E("\\qquad","\\hskip2em\\relax");E("\\tag","\\@ifstar\\tag@literal\\tag@paren");E("\\tag@paren","\\tag@literal{({#1})}");E("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new K("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});E("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");E("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");E("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");E("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");E("\\newline","\\\\\\relax");E("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var PA=G(Fi["Main-Regular"][84][1]-.7*Fi["Main-Regular"][65][1]);E("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+PA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");E("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+PA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");E("\\hspace","\\@ifstar\\@hspacer\\@hspace");E("\\@hspace","\\hskip #1\\relax");E("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");E("\\ordinarycolon",":");E("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");E("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');E("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');E("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');E("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');E("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');E("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');E("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');E("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');E("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');E("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');E("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');E("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');E("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');E("∷","\\dblcolon");E("∹","\\eqcolon");E("≔","\\coloneqq");E("≕","\\eqqcolon");E("⩴","\\Coloneqq");E("\\ratio","\\vcentcolon");E("\\coloncolon","\\dblcolon");E("\\colonequals","\\coloneqq");E("\\coloncolonequals","\\Coloneqq");E("\\equalscolon","\\eqqcolon");E("\\equalscoloncolon","\\Eqqcolon");E("\\colonminus","\\coloneq");E("\\coloncolonminus","\\Coloneq");E("\\minuscolon","\\eqcolon");E("\\minuscoloncolon","\\Eqcolon");E("\\coloncolonapprox","\\Colonapprox");E("\\coloncolonsim","\\Colonsim");E("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");E("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");E("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");E("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");E("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");E("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");E("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");E("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");E("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");E("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");E("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");E("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");E("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");E("\\nleqq","\\html@mathml{\\@nleqq}{≰}");E("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");E("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");E("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");E("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");E("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");E("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");E("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");E("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");E("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");E("\\imath","\\html@mathml{\\@imath}{ı}");E("\\jmath","\\html@mathml{\\@jmath}{ȷ}");E("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");E("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");E("⟦","\\llbracket");E("⟧","\\rrbracket");E("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");E("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");E("⦃","\\lBrace");E("⦄","\\rBrace");E("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");E("⦵","\\minuso");E("\\darr","\\downarrow");E("\\dArr","\\Downarrow");E("\\Darr","\\Downarrow");E("\\lang","\\langle");E("\\rang","\\rangle");E("\\uarr","\\uparrow");E("\\uArr","\\Uparrow");E("\\Uarr","\\Uparrow");E("\\N","\\mathbb{N}");E("\\R","\\mathbb{R}");E("\\Z","\\mathbb{Z}");E("\\alef","\\aleph");E("\\alefsym","\\aleph");E("\\Alpha","\\mathrm{A}");E("\\Beta","\\mathrm{B}");E("\\bull","\\bullet");E("\\Chi","\\mathrm{X}");E("\\clubs","\\clubsuit");E("\\cnums","\\mathbb{C}");E("\\Complex","\\mathbb{C}");E("\\Dagger","\\ddagger");E("\\diamonds","\\diamondsuit");E("\\empty","\\emptyset");E("\\Epsilon","\\mathrm{E}");E("\\Eta","\\mathrm{H}");E("\\exist","\\exists");E("\\harr","\\leftrightarrow");E("\\hArr","\\Leftrightarrow");E("\\Harr","\\Leftrightarrow");E("\\hearts","\\heartsuit");E("\\image","\\Im");E("\\infin","\\infty");E("\\Iota","\\mathrm{I}");E("\\isin","\\in");E("\\Kappa","\\mathrm{K}");E("\\larr","\\leftarrow");E("\\lArr","\\Leftarrow");E("\\Larr","\\Leftarrow");E("\\lrarr","\\leftrightarrow");E("\\lrArr","\\Leftrightarrow");E("\\Lrarr","\\Leftrightarrow");E("\\Mu","\\mathrm{M}");E("\\natnums","\\mathbb{N}");E("\\Nu","\\mathrm{N}");E("\\Omicron","\\mathrm{O}");E("\\plusmn","\\pm");E("\\rarr","\\rightarrow");E("\\rArr","\\Rightarrow");E("\\Rarr","\\Rightarrow");E("\\real","\\Re");E("\\reals","\\mathbb{R}");E("\\Reals","\\mathbb{R}");E("\\Rho","\\mathrm{P}");E("\\sdot","\\cdot");E("\\sect","\\S");E("\\spades","\\spadesuit");E("\\sub","\\subset");E("\\sube","\\subseteq");E("\\supe","\\supseteq");E("\\Tau","\\mathrm{T}");E("\\thetasym","\\vartheta");E("\\weierp","\\wp");E("\\Zeta","\\mathrm{Z}");E("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");E("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");E("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");E("\\bra","\\mathinner{\\langle{#1}|}");E("\\ket","\\mathinner{|{#1}\\rangle}");E("\\braket","\\mathinner{\\langle{#1}\\rangle}");E("\\Bra","\\left\\langle#1\\right|");E("\\Ket","\\left|#1\\right\\rangle");var zA=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{t&&(h.macros.set("|",o),i.length&&h.macros.set("\\|",a));var f=d;if(!d&&i.length){var p=h.future();p.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};E("\\bra@ket",zA(!1));E("\\bra@set",zA(!0));E("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");E("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");E("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");E("\\angln","{\\angl n}");E("\\blue","\\textcolor{##6495ed}{#1}");E("\\orange","\\textcolor{##ffa500}{#1}");E("\\pink","\\textcolor{##ff00af}{#1}");E("\\red","\\textcolor{##df0030}{#1}");E("\\green","\\textcolor{##28ae7b}{#1}");E("\\gray","\\textcolor{gray}{#1}");E("\\purple","\\textcolor{##9d38bd}{#1}");E("\\blueA","\\textcolor{##ccfaff}{#1}");E("\\blueB","\\textcolor{##80f6ff}{#1}");E("\\blueC","\\textcolor{##63d9ea}{#1}");E("\\blueD","\\textcolor{##11accd}{#1}");E("\\blueE","\\textcolor{##0c7f99}{#1}");E("\\tealA","\\textcolor{##94fff5}{#1}");E("\\tealB","\\textcolor{##26edd5}{#1}");E("\\tealC","\\textcolor{##01d1c1}{#1}");E("\\tealD","\\textcolor{##01a995}{#1}");E("\\tealE","\\textcolor{##208170}{#1}");E("\\greenA","\\textcolor{##b6ffb0}{#1}");E("\\greenB","\\textcolor{##8af281}{#1}");E("\\greenC","\\textcolor{##74cf70}{#1}");E("\\greenD","\\textcolor{##1fab54}{#1}");E("\\greenE","\\textcolor{##0d923f}{#1}");E("\\goldA","\\textcolor{##ffd0a9}{#1}");E("\\goldB","\\textcolor{##ffbb71}{#1}");E("\\goldC","\\textcolor{##ff9c39}{#1}");E("\\goldD","\\textcolor{##e07d10}{#1}");E("\\goldE","\\textcolor{##a75a05}{#1}");E("\\redA","\\textcolor{##fca9a9}{#1}");E("\\redB","\\textcolor{##ff8482}{#1}");E("\\redC","\\textcolor{##f9685d}{#1}");E("\\redD","\\textcolor{##e84d39}{#1}");E("\\redE","\\textcolor{##bc2612}{#1}");E("\\maroonA","\\textcolor{##ffbde0}{#1}");E("\\maroonB","\\textcolor{##ff92c6}{#1}");E("\\maroonC","\\textcolor{##ed5fa6}{#1}");E("\\maroonD","\\textcolor{##ca337c}{#1}");E("\\maroonE","\\textcolor{##9e034e}{#1}");E("\\purpleA","\\textcolor{##ddd7ff}{#1}");E("\\purpleB","\\textcolor{##c6b9fc}{#1}");E("\\purpleC","\\textcolor{##aa87ff}{#1}");E("\\purpleD","\\textcolor{##7854ab}{#1}");E("\\purpleE","\\textcolor{##543b78}{#1}");E("\\mintA","\\textcolor{##f5f9e8}{#1}");E("\\mintB","\\textcolor{##edf2df}{#1}");E("\\mintC","\\textcolor{##e0e5cc}{#1}");E("\\grayA","\\textcolor{##f6f7f7}{#1}");E("\\grayB","\\textcolor{##f0f1f2}{#1}");E("\\grayC","\\textcolor{##e3e5e6}{#1}");E("\\grayD","\\textcolor{##d6d8da}{#1}");E("\\grayE","\\textcolor{##babec2}{#1}");E("\\grayF","\\textcolor{##888d93}{#1}");E("\\grayG","\\textcolor{##626569}{#1}");E("\\grayH","\\textcolor{##3b3e40}{#1}");E("\\grayI","\\textcolor{##21242c}{#1}");E("\\kaBlue","\\textcolor{##314453}{#1}");E("\\kaGreen","\\textcolor{##71B307}{#1}");var BA={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class SQ{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new bQ(kQ,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new ek(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Pr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,a=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new K("Extra }",s)}else if(s.text==="EOF")throw new K("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){n.splice(-a,a);break}}else a=0}while(o!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new K("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new K("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(n&&n[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new K("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new K("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new K("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new K("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Pr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new ek(i,this.settings),l=[],c=a.lex();c.text!=="EOF";)l.push(c),c=a.lex();l.reverse();var u={tokens:l,numArgs:s};return u}return i}isDefined(e){return this.macros.has(e)||xo.hasOwnProperty(e)||ht.math.hasOwnProperty(e)||ht.text.hasOwnProperty(e)||BA.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:xo.hasOwnProperty(e)&&!xo[e].primitive}}var rk=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Ih=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),d4={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},ik={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class k1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new SQ(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new K("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Pr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(k1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&xo[i.text]&&xo[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new K("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,o,a=e.slice(0,n),l=e.slice(n+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[s,e[n],o],[]):c=this.callFunction(r,[s,o],[]),[c]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new K("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var o=s.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new K("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new K("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new K("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new K("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(Ih[s.text]){var c=rk.test(s.text),u=[];for(u.push(new Pr(Ih[s.text])),this.consume();;){var d=this.fetch().text;if(!Ih[d]||rk.test(d)!==c)break;u.unshift(new Pr(Ih[d])),this.consume()}var h=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=xo[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new K("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new K("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new K("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(i,s);return this.callFunction(i,o,a,r,e)}callFunction(e,n,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},a=xo[e];if(a&&a.handler)return a.handler(o,n,r);throw new K("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var a=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new K("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new K("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new K("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new K("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new K("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new K("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new K("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!GM(s))throw new K("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),o}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:lr.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!BA.hasOwnProperty(i)){if(this.settings.throwOnError)throw new K("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:lr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:lr.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:lr.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new K(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}ik.hasOwnProperty(n[0])&&!ht[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=ik[n[0]]+n.slice(1));var s=yQ.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var o;if(ht[this.mode][n]){this.settings.strict&&this.mode==="math"&&Iy.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var a=ht[this.mode][n].group,l=lr.range(e),c;if(uX.hasOwnProperty(a)){var u=a;c={type:"atom",mode:this.mode,family:u,loc:l,text:n}}else c={type:a,mode:this.mode,loc:l,text:n};o=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(KM(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:lr.range(e),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var h=s[0][d];if(!d4[h])throw new K("Unknown accent ' "+h+"'",e);var f=d4[h][this.mode]||d4[h].text;if(!f)throw new K("Accent "+h+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:lr.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o}}k1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var b5=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new k1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new K("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Pr("\\df@tag")])}]}return i},FA=function(e,n,r){n.textContent="";var i=k5(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),FA=function(){throw new K("KaTeX doesn't work in quirks mode.")});var xQ=function(e,n){var r=k5(e,n).toMarkup();return r},CQ=function(e,n){var r=new n5(n);return b5(e,r)},jA=function(e,n,r){if(r.throwOnError||!(e instanceof K))throw e;var i=L.makeSpan(["katex-error"],[new $r(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},k5=function(e,n){var r=new n5(n);try{var i=b5(e,r);return RX(i,e,r)}catch(s){return jA(s,e,r)}},EQ=function(e,n){var r=new n5(n);try{var i=b5(e,r);return _X(i,e,r)}catch(s){return jA(s,e,r)}},TQ={version:"0.16.11",render:FA,renderToString:xQ,ParseError:K,SETTINGS_SCHEMA:mf,__parse:CQ,__renderToDomTree:k5,__renderToHTMLTree:EQ,__setFontMetrics:rX,__defineSymbol:m,__defineFunction:Z,__defineMacro:E,__domTree:{Span:E0,Anchor:s5,SymbolNode:$r,SvgNode:Ps,PathNode:Wo,LineNode:Oy}};const MQ=t=>{const{regex:e,katexOptions:n={},editor:r,shouldRender:i}=t;return new nt({key:new lt("mathematics"),state:{init:()=>tt.empty,apply(s,o,a,l){const{selection:c}=l,u=[];return l.doc.descendants((d,h)=>{const f=i(l,h,d);if(d.isText&&d.text&&f){let p;for(;p=e.exec(d.text);){const g=h+p.index,w=g+p[0].length,y=p.slice(1).find(Boolean);if(y){const b=c.$from.pos-c.$to.pos,C=c.$anchor.pos>=g&&c.$anchor.pos<=w,S=c.$from.pos>=g&&c.$to.pos<=w,A=b===0&&C||S;A&&r.isEditable||u.push(Qt.widget(g,()=>{const x=document.createElement("span");x.classList.add("Tiptap-mathematics-render"),r.isEditable&&x.classList.add("Tiptap-mathematics-render--editable");try{TQ.render(y,x,n)}catch{x.innerHTML=y}return x})),u.push(Qt.inline(g,w,{class:A&&r.isEditable?"Tiptap-mathematics-editor":"Tiptap-mathematics-editor Tiptap-mathematics-editor--hidden",style:A&&r.isEditable?void 0:"display: inline-block; height: 0; opacity: 0; overflow: hidden; position: absolute; width: 0;"}))}}}}),u.length>0?tt.create(l.doc,u):tt.empty}},props:{decorations(s){return this.getState(s)}}})},AQ=(t,e)=>t.doc.resolve(e).parent.type.name!=="codeBlock",OQ=zt.create({name:"Mathematics",addOptions:()=>({regex:/\$([^\$]*)\$/gi,katexOptions:void 0,shouldRender:AQ}),addProseMirrorPlugins(){return[MQ({...this.options,editor:this.editor})]}}),vf=(t,e)=>e.view.domAtPos(t).node.offsetParent!==null,sk=(t,e)=>{const{state:n,view:r,extensionManager:i}=t,{schema:s,selection:o}=n,{empty:a,$anchor:l}=o,c=!!i.extensions.find(w=>w.name==="gapCursor");if(!a||l.parent.type!==s.nodes.detailsSummary||!c||e==="right"&&l.parentOffset!==l.parent.nodeSize-2)return!1;const u=Gc(w=>w.type===s.nodes.details)(o);if(!u)return!1;const d=tf(u.node,w=>w.type===s.nodes.detailsContent);if(!d.length||vf(u.start+d[0].pos+1,t))return!1;const h=n.doc.resolve(u.pos+u.node.nodeSize),f=wt.findFrom(h,1,!1);if(!f)return!1;const{tr:p}=n,g=new wt(f);return p.setSelection(g),p.scrollIntoView(),r.dispatch(p),!0},IQ=kt.create({name:"details",content:"detailsSummary detailsContent",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,addOptions:()=>({persist:!1,openClassName:"is-open",HTMLAttributes:{}}),addAttributes(){return this.options.persist?{open:{default:!1,parseHTML:t=>t.hasAttribute("open"),renderHTML:({open:t})=>t?{open:""}:{}}}:[]},parseHTML:()=>[{tag:"details"}],renderHTML({HTMLAttributes:t}){return["details",Ge(this.options.HTMLAttributes,t),0]},addNodeView(){return({editor:t,getPos:e,node:n,HTMLAttributes:r})=>{const i=document.createElement("div"),s=Ge(this.options.HTMLAttributes,r,{"data-type":this.name});Object.entries(s).forEach(([c,u])=>i.setAttribute(c,u));const o=document.createElement("button");o.type="button",i.append(o);const a=document.createElement("div");i.append(a);const l=c=>{if(c!==void 0)if(c){if(i.classList.contains(this.options.openClassName))return;i.classList.add(this.options.openClassName)}else{if(!i.classList.contains(this.options.openClassName))return;i.classList.remove(this.options.openClassName)}else i.classList.toggle(this.options.openClassName);const u=new Event("toggleDetailsContent"),d=a.querySelector(':scope > div[data-type="detailsContent"]');d==null||d.dispatchEvent(u)};return n.attrs.open&&setTimeout(()=>l()),o.addEventListener("click",()=>{if(l(),this.options.persist){if(t.isEditable&&typeof e=="function"){const{from:c,to:u}=t.state.selection;t.chain().command(({tr:d})=>{const h=e(),f=d.doc.nodeAt(h);return(f==null?void 0:f.type)===this.type&&(d.setNodeMarkup(h,void 0,{open:!f.attrs.open}),!0)}).setTextSelection({from:c,to:u}).focus(void 0,{scrollIntoView:!1}).run()}}else t.commands.focus(void 0,{scrollIntoView:!1})}),{dom:i,contentDOM:a,ignoreMutation:c=>c.type!=="selection"&&(!i.contains(c.target)||i===c.target),update:c=>c.type===this.type&&(c.attrs.open!==void 0&&l(c.attrs.open),!0)}}},addCommands(){return{setDetails:()=>({state:t,chain:e})=>{var n;const{schema:r,selection:i}=t,{$from:s,$to:o}=i,a=s.blockRange(o);if(!a)return!1;const l=t.doc.slice(a.start,a.end);if(!r.nodes.detailsContent.contentMatch.matchFragment(l.content))return!1;const c=((n=l.toJSON())===null||n===void 0?void 0:n.content)||[];return e().insertContentAt({from:a.start,to:a.end},{type:this.name,content:[{type:"detailsSummary"},{type:"detailsContent",content:c}]}).setTextSelection(a.start+2).run()},unsetDetails:()=>({state:t,chain:e})=>{const{selection:n,schema:r}=t,i=Gc(g=>g.type===this.type)(n);if(!i)return!1;const s=tf(i.node,g=>g.type===r.nodes.detailsSummary),o=tf(i.node,g=>g.type===r.nodes.detailsContent);if(!s.length||!o.length)return!1;const a=s[0],l=o[0],c=i.pos,u=t.doc.resolve(c),d={from:c,to:c+i.node.nodeSize},h=l.node.content.toJSON()||[],f=u.parent.type.contentMatch.defaultType,p=[f==null?void 0:f.create(null,a.node.content).toJSON(),...h];return e().insertContentAt(d,p).setTextSelection(c+1).run()}}},addKeyboardShortcuts(){return{Backspace:()=>{const{schema:t,selection:e}=this.editor.state,{empty:n,$anchor:r}=e;return!(!n||r.parent.type!==t.nodes.detailsSummary)&&(r.parentOffset!==0?this.editor.commands.command(({tr:i})=>{const s=r.pos-1,o=r.pos;return i.delete(s,o),!0}):this.editor.commands.unsetDetails())},Enter:({editor:t})=>{const{state:e,view:n}=t,{schema:r,selection:i}=e,{$head:s}=i;if(s.parent.type!==r.nodes.detailsSummary)return!1;const o=vf(s.after()+1,t),a=o?e.doc.nodeAt(s.after()):s.node(-2);if(!a)return!1;const l=o?0:s.indexAfter(-1),c=y3(a.contentMatchAt(l));if(!c||!a.canReplaceWith(l,l,c))return!1;const u=c.createAndFill();if(!u)return!1;const d=o?s.after()+1:s.after(-1),h=e.tr.replaceWith(d,d,u),f=h.doc.resolve(d),p=we.near(f,1);return h.setSelection(p),h.scrollIntoView(),n.dispatch(h),!0},ArrowRight:({editor:t})=>sk(t,"right"),ArrowDown:({editor:t})=>sk(t,"down")}},addProseMirrorPlugins(){return[new nt({key:new lt("detailsSelection"),appendTransaction:(t,e,n)=>{const{editor:r,type:i}=this;if(!t.some(h=>h.selectionSet)||!e.selection.empty||!n.selection.empty||!BE(n,i.name))return;const{$from:o}=n.selection;if(vf(o.pos,r))return;const a=((h,f,p)=>{for(let g=h.depth;g>0;g-=1){const w=h.node(g),y=f(w),b=vf(h.start(g),p);if(y&&b)return{pos:g>0?h.before(g):0,start:h.start(g),depth:g,node:w}}})(o,h=>h.type===i,r);if(!a)return;const l=tf(a.node,h=>h.type===n.schema.nodes.detailsSummary);if(!l.length)return;const c=l[0],u=(e.selection.from<n.selection.from?"forward":"backward")=="forward"?a.start+c.pos:a.pos+c.pos+c.node.nodeSize,d=me.create(n.doc,u);return n.tr.setSelection(d)}})]}}),NQ=kt.create({name:"detailsContent",content:"block+",defining:!0,selectable:!1,addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:`div[data-type="${this.name}"]`}]},renderHTML({HTMLAttributes:t}){return["div",Ge(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addNodeView(){return({HTMLAttributes:t})=>{const e=document.createElement("div"),n=Ge(this.options.HTMLAttributes,t,{"data-type":this.name,hidden:"hidden"});return Object.entries(n).forEach(([r,i])=>e.setAttribute(r,i)),e.addEventListener("toggleDetailsContent",()=>{e.toggleAttribute("hidden")}),{dom:e,contentDOM:e,ignoreMutation:r=>r.type!=="selection"&&(!e.contains(r.target)||e===r.target),update:r=>r.type===this.type}}},addKeyboardShortcuts(){return{Enter:({editor:t})=>{const{state:e,view:n}=t,{selection:r}=e,{$from:i,empty:s}=r,o=Gc(P=>P.type===this.type)(r);if(!s||!o||!o.node.childCount)return!1;const a=i.index(o.depth),{childCount:l}=o.node;if(l!==a+1)return!1;const c=o.node.type.contentMatch.defaultType,u=c==null?void 0:c.createAndFill();if(!u)return!1;const d=e.doc.resolve(o.pos+1),h=l-1,f=o.node.child(h),p=d.posAtIndex(h,o.depth);if(!f.eq(u))return!1;const g=i.node(-3);if(!g)return!1;const w=i.indexAfter(-3),y=y3(g.contentMatchAt(w));if(!y||!g.canReplaceWith(w,w,y))return!1;const b=y.createAndFill();if(!b)return!1;const{tr:C}=e,S=i.after(-2);C.replaceWith(S,S,b);const A=C.doc.resolve(S),x=we.near(A,1);C.setSelection(x);const I=p,R=p+f.nodeSize;return C.delete(I,R),C.scrollIntoView(),n.dispatch(C),!0}}}}),DQ=kt.create({name:"detailsSummary",content:"text*",defining:!0,selectable:!1,isolating:!0,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"summary"}],renderHTML({HTMLAttributes:t}){return["summary",Ge(this.options.HTMLAttributes,t),0]}}),ok=()=>{const t=JV({extensions:[jW,pT,dT,cT,fT,gT.configure({levels:[1,2,3]}),ST,CT,ET,Uq.configure({resizable:!0}),qq,Wq,Vq,uT,hT,Jq.configure({multicolor:!0}),xT,wK.configure({openOnClick:!0,autolink:!0,defaultProtocol:"https"}),TT,bK,kK.configure({placeholder:"Write something …"}),SK.configure({types:["heading","paragraph"]}),CK,mT,OQ,IQ.configure({persist:!0,HTMLAttributes:{class:"details"}}),DQ,NQ,W8,W8,TK.configure({nested:!0})]});if(!t)return null;const e=B.useCallback(()=>{const g=window.prompt("Enter a image URL.");g&&t.chain().focus().setImage({src:g}).run()},[t]),n=B.useCallback(()=>{const g=t.getAttributes("link").href,w=window.prompt("URL",g);if(w!==null){if(w===""){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:w}).run()}},[t]),[r,i]=B.useState(""),{urlId:s=""}=mD(),o=Vc();let a=null;const l="https://port-0-notice-backend-m3lin2251ce3a47e.sel4.cloudtype.app",c=g=>{i(g.target.value)},u=g=>{g.preventDefault(),s===""?(h(r),confirm("Save Complete!")&&o("/")):(p(s,r),confirm("Update Complete!")&&o("/"))},d=()=>{o("/")},h=async g=>{const w=t.getJSON();console.log(w);try{const b=await(await fetch(`${l}/api/insert_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:g,content:w})})).json();console.log(b)}catch(y){console.error("Error sending data to sever:",y)}},f=async g=>{try{a=await(await fetch(`${l}/api/load_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:g})})).json(),console.log(a),t.commands.setContent(a.content),i(a.title)}catch(w){console.error("Error sending data to server:",w)}},p=async(g,w)=>{const y=t.getJSON();console.log(y);try{const C=await(await fetch(`${l}/api/update_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:g,title:w,content:y})})).json();console.log("Response from server:",C)}catch(b){console.error("Error sending data to sever:",b)}};return B.useEffect(()=>{f(s)},[]),O.jsx(O.Fragment,{children:O.jsxs("div",{className:"editor",children:[O.jsxs("form",{onSubmit:u,className:"form",children:[O.jsx("button",{onClick:d,className:"previous-button",children:"←"}),O.jsx("input",{className:"input-title",onChange:c,value:r,name:"title",placeholder:"Title",type:"text",required:!0}),O.jsx("input",{className:"submit-button",type:"submit",value:s!==""?"Update":"Save"})]}),O.jsxs("div",{className:"control-group",children:[O.jsxs("div",{className:"button-group",children:[O.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})})}),O.jsx("button",{onClick:()=>t.chain().focus().sinkListItem("listItem").run(),disabled:!t.can().sinkListItem("listItem"),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h12M6 18h12m-5-8h5m-5 4h5M6 9v6l3.5-3L6 9Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().liftListItem("listItem").run(),disabled:!t.can().liftListItem("listItem"),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h12M6 18h12m-5-8h5m-5 4h5M9.5 9v6L6 12l3.5-3Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-1",children:[O.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.jsx("path",{d:"M19 18v-8l-2 2"}),O.jsx("path",{d:"M4 6v12"}),O.jsx("path",{d:"M12 6v12"}),O.jsx("path",{d:"M11 18h2"}),O.jsx("path",{d:"M3 18h2"}),O.jsx("path",{d:"M4 12h8"}),O.jsx("path",{d:"M3 6h2"}),O.jsx("path",{d:"M11 6h2"})]})}),O.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-2",children:[O.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.jsx("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}),O.jsx("path",{d:"M4 6v12"}),O.jsx("path",{d:"M12 6v12"}),O.jsx("path",{d:"M11 18h2"}),O.jsx("path",{d:"M3 18h2"}),O.jsx("path",{d:"M4 12h8"}),O.jsx("path",{d:"M3 6h2"}),O.jsx("path",{d:"M11 6h2"})]})}),O.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-3",children:[O.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),O.jsx("path",{d:"M19 14a2 2 0 1 0 -2 -2"}),O.jsx("path",{d:"M17 16a2 2 0 1 0 2 -2"}),O.jsx("path",{d:"M4 6v12"}),O.jsx("path",{d:"M12 6v12"}),O.jsx("path",{d:"M11 18h2"}),O.jsx("path",{d:"M3 18h2"}),O.jsx("path",{d:"M4 12h8"}),O.jsx("path",{d:"M3 6h2"}),O.jsx("path",{d:"M11 6h2"})]})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleTaskList().run(),className:t.isActive("taskList")?"is-active":"",children:O.jsx("svg",{"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:O.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:t.isActive("codeBlock")?"is-active":"",children:O.jsx("svg",{"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:O.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"})})}),O.jsx("button",{onClick:e,children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m3 16 5-7 6 6.5m6.5 2.5L16 13l-4.286 6M14 10h.01M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"})})}),O.jsx("button",{onClick:n,className:t.isActive("link")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"})})}),O.jsx("button",{onClick:()=>t.chain().focus().unsetLink().run(),disabled:!t.isActive("link"),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M13.2131 9.78732c-.6359-.63557-1.4983-.99259-2.3974-.99259-.89911 0-1.76143.35702-2.39741.99259l-3.4253 3.42528C4.35719 13.8485 4 14.7108 4 15.61c0 .8992.35719 1.7616.99299 2.3974.63598.6356 1.4983.9926 2.39742.9926.89912 0 1.76144-.357 2.39742-.9926l.32157-.3043m-.32157-4.4905c.63587.6358 1.49827.993 2.39747.993.8991 0 1.7615-.3572 2.3974-.993l3.4243-3.42528c.6358-.63585.993-1.49822.993-2.39741 0-.89919-.3572-1.76156-.993-2.39741C17.3712 4.357 16.509 4 15.6101 4c-.899 0-1.7612.357-2.397.9925l-1.0278.96062m7.3873 14.04678-1.7862-1.7862m0 0L16 16.4274m1.7864 1.7863 1.7862-1.7863m-1.7862 1.7863L16 20"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),className:t.isActive("code")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8 8-4 4 4 4m8 0 4-4-4-4m-2-3-4 14"})})}),O.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:O.jsxs("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M5 12h14"}),O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",d:"M6 9.5h12m-12-2h12m-12-2h12m-12 13h12m-12-2h12m-12-2h12"})]})}),O.jsx("button",{onClick:()=>t.chain().focus().setDetails().run(),disabled:!t.can().setDetails(),children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[O.jsx("path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z"}),O.jsx("path",{d:"M4 8l16 0"}),O.jsx("path",{d:"M8 4l0 4"})]})}),O.jsx("button",{onClick:()=>t.chain().focus().unsetDetails().run(),disabled:!t.can().unsetDetails(),children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[O.jsx("path",{d:"M8 4h11a1 1 0 0 1 1 1v11m-.288 3.702a1 1 0 0 1 -.712 .298h-14a1 1 0 0 1 -1 -1v-14c0 -.276 .112 -.526 .293 -.707"}),O.jsx("path",{d:"M4 8h4m4 0h8"}),O.jsx("path",{d:"M3 3l18 18"})]})}),O.jsx("button",{onClick:()=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1 4h2m0 0h2m-2 0v2m0-2v-2"})})}),O.jsx("button",{onClick:()=>t.chain().focus().addColumnBefore().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v14m-8-7h2m0 0h2m-2 0v2m0-2v-2m12 1h-6m6 4h-6M4 19h16c.5523 0 1-.4477 1-1V6c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44772-1 1v12c0 .5523.44772 1 1 1Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().addColumnAfter().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5v14m8-7h-2m0 0h-2m2 0v2m0-2v-2M3 11h6m-6 4h6m11 4H4c-.55228 0-1-.4477-1-1V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v12c0 .5523-.4477 1-1 1Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().deleteColumn().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5v14m-6-8h6m-6 4h6m4.506-1.494L15.012 12m0 0 1.506-1.506M15.012 12l1.506 1.506M15.012 12l-1.506-1.506M20 19H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().addRowBefore().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-6-9h2m0 0h2m-2 0v2m0-2V8"})})}),O.jsx("button",{onClick:()=>t.chain().focus().addRowAfter().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44771 1 1v3M3 9v9c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1V9M3 9h18M8 9V5m4 4V5m4 4V5m-6 9h2m0 0h2m-2 0v-2m0 2v2"})})}),O.jsx("button",{onClick:()=>t.chain().focus().deleteRow().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-5.5061-7.4939L12 10m0 0 1.5061-1.50614M12 10l1.5061 1.5061M12 10l-1.5061-1.50614"})})}),O.jsx("button",{onClick:()=>t.chain().focus().deleteTable().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1.8956 5.9528 1.5047-1.5047m0 0 1.5048-1.5048m-1.5048 1.5048 1.4605 1.4604m-1.4605-1.4604-1.4604-1.4605"})})}),O.jsx("button",{onClick:()=>t.chain().focus().mergeCells().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 18v2H4V4h6v2m4 12v2h6V4h-6v2m-6.49543 8.4954L10 12m0 0L7.50457 9.50457M10 12H4.05191m12.50199 2.5539L14 12m0 0 2.5539-2.55392M14 12h5.8319"})})}),O.jsx("button",{onClick:()=>t.chain().focus().splitCell().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 18v2h6V4H4v2m16 12v2h-6V4h6v2M6.49545 14.4954 4.00003 12m0 0 2.49542-2.49543M4.00003 12h5.94809m7.49798 2.5539L20 12m0 0-2.5539-2.55392M20 12h-5.8319"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleHeaderColumn().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v14m6-8h-6m6 4h-6m-9-3h1.99093M4 19h16c.5523 0 1-.4477 1-1V6c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44772-1 1v12c0 .5523.44772 1 1 1Zm8-7c0 1.1046-.8954 2-2 2-1.10457 0-2-.8954-2-2s.89543-2 2-2c1.1046 0 2 .8954 2 2Z"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleHeaderRow().run(),children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-7-9h1.9909M15 10c0 1.1046-.8954 2-2 2s-2-.8954-2-2c0-1.10457.8954-2 2-2s2 .89543 2 2Z"})})})]}),t&&O.jsx(XV,{editor:t,tippyOptions:{duration:100},children:O.jsxs("div",{className:"button-group",children:[O.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5h4.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0-7H6m2 7h6.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0 0H6"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8.874 19 6.143-14M6 19h6.33m-.66-14H18"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:t.isActive("underline")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M6 19h12M8 5v9a4 4 0 0 0 8 0V5M6 5h4m4 0h4"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 20H5.5c-.27614 0-.5-.2239-.5-.5v-3c0-.2761.22386-.5.5-.5h13c.2761 0 .5.2239.5.5v3c0 .2761-.2239.5-.5.5H18m-6-1 1.42 1.8933c.04.0534.12.0534.16 0L15 19m-7-6 3.9072-9.76789c.0335-.08381.1521-.08381.1856 0L16 13m-8 0H7m1 0h1.5m6.5 0h-1.5m1.5 0h1m-7-3.00001h4"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active":"",children:O.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:O.jsx("path",{d:"M6 16C6 18.2091 7.79086 20 10 20H14C16.2091 20 18 18.2091 18 16C18 13.7909 16.2091 12 14 12M18 8C18 5.79086 16.2091 4 14 4H10C7.79086 4 6 5.79086 6 8M3 12H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})}),O.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h8m-8 4h12M6 14h8m-8 4h12"})})}),O.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h8M6 10h12M8 14h8M6 18h12"})})}),O.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6h-8m8 4H6m12 4h-8m8 4H6"})})}),O.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:t.isActive({textAlign:"justify"})?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6H6m12 4H6m12 4H6m12 4H6"})})}),O.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:O.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:O.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 11V8a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1Zm0 0v2a4 4 0 0 1-4 4H5m14-6V8a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1Zm0 0v2a4 4 0 0 1-4 4h-1"})})})]})}),O.jsx(AY,{editor:t,tippyOptions:{placement:"left"},children:O.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[O.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),O.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),O.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),O.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),O.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),O.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}),O.jsx(FV,{editor:t})]})]})})},ak=Yi.div`
  height: 100vh;
  display: flex;
  justify-content: center;
`,RQ=BD([{path:"/",element:O.jsx(rB,{children:O.jsx(nB,{})})},{path:"",element:O.jsx(Qz,{})},{path:"/create-account",element:O.jsx(ak,{children:O.jsx(Yz,{})})},{path:"/login",element:O.jsx(ak,{children:O.jsx(Xz,{})})},{path:"/editor",element:O.jsx(ok,{})},{path:"/editor/:urlId",element:O.jsx(ok,{})}]);function _Q(){const[t,e]=B.useState(!0),n=async()=>{await m0.authStateReady(),e(!1)};return B.useEffect(()=>{n()},[]),O.jsx(O.Fragment,{children:t?O.jsx(tB,{}):O.jsx(KD,{router:RQ})})}x9(document.getElementById("root")).render(O.jsx(_Q,{}));
