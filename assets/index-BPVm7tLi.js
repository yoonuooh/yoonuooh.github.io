function ik(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function sk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ok={exports:{}},am={},ak={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0=Symbol.for("react.element"),LA=Symbol.for("react.portal"),zA=Symbol.for("react.fragment"),BA=Symbol.for("react.strict_mode"),FA=Symbol.for("react.profiler"),jA=Symbol.for("react.provider"),$A=Symbol.for("react.context"),HA=Symbol.for("react.forward_ref"),UA=Symbol.for("react.suspense"),VA=Symbol.for("react.memo"),WA=Symbol.for("react.lazy"),k5=Symbol.iterator;function qA(t){return t===null||typeof t!="object"?null:(t=k5&&t[k5]||t["@@iterator"],typeof t=="function"?t:null)}var lk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ck=Object.assign,uk={};function Bc(t,e,n){this.props=t,this.context=e,this.refs=uk,this.updater=n||lk}Bc.prototype.isReactComponent={};Bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dk(){}dk.prototype=Bc.prototype;function _y(t,e,n){this.props=t,this.context=e,this.refs=uk,this.updater=n||lk}var Py=_y.prototype=new dk;Py.constructor=_y;ck(Py,Bc.prototype);Py.isPureReactComponent=!0;var S5=Array.isArray,hk=Object.prototype.hasOwnProperty,Ly={current:null},fk={key:!0,ref:!0,__self:!0,__source:!0};function pk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hk.call(e,r)&&!fk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:e0,type:t,key:s,ref:o,props:i,_owner:Ly.current}}function KA(t,e){return{$$typeof:e0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zy(t){return typeof t=="object"&&t!==null&&t.$$typeof===e0}function GA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var x5=/\/+/g;function k1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?GA(""+t.key):e.toString(36)}function Ih(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case e0:case LA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+k1(o,0):r,S5(i)?(n="",t!=null&&(n=t.replace(x5,"$&/")+"/"),Ih(i,e,n,"",function(c){return c})):i!=null&&(zy(i)&&(i=KA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(x5,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",S5(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+k1(s,a);o+=Ih(s,e,n,l,i)}else if(l=qA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+k1(s,a++),o+=Ih(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function N0(t,e,n){if(t==null)return t;var r=[],i=0;return Ih(t,r,"","",function(s){return e.call(n,s,i++)}),r}function JA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},Nh={transition:null},YA={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:Nh,ReactCurrentOwner:Ly};function mk(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:N0,forEach:function(t,e,n){N0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return N0(t,function(){e++}),e},toArray:function(t){return N0(t,function(e){return e})||[]},only:function(t){if(!zy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=Bc;Le.Fragment=zA;Le.Profiler=FA;Le.PureComponent=_y;Le.StrictMode=BA;Le.Suspense=UA;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YA;Le.act=mk;Le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ck({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ly.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hk.call(e,l)&&!fk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:e0,type:t.type,key:i,ref:s,props:r,_owner:o}};Le.createContext=function(t){return t={$$typeof:$A,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jA,_context:t},t.Consumer=t};Le.createElement=pk;Le.createFactory=function(t){var e=pk.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:HA,render:t}};Le.isValidElement=zy;Le.lazy=function(t){return{$$typeof:WA,_payload:{_status:-1,_result:t},_init:JA}};Le.memo=function(t,e){return{$$typeof:VA,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=Nh.transition;Nh.transition={};try{t()}finally{Nh.transition=e}};Le.unstable_act=mk;Le.useCallback=function(t,e){return Fn.current.useCallback(t,e)};Le.useContext=function(t){return Fn.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};Le.useEffect=function(t,e){return Fn.current.useEffect(t,e)};Le.useId=function(){return Fn.current.useId()};Le.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};Le.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return Fn.current.useMemo(t,e)};Le.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};Le.useRef=function(t){return Fn.current.useRef(t)};Le.useState=function(t){return Fn.current.useState(t)};Le.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};Le.useTransition=function(){return Fn.current.useTransition()};Le.version="18.3.1";ak.exports=Le;var B=ak.exports;const Ct=sk(B),XA=ik({__proto__:null,default:Ct},[B]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QA=B,ZA=Symbol.for("react.element"),eO=Symbol.for("react.fragment"),tO=Object.prototype.hasOwnProperty,nO=QA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,rO={key:!0,ref:!0,__self:!0,__source:!0};function gk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)tO.call(e,r)&&!rO.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ZA,type:t,key:s,ref:o,props:i,_owner:nO.current}}am.Fragment=eO;am.jsx=gk;am.jsxs=gk;ok.exports=am;var N=ok.exports,vk={exports:{}},yr={},yk={exports:{}},wk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,ee){var te=H.length;H.push(ee);e:for(;0<te;){var ge=te-1>>>1,de=H[ge];if(0<i(de,ee))H[ge]=ee,H[te]=de,te=ge;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var ee=H[0],te=H.pop();if(te!==ee){H[0]=te;e:for(var ge=0,de=H.length,tt=de>>>1;ge<tt;){var Be=2*(ge+1)-1,Fe=H[Be],je=Be+1,Qe=H[je];if(0>i(Fe,te))je<de&&0>i(Qe,Fe)?(H[ge]=Qe,H[je]=te,ge=je):(H[ge]=Fe,H[Be]=te,ge=Be);else if(je<de&&0>i(Qe,te))H[ge]=Qe,H[je]=te,ge=je;else break e}}return ee}function i(H,ee){var te=H.sortIndex-ee.sortIndex;return te!==0?te:H.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(H){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=H)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function k(H){if(g=!1,C(H),!p)if(n(l)!==null)p=!0,Me(A);else{var ee=n(c);ee!==null&&he(k,ee.startTime-H)}}function A(H,ee){p=!1,g&&(g=!1,y(D),D=-1),f=!0;var te=h;try{for(C(ee),d=n(l);d!==null&&(!(d.expirationTime>ee)||H&&!Q());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,h=d.priorityLevel;var de=ge(d.expirationTime<=ee);ee=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),C(ee)}else r(l);d=n(l)}if(d!==null)var tt=!0;else{var Be=n(c);Be!==null&&he(k,Be.startTime-ee),tt=!1}return tt}finally{d=null,h=te,f=!1}}var x=!1,O=null,D=-1,L=5,j=-1;function Q(){return!(t.unstable_now()-j<L)}function X(){if(O!==null){var H=t.unstable_now();j=H;var ee=!0;try{ee=O(!0,H)}finally{ee?oe():(x=!1,O=null)}}else x=!1}var oe;if(typeof w=="function")oe=function(){w(X)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Oe=me.port2;me.port1.onmessage=X,oe=function(){Oe.postMessage(null)}}else oe=function(){b(X,0)};function Me(H){O=H,x||(x=!0,oe())}function he(H,ee){D=b(function(){H(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Me(A))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(H){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var te=h;h=ee;try{return H()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var te=h;h=H;try{return ee()}finally{h=te}},t.unstable_scheduleCallback=function(H,ee,te){var ge=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ge+te:ge):te=ge,H){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=te+de,H={id:u++,callback:ee,priorityLevel:H,startTime:te,expirationTime:de,sortIndex:-1},te>ge?(H.sortIndex=te,e(c,H),n(l)===null&&H===n(c)&&(g?(y(D),D=-1):g=!0,he(k,te-ge))):(H.sortIndex=de,e(l,H),p||f||(p=!0,Me(A))),H},t.unstable_shouldYield=Q,t.unstable_wrapCallback=function(H){var ee=h;return function(){var te=h;h=ee;try{return H.apply(this,arguments)}finally{h=te}}}})(wk);yk.exports=wk;var iO=yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sO=B,mr=iO;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,id={};function ol(t,e){dc(t,e),dc(t+"Capture",e)}function dc(t,e){for(id[t]=e,t=0;t<e.length;t++)bk.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),u4=Object.prototype.hasOwnProperty,oO=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C5={},E5={};function aO(t){return u4.call(E5,t)?!0:u4.call(C5,t)?!1:oO.test(t)?E5[t]=!0:(C5[t]=!0,!1)}function lO(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function cO(t,e,n,r){if(e===null||typeof e>"u"||lO(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new jn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new jn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new jn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new jn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new jn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new jn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new jn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new jn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new jn(t,5,!1,t.toLowerCase(),null,!1,!1)});var By=/[\-:]([a-z])/g;function Fy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(By,Fy);vn[e]=new jn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(By,Fy);vn[e]=new jn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(By,Fy);vn[e]=new jn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new jn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new jn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new jn(t,1,!1,t.toLowerCase(),null,!0,!0)});function jy(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(cO(e,n,i,r)&&(n=null),r||i===null?aO(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Fs=sO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R0=Symbol.for("react.element"),Il=Symbol.for("react.portal"),Nl=Symbol.for("react.fragment"),$y=Symbol.for("react.strict_mode"),d4=Symbol.for("react.profiler"),kk=Symbol.for("react.provider"),Sk=Symbol.for("react.context"),Hy=Symbol.for("react.forward_ref"),h4=Symbol.for("react.suspense"),f4=Symbol.for("react.suspense_list"),Uy=Symbol.for("react.memo"),eo=Symbol.for("react.lazy"),xk=Symbol.for("react.offscreen"),T5=Symbol.iterator;function au(t){return t===null||typeof t!="object"?null:(t=T5&&t[T5]||t["@@iterator"],typeof t=="function"?t:null)}var Mt=Object.assign,S1;function ku(t){if(S1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);S1=e&&e[1]||""}return`
`+S1+t}var x1=!1;function C1(t,e){if(!t||x1)return"";x1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{x1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ku(t):""}function uO(t){switch(t.tag){case 5:return ku(t.type);case 16:return ku("Lazy");case 13:return ku("Suspense");case 19:return ku("SuspenseList");case 0:case 2:case 15:return t=C1(t.type,!1),t;case 11:return t=C1(t.type.render,!1),t;case 1:return t=C1(t.type,!0),t;default:return""}}function p4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Nl:return"Fragment";case Il:return"Portal";case d4:return"Profiler";case $y:return"StrictMode";case h4:return"Suspense";case f4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sk:return(t.displayName||"Context")+".Consumer";case kk:return(t._context.displayName||"Context")+".Provider";case Hy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uy:return e=t.displayName||null,e!==null?e:p4(t.type)||"Memo";case eo:e=t._payload,t=t._init;try{return p4(t(e))}catch{}}return null}function dO(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return p4(e);case 8:return e===$y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ck(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hO(t){var e=Ck(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function D0(t){t._valueTracker||(t._valueTracker=hO(t))}function Ek(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Ck(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function m4(t,e){var n=e.checked;return Mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function M5(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Tk(t,e){e=e.checked,e!=null&&jy(t,"checked",e,!1)}function g4(t,e){Tk(t,e);var n=zo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?v4(t,e.type,n):e.hasOwnProperty("defaultValue")&&v4(t,e.type,zo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function A5(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function v4(t,e,n){(e!=="number"||mf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Su=Array.isArray;function ql(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function y4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function O5(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Su(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zo(n)}}function Mk(t,e){var n=zo(e.value),r=zo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function I5(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Ak(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function w4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Ak(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _0,Ok=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_0=_0||document.createElement("div"),_0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function sd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Du={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fO=["Webkit","ms","Moz","O"];Object.keys(Du).forEach(function(t){fO.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Du[e]=Du[t]})});function Ik(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Du.hasOwnProperty(t)&&Du[t]?(""+e).trim():e+"px"}function Nk(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Ik(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var pO=Mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function b4(t,e){if(e){if(pO[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function k4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S4=null;function Vy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x4=null,Kl=null,Gl=null;function N5(t){if(t=r0(t)){if(typeof x4!="function")throw Error(q(280));var e=t.stateNode;e&&(e=hm(e),x4(t.stateNode,t.type,e))}}function Rk(t){Kl?Gl?Gl.push(t):Gl=[t]:Kl=t}function Dk(){if(Kl){var t=Kl,e=Gl;if(Gl=Kl=null,N5(t),e)for(t=0;t<e.length;t++)N5(e[t])}}function _k(t,e){return t(e)}function Pk(){}var E1=!1;function Lk(t,e,n){if(E1)return t(e,n);E1=!0;try{return _k(t,e,n)}finally{E1=!1,(Kl!==null||Gl!==null)&&(Pk(),Dk())}}function od(t,e){var n=t.stateNode;if(n===null)return null;var r=hm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var C4=!1;if(As)try{var lu={};Object.defineProperty(lu,"passive",{get:function(){C4=!0}}),window.addEventListener("test",lu,lu),window.removeEventListener("test",lu,lu)}catch{C4=!1}function mO(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _u=!1,gf=null,vf=!1,E4=null,gO={onError:function(t){_u=!0,gf=t}};function vO(t,e,n,r,i,s,o,a,l){_u=!1,gf=null,mO.apply(gO,arguments)}function yO(t,e,n,r,i,s,o,a,l){if(vO.apply(this,arguments),_u){if(_u){var c=gf;_u=!1,gf=null}else throw Error(q(198));vf||(vf=!0,E4=c)}}function al(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function zk(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function R5(t){if(al(t)!==t)throw Error(q(188))}function wO(t){var e=t.alternate;if(!e){if(e=al(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return R5(i),t;if(s===r)return R5(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function Bk(t){return t=wO(t),t!==null?Fk(t):null}function Fk(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fk(t);if(e!==null)return e;t=t.sibling}return null}var jk=mr.unstable_scheduleCallback,D5=mr.unstable_cancelCallback,bO=mr.unstable_shouldYield,kO=mr.unstable_requestPaint,Bt=mr.unstable_now,SO=mr.unstable_getCurrentPriorityLevel,Wy=mr.unstable_ImmediatePriority,$k=mr.unstable_UserBlockingPriority,yf=mr.unstable_NormalPriority,xO=mr.unstable_LowPriority,Hk=mr.unstable_IdlePriority,lm=null,$i=null;function CO(t){if($i&&typeof $i.onCommitFiberRoot=="function")try{$i.onCommitFiberRoot(lm,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:MO,EO=Math.log,TO=Math.LN2;function MO(t){return t>>>=0,t===0?32:31-(EO(t)/TO|0)|0}var P0=64,L0=4194304;function xu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function wf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=xu(a):(s&=o,s!==0&&(r=xu(s)))}else o=n&~i,o!==0?r=xu(o):s!==0&&(r=xu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-oi(e),i=1<<n,r|=t[n],e&=~i;return r}function AO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=AO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function T4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uk(){var t=P0;return P0<<=1,!(P0&4194240)&&(P0=64),t}function T1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function t0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=n}function IO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function qy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function Vk(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wk,Ky,qk,Kk,Gk,M4=!1,z0=[],Co=null,Eo=null,To=null,ad=new Map,ld=new Map,so=[],NO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _5(t,e){switch(t){case"focusin":case"focusout":Co=null;break;case"dragenter":case"dragleave":Eo=null;break;case"mouseover":case"mouseout":To=null;break;case"pointerover":case"pointerout":ad.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(e.pointerId)}}function cu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=r0(e),e!==null&&Ky(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RO(t,e,n,r,i){switch(e){case"focusin":return Co=cu(Co,t,e,n,r,i),!0;case"dragenter":return Eo=cu(Eo,t,e,n,r,i),!0;case"mouseover":return To=cu(To,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ad.set(s,cu(ad.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ld.set(s,cu(ld.get(s)||null,t,e,n,r,i)),!0}return!1}function Jk(t){var e=ka(t.target);if(e!==null){var n=al(e);if(n!==null){if(e=n.tag,e===13){if(e=zk(n),e!==null){t.blockedOn=e,Gk(t.priority,function(){qk(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=A4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);S4=r,n.target.dispatchEvent(r),S4=null}else return e=r0(n),e!==null&&Ky(e),t.blockedOn=n,!1;e.shift()}return!0}function P5(t,e,n){Rh(t)&&n.delete(e)}function DO(){M4=!1,Co!==null&&Rh(Co)&&(Co=null),Eo!==null&&Rh(Eo)&&(Eo=null),To!==null&&Rh(To)&&(To=null),ad.forEach(P5),ld.forEach(P5)}function uu(t,e){t.blockedOn===e&&(t.blockedOn=null,M4||(M4=!0,mr.unstable_scheduleCallback(mr.unstable_NormalPriority,DO)))}function cd(t){function e(i){return uu(i,t)}if(0<z0.length){uu(z0[0],t);for(var n=1;n<z0.length;n++){var r=z0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Co!==null&&uu(Co,t),Eo!==null&&uu(Eo,t),To!==null&&uu(To,t),ad.forEach(e),ld.forEach(e),n=0;n<so.length;n++)r=so[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<so.length&&(n=so[0],n.blockedOn===null);)Jk(n),n.blockedOn===null&&so.shift()}var Jl=Fs.ReactCurrentBatchConfig,bf=!0;function _O(t,e,n,r){var i=Xe,s=Jl.transition;Jl.transition=null;try{Xe=1,Gy(t,e,n,r)}finally{Xe=i,Jl.transition=s}}function PO(t,e,n,r){var i=Xe,s=Jl.transition;Jl.transition=null;try{Xe=4,Gy(t,e,n,r)}finally{Xe=i,Jl.transition=s}}function Gy(t,e,n,r){if(bf){var i=A4(t,e,n,r);if(i===null)L1(t,e,r,kf,n),_5(t,r);else if(RO(i,t,e,n,r))r.stopPropagation();else if(_5(t,r),e&4&&-1<NO.indexOf(t)){for(;i!==null;){var s=r0(i);if(s!==null&&Wk(s),s=A4(t,e,n,r),s===null&&L1(t,e,r,kf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else L1(t,e,r,null,n)}}var kf=null;function A4(t,e,n,r){if(kf=null,t=Vy(r),t=ka(t),t!==null)if(e=al(t),e===null)t=null;else if(n=e.tag,n===13){if(t=zk(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return kf=t,null}function Yk(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SO()){case Wy:return 1;case $k:return 4;case yf:case xO:return 16;case Hk:return 536870912;default:return 16}default:return 16}}var mo=null,Jy=null,Dh=null;function Xk(){if(Dh)return Dh;var t,e=Jy,n=e.length,r,i="value"in mo?mo.value:mo.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Dh=i.slice(t,1<r?1-r:void 0)}function _h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function B0(){return!0}function L5(){return!1}function wr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?B0:L5,this.isPropagationStopped=L5,this}return Mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=B0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=B0)},persist:function(){},isPersistent:B0}),e}var Fc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yy=wr(Fc),n0=Mt({},Fc,{view:0,detail:0}),LO=wr(n0),M1,A1,du,cm=Mt({},n0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==du&&(du&&t.type==="mousemove"?(M1=t.screenX-du.screenX,A1=t.screenY-du.screenY):A1=M1=0,du=t),M1)},movementY:function(t){return"movementY"in t?t.movementY:A1}}),z5=wr(cm),zO=Mt({},cm,{dataTransfer:0}),BO=wr(zO),FO=Mt({},n0,{relatedTarget:0}),O1=wr(FO),jO=Mt({},Fc,{animationName:0,elapsedTime:0,pseudoElement:0}),$O=wr(jO),HO=Mt({},Fc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UO=wr(HO),VO=Mt({},Fc,{data:0}),B5=wr(VO),WO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},KO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=KO[t])?!!e[t]:!1}function Xy(){return GO}var JO=Mt({},n0,{key:function(t){if(t.key){var e=WO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xy,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YO=wr(JO),XO=Mt({},cm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),F5=wr(XO),QO=Mt({},n0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xy}),ZO=wr(QO),eI=Mt({},Fc,{propertyName:0,elapsedTime:0,pseudoElement:0}),tI=wr(eI),nI=Mt({},cm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rI=wr(nI),iI=[9,13,27,32],Qy=As&&"CompositionEvent"in window,Pu=null;As&&"documentMode"in document&&(Pu=document.documentMode);var sI=As&&"TextEvent"in window&&!Pu,Qk=As&&(!Qy||Pu&&8<Pu&&11>=Pu),j5=" ",$5=!1;function Zk(t,e){switch(t){case"keyup":return iI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Rl=!1;function oI(t,e){switch(t){case"compositionend":return eS(e);case"keypress":return e.which!==32?null:($5=!0,j5);case"textInput":return t=e.data,t===j5&&$5?null:t;default:return null}}function aI(t,e){if(Rl)return t==="compositionend"||!Qy&&Zk(t,e)?(t=Xk(),Dh=Jy=mo=null,Rl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Qk&&e.locale!=="ko"?null:e.data;default:return null}}var lI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function H5(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!lI[t.type]:e==="textarea"}function tS(t,e,n,r){Rk(r),e=Sf(e,"onChange"),0<e.length&&(n=new Yy("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Lu=null,ud=null;function cI(t){hS(t,0)}function um(t){var e=Pl(t);if(Ek(e))return t}function uI(t,e){if(t==="change")return e}var nS=!1;if(As){var I1;if(As){var N1="oninput"in document;if(!N1){var U5=document.createElement("div");U5.setAttribute("oninput","return;"),N1=typeof U5.oninput=="function"}I1=N1}else I1=!1;nS=I1&&(!document.documentMode||9<document.documentMode)}function V5(){Lu&&(Lu.detachEvent("onpropertychange",rS),ud=Lu=null)}function rS(t){if(t.propertyName==="value"&&um(ud)){var e=[];tS(e,ud,t,Vy(t)),Lk(cI,e)}}function dI(t,e,n){t==="focusin"?(V5(),Lu=e,ud=n,Lu.attachEvent("onpropertychange",rS)):t==="focusout"&&V5()}function hI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return um(ud)}function fI(t,e){if(t==="click")return um(e)}function pI(t,e){if(t==="input"||t==="change")return um(e)}function mI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:mI;function dd(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u4.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function W5(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function q5(t,e){var n=W5(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=W5(n)}}function iS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sS(){for(var t=window,e=mf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mf(t.document)}return e}function Zy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function gI(t){var e=sS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&iS(n.ownerDocument.documentElement,n)){if(r!==null&&Zy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=q5(n,s);var o=q5(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var vI=As&&"documentMode"in document&&11>=document.documentMode,Dl=null,O4=null,zu=null,I4=!1;function K5(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;I4||Dl==null||Dl!==mf(r)||(r=Dl,"selectionStart"in r&&Zy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zu&&dd(zu,r)||(zu=r,r=Sf(O4,"onSelect"),0<r.length&&(e=new Yy("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Dl)))}function F0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _l={animationend:F0("Animation","AnimationEnd"),animationiteration:F0("Animation","AnimationIteration"),animationstart:F0("Animation","AnimationStart"),transitionend:F0("Transition","TransitionEnd")},R1={},oS={};As&&(oS=document.createElement("div").style,"AnimationEvent"in window||(delete _l.animationend.animation,delete _l.animationiteration.animation,delete _l.animationstart.animation),"TransitionEvent"in window||delete _l.transitionend.transition);function dm(t){if(R1[t])return R1[t];if(!_l[t])return t;var e=_l[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in oS)return R1[t]=e[n];return t}var aS=dm("animationend"),lS=dm("animationiteration"),cS=dm("animationstart"),uS=dm("transitionend"),dS=new Map,G5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ko(t,e){dS.set(t,e),ol(e,[t])}for(var D1=0;D1<G5.length;D1++){var _1=G5[D1],yI=_1.toLowerCase(),wI=_1[0].toUpperCase()+_1.slice(1);Ko(yI,"on"+wI)}Ko(aS,"onAnimationEnd");Ko(lS,"onAnimationIteration");Ko(cS,"onAnimationStart");Ko("dblclick","onDoubleClick");Ko("focusin","onFocus");Ko("focusout","onBlur");Ko(uS,"onTransitionEnd");dc("onMouseEnter",["mouseout","mouseover"]);dc("onMouseLeave",["mouseout","mouseover"]);dc("onPointerEnter",["pointerout","pointerover"]);dc("onPointerLeave",["pointerout","pointerover"]);ol("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ol("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ol("onBeforeInput",["compositionend","keypress","textInput","paste"]);ol("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ol("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cu));function J5(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,yO(r,e,void 0,t),t.currentTarget=null}function hS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;J5(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;J5(i,a,c),s=l}}}if(vf)throw t=E4,vf=!1,E4=null,t}function ht(t,e){var n=e[P4];n===void 0&&(n=e[P4]=new Set);var r=t+"__bubble";n.has(r)||(fS(e,t,2,!1),n.add(r))}function P1(t,e,n){var r=0;e&&(r|=4),fS(n,t,r,e)}var j0="_reactListening"+Math.random().toString(36).slice(2);function hd(t){if(!t[j0]){t[j0]=!0,bk.forEach(function(n){n!=="selectionchange"&&(bI.has(n)||P1(n,!1,t),P1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[j0]||(e[j0]=!0,P1("selectionchange",!1,e))}}function fS(t,e,n,r){switch(Yk(e)){case 1:var i=_O;break;case 4:i=PO;break;default:i=Gy}n=i.bind(null,e,n,t),i=void 0,!C4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function L1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=ka(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Lk(function(){var c=s,u=Vy(n),d=[];e:{var h=dS.get(t);if(h!==void 0){var f=Yy,p=t;switch(t){case"keypress":if(_h(n)===0)break e;case"keydown":case"keyup":f=YO;break;case"focusin":p="focus",f=O1;break;case"focusout":p="blur",f=O1;break;case"beforeblur":case"afterblur":f=O1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=z5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=BO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=ZO;break;case aS:case lS:case cS:f=$O;break;case uS:f=tI;break;case"scroll":f=LO;break;case"wheel":f=rI;break;case"copy":case"cut":case"paste":f=UO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=F5}var g=(e&4)!==0,b=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var w=c,C;w!==null;){C=w;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,y!==null&&(k=od(w,y),k!=null&&g.push(fd(w,k,C)))),b)break;w=w.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==S4&&(p=n.relatedTarget||n.fromElement)&&(ka(p)||p[Os]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?ka(p):null,p!==null&&(b=al(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=z5,k="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=F5,k="onPointerLeave",y="onPointerEnter",w="pointer"),b=f==null?h:Pl(f),C=p==null?h:Pl(p),h=new g(k,w+"leave",f,n,u),h.target=b,h.relatedTarget=C,k=null,ka(u)===c&&(g=new g(y,w+"enter",p,n,u),g.target=C,g.relatedTarget=b,k=g),b=k,f&&p)t:{for(g=f,y=p,w=0,C=g;C;C=yl(C))w++;for(C=0,k=y;k;k=yl(k))C++;for(;0<w-C;)g=yl(g),w--;for(;0<C-w;)y=yl(y),C--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=yl(g),y=yl(y)}g=null}else g=null;f!==null&&Y5(d,h,f,g,!1),p!==null&&b!==null&&Y5(d,b,p,g,!0)}}e:{if(h=c?Pl(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var A=uI;else if(H5(h))if(nS)A=pI;else{A=hI;var x=dI}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(A=fI);if(A&&(A=A(t,c))){tS(d,A,n,u);break e}x&&x(t,h,c),t==="focusout"&&(x=h._wrapperState)&&x.controlled&&h.type==="number"&&v4(h,"number",h.value)}switch(x=c?Pl(c):window,t){case"focusin":(H5(x)||x.contentEditable==="true")&&(Dl=x,O4=c,zu=null);break;case"focusout":zu=O4=Dl=null;break;case"mousedown":I4=!0;break;case"contextmenu":case"mouseup":case"dragend":I4=!1,K5(d,n,u);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":K5(d,n,u)}var O;if(Qy)e:{switch(t){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Rl?Zk(t,n)&&(D="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Qk&&n.locale!=="ko"&&(Rl||D!=="onCompositionStart"?D==="onCompositionEnd"&&Rl&&(O=Xk()):(mo=u,Jy="value"in mo?mo.value:mo.textContent,Rl=!0)),x=Sf(c,D),0<x.length&&(D=new B5(D,t,null,n,u),d.push({event:D,listeners:x}),O?D.data=O:(O=eS(n),O!==null&&(D.data=O)))),(O=sI?oI(t,n):aI(t,n))&&(c=Sf(c,"onBeforeInput"),0<c.length&&(u=new B5("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=O))}hS(d,e)})}function fd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Sf(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=od(t,n),s!=null&&r.unshift(fd(t,s,i)),s=od(t,e),s!=null&&r.push(fd(t,s,i))),t=t.return}return r}function yl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Y5(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=od(n,s),l!=null&&o.unshift(fd(n,l,a))):i||(l=od(n,s),l!=null&&o.push(fd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var kI=/\r\n?/g,SI=/\u0000|\uFFFD/g;function X5(t){return(typeof t=="string"?t:""+t).replace(kI,`
`).replace(SI,"")}function $0(t,e,n){if(e=X5(e),X5(t)!==e&&n)throw Error(q(425))}function xf(){}var N4=null,R4=null;function D4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _4=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,Q5=typeof Promise=="function"?Promise:void 0,CI=typeof queueMicrotask=="function"?queueMicrotask:typeof Q5<"u"?function(t){return Q5.resolve(null).then(t).catch(EI)}:_4;function EI(t){setTimeout(function(){throw t})}function z1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),cd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);cd(e)}function Mo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Z5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var jc=Math.random().toString(36).slice(2),Li="__reactFiber$"+jc,pd="__reactProps$"+jc,Os="__reactContainer$"+jc,P4="__reactEvents$"+jc,TI="__reactListeners$"+jc,MI="__reactHandles$"+jc;function ka(t){var e=t[Li];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Os]||n[Li]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Z5(t);t!==null;){if(n=t[Li])return n;t=Z5(t)}return e}t=n,n=t.parentNode}return null}function r0(t){return t=t[Li]||t[Os],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function hm(t){return t[pd]||null}var L4=[],Ll=-1;function Go(t){return{current:t}}function pt(t){0>Ll||(t.current=L4[Ll],L4[Ll]=null,Ll--)}function lt(t,e){Ll++,L4[Ll]=t.current,t.current=e}var Bo={},En=Go(Bo),Yn=Go(!1),Ha=Bo;function hc(t,e){var n=t.type.contextTypes;if(!n)return Bo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function Cf(){pt(Yn),pt(En)}function e6(t,e,n){if(En.current!==Bo)throw Error(q(168));lt(En,e),lt(Yn,n)}function pS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,dO(t)||"Unknown",i));return Mt({},n,r)}function Ef(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bo,Ha=En.current,lt(En,t),lt(Yn,Yn.current),!0}function t6(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=pS(t,e,Ha),r.__reactInternalMemoizedMergedChildContext=t,pt(Yn),pt(En),lt(En,t)):pt(Yn),lt(Yn,n)}var hs=null,fm=!1,B1=!1;function mS(t){hs===null?hs=[t]:hs.push(t)}function AI(t){fm=!0,mS(t)}function Jo(){if(!B1&&hs!==null){B1=!0;var t=0,e=Xe;try{var n=hs;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}hs=null,fm=!1}catch(i){throw hs!==null&&(hs=hs.slice(t+1)),jk(Wy,Jo),i}finally{Xe=e,B1=!1}}return null}var zl=[],Bl=0,Tf=null,Mf=0,Mr=[],Ar=0,Ua=null,ps=1,ms="";function ha(t,e){zl[Bl++]=Mf,zl[Bl++]=Tf,Tf=t,Mf=e}function gS(t,e,n){Mr[Ar++]=ps,Mr[Ar++]=ms,Mr[Ar++]=Ua,Ua=t;var r=ps;t=ms;var i=32-oi(r)-1;r&=~(1<<i),n+=1;var s=32-oi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ps=1<<32-oi(e)+i|n<<i|r,ms=s+t}else ps=1<<s|n<<i|r,ms=t}function e2(t){t.return!==null&&(ha(t,1),gS(t,1,0))}function t2(t){for(;t===Tf;)Tf=zl[--Bl],zl[Bl]=null,Mf=zl[--Bl],zl[Bl]=null;for(;t===Ua;)Ua=Mr[--Ar],Mr[Ar]=null,ms=Mr[--Ar],Mr[Ar]=null,ps=Mr[--Ar],Mr[Ar]=null}var hr=null,dr=null,yt=!1,ti=null;function vS(t,e){var n=Rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function n6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hr=t,dr=Mo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hr=t,dr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ua!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,hr=t,dr=null,!0):!1;default:return!1}}function z4(t){return(t.mode&1)!==0&&(t.flags&128)===0}function B4(t){if(yt){var e=dr;if(e){var n=e;if(!n6(t,e)){if(z4(t))throw Error(q(418));e=Mo(n.nextSibling);var r=hr;e&&n6(t,e)?vS(r,n):(t.flags=t.flags&-4097|2,yt=!1,hr=t)}}else{if(z4(t))throw Error(q(418));t.flags=t.flags&-4097|2,yt=!1,hr=t}}}function r6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function H0(t){if(t!==hr)return!1;if(!yt)return r6(t),yt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!D4(t.type,t.memoizedProps)),e&&(e=dr)){if(z4(t))throw yS(),Error(q(418));for(;e;)vS(t,e),e=Mo(e.nextSibling)}if(r6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dr=Mo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dr=null}}else dr=hr?Mo(t.stateNode.nextSibling):null;return!0}function yS(){for(var t=dr;t;)t=Mo(t.nextSibling)}function fc(){dr=hr=null,yt=!1}function n2(t){ti===null?ti=[t]:ti.push(t)}var OI=Fs.ReactCurrentBatchConfig;function hu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function U0(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function i6(t){var e=t._init;return e(t._payload)}function wS(t){function e(y,w){if(t){var C=y.deletions;C===null?(y.deletions=[w],y.flags|=16):C.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=No(y,w),y.index=0,y.sibling=null,y}function s(y,w,C){return y.index=C,t?(C=y.alternate,C!==null?(C=C.index,C<w?(y.flags|=2,w):C):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,C,k){return w===null||w.tag!==6?(w=W1(C,y.mode,k),w.return=y,w):(w=i(w,C),w.return=y,w)}function l(y,w,C,k){var A=C.type;return A===Nl?u(y,w,C.props.children,k,C.key):w!==null&&(w.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&i6(A)===w.type)?(k=i(w,C.props),k.ref=hu(y,w,C),k.return=y,k):(k=$h(C.type,C.key,C.props,null,y.mode,k),k.ref=hu(y,w,C),k.return=y,k)}function c(y,w,C,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=q1(C,y.mode,k),w.return=y,w):(w=i(w,C.children||[]),w.return=y,w)}function u(y,w,C,k,A){return w===null||w.tag!==7?(w=Na(C,y.mode,k,A),w.return=y,w):(w=i(w,C),w.return=y,w)}function d(y,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=W1(""+w,y.mode,C),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case R0:return C=$h(w.type,w.key,w.props,null,y.mode,C),C.ref=hu(y,null,w),C.return=y,C;case Il:return w=q1(w,y.mode,C),w.return=y,w;case eo:var k=w._init;return d(y,k(w._payload),C)}if(Su(w)||au(w))return w=Na(w,y.mode,C,null),w.return=y,w;U0(y,w)}return null}function h(y,w,C,k){var A=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return A!==null?null:a(y,w,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case R0:return C.key===A?l(y,w,C,k):null;case Il:return C.key===A?c(y,w,C,k):null;case eo:return A=C._init,h(y,w,A(C._payload),k)}if(Su(C)||au(C))return A!==null?null:u(y,w,C,k,null);U0(y,C)}return null}function f(y,w,C,k,A){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(C)||null,a(w,y,""+k,A);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case R0:return y=y.get(k.key===null?C:k.key)||null,l(w,y,k,A);case Il:return y=y.get(k.key===null?C:k.key)||null,c(w,y,k,A);case eo:var x=k._init;return f(y,w,C,x(k._payload),A)}if(Su(k)||au(k))return y=y.get(C)||null,u(w,y,k,A,null);U0(w,k)}return null}function p(y,w,C,k){for(var A=null,x=null,O=w,D=w=0,L=null;O!==null&&D<C.length;D++){O.index>D?(L=O,O=null):L=O.sibling;var j=h(y,O,C[D],k);if(j===null){O===null&&(O=L);break}t&&O&&j.alternate===null&&e(y,O),w=s(j,w,D),x===null?A=j:x.sibling=j,x=j,O=L}if(D===C.length)return n(y,O),yt&&ha(y,D),A;if(O===null){for(;D<C.length;D++)O=d(y,C[D],k),O!==null&&(w=s(O,w,D),x===null?A=O:x.sibling=O,x=O);return yt&&ha(y,D),A}for(O=r(y,O);D<C.length;D++)L=f(O,y,D,C[D],k),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?D:L.key),w=s(L,w,D),x===null?A=L:x.sibling=L,x=L);return t&&O.forEach(function(Q){return e(y,Q)}),yt&&ha(y,D),A}function g(y,w,C,k){var A=au(C);if(typeof A!="function")throw Error(q(150));if(C=A.call(C),C==null)throw Error(q(151));for(var x=A=null,O=w,D=w=0,L=null,j=C.next();O!==null&&!j.done;D++,j=C.next()){O.index>D?(L=O,O=null):L=O.sibling;var Q=h(y,O,j.value,k);if(Q===null){O===null&&(O=L);break}t&&O&&Q.alternate===null&&e(y,O),w=s(Q,w,D),x===null?A=Q:x.sibling=Q,x=Q,O=L}if(j.done)return n(y,O),yt&&ha(y,D),A;if(O===null){for(;!j.done;D++,j=C.next())j=d(y,j.value,k),j!==null&&(w=s(j,w,D),x===null?A=j:x.sibling=j,x=j);return yt&&ha(y,D),A}for(O=r(y,O);!j.done;D++,j=C.next())j=f(O,y,D,j.value,k),j!==null&&(t&&j.alternate!==null&&O.delete(j.key===null?D:j.key),w=s(j,w,D),x===null?A=j:x.sibling=j,x=j);return t&&O.forEach(function(X){return e(y,X)}),yt&&ha(y,D),A}function b(y,w,C,k){if(typeof C=="object"&&C!==null&&C.type===Nl&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case R0:e:{for(var A=C.key,x=w;x!==null;){if(x.key===A){if(A=C.type,A===Nl){if(x.tag===7){n(y,x.sibling),w=i(x,C.props.children),w.return=y,y=w;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===eo&&i6(A)===x.type){n(y,x.sibling),w=i(x,C.props),w.ref=hu(y,x,C),w.return=y,y=w;break e}n(y,x);break}else e(y,x);x=x.sibling}C.type===Nl?(w=Na(C.props.children,y.mode,k,C.key),w.return=y,y=w):(k=$h(C.type,C.key,C.props,null,y.mode,k),k.ref=hu(y,w,C),k.return=y,y=k)}return o(y);case Il:e:{for(x=C.key;w!==null;){if(w.key===x)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(y,w.sibling),w=i(w,C.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=q1(C,y.mode,k),w.return=y,y=w}return o(y);case eo:return x=C._init,b(y,w,x(C._payload),k)}if(Su(C))return p(y,w,C,k);if(au(C))return g(y,w,C,k);U0(y,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,C),w.return=y,y=w):(n(y,w),w=W1(C,y.mode,k),w.return=y,y=w),o(y)):n(y,w)}return b}var pc=wS(!0),bS=wS(!1),Af=Go(null),Of=null,Fl=null,r2=null;function i2(){r2=Fl=Of=null}function s2(t){var e=Af.current;pt(Af),t._currentValue=e}function F4(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yl(t,e){Of=t,r2=Fl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gn=!0),t.firstContext=null)}function Br(t){var e=t._currentValue;if(r2!==t)if(t={context:t,memoizedValue:e,next:null},Fl===null){if(Of===null)throw Error(q(308));Fl=t,Of.dependencies={lanes:0,firstContext:t}}else Fl=Fl.next=t;return e}var Sa=null;function o2(t){Sa===null?Sa=[t]:Sa.push(t)}function kS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,o2(e)):(n.next=i.next,i.next=n),e.interleaved=n,Is(t,r)}function Is(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var to=!1;function a2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function bs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ao(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ue&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Is(t,n)}return i=r.interleaved,i===null?(e.next=e,o2(r)):(e.next=i.next,i.next=e),r.interleaved=e,Is(t,n)}function Ph(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}function s6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function If(t,e,n,r){var i=t.updateQueue;to=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Mt({},d,h);break e;case 2:to=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wa|=o,t.lanes=o,t.memoizedState=d}}function o6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var i0={},Hi=Go(i0),md=Go(i0),gd=Go(i0);function xa(t){if(t===i0)throw Error(q(174));return t}function l2(t,e){switch(lt(gd,e),lt(md,t),lt(Hi,i0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:w4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=w4(e,t)}pt(Hi),lt(Hi,e)}function mc(){pt(Hi),pt(md),pt(gd)}function xS(t){xa(gd.current);var e=xa(Hi.current),n=w4(e,t.type);e!==n&&(lt(md,t),lt(Hi,n))}function c2(t){md.current===t&&(pt(Hi),pt(md))}var xt=Go(0);function Nf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var F1=[];function u2(){for(var t=0;t<F1.length;t++)F1[t]._workInProgressVersionPrimary=null;F1.length=0}var Lh=Fs.ReactCurrentDispatcher,j1=Fs.ReactCurrentBatchConfig,Va=0,Tt=null,Jt=null,nn=null,Rf=!1,Bu=!1,vd=0,II=0;function wn(){throw Error(q(321))}function d2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hi(t[n],e[n]))return!1;return!0}function h2(t,e,n,r,i,s){if(Va=s,Tt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lh.current=t===null||t.memoizedState===null?_I:PI,t=n(r,i),Bu){s=0;do{if(Bu=!1,vd=0,25<=s)throw Error(q(301));s+=1,nn=Jt=null,e.updateQueue=null,Lh.current=LI,t=n(r,i)}while(Bu)}if(Lh.current=Df,e=Jt!==null&&Jt.next!==null,Va=0,nn=Jt=Tt=null,Rf=!1,e)throw Error(q(300));return t}function f2(){var t=vd!==0;return vd=0,t}function Oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nn===null?Tt.memoizedState=nn=t:nn=nn.next=t,nn}function Fr(){if(Jt===null){var t=Tt.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=nn===null?Tt.memoizedState:nn.next;if(e!==null)nn=e,Jt=t;else{if(t===null)throw Error(q(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},nn===null?Tt.memoizedState=nn=t:nn=nn.next=t}return nn}function yd(t,e){return typeof e=="function"?e(t):e}function $1(t){var e=Fr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Jt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Va&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Tt.lanes|=u,Wa|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,hi(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Tt.lanes|=s,Wa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function H1(t){var e=Fr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);hi(s,e.memoizedState)||(Gn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function CS(){}function ES(t,e){var n=Tt,r=Fr(),i=e(),s=!hi(r.memoizedState,i);if(s&&(r.memoizedState=i,Gn=!0),r=r.queue,p2(AS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||nn!==null&&nn.memoizedState.tag&1){if(n.flags|=2048,wd(9,MS.bind(null,n,r,i,e),void 0,null),on===null)throw Error(q(349));Va&30||TS(n,e,i)}return i}function TS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MS(t,e,n,r){e.value=n,e.getSnapshot=r,OS(e)&&IS(t)}function AS(t,e,n){return n(function(){OS(e)&&IS(t)})}function OS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hi(t,n)}catch{return!0}}function IS(t){var e=Is(t,1);e!==null&&ai(e,t,1,-1)}function a6(t){var e=Oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yd,lastRenderedState:t},e.queue=t,t=t.dispatch=DI.bind(null,Tt,t),[e.memoizedState,t]}function wd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Tt.updateQueue,e===null?(e={lastEffect:null,stores:null},Tt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NS(){return Fr().memoizedState}function zh(t,e,n,r){var i=Oi();Tt.flags|=t,i.memoizedState=wd(1|e,n,void 0,r===void 0?null:r)}function pm(t,e,n,r){var i=Fr();r=r===void 0?null:r;var s=void 0;if(Jt!==null){var o=Jt.memoizedState;if(s=o.destroy,r!==null&&d2(r,o.deps)){i.memoizedState=wd(e,n,s,r);return}}Tt.flags|=t,i.memoizedState=wd(1|e,n,s,r)}function l6(t,e){return zh(8390656,8,t,e)}function p2(t,e){return pm(2048,8,t,e)}function RS(t,e){return pm(4,2,t,e)}function DS(t,e){return pm(4,4,t,e)}function _S(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function PS(t,e,n){return n=n!=null?n.concat([t]):null,pm(4,4,_S.bind(null,e,t),n)}function m2(){}function LS(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&d2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zS(t,e){var n=Fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&d2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BS(t,e,n){return Va&21?(hi(n,e)||(n=Uk(),Tt.lanes|=n,Wa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n)}function NI(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=j1.transition;j1.transition={};try{t(!1),e()}finally{Xe=n,j1.transition=r}}function FS(){return Fr().memoizedState}function RI(t,e,n){var r=Io(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jS(t))$S(e,n);else if(n=kS(t,e,n,r),n!==null){var i=_n();ai(n,t,r,i),HS(n,e,r)}}function DI(t,e,n){var r=Io(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jS(t))$S(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hi(a,o)){var l=e.interleaved;l===null?(i.next=i,o2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=kS(t,e,i,r),n!==null&&(i=_n(),ai(n,t,r,i),HS(n,e,r))}}function jS(t){var e=t.alternate;return t===Tt||e!==null&&e===Tt}function $S(t,e){Bu=Rf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,qy(t,n)}}var Df={readContext:Br,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},_I={readContext:Br,useCallback:function(t,e){return Oi().memoizedState=[t,e===void 0?null:e],t},useContext:Br,useEffect:l6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,zh(4194308,4,_S.bind(null,e,t),n)},useLayoutEffect:function(t,e){return zh(4194308,4,t,e)},useInsertionEffect:function(t,e){return zh(4,2,t,e)},useMemo:function(t,e){var n=Oi();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Oi();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RI.bind(null,Tt,t),[r.memoizedState,t]},useRef:function(t){var e=Oi();return t={current:t},e.memoizedState=t},useState:a6,useDebugValue:m2,useDeferredValue:function(t){return Oi().memoizedState=t},useTransition:function(){var t=a6(!1),e=t[0];return t=NI.bind(null,t[1]),Oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Tt,i=Oi();if(yt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),on===null)throw Error(q(349));Va&30||TS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,l6(AS.bind(null,r,s,t),[t]),r.flags|=2048,wd(9,MS.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Oi(),e=on.identifierPrefix;if(yt){var n=ms,r=ps;n=(r&~(1<<32-oi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=vd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=II++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PI={readContext:Br,useCallback:LS,useContext:Br,useEffect:p2,useImperativeHandle:PS,useInsertionEffect:RS,useLayoutEffect:DS,useMemo:zS,useReducer:$1,useRef:NS,useState:function(){return $1(yd)},useDebugValue:m2,useDeferredValue:function(t){var e=Fr();return BS(e,Jt.memoizedState,t)},useTransition:function(){var t=$1(yd)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:CS,useSyncExternalStore:ES,useId:FS,unstable_isNewReconciler:!1},LI={readContext:Br,useCallback:LS,useContext:Br,useEffect:p2,useImperativeHandle:PS,useInsertionEffect:RS,useLayoutEffect:DS,useMemo:zS,useReducer:H1,useRef:NS,useState:function(){return H1(yd)},useDebugValue:m2,useDeferredValue:function(t){var e=Fr();return Jt===null?e.memoizedState=t:BS(e,Jt.memoizedState,t)},useTransition:function(){var t=H1(yd)[0],e=Fr().memoizedState;return[t,e]},useMutableSource:CS,useSyncExternalStore:ES,useId:FS,unstable_isNewReconciler:!1};function Xr(t,e){if(t&&t.defaultProps){e=Mt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function j4(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Mt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var mm={isMounted:function(t){return(t=t._reactInternals)?al(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Io(t),s=bs(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ao(t,s,i),e!==null&&(ai(e,t,i,r),Ph(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_n(),i=Io(t),s=bs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ao(t,s,i),e!==null&&(ai(e,t,i,r),Ph(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_n(),r=Io(t),i=bs(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ao(t,i,r),e!==null&&(ai(e,t,r,n),Ph(e,t,r))}};function c6(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!dd(n,r)||!dd(i,s):!0}function US(t,e,n){var r=!1,i=Bo,s=e.contextType;return typeof s=="object"&&s!==null?s=Br(s):(i=Xn(e)?Ha:En.current,r=e.contextTypes,s=(r=r!=null)?hc(t,i):Bo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=mm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function u6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&mm.enqueueReplaceState(e,e.state,null)}function $4(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},a2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Br(s):(s=Xn(e)?Ha:En.current,i.context=hc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(j4(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&mm.enqueueReplaceState(i,i.state,null),If(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gc(t,e){try{var n="",r=e;do n+=uO(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function U1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function H4(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zI=typeof WeakMap=="function"?WeakMap:Map;function VS(t,e,n){n=bs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Pf||(Pf=!0,Q4=r),H4(t,e)},n}function WS(t,e,n){n=bs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){H4(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){H4(t,e),typeof r!="function"&&(Oo===null?Oo=new Set([this]):Oo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function d6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=XI.bind(null,t,e,n),e.then(t,t))}function h6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function f6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=bs(-1,1),e.tag=2,Ao(n,e,1))),n.lanes|=1),t)}var BI=Fs.ReactCurrentOwner,Gn=!1;function Nn(t,e,n,r){e.child=t===null?bS(e,null,n,r):pc(e,t.child,n,r)}function p6(t,e,n,r,i){n=n.render;var s=e.ref;return Yl(e,i),r=h2(t,e,n,r,s,i),n=f2(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(yt&&n&&e2(e),e.flags|=1,Nn(t,e,r,i),e.child)}function m6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!x2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qS(t,e,s,r,i)):(t=$h(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:dd,n(o,r)&&t.ref===e.ref)return Ns(t,e,i)}return e.flags|=1,t=No(s,r),t.ref=e.ref,t.return=e,e.child=t}function qS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(dd(s,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Gn=!0);else return e.lanes=t.lanes,Ns(t,e,i)}return U4(t,e,n,r,i)}function KS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt($l,or),or|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,lt($l,or),or|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,lt($l,or),or|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,lt($l,or),or|=r;return Nn(t,e,i,n),e.child}function GS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function U4(t,e,n,r,i){var s=Xn(n)?Ha:En.current;return s=hc(e,s),Yl(e,i),n=h2(t,e,n,r,s,i),r=f2(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ns(t,e,i)):(yt&&r&&e2(e),e.flags|=1,Nn(t,e,n,i),e.child)}function g6(t,e,n,r,i){if(Xn(n)){var s=!0;Ef(e)}else s=!1;if(Yl(e,i),e.stateNode===null)Bh(t,e),US(e,n,r),$4(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Br(c):(c=Xn(n)?Ha:En.current,c=hc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&u6(e,o,r,c),to=!1;var h=e.memoizedState;o.state=h,If(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Yn.current||to?(typeof u=="function"&&(j4(e,n,u,r),l=e.memoizedState),(a=to||c6(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Br(l):(l=Xn(n)?Ha:En.current,l=hc(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&u6(e,o,r,l),to=!1,h=e.memoizedState,o.state=h,If(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||Yn.current||to?(typeof f=="function"&&(j4(e,n,f,r),p=e.memoizedState),(c=to||c6(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return V4(t,e,n,r,s,i)}function V4(t,e,n,r,i,s){GS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&t6(e,n,!1),Ns(t,e,s);r=e.stateNode,BI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pc(e,t.child,null,s),e.child=pc(e,null,a,s)):Nn(t,e,a,s),e.memoizedState=r.state,i&&t6(e,n,!0),e.child}function JS(t){var e=t.stateNode;e.pendingContext?e6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&e6(t,e.context,!1),l2(t,e.containerInfo)}function v6(t,e,n,r,i){return fc(),n2(i),e.flags|=256,Nn(t,e,n,r),e.child}var W4={dehydrated:null,treeContext:null,retryLane:0};function q4(t){return{baseLanes:t,cachePool:null,transitions:null}}function YS(t,e,n){var r=e.pendingProps,i=xt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),lt(xt,i&1),t===null)return B4(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ym(o,r,0,null),t=Na(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=q4(n),e.memoizedState=W4,t):g2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return FI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=No(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=No(a,s):(s=Na(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?q4(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=W4,r}return s=t.child,t=s.sibling,r=No(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function g2(t,e){return e=ym({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function V0(t,e,n,r){return r!==null&&n2(r),pc(e,t.child,null,n),t=g2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=U1(Error(q(422))),V0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ym({mode:"visible",children:r.children},i,0,null),s=Na(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pc(e,t.child,null,o),e.child.memoizedState=q4(o),e.memoizedState=W4,s);if(!(e.mode&1))return V0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=U1(s,r,void 0),V0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Gn||a){if(r=on,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Is(t,i),ai(r,t,i,-1))}return S2(),r=U1(Error(q(421))),V0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dr=Mo(i.nextSibling),hr=e,yt=!0,ti=null,t!==null&&(Mr[Ar++]=ps,Mr[Ar++]=ms,Mr[Ar++]=Ua,ps=t.id,ms=t.overflow,Ua=e),e=g2(e,r.children),e.flags|=4096,e)}function y6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),F4(t.return,e,n)}function V1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function XS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Nn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&y6(t,n,e);else if(t.tag===19)y6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(lt(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Nf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),V1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Nf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}V1(e,!0,n,null,s);break;case"together":V1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ns(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=No(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=No(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jI(t,e,n){switch(e.tag){case 3:JS(e),fc();break;case 5:xS(e);break;case 1:Xn(e.type)&&Ef(e);break;case 4:l2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;lt(Af,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(lt(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?YS(t,e,n):(lt(xt,xt.current&1),t=Ns(t,e,n),t!==null?t.sibling:null);lt(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return XS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),lt(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,KS(t,e,n)}return Ns(t,e,n)}var QS,K4,ZS,e9;QS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};K4=function(){};ZS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xa(Hi.current);var s=null;switch(n){case"input":i=m4(t,i),r=m4(t,r),s=[];break;case"select":i=Mt({},i,{value:void 0}),r=Mt({},r,{value:void 0}),s=[];break;case"textarea":i=y4(t,i),r=y4(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xf)}b4(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(id.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(id.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ht("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};e9=function(t,e,n,r){n!==r&&(e.flags|=4)};function fu(t,e){if(!yt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $I(t,e,n){var r=e.pendingProps;switch(t2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return Xn(e.type)&&Cf(),bn(e),null;case 3:return r=e.stateNode,mc(),pt(Yn),pt(En),u2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(H0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ti!==null&&(tv(ti),ti=null))),K4(t,e),bn(e),null;case 5:c2(e);var i=xa(gd.current);if(n=e.type,t!==null&&e.stateNode!=null)ZS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return bn(e),null}if(t=xa(Hi.current),H0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Li]=e,r[pd]=s,t=(e.mode&1)!==0,n){case"dialog":ht("cancel",r),ht("close",r);break;case"iframe":case"object":case"embed":ht("load",r);break;case"video":case"audio":for(i=0;i<Cu.length;i++)ht(Cu[i],r);break;case"source":ht("error",r);break;case"img":case"image":case"link":ht("error",r),ht("load",r);break;case"details":ht("toggle",r);break;case"input":M5(r,s),ht("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ht("invalid",r);break;case"textarea":O5(r,s),ht("invalid",r)}b4(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$0(r.textContent,a,t),i=["children",""+a]):id.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ht("scroll",r)}switch(n){case"input":D0(r),A5(r,s,!0);break;case"textarea":D0(r),I5(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=xf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ak(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Li]=e,t[pd]=r,QS(t,e,!1,!1),e.stateNode=t;e:{switch(o=k4(n,r),n){case"dialog":ht("cancel",t),ht("close",t),i=r;break;case"iframe":case"object":case"embed":ht("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cu.length;i++)ht(Cu[i],t);i=r;break;case"source":ht("error",t),i=r;break;case"img":case"image":case"link":ht("error",t),ht("load",t),i=r;break;case"details":ht("toggle",t),i=r;break;case"input":M5(t,r),i=m4(t,r),ht("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Mt({},r,{value:void 0}),ht("invalid",t);break;case"textarea":O5(t,r),i=y4(t,r),ht("invalid",t);break;default:i=r}b4(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nk(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Ok(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&sd(t,l):typeof l=="number"&&sd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(id.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ht("scroll",t):l!=null&&jy(t,s,l,o))}switch(n){case"input":D0(t),A5(t,r,!1);break;case"textarea":D0(t),I5(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ql(t,!!r.multiple,s,!1):r.defaultValue!=null&&ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=xf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)e9(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=xa(gd.current),xa(Hi.current),H0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Li]=e,(s=r.nodeValue!==n)&&(t=hr,t!==null))switch(t.tag){case 3:$0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Li]=e,e.stateNode=r}return bn(e),null;case 13:if(pt(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yt&&dr!==null&&e.mode&1&&!(e.flags&128))yS(),fc(),e.flags|=98560,s=!1;else if(s=H0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Li]=e}else fc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;bn(e),s=!1}else ti!==null&&(tv(ti),ti=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?Yt===0&&(Yt=3):S2())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return mc(),K4(t,e),t===null&&hd(e.stateNode.containerInfo),bn(e),null;case 10:return s2(e.type._context),bn(e),null;case 17:return Xn(e.type)&&Cf(),bn(e),null;case 19:if(pt(xt),s=e.memoizedState,s===null)return bn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)fu(s,!1);else{if(Yt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Nf(t),o!==null){for(e.flags|=128,fu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return lt(xt,xt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Bt()>vc&&(e.flags|=128,r=!0,fu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Nf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),fu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yt)return bn(e),null}else 2*Bt()-s.renderingStartTime>vc&&n!==1073741824&&(e.flags|=128,r=!0,fu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Bt(),e.sibling=null,n=xt.current,lt(xt,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return k2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?or&1073741824&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function HI(t,e){switch(t2(e),e.tag){case 1:return Xn(e.type)&&Cf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mc(),pt(Yn),pt(En),u2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return c2(e),null;case 13:if(pt(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));fc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pt(xt),null;case 4:return mc(),null;case 10:return s2(e.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var W0=!1,Sn=!1,UI=typeof WeakSet=="function"?WeakSet:Set,re=null;function jl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Rt(t,e,r)}else n.current=null}function G4(t,e,n){try{n()}catch(r){Rt(t,e,r)}}var w6=!1;function VI(t,e){if(N4=bf,t=sS(),Zy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(R4={focusedElem:t,selectionRange:n},bf=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,b=p.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Xr(e.type,g),b);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){Rt(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return p=w6,w6=!1,p}function Fu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&G4(e,n,s)}i=i.next}while(i!==r)}}function gm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function J4(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function t9(t){var e=t.alternate;e!==null&&(t.alternate=null,t9(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Li],delete e[pd],delete e[P4],delete e[TI],delete e[MI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function n9(t){return t.tag===5||t.tag===3||t.tag===4}function b6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||n9(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Y4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xf));else if(r!==4&&(t=t.child,t!==null))for(Y4(t,e,n),t=t.sibling;t!==null;)Y4(t,e,n),t=t.sibling}function X4(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(X4(t,e,n),t=t.sibling;t!==null;)X4(t,e,n),t=t.sibling}var dn=null,Qr=!1;function Vs(t,e,n){for(n=n.child;n!==null;)r9(t,e,n),n=n.sibling}function r9(t,e,n){if($i&&typeof $i.onCommitFiberUnmount=="function")try{$i.onCommitFiberUnmount(lm,n)}catch{}switch(n.tag){case 5:Sn||jl(n,e);case 6:var r=dn,i=Qr;dn=null,Vs(t,e,n),dn=r,Qr=i,dn!==null&&(Qr?(t=dn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dn.removeChild(n.stateNode));break;case 18:dn!==null&&(Qr?(t=dn,n=n.stateNode,t.nodeType===8?z1(t.parentNode,n):t.nodeType===1&&z1(t,n),cd(t)):z1(dn,n.stateNode));break;case 4:r=dn,i=Qr,dn=n.stateNode.containerInfo,Qr=!0,Vs(t,e,n),dn=r,Qr=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&G4(n,e,o),i=i.next}while(i!==r)}Vs(t,e,n);break;case 1:if(!Sn&&(jl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Rt(n,e,a)}Vs(t,e,n);break;case 21:Vs(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,Vs(t,e,n),Sn=r):Vs(t,e,n);break;default:Vs(t,e,n)}}function k6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UI),e.forEach(function(r){var i=ZI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:dn=a.stateNode,Qr=!1;break e;case 3:dn=a.stateNode.containerInfo,Qr=!0;break e;case 4:dn=a.stateNode.containerInfo,Qr=!0;break e}a=a.return}if(dn===null)throw Error(q(160));r9(s,o,i),dn=null,Qr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i9(e,t),e=e.sibling}function i9(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yr(e,t),Mi(t),r&4){try{Fu(3,t,t.return),gm(3,t)}catch(g){Rt(t,t.return,g)}try{Fu(5,t,t.return)}catch(g){Rt(t,t.return,g)}}break;case 1:Yr(e,t),Mi(t),r&512&&n!==null&&jl(n,n.return);break;case 5:if(Yr(e,t),Mi(t),r&512&&n!==null&&jl(n,n.return),t.flags&32){var i=t.stateNode;try{sd(i,"")}catch(g){Rt(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Tk(i,s),k4(a,o);var c=k4(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?Nk(i,d):u==="dangerouslySetInnerHTML"?Ok(i,d):u==="children"?sd(i,d):jy(i,u,d,c)}switch(a){case"input":g4(i,s);break;case"textarea":Mk(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ql(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?ql(i,!!s.multiple,s.defaultValue,!0):ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[pd]=s}catch(g){Rt(t,t.return,g)}}break;case 6:if(Yr(e,t),Mi(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Rt(t,t.return,g)}}break;case 3:if(Yr(e,t),Mi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(g){Rt(t,t.return,g)}break;case 4:Yr(e,t),Mi(t);break;case 13:Yr(e,t),Mi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(w2=Bt())),r&4&&k6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(c=Sn)||u,Yr(e,t),Sn=c):Yr(e,t),Mi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(d=re=u;re!==null;){switch(h=re,f=h.child,h.tag){case 0:case 11:case 14:case 15:Fu(4,h,h.return);break;case 1:jl(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){Rt(r,n,g)}}break;case 5:jl(h,h.return);break;case 22:if(h.memoizedState!==null){x6(d);continue}}f!==null?(f.return=h,re=f):x6(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Ik("display",o))}catch(g){Rt(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Rt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Yr(e,t),Mi(t),r&4&&k6(t);break;case 21:break;default:Yr(e,t),Mi(t)}}function Mi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(n9(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sd(i,""),r.flags&=-33);var s=b6(t);X4(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=b6(t);Y4(t,a,o);break;default:throw Error(q(161))}}catch(l){Rt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WI(t,e,n){re=t,s9(t)}function s9(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||W0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=W0;var c=Sn;if(W0=o,(Sn=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?C6(i):l!==null?(l.return=o,re=l):C6(i);for(;s!==null;)re=s,s9(s),s=s.sibling;re=i,W0=a,Sn=c}S6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):S6(t)}}function S6(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||gm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&o6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}o6(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&cd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Sn||e.flags&512&&J4(e)}catch(h){Rt(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function x6(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function C6(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{gm(4,e)}catch(l){Rt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Rt(e,i,l)}}var s=e.return;try{J4(e)}catch(l){Rt(e,s,l)}break;case 5:var o=e.return;try{J4(e)}catch(l){Rt(e,o,l)}}}catch(l){Rt(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var qI=Math.ceil,_f=Fs.ReactCurrentDispatcher,v2=Fs.ReactCurrentOwner,_r=Fs.ReactCurrentBatchConfig,Ue=0,on=null,Vt=null,mn=0,or=0,$l=Go(0),Yt=0,bd=null,Wa=0,vm=0,y2=0,ju=null,Wn=null,w2=0,vc=1/0,cs=null,Pf=!1,Q4=null,Oo=null,q0=!1,go=null,Lf=0,$u=0,Z4=null,Fh=-1,jh=0;function _n(){return Ue&6?Bt():Fh!==-1?Fh:Fh=Bt()}function Io(t){return t.mode&1?Ue&2&&mn!==0?mn&-mn:OI.transition!==null?(jh===0&&(jh=Uk()),jh):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:Yk(t.type)),t):1}function ai(t,e,n,r){if(50<$u)throw $u=0,Z4=null,Error(q(185));t0(t,n,r),(!(Ue&2)||t!==on)&&(t===on&&(!(Ue&2)&&(vm|=n),Yt===4&&oo(t,mn)),Qn(t,r),n===1&&Ue===0&&!(e.mode&1)&&(vc=Bt()+500,fm&&Jo()))}function Qn(t,e){var n=t.callbackNode;OO(t,e);var r=wf(t,t===on?mn:0);if(r===0)n!==null&&D5(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&D5(n),e===1)t.tag===0?AI(E6.bind(null,t)):mS(E6.bind(null,t)),CI(function(){!(Ue&6)&&Jo()}),n=null;else{switch(Vk(r)){case 1:n=Wy;break;case 4:n=$k;break;case 16:n=yf;break;case 536870912:n=Hk;break;default:n=yf}n=f9(n,o9.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o9(t,e){if(Fh=-1,jh=0,Ue&6)throw Error(q(327));var n=t.callbackNode;if(Xl()&&t.callbackNode!==n)return null;var r=wf(t,t===on?mn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zf(t,r);else{e=r;var i=Ue;Ue|=2;var s=l9();(on!==t||mn!==e)&&(cs=null,vc=Bt()+500,Ia(t,e));do try{JI();break}catch(a){a9(t,a)}while(!0);i2(),_f.current=s,Ue=i,Vt!==null?e=0:(on=null,mn=0,e=Yt)}if(e!==0){if(e===2&&(i=T4(t),i!==0&&(r=i,e=ev(t,i))),e===1)throw n=bd,Ia(t,0),oo(t,r),Qn(t,Bt()),n;if(e===6)oo(t,r);else{if(i=t.current.alternate,!(r&30)&&!KI(i)&&(e=zf(t,r),e===2&&(s=T4(t),s!==0&&(r=s,e=ev(t,s))),e===1))throw n=bd,Ia(t,0),oo(t,r),Qn(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:fa(t,Wn,cs);break;case 3:if(oo(t,r),(r&130023424)===r&&(e=w2+500-Bt(),10<e)){if(wf(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_4(fa.bind(null,t,Wn,cs),e);break}fa(t,Wn,cs);break;case 4:if(oo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-oi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qI(r/1960))-r,10<r){t.timeoutHandle=_4(fa.bind(null,t,Wn,cs),r);break}fa(t,Wn,cs);break;case 5:fa(t,Wn,cs);break;default:throw Error(q(329))}}}return Qn(t,Bt()),t.callbackNode===n?o9.bind(null,t):null}function ev(t,e){var n=ju;return t.current.memoizedState.isDehydrated&&(Ia(t,e).flags|=256),t=zf(t,e),t!==2&&(e=Wn,Wn=n,e!==null&&tv(e)),t}function tv(t){Wn===null?Wn=t:Wn.push.apply(Wn,t)}function KI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oo(t,e){for(e&=~y2,e&=~vm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oi(e),r=1<<n;t[n]=-1,e&=~r}}function E6(t){if(Ue&6)throw Error(q(327));Xl();var e=wf(t,0);if(!(e&1))return Qn(t,Bt()),null;var n=zf(t,e);if(t.tag!==0&&n===2){var r=T4(t);r!==0&&(e=r,n=ev(t,r))}if(n===1)throw n=bd,Ia(t,0),oo(t,e),Qn(t,Bt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fa(t,Wn,cs),Qn(t,Bt()),null}function b2(t,e){var n=Ue;Ue|=1;try{return t(e)}finally{Ue=n,Ue===0&&(vc=Bt()+500,fm&&Jo())}}function qa(t){go!==null&&go.tag===0&&!(Ue&6)&&Xl();var e=Ue;Ue|=1;var n=_r.transition,r=Xe;try{if(_r.transition=null,Xe=1,t)return t()}finally{Xe=r,_r.transition=n,Ue=e,!(Ue&6)&&Jo()}}function k2(){or=$l.current,pt($l)}function Ia(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(t2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cf();break;case 3:mc(),pt(Yn),pt(En),u2();break;case 5:c2(r);break;case 4:mc();break;case 13:pt(xt);break;case 19:pt(xt);break;case 10:s2(r.type._context);break;case 22:case 23:k2()}n=n.return}if(on=t,Vt=t=No(t.current,null),mn=or=e,Yt=0,bd=null,y2=vm=Wa=0,Wn=ju=null,Sa!==null){for(e=0;e<Sa.length;e++)if(n=Sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Sa=null}return t}function a9(t,e){do{var n=Vt;try{if(i2(),Lh.current=Df,Rf){for(var r=Tt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Rf=!1}if(Va=0,nn=Jt=Tt=null,Bu=!1,vd=0,v2.current=null,n===null||n.return===null){Yt=1,bd=e,Vt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=mn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=h6(o);if(f!==null){f.flags&=-257,f6(f,o,a,s,e),f.mode&1&&d6(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){d6(s,c,e),S2();break e}l=Error(q(426))}}else if(yt&&a.mode&1){var b=h6(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),f6(b,o,a,s,e),n2(gc(l,a));break e}}s=l=gc(l,a),Yt!==4&&(Yt=2),ju===null?ju=[s]:ju.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=VS(s,l,e);s6(s,y);break e;case 1:a=l;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Oo===null||!Oo.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=WS(s,a,e);s6(s,k);break e}}s=s.return}while(s!==null)}u9(n)}catch(A){e=A,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(!0)}function l9(){var t=_f.current;return _f.current=Df,t===null?Df:t}function S2(){(Yt===0||Yt===3||Yt===2)&&(Yt=4),on===null||!(Wa&268435455)&&!(vm&268435455)||oo(on,mn)}function zf(t,e){var n=Ue;Ue|=2;var r=l9();(on!==t||mn!==e)&&(cs=null,Ia(t,e));do try{GI();break}catch(i){a9(t,i)}while(!0);if(i2(),Ue=n,_f.current=r,Vt!==null)throw Error(q(261));return on=null,mn=0,Yt}function GI(){for(;Vt!==null;)c9(Vt)}function JI(){for(;Vt!==null&&!bO();)c9(Vt)}function c9(t){var e=h9(t.alternate,t,or);t.memoizedProps=t.pendingProps,e===null?u9(t):Vt=e,v2.current=null}function u9(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HI(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Yt=6,Vt=null;return}}else if(n=$I(n,e,or),n!==null){Vt=n;return}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Yt===0&&(Yt=5)}function fa(t,e,n){var r=Xe,i=_r.transition;try{_r.transition=null,Xe=1,YI(t,e,n,r)}finally{_r.transition=i,Xe=r}return null}function YI(t,e,n,r){do Xl();while(go!==null);if(Ue&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(IO(t,s),t===on&&(Vt=on=null,mn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||q0||(q0=!0,f9(yf,function(){return Xl(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_r.transition,_r.transition=null;var o=Xe;Xe=1;var a=Ue;Ue|=4,v2.current=null,VI(t,n),i9(n,t),gI(R4),bf=!!N4,R4=N4=null,t.current=n,WI(n),kO(),Ue=a,Xe=o,_r.transition=s}else t.current=n;if(q0&&(q0=!1,go=t,Lf=i),s=t.pendingLanes,s===0&&(Oo=null),CO(n.stateNode),Qn(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pf)throw Pf=!1,t=Q4,Q4=null,t;return Lf&1&&t.tag!==0&&Xl(),s=t.pendingLanes,s&1?t===Z4?$u++:($u=0,Z4=t):$u=0,Jo(),null}function Xl(){if(go!==null){var t=Vk(Lf),e=_r.transition,n=Xe;try{if(_r.transition=null,Xe=16>t?16:t,go===null)var r=!1;else{if(t=go,go=null,Lf=0,Ue&6)throw Error(q(331));var i=Ue;for(Ue|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:Fu(8,u,s)}var d=u.child;if(d!==null)d.return=u,re=d;else for(;re!==null;){u=re;var h=u.sibling,f=u.return;if(t9(u),u===c){re=null;break}if(h!==null){h.return=f,re=h;break}re=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Fu(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,re=y;break e}re=s.return}}var w=t.current;for(re=w;re!==null;){o=re;var C=o.child;if(o.subtreeFlags&2064&&C!==null)C.return=o,re=C;else e:for(o=w;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:gm(9,a)}}catch(A){Rt(a,a.return,A)}if(a===o){re=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,re=k;break e}re=a.return}}if(Ue=i,Jo(),$i&&typeof $i.onPostCommitFiberRoot=="function")try{$i.onPostCommitFiberRoot(lm,t)}catch{}r=!0}return r}finally{Xe=n,_r.transition=e}}return!1}function T6(t,e,n){e=gc(n,e),e=VS(t,e,1),t=Ao(t,e,1),e=_n(),t!==null&&(t0(t,1,e),Qn(t,e))}function Rt(t,e,n){if(t.tag===3)T6(t,t,n);else for(;e!==null;){if(e.tag===3){T6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Oo===null||!Oo.has(r))){t=gc(n,t),t=WS(e,t,1),e=Ao(e,t,1),t=_n(),e!==null&&(t0(e,1,t),Qn(e,t));break}}e=e.return}}function XI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_n(),t.pingedLanes|=t.suspendedLanes&n,on===t&&(mn&n)===n&&(Yt===4||Yt===3&&(mn&130023424)===mn&&500>Bt()-w2?Ia(t,0):y2|=n),Qn(t,e)}function d9(t,e){e===0&&(t.mode&1?(e=L0,L0<<=1,!(L0&130023424)&&(L0=4194304)):e=1);var n=_n();t=Is(t,e),t!==null&&(t0(t,e,n),Qn(t,n))}function QI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),d9(t,n)}function ZI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),d9(t,n)}var h9;h9=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Gn=!1,jI(t,e,n);Gn=!!(t.flags&131072)}else Gn=!1,yt&&e.flags&1048576&&gS(e,Mf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bh(t,e),t=e.pendingProps;var i=hc(e,En.current);Yl(e,n),i=h2(null,e,r,t,i,n);var s=f2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(s=!0,Ef(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,a2(e),i.updater=mm,e.stateNode=i,i._reactInternals=e,$4(e,r,t,n),e=V4(null,e,r,!0,s,n)):(e.tag=0,yt&&s&&e2(e),Nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=tN(r),t=Xr(r,t),i){case 0:e=U4(null,e,r,t,n);break e;case 1:e=g6(null,e,r,t,n);break e;case 11:e=p6(null,e,r,t,n);break e;case 14:e=m6(null,e,r,Xr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),U4(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),g6(t,e,r,i,n);case 3:e:{if(JS(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SS(t,e),If(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gc(Error(q(423)),e),e=v6(t,e,r,n,i);break e}else if(r!==i){i=gc(Error(q(424)),e),e=v6(t,e,r,n,i);break e}else for(dr=Mo(e.stateNode.containerInfo.firstChild),hr=e,yt=!0,ti=null,n=bS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fc(),r===i){e=Ns(t,e,n);break e}Nn(t,e,r,n)}e=e.child}return e;case 5:return xS(e),t===null&&B4(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,D4(r,i)?o=null:s!==null&&D4(r,s)&&(e.flags|=32),GS(t,e),Nn(t,e,o,n),e.child;case 6:return t===null&&B4(e),null;case 13:return YS(t,e,n);case 4:return l2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pc(e,null,r,n):Nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),p6(t,e,r,i,n);case 7:return Nn(t,e,e.pendingProps,n),e.child;case 8:return Nn(t,e,e.pendingProps.children,n),e.child;case 12:return Nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,lt(Af,r._currentValue),r._currentValue=o,s!==null)if(hi(s.value,o)){if(s.children===i.children&&!Yn.current){e=Ns(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=bs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),F4(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),F4(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Yl(e,n),i=Br(i),r=r(i),e.flags|=1,Nn(t,e,r,n),e.child;case 14:return r=e.type,i=Xr(r,e.pendingProps),i=Xr(r.type,i),m6(t,e,r,i,n);case 15:return qS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xr(r,i),Bh(t,e),e.tag=1,Xn(r)?(t=!0,Ef(e)):t=!1,Yl(e,n),US(e,r,i),$4(e,r,i,n),V4(null,e,r,!0,t,n);case 19:return XS(t,e,n);case 22:return KS(t,e,n)}throw Error(q(156,e.tag))};function f9(t,e){return jk(t,e)}function eN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(t,e,n,r){return new eN(t,e,n,r)}function x2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function tN(t){if(typeof t=="function")return x2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hy)return 11;if(t===Uy)return 14}return 2}function No(t,e){var n=t.alternate;return n===null?(n=Rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $h(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")x2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Nl:return Na(n.children,i,s,e);case $y:o=8,i|=8;break;case d4:return t=Rr(12,n,e,i|2),t.elementType=d4,t.lanes=s,t;case h4:return t=Rr(13,n,e,i),t.elementType=h4,t.lanes=s,t;case f4:return t=Rr(19,n,e,i),t.elementType=f4,t.lanes=s,t;case xk:return ym(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case kk:o=10;break e;case Sk:o=9;break e;case Hy:o=11;break e;case Uy:o=14;break e;case eo:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Rr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Na(t,e,n,r){return t=Rr(7,t,r,e),t.lanes=n,t}function ym(t,e,n,r){return t=Rr(22,t,r,e),t.elementType=xk,t.lanes=n,t.stateNode={isHidden:!1},t}function W1(t,e,n){return t=Rr(6,t,null,e),t.lanes=n,t}function q1(t,e,n){return e=Rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function nN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=T1(0),this.expirationTimes=T1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=T1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function C2(t,e,n,r,i,s,o,a,l){return t=new nN(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},a2(s),t}function rN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Il,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function p9(t){if(!t)return Bo;t=t._reactInternals;e:{if(al(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Xn(n))return pS(t,n,e)}return e}function m9(t,e,n,r,i,s,o,a,l){return t=C2(n,r,!0,t,i,s,o,a,l),t.context=p9(null),n=t.current,r=_n(),i=Io(n),s=bs(r,i),s.callback=e??null,Ao(n,s,i),t.current.lanes=i,t0(t,i,r),Qn(t,r),t}function wm(t,e,n,r){var i=e.current,s=_n(),o=Io(i);return n=p9(n),e.context===null?e.context=n:e.pendingContext=n,e=bs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ao(i,e,o),t!==null&&(ai(t,i,o,s),Ph(t,i,o)),o}function Bf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function M6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function E2(t,e){M6(t,e),(t=t.alternate)&&M6(t,e)}function iN(){return null}var g9=typeof reportError=="function"?reportError:function(t){console.error(t)};function T2(t){this._internalRoot=t}bm.prototype.render=T2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));wm(t,e,null,null)};bm.prototype.unmount=T2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qa(function(){wm(null,t,null,null)}),e[Os]=null}};function bm(t){this._internalRoot=t}bm.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kk();t={blockedOn:null,target:t,priority:e};for(var n=0;n<so.length&&e!==0&&e<so[n].priority;n++);so.splice(n,0,t),n===0&&Jk(t)}};function M2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function km(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function A6(){}function sN(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Bf(o);s.call(c)}}var o=m9(e,r,t,0,null,!1,!1,"",A6);return t._reactRootContainer=o,t[Os]=o.current,hd(t.nodeType===8?t.parentNode:t),qa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Bf(l);a.call(c)}}var l=C2(t,0,!1,null,null,!1,!1,"",A6);return t._reactRootContainer=l,t[Os]=l.current,hd(t.nodeType===8?t.parentNode:t),qa(function(){wm(e,l,n,r)}),l}function Sm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Bf(o);a.call(l)}}wm(e,o,t,i)}else o=sN(n,e,t,i,r);return Bf(o)}Wk=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=xu(e.pendingLanes);n!==0&&(qy(e,n|1),Qn(e,Bt()),!(Ue&6)&&(vc=Bt()+500,Jo()))}break;case 13:qa(function(){var r=Is(t,1);if(r!==null){var i=_n();ai(r,t,1,i)}}),E2(t,1)}};Ky=function(t){if(t.tag===13){var e=Is(t,134217728);if(e!==null){var n=_n();ai(e,t,134217728,n)}E2(t,134217728)}};qk=function(t){if(t.tag===13){var e=Io(t),n=Is(t,e);if(n!==null){var r=_n();ai(n,t,e,r)}E2(t,e)}};Kk=function(){return Xe};Gk=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};x4=function(t,e,n){switch(e){case"input":if(g4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=hm(r);if(!i)throw Error(q(90));Ek(r),g4(r,i)}}}break;case"textarea":Mk(t,n);break;case"select":e=n.value,e!=null&&ql(t,!!n.multiple,e,!1)}};_k=b2;Pk=qa;var oN={usingClientEntryPoint:!1,Events:[r0,Pl,hm,Rk,Dk,b2]},pu={findFiberByHostInstance:ka,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aN={bundleType:pu.bundleType,version:pu.version,rendererPackageName:pu.rendererPackageName,rendererConfig:pu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Bk(t),t===null?null:t.stateNode},findFiberByHostInstance:pu.findFiberByHostInstance||iN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K0.isDisabled&&K0.supportsFiber)try{lm=K0.inject(aN),$i=K0}catch{}}yr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oN;yr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M2(e))throw Error(q(200));return rN(t,e,null,n)};yr.createRoot=function(t,e){if(!M2(t))throw Error(q(299));var n=!1,r="",i=g9;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=C2(t,1,!1,null,null,n,!1,r,i),t[Os]=e.current,hd(t.nodeType===8?t.parentNode:t),new T2(e)};yr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Bk(e),t=t===null?null:t.stateNode,t};yr.flushSync=function(t){return qa(t)};yr.hydrate=function(t,e,n){if(!km(e))throw Error(q(200));return Sm(null,t,e,!0,n)};yr.hydrateRoot=function(t,e,n){if(!M2(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=g9;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=m9(e,null,t,1,n??null,i,!1,s,o),t[Os]=e.current,hd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new bm(e)};yr.render=function(t,e,n){if(!km(e))throw Error(q(200));return Sm(null,t,e,!1,n)};yr.unmountComponentAtNode=function(t){if(!km(t))throw Error(q(40));return t._reactRootContainer?(qa(function(){Sm(null,null,t,!1,function(){t._reactRootContainer=null,t[Os]=null})}),!0):!1};yr.unstable_batchedUpdates=b2;yr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!km(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Sm(t,e,n,!1,r)};yr.version="18.3.1-next-f1338f8080-20240426";function v9(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v9)}catch(t){console.error(t)}}v9(),vk.exports=yr;var A2=vk.exports;const y9=sk(A2),lN=ik({__proto__:null,default:y9},[A2]);var w9,O6=A2;w9=O6.createRoot,O6.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vt(){return vt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vt.apply(this,arguments)}var Ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ht||(Ht={}));const I6="popstate";function cN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return kd("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ka(i)}return dN(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function yc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uN(){return Math.random().toString(36).substr(2,8)}function N6(t,e){return{usr:t.state,key:t.key,idx:e}}function kd(t,e,n,r){return n===void 0&&(n=null),vt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Yo(e):e,{state:n,key:e&&e.key||r||uN()})}function Ka(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Yo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dN(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Ht.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(vt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Ht.Pop;let b=u(),y=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:y})}function h(b,y){a=Ht.Push;let w=kd(g.location,b,y);c=u()+1;let C=N6(w,c),k=g.createHref(w);try{o.pushState(C,"",k)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;i.location.assign(k)}s&&l&&l({action:a,location:g.location,delta:1})}function f(b,y){a=Ht.Replace;let w=kd(g.location,b,y);c=u();let C=N6(w,c),k=g.createHref(w);o.replaceState(C,"",k),s&&l&&l({action:a,location:g.location,delta:0})}function p(b){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Ka(b);return w=w.replace(/ $/,"%20"),Pe(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(I6,d),l=b,()=>{i.removeEventListener(I6,d),l=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let y=p(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(b){return o.go(b)}};return g}var Ze;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ze||(Ze={}));const hN=new Set(["lazy","caseSensitive","path","id","index","children"]);function fN(t){return t.index===!0}function Ff(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Pe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Pe(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),fN(i)){let l=vt({},i,e(i),{id:a});return r[a]=l,l}else{let l=vt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Ff(i.children,e,o,r)),l}})}function ga(t,e,n){return n===void 0&&(n="/"),Hh(t,e,n,!1)}function Hh(t,e,n,r){let i=typeof e=="string"?Yo(e):e,s=$c(i.pathname||"/",n);if(s==null)return null;let o=b9(t);mN(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=TN(s);a=CN(o[l],c,r)}return a}function pN(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function b9(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Pe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=ks([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),b9(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:SN(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of k9(s.path))i(s,o,l)}),e}function k9(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=k9(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function mN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const gN=/^:[\w-]+$/,vN=3,yN=2,wN=1,bN=10,kN=-2,R6=t=>t==="*";function SN(t,e){let n=t.split("/"),r=n.length;return n.some(R6)&&(r+=kN),e&&(r+=yN),n.filter(i=>!R6(i)).reduce((i,s)=>i+(gN.test(s)?vN:s===""?wN:bN),r)}function xN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CN(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=D6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=D6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:ks([s,d.pathname]),pathnameBase:ON(ks([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=ks([s,d.pathnameBase]))}return o}function D6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=EN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function EN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),yc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function TN(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $c(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function MN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Yo(t):t;return{pathname:n?n.startsWith("/")?n:AN(n,e):e,search:IN(r),hash:NN(i)}}function AN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function K1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function S9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function xm(t,e){let n=S9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cm(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Yo(t):(i=vt({},t),Pe(!i.pathname||!i.pathname.includes("?"),K1("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),K1("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),K1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=MN(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const ks=t=>t.join("/").replace(/\/\/+/g,"/"),ON=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,NN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class jf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Em(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const x9=["post","put","patch","delete"],RN=new Set(x9),DN=["get",...x9],_N=new Set(DN),PN=new Set([301,302,303,307,308]),LN=new Set([307,308]),G1={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zN={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},O2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BN=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),C9="remix-router-transitions";function FN(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Pe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let I=t.detectErrorBoundary;i=_=>({hasErrorBoundary:I(_)})}else i=BN;let s={},o=Ff(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||UN,u=t.patchRoutesOnNavigation,d=vt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,f=new Set,p=null,g=null,b=null,y=t.hydrationData!=null,w=ga(o,t.history.location,l),C=null;if(w==null&&!u){let I=Un(404,{pathname:t.history.location.pathname}),{matches:_,route:z}=V6(o);w=_,C={[z.id]:I}}w&&!t.hydrationData&&Jr(w,o,t.history.location.pathname).active&&(w=null);let k;if(w)if(w.some(I=>I.route.lazy))k=!1;else if(!w.some(I=>I.route.loader))k=!0;else if(d.v7_partialHydration){let I=t.hydrationData?t.hydrationData.loaderData:null,_=t.hydrationData?t.hydrationData.errors:null;if(_){let z=w.findIndex(V=>_[V.route.id]!==void 0);k=w.slice(0,z+1).every(V=>!rv(V.route,I,_))}else k=w.every(z=>!rv(z.route,I,_))}else k=t.hydrationData!=null;else if(k=!1,w=[],d.v7_partialHydration){let I=Jr(null,o,t.history.location.pathname);I.active&&I.matches&&(w=I.matches)}let A,x={historyAction:t.history.action,location:t.history.location,matches:w,initialized:k,navigation:G1,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||C,fetchers:new Map,blockers:new Map},O=Ht.Pop,D=!1,L,j=!1,Q=new Map,X=null,oe=!1,me=!1,Oe=[],Me=new Set,he=new Map,H=0,ee=-1,te=new Map,ge=new Set,de=new Map,tt=new Map,Be=new Set,Fe=new Map,je=new Map,Qe;function gt(){if(h=t.history.listen(I=>{let{action:_,location:z,delta:V}=I;if(Qe){Qe(),Qe=void 0;return}yc(je.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=en({currentLocation:x.location,nextLocation:z,historyAction:_});if(ie&&V!=null){let fe=new Promise(Te=>{Qe=Te});t.history.go(V*-1),_e(ie,{state:"blocked",location:z,proceed(){_e(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),fe.then(()=>t.history.go(V))},reset(){let Te=new Map(x.blockers);Te.set(ie,mu),Je({blockers:Te})}});return}return An(_,z)}),n){rR(e,Q);let I=()=>iR(e,Q);e.addEventListener("pagehide",I),X=()=>e.removeEventListener("pagehide",I)}return x.initialized||An(Ht.Pop,x.location,{initialHydration:!0}),A}function zt(){h&&h(),X&&X(),f.clear(),L&&L.abort(),x.fetchers.forEach((I,_)=>hl(_)),x.blockers.forEach((I,_)=>We(_))}function Gt(I){return f.add(I),()=>f.delete(I)}function Je(I,_){_===void 0&&(_={}),x=vt({},x,I);let z=[],V=[];d.v7_fetcherPersist&&x.fetchers.forEach((ie,fe)=>{ie.state==="idle"&&(Be.has(fe)?V.push(fe):z.push(fe))}),[...f].forEach(ie=>ie(x,{deletedFetchers:V,viewTransitionOpts:_.viewTransitionOpts,flushSync:_.flushSync===!0})),d.v7_fetcherPersist&&(z.forEach(ie=>x.fetchers.delete(ie)),V.forEach(ie=>hl(ie)))}function At(I,_,z){var V,ie;let{flushSync:fe}=z===void 0?{}:z,Te=x.actionData!=null&&x.navigation.formMethod!=null&&Zr(x.navigation.formMethod)&&x.navigation.state==="loading"&&((V=I.state)==null?void 0:V._isRedirect)!==!0,le;_.actionData?Object.keys(_.actionData).length>0?le=_.actionData:le=null:Te?le=x.actionData:le=null;let ue=_.loaderData?H6(x.loaderData,_.loaderData,_.matches||[],_.errors):x.loaderData,se=x.blockers;se.size>0&&(se=new Map(se),se.forEach(($e,un)=>se.set(un,mu)));let pe=D===!0||x.navigation.formMethod!=null&&Zr(x.navigation.formMethod)&&((ie=I.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),oe||O===Ht.Pop||(O===Ht.Push?t.history.push(I,I.state):O===Ht.Replace&&t.history.replace(I,I.state));let ze;if(O===Ht.Pop){let $e=Q.get(x.location.pathname);$e&&$e.has(I.pathname)?ze={currentLocation:x.location,nextLocation:I}:Q.has(I.pathname)&&(ze={currentLocation:I,nextLocation:x.location})}else if(j){let $e=Q.get(x.location.pathname);$e?$e.add(I.pathname):($e=new Set([I.pathname]),Q.set(x.location.pathname,$e)),ze={currentLocation:x.location,nextLocation:I}}Je(vt({},_,{actionData:le,loaderData:ue,historyAction:O,location:I,initialized:!0,navigation:G1,revalidation:"idle",restoreScrollPosition:la(I,_.matches||x.matches),preventScrollReset:pe,blockers:se}),{viewTransitionOpts:ze,flushSync:fe===!0}),O=Ht.Pop,D=!1,j=!1,oe=!1,me=!1,Oe=[]}async function wi(I,_){if(typeof I=="number"){t.history.go(I);return}let z=nv(x.location,x.matches,l,d.v7_prependBasename,I,d.v7_relativeSplatPath,_==null?void 0:_.fromRouteId,_==null?void 0:_.relative),{path:V,submission:ie,error:fe}=_6(d.v7_normalizeFormMethod,!1,z,_),Te=x.location,le=kd(x.location,V,_&&_.state);le=vt({},le,t.history.encodeLocation(le));let ue=_&&_.replace!=null?_.replace:void 0,se=Ht.Push;ue===!0?se=Ht.Replace:ue===!1||ie!=null&&Zr(ie.formMethod)&&ie.formAction===x.location.pathname+x.location.search&&(se=Ht.Replace);let pe=_&&"preventScrollReset"in _?_.preventScrollReset===!0:void 0,ze=(_&&_.flushSync)===!0,$e=en({currentLocation:Te,nextLocation:le,historyAction:se});if($e){_e($e,{state:"blocked",location:le,proceed(){_e($e,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),wi(I,_)},reset(){let un=new Map(x.blockers);un.set($e,mu),Je({blockers:un})}});return}return await An(se,le,{submission:ie,pendingError:fe,preventScrollReset:pe,replace:_&&_.replace,enableViewTransition:_&&_.viewTransition,flushSync:ze})}function bi(){if(Us(),Je({revalidation:"loading"}),x.navigation.state!=="submitting"){if(x.navigation.state==="idle"){An(x.historyAction,x.location,{startUninterruptedRevalidation:!0});return}An(O||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:j===!0})}}async function An(I,_,z){L&&L.abort(),L=null,O=I,oe=(z&&z.startUninterruptedRevalidation)===!0,nu(x.location,x.matches),D=(z&&z.preventScrollReset)===!0,j=(z&&z.enableViewTransition)===!0;let V=a||o,ie=z&&z.overrideNavigation,fe=ga(V,_,l),Te=(z&&z.flushSync)===!0,le=Jr(fe,V,_.pathname);if(le.active&&le.matches&&(fe=le.matches),!fe){let{error:at,notFoundMatches:Ke,route:Ot}=yn(_.pathname);At(_,{matches:Ke,loaderData:{},errors:{[Ot.id]:at}},{flushSync:Te});return}if(x.initialized&&!me&&JN(x.location,_)&&!(z&&z.submission&&Zr(z.submission.formMethod))){At(_,{matches:fe},{flushSync:Te});return}L=new AbortController;let ue=wl(t.history,_,L.signal,z&&z.submission),se;if(z&&z.pendingError)se=[va(fe).route.id,{type:Ze.error,error:z.pendingError}];else if(z&&z.submission&&Zr(z.submission.formMethod)){let at=await ki(ue,_,z.submission,fe,le.active,{replace:z.replace,flushSync:Te});if(at.shortCircuited)return;if(at.pendingActionResult){let[Ke,Ot]=at.pendingActionResult;if(ar(Ot)&&Em(Ot.error)&&Ot.error.status===404){L=null,At(_,{matches:at.matches,loaderData:{},errors:{[Ke]:Ot.error}});return}}fe=at.matches||fe,se=at.pendingActionResult,ie=J1(_,z.submission),Te=!1,le.active=!1,ue=wl(t.history,ue.url,ue.signal)}let{shortCircuited:pe,matches:ze,loaderData:$e,errors:un}=await Wr(ue,_,fe,le.active,ie,z&&z.submission,z&&z.fetcherSubmission,z&&z.replace,z&&z.initialHydration===!0,Te,se);pe||(L=null,At(_,vt({matches:ze||fe},U6(se),{loaderData:$e,errors:un})))}async function ki(I,_,z,V,ie,fe){fe===void 0&&(fe={}),Us();let Te=tR(_,z);if(Je({navigation:Te},{flushSync:fe.flushSync===!0}),ie){let se=await fl(V,_.pathname,I.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let pe=va(se.partialMatches).route.id;return{matches:se.partialMatches,pendingActionResult:[pe,{type:Ze.error,error:se.error}]}}else if(se.matches)V=se.matches;else{let{notFoundMatches:pe,error:ze,route:$e}=yn(_.pathname);return{matches:pe,pendingActionResult:[$e.id,{type:Ze.error,error:ze}]}}}let le,ue=Eu(V,_);if(!ue.route.action&&!ue.route.lazy)le={type:Ze.error,error:Un(405,{method:I.method,pathname:_.pathname,routeId:ue.route.id})};else if(le=(await Gr("action",x,I,[ue],V,null))[ue.route.id],I.signal.aborted)return{shortCircuited:!0};if(Ca(le)){let se;return fe&&fe.replace!=null?se=fe.replace:se=F6(le.response.headers.get("Location"),new URL(I.url),l)===x.location.pathname+x.location.search,await On(I,le,!0,{submission:z,replace:se}),{shortCircuited:!0}}if(vo(le))throw Un(400,{type:"defer-action"});if(ar(le)){let se=va(V,ue.route.id);return(fe&&fe.replace)!==!0&&(O=Ht.Push),{matches:V,pendingActionResult:[se.route.id,le]}}return{matches:V,pendingActionResult:[ue.route.id,le]}}async function Wr(I,_,z,V,ie,fe,Te,le,ue,se,pe){let ze=ie||J1(_,fe),$e=fe||Te||q6(ze),un=!oe&&(!d.v7_partialHydration||!ue);if(V){if(un){let It=Sr(pe);Je(vt({navigation:ze},It!==void 0?{actionData:It}:{}),{flushSync:se})}let qe=await fl(z,_.pathname,I.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let It=va(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[It]:qe.error}}}else if(qe.matches)z=qe.matches;else{let{error:It,notFoundMatches:gl,route:ou}=yn(_.pathname);return{matches:gl,loaderData:{},errors:{[ou.id]:It}}}}let at=a||o,[Ke,Ot]=L6(t.history,x,z,$e,_,d.v7_partialHydration&&ue===!0,d.v7_skipActionErrorRevalidation,me,Oe,Me,Be,de,ge,at,l,pe);if(Ci(qe=>!(z&&z.some(It=>It.route.id===qe))||Ke&&Ke.some(It=>It.route.id===qe)),ee=++H,Ke.length===0&&Ot.length===0){let qe=F();return At(_,vt({matches:z,loaderData:{},errors:pe&&ar(pe[1])?{[pe[0]]:pe[1].error}:null},U6(pe),qe?{fetchers:new Map(x.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(un){let qe={};if(!V){qe.navigation=ze;let It=Sr(pe);It!==void 0&&(qe.actionData=It)}Ot.length>0&&(qe.fetchers=qr(Ot)),Je(qe,{flushSync:se})}Ot.forEach(qe=>{xi(qe.key),qe.controller&&he.set(qe.key,qe.controller)});let ml=()=>Ot.forEach(qe=>xi(qe.key));L&&L.signal.addEventListener("abort",ml);let{loaderResults:iu,fetcherResults:ns}=await aa(x,z,Ke,Ot,I);if(I.signal.aborted)return{shortCircuited:!0};L&&L.signal.removeEventListener("abort",ml),Ot.forEach(qe=>he.delete(qe.key));let Ti=G0(iu);if(Ti)return await On(I,Ti.result,!0,{replace:le}),{shortCircuited:!0};if(Ti=G0(ns),Ti)return ge.add(Ti.key),await On(I,Ti.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:b1,errors:su}=$6(x,z,iu,pe,Ot,ns,Fe);Fe.forEach((qe,It)=>{qe.subscribe(gl=>{(gl||qe.done)&&Fe.delete(It)})}),d.v7_partialHydration&&ue&&x.errors&&(su=vt({},x.errors,su));let ca=F(),O0=ae(ee),I0=ca||O0||Ot.length>0;return vt({matches:z,loaderData:b1,errors:su},I0?{fetchers:new Map(x.fetchers)}:{})}function Sr(I){if(I&&!ar(I[1]))return{[I[0]]:I[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function qr(I){return I.forEach(_=>{let z=x.fetchers.get(_.key),V=gu(void 0,z?z.data:void 0);x.fetchers.set(_.key,V)}),new Map(x.fetchers)}function Kr(I,_,z,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");xi(I);let ie=(V&&V.flushSync)===!0,fe=a||o,Te=nv(x.location,x.matches,l,d.v7_prependBasename,z,d.v7_relativeSplatPath,_,V==null?void 0:V.relative),le=ga(fe,Te,l),ue=Jr(le,fe,Te);if(ue.active&&ue.matches&&(le=ue.matches),!le){Hn(I,_,Un(404,{pathname:Te}),{flushSync:ie});return}let{path:se,submission:pe,error:ze}=_6(d.v7_normalizeFormMethod,!0,Te,V);if(ze){Hn(I,_,ze,{flushSync:ie});return}let $e=Eu(le,se),un=(V&&V.preventScrollReset)===!0;if(pe&&Zr(pe.formMethod)){Si(I,_,se,$e,le,ue.active,ie,un,pe);return}de.set(I,{routeId:_,path:se}),oa(I,_,se,$e,le,ue.active,ie,un,pe)}async function Si(I,_,z,V,ie,fe,Te,le,ue){Us(),de.delete(I);function se($t){if(!$t.route.action&&!$t.route.lazy){let vl=Un(405,{method:ue.formMethod,pathname:z,routeId:_});return Hn(I,_,vl,{flushSync:Te}),!0}return!1}if(!fe&&se(V))return;let pe=x.fetchers.get(I);rr(I,nR(ue,pe),{flushSync:Te});let ze=new AbortController,$e=wl(t.history,z,ze.signal,ue);if(fe){let $t=await fl(ie,z,$e.signal);if($t.type==="aborted")return;if($t.type==="error"){Hn(I,_,$t.error,{flushSync:Te});return}else if($t.matches){if(ie=$t.matches,V=Eu(ie,z),se(V))return}else{Hn(I,_,Un(404,{pathname:z}),{flushSync:Te});return}}he.set(I,ze);let un=H,Ke=(await Gr("action",x,$e,[V],ie,I))[V.route.id];if($e.signal.aborted){he.get(I)===ze&&he.delete(I);return}if(d.v7_fetcherPersist&&Be.has(I)){if(Ca(Ke)||ar(Ke)){rr(I,Ys(void 0));return}}else{if(Ca(Ke))if(he.delete(I),ee>un){rr(I,Ys(void 0));return}else return ge.add(I),rr(I,gu(ue)),On($e,Ke,!1,{fetcherSubmission:ue,preventScrollReset:le});if(ar(Ke)){Hn(I,_,Ke.error);return}}if(vo(Ke))throw Un(400,{type:"defer-action"});let Ot=x.navigation.location||x.location,ml=wl(t.history,Ot,ze.signal),iu=a||o,ns=x.navigation.state!=="idle"?ga(iu,x.navigation.location,l):x.matches;Pe(ns,"Didn't find any matches after fetcher action");let Ti=++H;te.set(I,Ti);let b1=gu(ue,Ke.data);x.fetchers.set(I,b1);let[su,ca]=L6(t.history,x,ns,ue,Ot,!1,d.v7_skipActionErrorRevalidation,me,Oe,Me,Be,de,ge,iu,l,[V.route.id,Ke]);ca.filter($t=>$t.key!==I).forEach($t=>{let vl=$t.key,b5=x.fetchers.get(vl),PA=gu(void 0,b5?b5.data:void 0);x.fetchers.set(vl,PA),xi(vl),$t.controller&&he.set(vl,$t.controller)}),Je({fetchers:new Map(x.fetchers)});let O0=()=>ca.forEach($t=>xi($t.key));ze.signal.addEventListener("abort",O0);let{loaderResults:I0,fetcherResults:qe}=await aa(x,ns,su,ca,ml);if(ze.signal.aborted)return;ze.signal.removeEventListener("abort",O0),te.delete(I),he.delete(I),ca.forEach($t=>he.delete($t.key));let It=G0(I0);if(It)return On(ml,It.result,!1,{preventScrollReset:le});if(It=G0(qe),It)return ge.add(It.key),On(ml,It.result,!1,{preventScrollReset:le});let{loaderData:gl,errors:ou}=$6(x,ns,I0,void 0,ca,qe,Fe);if(x.fetchers.has(I)){let $t=Ys(Ke.data);x.fetchers.set(I,$t)}ae(Ti),x.navigation.state==="loading"&&Ti>ee?(Pe(O,"Expected pending action"),L&&L.abort(),At(x.navigation.location,{matches:ns,loaderData:gl,errors:ou,fetchers:new Map(x.fetchers)})):(Je({errors:ou,loaderData:H6(x.loaderData,gl,ns,ou),fetchers:new Map(x.fetchers)}),me=!1)}async function oa(I,_,z,V,ie,fe,Te,le,ue){let se=x.fetchers.get(I);rr(I,gu(ue,se?se.data:void 0),{flushSync:Te});let pe=new AbortController,ze=wl(t.history,z,pe.signal);if(fe){let Ke=await fl(ie,z,ze.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){Hn(I,_,Ke.error,{flushSync:Te});return}else if(Ke.matches)ie=Ke.matches,V=Eu(ie,z);else{Hn(I,_,Un(404,{pathname:z}),{flushSync:Te});return}}he.set(I,pe);let $e=H,at=(await Gr("loader",x,ze,[V],ie,I))[V.route.id];if(vo(at)&&(at=await I2(at,ze.signal,!0)||at),he.get(I)===pe&&he.delete(I),!ze.signal.aborted){if(Be.has(I)){rr(I,Ys(void 0));return}if(Ca(at))if(ee>$e){rr(I,Ys(void 0));return}else{ge.add(I),await On(ze,at,!1,{preventScrollReset:le});return}if(ar(at)){Hn(I,_,at.error);return}Pe(!vo(at),"Unhandled fetcher deferred data"),rr(I,Ys(at.data))}}async function On(I,_,z,V){let{submission:ie,fetcherSubmission:fe,preventScrollReset:Te,replace:le}=V===void 0?{}:V;_.response.headers.has("X-Remix-Revalidate")&&(me=!0);let ue=_.response.headers.get("Location");Pe(ue,"Expected a Location header on the redirect Response"),ue=F6(ue,new URL(I.url),l);let se=kd(x.location,ue,{_isRedirect:!0});if(n){let Ke=!1;if(_.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(O2.test(ue)){const Ot=t.history.createURL(ue);Ke=Ot.origin!==e.location.origin||$c(Ot.pathname,l)==null}if(Ke){le?e.location.replace(ue):e.location.assign(ue);return}}L=null;let pe=le===!0||_.response.headers.has("X-Remix-Replace")?Ht.Replace:Ht.Push,{formMethod:ze,formAction:$e,formEncType:un}=x.navigation;!ie&&!fe&&ze&&$e&&un&&(ie=q6(x.navigation));let at=ie||fe;if(LN.has(_.response.status)&&at&&Zr(at.formMethod))await An(pe,se,{submission:vt({},at,{formAction:ue}),preventScrollReset:Te||D,enableViewTransition:z?j:void 0});else{let Ke=J1(se,ie);await An(pe,se,{overrideNavigation:Ke,fetcherSubmission:fe,preventScrollReset:Te||D,enableViewTransition:z?j:void 0})}}async function Gr(I,_,z,V,ie,fe){let Te,le={};try{Te=await VN(c,I,_,z,V,ie,fe,s,i)}catch(ue){return V.forEach(se=>{le[se.route.id]={type:Ze.error,error:ue}}),le}for(let[ue,se]of Object.entries(Te))if(YN(se)){let pe=se.result;le[ue]={type:Ze.redirect,response:KN(pe,z,ue,ie,l,d.v7_relativeSplatPath)}}else le[ue]=await qN(se);return le}async function aa(I,_,z,V,ie){let fe=I.matches,Te=Gr("loader",I,ie,z,_,null),le=Promise.all(V.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let $e=(await Gr("loader",I,wl(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:$e}}else return Promise.resolve({[pe.key]:{type:Ze.error,error:Un(404,{pathname:pe.path})}})})),ue=await Te,se=(await le).reduce((pe,ze)=>Object.assign(pe,ze),{});return await Promise.all([ZN(_,ue,ie.signal,fe,I.loaderData),eR(_,se,V)]),{loaderResults:ue,fetcherResults:se}}function Us(){me=!0,Oe.push(...Ci()),de.forEach((I,_)=>{he.has(_)&&Me.add(_),xi(_)})}function rr(I,_,z){z===void 0&&(z={}),x.fetchers.set(I,_),Je({fetchers:new Map(x.fetchers)},{flushSync:(z&&z.flushSync)===!0})}function Hn(I,_,z,V){V===void 0&&(V={});let ie=va(x.matches,_);hl(I),Je({errors:{[ie.route.id]:z},fetchers:new Map(x.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function T0(I){return d.v7_fetcherPersist&&(tt.set(I,(tt.get(I)||0)+1),Be.has(I)&&Be.delete(I)),x.fetchers.get(I)||zN}function hl(I){let _=x.fetchers.get(I);he.has(I)&&!(_&&_.state==="loading"&&te.has(I))&&xi(I),de.delete(I),te.delete(I),ge.delete(I),Be.delete(I),Me.delete(I),x.fetchers.delete(I)}function w1(I){if(d.v7_fetcherPersist){let _=(tt.get(I)||0)-1;_<=0?(tt.delete(I),Be.add(I)):tt.set(I,_)}else hl(I);Je({fetchers:new Map(x.fetchers)})}function xi(I){let _=he.get(I);_&&(_.abort(),he.delete(I))}function M0(I){for(let _ of I){let z=T0(_),V=Ys(z.data);x.fetchers.set(_,V)}}function F(){let I=[],_=!1;for(let z of ge){let V=x.fetchers.get(z);Pe(V,"Expected fetcher: "+z),V.state==="loading"&&(ge.delete(z),I.push(z),_=!0)}return M0(I),_}function ae(I){let _=[];for(let[z,V]of te)if(V<I){let ie=x.fetchers.get(z);Pe(ie,"Expected fetcher: "+z),ie.state==="loading"&&(xi(z),te.delete(z),_.push(z))}return M0(_),_.length>0}function xe(I,_){let z=x.blockers.get(I)||mu;return je.get(I)!==_&&je.set(I,_),z}function We(I){x.blockers.delete(I),je.delete(I)}function _e(I,_){let z=x.blockers.get(I)||mu;Pe(z.state==="unblocked"&&_.state==="blocked"||z.state==="blocked"&&_.state==="blocked"||z.state==="blocked"&&_.state==="proceeding"||z.state==="blocked"&&_.state==="unblocked"||z.state==="proceeding"&&_.state==="unblocked","Invalid blocker state transition: "+z.state+" -> "+_.state);let V=new Map(x.blockers);V.set(I,_),Je({blockers:V})}function en(I){let{currentLocation:_,nextLocation:z,historyAction:V}=I;if(je.size===0)return;je.size>1&&yc(!1,"A router only supports one blocker at a time");let ie=Array.from(je.entries()),[fe,Te]=ie[ie.length-1],le=x.blockers.get(fe);if(!(le&&le.state==="proceeding")&&Te({currentLocation:_,nextLocation:z,historyAction:V}))return fe}function yn(I){let _=Un(404,{pathname:I}),z=a||o,{matches:V,route:ie}=V6(z);return Ci(),{notFoundMatches:V,route:ie,error:_}}function Ci(I){let _=[];return Fe.forEach((z,V)=>{(!I||I(V))&&(z.cancel(),_.push(V),Fe.delete(V))}),_}function A0(I,_,z){if(p=I,b=_,g=z||null,!y&&x.navigation===G1){y=!0;let V=la(x.location,x.matches);V!=null&&Je({restoreScrollPosition:V})}return()=>{p=null,b=null,g=null}}function Ei(I,_){return g&&g(I,_.map(V=>pN(V,x.loaderData)))||I.key}function nu(I,_){if(p&&b){let z=Ei(I,_);p[z]=b()}}function la(I,_){if(p){let z=Ei(I,_),V=p[z];if(typeof V=="number")return V}return null}function Jr(I,_,z){if(u)if(I){if(Object.keys(I[0].params).length>0)return{active:!0,matches:Hh(_,z,l,!0)}}else return{active:!0,matches:Hh(_,z,l,!0)||[]};return{active:!1,matches:null}}async function fl(I,_,z){if(!u)return{type:"success",matches:I};let V=I;for(;;){let ie=a==null,fe=a||o,Te=s;try{await u({path:_,matches:V,patch:(se,pe)=>{z.aborted||B6(se,pe,fe,Te,i)}})}catch(se){return{type:"error",error:se,partialMatches:V}}finally{ie&&!z.aborted&&(o=[...o])}if(z.aborted)return{type:"aborted"};let le=ga(fe,_,l);if(le)return{type:"success",matches:le};let ue=Hh(fe,_,l,!0);if(!ue||V.length===ue.length&&V.every((se,pe)=>se.route.id===ue[pe].route.id))return{type:"success",matches:null};V=ue}}function ru(I){s={},a=Ff(I,i,void 0,s)}function pl(I,_){let z=a==null;B6(I,_,a||o,s,i),z&&(o=[...o],Je({}))}return A={get basename(){return l},get future(){return d},get state(){return x},get routes(){return o},get window(){return e},initialize:gt,subscribe:Gt,enableScrollRestoration:A0,navigate:wi,fetch:Kr,revalidate:bi,createHref:I=>t.history.createHref(I),encodeLocation:I=>t.history.encodeLocation(I),getFetcher:T0,deleteFetcher:w1,dispose:zt,getBlocker:xe,deleteBlocker:We,patchRoutes:pl,_internalFetchControllers:he,_internalActiveDeferreds:Fe,_internalSetRoutes:ru},A}function jN(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function nv(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Cm(i||".",xm(l,s),$c(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=N2(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let h=new URLSearchParams(u.search),f=h.getAll("index");h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let p=h.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ks([n,u.pathname])),Ka(u)}function _6(t,e,n,r){if(!r||!jN(r))return{path:n};if(r.formMethod&&!QN(r.formMethod))return{path:n,error:Un(405,{method:r.formMethod})};let i=()=>({path:n,error:Un(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=M9(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Zr(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[g,b]=p;return""+f+g+"="+b+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!Zr(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Pe(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=iv(r.formData),c=r.formData;else if(r.body instanceof FormData)l=iv(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=j6(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=j6(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(Zr(u.formMethod))return{path:n,submission:u};let d=Yo(n);return e&&d.search&&N2(d.search)&&l.append("index",""),d.search="?"+l,{path:Ka(d),submission:u}}function P6(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function L6(t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,g){let b=g?ar(g[1])?g[1].error:g[1].data:void 0,y=t.createURL(e.location),w=t.createURL(i),C=n;s&&e.errors?C=P6(n,Object.keys(e.errors)[0],!0):g&&ar(g[1])&&(C=P6(n,g[0]));let k=g?g[1].statusCode:void 0,A=o&&k&&k>=400,x=C.filter((D,L)=>{let{route:j}=D;if(j.lazy)return!0;if(j.loader==null)return!1;if(s)return rv(j,e.loaderData,e.errors);if($N(e.loaderData,e.matches[L],D)||l.some(oe=>oe===D.route.id))return!0;let Q=e.matches[L],X=D;return z6(D,vt({currentUrl:y,currentParams:Q.params,nextUrl:w,nextParams:X.params},r,{actionResult:b,actionStatus:k,defaultShouldRevalidate:A?!1:a||y.pathname+y.search===w.pathname+w.search||y.search!==w.search||E9(Q,X)}))}),O=[];return d.forEach((D,L)=>{if(s||!n.some(me=>me.route.id===D.routeId)||u.has(L))return;let j=ga(f,D.path,p);if(!j){O.push({key:L,routeId:D.routeId,path:D.path,matches:null,match:null,controller:null});return}let Q=e.fetchers.get(L),X=Eu(j,D.path),oe=!1;h.has(L)?oe=!1:c.has(L)?(c.delete(L),oe=!0):Q&&Q.state!=="idle"&&Q.data===void 0?oe=a:oe=z6(X,vt({currentUrl:y,currentParams:e.matches[e.matches.length-1].params,nextUrl:w,nextParams:n[n.length-1].params},r,{actionResult:b,actionStatus:k,defaultShouldRevalidate:A?!1:a})),oe&&O.push({key:L,routeId:D.routeId,path:D.path,matches:j,match:X,controller:new AbortController})}),[x,O]}function rv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function $N(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function E9(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function z6(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function B6(t,e,n,r,i){var s;let o;if(t){let c=r[t];Pe(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>T9(c,u))),l=Ff(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function T9(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>T9(n,s))}):!1}async function HN(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Pe(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";yc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!hN.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,vt({},e(i),{lazy:void 0}))}async function UN(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function VN(t,e,n,r,i,s,o,a,l,c){let u=s.map(f=>f.route.lazy?HN(f.route,l,a):void 0),d=s.map((f,p)=>{let g=u[p],b=i.some(w=>w.route.id===f.route.id);return vt({},f,{shouldLoad:b,resolve:async w=>(w&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(b=!0),b?WN(e,r,f,g,w,c):Promise.resolve({type:Ze.data,result:void 0}))})}),h=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function WN(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((p,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let h=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Un(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:Ze.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Un(404,{pathname:d})}Pe(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:Ze.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function qN(t){let{result:e,type:n}=t;if(A9(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:Ze.error,error:u}}return n===Ze.error?{type:Ze.error,error:new jf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:Ze.data,data:c,statusCode:e.status,headers:e.headers}}if(n===Ze.error){if(W6(e)){var r;if(e.data instanceof Error){var i;return{type:Ze.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new jf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:Ze.error,error:e,statusCode:Em(e)?e.status:void 0}}if(XN(e)){var s,o;return{type:Ze.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(W6(e)){var a,l;return{type:Ze.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:Ze.data,data:e}}function KN(t,e,n,r,i,s){let o=t.headers.get("Location");if(Pe(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!O2.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=nv(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function F6(t,e,n){if(O2.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=$c(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function wl(t,e,n,r){let i=t.createURL(M9(e)).toString(),s={signal:n};if(r&&Zr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=iv(r.formData):s.body=r.formData}return new Request(i,s)}function iv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function j6(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function GN(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&ar(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(Pe(!Ca(f),"Cannot handle redirect results in processLoaderData"),ar(f)){let p=f.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let g=va(t,h);o[g.route.id]==null&&(o[g.route.id]=p)}s[h]=void 0,l||(l=!0,a=Em(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else vo(f)?(r.set(h,f.deferredData),s[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers)):(s[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function $6(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=GN(e,n,r,o);return i.forEach(c=>{let{key:u,match:d,controller:h}=c,f=s[u];if(Pe(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(ar(f)){let p=va(t.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=vt({},l,{[p.route.id]:f.error})),t.fetchers.delete(u)}else if(Ca(f))Pe(!1,"Unhandled fetcher revalidation redirect");else if(vo(f))Pe(!1,"Unhandled fetcher deferred data");else{let p=Ys(f.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function H6(t,e,n,r){let i=vt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function U6(t){return t?ar(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function va(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function V6(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Un(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new jf(t||500,a,new Error(l),!0)}function G0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Ca(i))return{key:r,result:i}}}function M9(t){let e=typeof t=="string"?Yo(t):t;return Ka(vt({},e,{hash:""}))}function JN(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function YN(t){return A9(t.result)&&PN.has(t.result.status)}function vo(t){return t.type===Ze.deferred}function ar(t){return t.type===Ze.error}function Ca(t){return(t&&t.type)===Ze.redirect}function W6(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function XN(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function A9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function QN(t){return _N.has(t.toLowerCase())}function Zr(t){return RN.has(t.toLowerCase())}async function ZN(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),d=u!=null&&!E9(u,c)&&(i&&i[c.route.id])!==void 0;vo(l)&&d&&await I2(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function eR(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&vo(a)&&(Pe(o,"Expected an AbortController for revalidating fetcher deferred result"),await I2(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function I2(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:Ze.data,data:t.deferredData.unwrappedData}}catch(i){return{type:Ze.error,error:i}}return{type:Ze.data,data:t.deferredData.data}}}function N2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Eu(t,e){let n=typeof e=="string"?Yo(e).search:e.search;if(t[t.length-1].route.index&&N2(n||""))return t[t.length-1];let r=S9(t);return r[r.length-1]}function q6(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function J1(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function tR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function nR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Ys(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function rR(t,e){try{let n=t.sessionStorage.getItem(C9);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function iR(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(C9,JSON.stringify(n))}catch(r){yc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$f.apply(this,arguments)}const Tm=B.createContext(null),O9=B.createContext(null),Xo=B.createContext(null),R2=B.createContext(null),Yi=B.createContext({outlet:null,matches:[],isDataRoute:!1}),I9=B.createContext(null);function sR(t,e){let{relative:n}=e===void 0?{}:e;Hc()||Pe(!1);let{basename:r,navigator:i}=B.useContext(Xo),{hash:s,pathname:o,search:a}=R9(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ks([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Hc(){return B.useContext(R2)!=null}function s0(){return Hc()||Pe(!1),B.useContext(R2).location}function N9(t){B.useContext(Xo).static||B.useLayoutEffect(t)}function Uc(){let{isDataRoute:t}=B.useContext(Yi);return t?bR():oR()}function oR(){Hc()||Pe(!1);let t=B.useContext(Tm),{basename:e,future:n,navigator:r}=B.useContext(Xo),{matches:i}=B.useContext(Yi),{pathname:s}=s0(),o=JSON.stringify(xm(i,n.v7_relativeSplatPath)),a=B.useRef(!1);return N9(()=>{a.current=!0}),B.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Cm(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:ks([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}const aR=B.createContext(null);function lR(t){let e=B.useContext(Yi).outlet;return e&&B.createElement(aR.Provider,{value:t},e)}function cR(){let{matches:t}=B.useContext(Yi),e=t[t.length-1];return e?e.params:{}}function R9(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=B.useContext(Xo),{matches:i}=B.useContext(Yi),{pathname:s}=s0(),o=JSON.stringify(xm(i,r.v7_relativeSplatPath));return B.useMemo(()=>Cm(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function uR(t,e,n,r){Hc()||Pe(!1);let{navigator:i}=B.useContext(Xo),{matches:s}=B.useContext(Yi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=s0(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=ga(t,{pathname:h});return mR(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:ks([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:ks([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r)}function dR(){let t=wR(),e=Em(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:i},n):null,null)}const hR=B.createElement(dR,null);class fR extends B.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?B.createElement(Yi.Provider,{value:this.props.routeContext},B.createElement(I9.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pR(t){let{routeContext:e,match:n,children:r}=t,i=B.useContext(Tm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),B.createElement(Yi.Provider,{value:e},r)}function mR(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Pe(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,b=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||hR,l&&(c<0&&h===0?(p=!0,b=null):c===h&&(p=!0,b=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),w=()=>{let C;return f?C=g:p?C=b:d.route.Component?C=B.createElement(d.route.Component,null):d.route.element?C=d.route.element:C=u,B.createElement(pR,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:C})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?B.createElement(fR,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var D9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(D9||{}),Hf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hf||{});function gR(t){let e=B.useContext(Tm);return e||Pe(!1),e}function vR(t){let e=B.useContext(O9);return e||Pe(!1),e}function yR(t){let e=B.useContext(Yi);return e||Pe(!1),e}function _9(t){let e=yR(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function wR(){var t;let e=B.useContext(I9),n=vR(Hf.UseRouteError),r=_9(Hf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function bR(){let{router:t}=gR(D9.UseNavigateStable),e=_9(Hf.UseNavigateStable),n=B.useRef(!1);return N9(()=>{n.current=!0}),B.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,$f({fromRouteId:e},s)))},[t,e])}const K6={};function kR(t,e){K6[e]||(K6[e]=!0,console.warn(e))}const bl=(t,e,n)=>kR(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function SR(t,e){t!=null&&t.v7_startTransition||bl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&bl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||bl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||bl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||bl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||bl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function xR(t){let{to:e,replace:n,state:r,relative:i}=t;Hc()||Pe(!1);let{future:s,static:o}=B.useContext(Xo),{matches:a}=B.useContext(Yi),{pathname:l}=s0(),c=Uc(),u=Cm(e,xm(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return B.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function CR(t){return lR(t.context)}function ER(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ht.Pop,navigator:s,static:o=!1,future:a}=t;Hc()&&Pe(!1);let l=e.replace(/^\/*/,"/"),c=B.useMemo(()=>({basename:l,navigator:s,static:o,future:$f({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Yo(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=B.useMemo(()=>{let b=$c(u,l);return b==null?null:{location:{pathname:b,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return g==null?null:B.createElement(Xo.Provider,{value:c},B.createElement(R2.Provider,{children:n,value:g}))}new Promise(()=>{});function TR(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:B.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sd.apply(this,arguments)}function MR(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function AR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function OR(t,e){return t.button===0&&(!e||e==="_self")&&!AR(t)}const IR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],NR="6";try{window.__reactRouterVersion=NR}catch{}function RR(t,e){return FN({basename:void 0,future:Sd({},void 0,{v7_prependBasename:!0}),history:cN({window:void 0}),hydrationData:DR(),routes:t,mapRouteProperties:TR,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function DR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Sd({},e,{errors:_R(e.errors)})),e}function _R(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new jf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const PR=B.createContext({isTransitioning:!1}),LR=B.createContext(new Map),zR="startTransition",G6=XA[zR],BR="flushSync",J6=lN[BR];function FR(t){G6?G6(t):t()}function vu(t){J6?J6(t):t()}let jR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function $R(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=B.useState(n.state),[o,a]=B.useState(),[l,c]=B.useState({isTransitioning:!1}),[u,d]=B.useState(),[h,f]=B.useState(),[p,g]=B.useState(),b=B.useRef(new Map),{v7_startTransition:y}=r||{},w=B.useCallback(D=>{y?FR(D):D()},[y]),C=B.useCallback((D,L)=>{let{deletedFetchers:j,flushSync:Q,viewTransitionOpts:X}=L;j.forEach(me=>b.current.delete(me)),D.fetchers.forEach((me,Oe)=>{me.data!==void 0&&b.current.set(Oe,me.data)});let oe=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!X||oe){Q?vu(()=>s(D)):w(()=>s(D));return}if(Q){vu(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:X.currentLocation,nextLocation:X.nextLocation})});let me=n.window.document.startViewTransition(()=>{vu(()=>s(D))});me.finished.finally(()=>{vu(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),vu(()=>f(me));return}h?(u&&u.resolve(),h.skipTransition(),g({state:D,currentLocation:X.currentLocation,nextLocation:X.nextLocation})):(a(D),c({isTransitioning:!0,flushSync:!1,currentLocation:X.currentLocation,nextLocation:X.nextLocation}))},[n.window,h,u,b,w]);B.useLayoutEffect(()=>n.subscribe(C),[n,C]),B.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new jR)},[l]),B.useEffect(()=>{if(u&&o&&n.window){let D=o,L=u.promise,j=n.window.document.startViewTransition(async()=>{w(()=>s(D)),await L});j.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(j)}},[w,o,u,n.window]),B.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),B.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),B.useEffect(()=>{},[]);let k=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:D=>n.navigate(D),push:(D,L,j)=>n.navigate(D,{state:L,preventScrollReset:j==null?void 0:j.preventScrollReset}),replace:(D,L,j)=>n.navigate(D,{replace:!0,state:L,preventScrollReset:j==null?void 0:j.preventScrollReset})}),[n]),A=n.basename||"/",x=B.useMemo(()=>({router:n,navigator:k,static:!1,basename:A}),[n,k,A]),O=B.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return B.useEffect(()=>SR(r,n.future),[r,n.future]),B.createElement(B.Fragment,null,B.createElement(Tm.Provider,{value:x},B.createElement(O9.Provider,{value:i},B.createElement(LR.Provider,{value:b.current},B.createElement(PR.Provider,{value:l},B.createElement(ER,{basename:A,location:i.location,navigationType:i.historyAction,navigator:k,future:O},i.initialized||n.future.v7_partialHydration?B.createElement(HR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const HR=B.memo(UR);function UR(t){let{routes:e,future:n,state:r}=t;return uR(e,void 0,r,n)}const VR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P9=B.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=MR(e,IR),{basename:f}=B.useContext(Xo),p,g=!1;if(typeof c=="string"&&WR.test(c)&&(p=c,VR))try{let C=new URL(window.location.href),k=c.startsWith("//")?new URL(C.protocol+c):new URL(c),A=$c(k.pathname,f);k.origin===C.origin&&A!=null?c=A+k.search+k.hash:g=!0}catch{}let b=sR(c,{relative:i}),y=qR(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(C){r&&r(C),C.defaultPrevented||y(C)}return B.createElement("a",Sd({},h,{href:p||b,onClick:g||s?r:w,ref:n,target:l}))});var Y6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Y6||(Y6={}));var X6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X6||(X6={}));function qR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Uc(),c=s0(),u=R9(t,{relative:o});return B.useCallback(d=>{if(OR(d,n)){d.preventDefault();let h=r!==void 0?r:Ka(c)===Ka(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var Jn=function(){return Jn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jn.apply(this,arguments)};function D2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Uf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var ft="-ms-",Hu="-moz-",Ge="-webkit-",L9="comm",Mm="rule",_2="decl",KR="@import",z9="@keyframes",GR="@layer",B9=Math.abs,P2=String.fromCharCode,sv=Object.assign;function JR(t,e){return rn(t,0)^45?(((e<<2^rn(t,0))<<2^rn(t,1))<<2^rn(t,2))<<2^rn(t,3):0}function F9(t){return t.trim()}function us(t,e){return(t=e.exec(t))?t[0]:t}function Ne(t,e,n){return t.replace(e,n)}function Uh(t,e,n){return t.indexOf(e,n)}function rn(t,e){return t.charCodeAt(e)|0}function wc(t,e,n){return t.slice(e,n)}function Di(t){return t.length}function j9(t){return t.length}function Tu(t,e){return e.push(t),t}function YR(t,e){return t.map(e).join("")}function Q6(t,e){return t.filter(function(n){return!us(n,e)})}var Am=1,bc=1,$9=0,jr=0,Ut=0,Vc="";function Om(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Am,column:bc,length:o,return:"",siblings:a}}function Xs(t,e){return sv(Om("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function kl(t){for(;t.root;)t=Xs(t.root,{children:[t]});Tu(t,t.siblings)}function XR(){return Ut}function QR(){return Ut=jr>0?rn(Vc,--jr):0,bc--,Ut===10&&(bc=1,Am--),Ut}function li(){return Ut=jr<$9?rn(Vc,jr++):0,bc++,Ut===10&&(bc=1,Am++),Ut}function Ra(){return rn(Vc,jr)}function Vh(){return jr}function Im(t,e){return wc(Vc,t,e)}function ov(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ZR(t){return Am=bc=1,$9=Di(Vc=t),jr=0,[]}function eD(t){return Vc="",t}function Y1(t){return F9(Im(jr-1,av(t===91?t+2:t===40?t+1:t)))}function tD(t){for(;(Ut=Ra())&&Ut<33;)li();return ov(t)>2||ov(Ut)>3?"":" "}function nD(t,e){for(;--e&&li()&&!(Ut<48||Ut>102||Ut>57&&Ut<65||Ut>70&&Ut<97););return Im(t,Vh()+(e<6&&Ra()==32&&li()==32))}function av(t){for(;li();)switch(Ut){case t:return jr;case 34:case 39:t!==34&&t!==39&&av(Ut);break;case 40:t===41&&av(t);break;case 92:li();break}return jr}function rD(t,e){for(;li()&&t+Ut!==57;)if(t+Ut===84&&Ra()===47)break;return"/*"+Im(e,jr-1)+"*"+P2(t===47?t:li())}function iD(t){for(;!ov(Ra());)li();return Im(t,jr)}function sD(t){return eD(Wh("",null,null,null,[""],t=ZR(t),0,[0],t))}function Wh(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,g=1,b=1,y=1,w=0,C="",k=i,A=s,x=r,O=C;b;)switch(p=w,w=li()){case 40:if(p!=108&&rn(O,d-1)==58){Uh(O+=Ne(Y1(w),"&","&\f"),"&\f",B9(c?a[c-1]:0))!=-1&&(y=-1);break}case 34:case 39:case 91:O+=Y1(w);break;case 9:case 10:case 13:case 32:O+=tD(p);break;case 92:O+=nD(Vh()-1,7);continue;case 47:switch(Ra()){case 42:case 47:Tu(oD(rD(li(),Vh()),e,n,l),l);break;default:O+="/"}break;case 123*g:a[c++]=Di(O)*y;case 125*g:case 59:case 0:switch(w){case 0:case 125:b=0;case 59+u:y==-1&&(O=Ne(O,/\f/g,"")),f>0&&Di(O)-d&&Tu(f>32?ew(O+";",r,n,d-1,l):ew(Ne(O," ","")+";",r,n,d-2,l),l);break;case 59:O+=";";default:if(Tu(x=Z6(O,e,n,c,u,i,a,C,k=[],A=[],d,s),s),w===123)if(u===0)Wh(O,e,x,x,k,s,d,a,A);else switch(h===99&&rn(O,3)===110?100:h){case 100:case 108:case 109:case 115:Wh(t,x,x,r&&Tu(Z6(t,x,x,0,0,i,a,C,i,k=[],d,A),A),i,A,d,a,r?k:A);break;default:Wh(O,x,x,x,[""],A,0,a,A)}}c=u=f=0,g=y=1,C=O="",d=o;break;case 58:d=1+Di(O),f=p;default:if(g<1){if(w==123)--g;else if(w==125&&g++==0&&QR()==125)continue}switch(O+=P2(w),w*g){case 38:y=u>0?1:(O+="\f",-1);break;case 44:a[c++]=(Di(O)-1)*y,y=1;break;case 64:Ra()===45&&(O+=Y1(li())),h=Ra(),u=d=Di(C=O+=iD(Vh())),w++;break;case 45:p===45&&Di(O)==2&&(g=0)}}return s}function Z6(t,e,n,r,i,s,o,a,l,c,u,d){for(var h=i-1,f=i===0?s:[""],p=j9(f),g=0,b=0,y=0;g<r;++g)for(var w=0,C=wc(t,h+1,h=B9(b=o[g])),k=t;w<p;++w)(k=F9(b>0?f[w]+" "+C:Ne(C,/&\f/g,f[w])))&&(l[y++]=k);return Om(t,e,n,i===0?Mm:a,l,c,u,d)}function oD(t,e,n,r){return Om(t,e,n,L9,P2(XR()),wc(t,2,-2),0,r)}function ew(t,e,n,r,i){return Om(t,e,n,_2,wc(t,0,r),wc(t,r+1,-1),r,i)}function H9(t,e,n){switch(JR(t,e)){case 5103:return Ge+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ge+t+t;case 4789:return Hu+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ge+t+Hu+t+ft+t+t;case 5936:switch(rn(t,e+11)){case 114:return Ge+t+ft+Ne(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ge+t+ft+Ne(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ge+t+ft+Ne(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ge+t+ft+t+t;case 6165:return Ge+t+ft+"flex-"+t+t;case 5187:return Ge+t+Ne(t,/(\w+).+(:[^]+)/,Ge+"box-$1$2"+ft+"flex-$1$2")+t;case 5443:return Ge+t+ft+"flex-item-"+Ne(t,/flex-|-self/g,"")+(us(t,/flex-|baseline/)?"":ft+"grid-row-"+Ne(t,/flex-|-self/g,""))+t;case 4675:return Ge+t+ft+"flex-line-pack"+Ne(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ge+t+ft+Ne(t,"shrink","negative")+t;case 5292:return Ge+t+ft+Ne(t,"basis","preferred-size")+t;case 6060:return Ge+"box-"+Ne(t,"-grow","")+Ge+t+ft+Ne(t,"grow","positive")+t;case 4554:return Ge+Ne(t,/([^-])(transform)/g,"$1"+Ge+"$2")+t;case 6187:return Ne(Ne(Ne(t,/(zoom-|grab)/,Ge+"$1"),/(image-set)/,Ge+"$1"),t,"")+t;case 5495:case 3959:return Ne(t,/(image-set\([^]*)/,Ge+"$1$`$1");case 4968:return Ne(Ne(t,/(.+:)(flex-)?(.*)/,Ge+"box-pack:$3"+ft+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ge+t+t;case 4200:if(!us(t,/flex-|baseline/))return ft+"grid-column-align"+wc(t,e)+t;break;case 2592:case 3360:return ft+Ne(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,us(r.props,/grid-\w+-end/)})?~Uh(t+(n=n[e].value),"span",0)?t:ft+Ne(t,"-start","")+t+ft+"grid-row-span:"+(~Uh(n,"span",0)?us(n,/\d+/):+us(n,/\d+/)-+us(t,/\d+/))+";":ft+Ne(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return us(r.props,/grid-\w+-start/)})?t:ft+Ne(Ne(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ne(t,/(.+)-inline(.+)/,Ge+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Di(t)-1-e>6)switch(rn(t,e+1)){case 109:if(rn(t,e+4)!==45)break;case 102:return Ne(t,/(.+:)(.+)-([^]+)/,"$1"+Ge+"$2-$3$1"+Hu+(rn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Uh(t,"stretch",0)?H9(Ne(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ne(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return ft+i+":"+s+c+(o?ft+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(rn(t,e+6)===121)return Ne(t,":",":"+Ge)+t;break;case 6444:switch(rn(t,rn(t,14)===45?18:11)){case 120:return Ne(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ge+(rn(t,14)===45?"inline-":"")+"box$3$1"+Ge+"$2$3$1"+ft+"$2box$3")+t;case 100:return Ne(t,":",":"+ft)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ne(t,"scroll-","scroll-snap-")+t}return t}function Vf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function aD(t,e,n,r){switch(t.type){case GR:if(t.children.length)break;case KR:case _2:return t.return=t.return||t.value;case L9:return"";case z9:return t.return=t.value+"{"+Vf(t.children,r)+"}";case Mm:if(!Di(t.value=t.props.join(",")))return""}return Di(n=Vf(t.children,r))?t.return=t.value+"{"+n+"}":""}function lD(t){var e=j9(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function cD(t){return function(e){e.root||(e=e.return)&&t(e)}}function uD(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case _2:t.return=H9(t.value,t.length,n);return;case z9:return Vf([Xs(t,{value:Ne(t.value,"@","@"+Ge)})],r);case Mm:if(t.length)return YR(n=t.props,function(i){switch(us(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":kl(Xs(t,{props:[Ne(i,/:(read-\w+)/,":"+Hu+"$1")]})),kl(Xs(t,{props:[i]})),sv(t,{props:Q6(n,r)});break;case"::placeholder":kl(Xs(t,{props:[Ne(i,/:(plac\w+)/,":"+Ge+"input-$1")]})),kl(Xs(t,{props:[Ne(i,/:(plac\w+)/,":"+Hu+"$1")]})),kl(Xs(t,{props:[Ne(i,/:(plac\w+)/,ft+"input-$1")]})),kl(Xs(t,{props:[i]})),sv(t,{props:Q6(n,r)});break}return""})}}var dD={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ir={},kc=typeof process<"u"&&ir!==void 0&&(ir.REACT_APP_SC_ATTR||ir.SC_ATTR)||"data-styled",U9="active",V9="data-styled-version",Nm="6.1.13",L2=`/*!sc*/
`,Wf=typeof window<"u"&&"HTMLElement"in window,hD=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ir!==void 0&&ir.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ir.REACT_APP_SC_DISABLE_SPEEDY!==""?ir.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ir.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ir!==void 0&&ir.SC_DISABLE_SPEEDY!==void 0&&ir.SC_DISABLE_SPEEDY!==""&&ir.SC_DISABLE_SPEEDY!=="false"&&ir.SC_DISABLE_SPEEDY),Rm=Object.freeze([]),Sc=Object.freeze({});function fD(t,e,n){return n===void 0&&(n=Sc),t.theme!==n.theme&&t.theme||e||n.theme}var W9=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),pD=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,mD=/(^-|-$)/g;function tw(t){return t.replace(pD,"-").replace(mD,"")}var gD=/(a)(d)/gi,J0=52,nw=function(t){return String.fromCharCode(t+(t>25?39:97))};function lv(t){var e,n="";for(e=Math.abs(t);e>J0;e=e/J0|0)n=nw(e%J0)+n;return(nw(e%J0)+n).replace(gD,"$1-$2")}var X1,q9=5381,Hl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},K9=function(t){return Hl(q9,t)};function vD(t){return lv(K9(t)>>>0)}function yD(t){return t.displayName||t.name||"Component"}function Q1(t){return typeof t=="string"&&!0}var G9=typeof Symbol=="function"&&Symbol.for,J9=G9?Symbol.for("react.memo"):60115,wD=G9?Symbol.for("react.forward_ref"):60112,bD={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},kD={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Y9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},SD=((X1={})[wD]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},X1[J9]=Y9,X1);function rw(t){return("type"in(e=t)&&e.type.$$typeof)===J9?Y9:"$$typeof"in t?SD[t.$$typeof]:bD;var e}var xD=Object.defineProperty,CD=Object.getOwnPropertyNames,iw=Object.getOwnPropertySymbols,ED=Object.getOwnPropertyDescriptor,TD=Object.getPrototypeOf,sw=Object.prototype;function X9(t,e,n){if(typeof e!="string"){if(sw){var r=TD(e);r&&r!==sw&&X9(t,r,n)}var i=CD(e);iw&&(i=i.concat(iw(e)));for(var s=rw(t),o=rw(e),a=0;a<i.length;++a){var l=i[a];if(!(l in kD||n&&n[l]||o&&l in o||s&&l in s)){var c=ED(e,l);try{xD(t,l,c)}catch{}}}}return t}function xc(t){return typeof t=="function"}function z2(t){return typeof t=="object"&&"styledComponentId"in t}function Ea(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function ow(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function xd(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function cv(t,e,n){if(n===void 0&&(n=!1),!n&&!xd(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=cv(t[r],e[r]);else if(xd(e))for(var r in e)t[r]=cv(t[r],e[r]);return t}function B2(t,e){Object.defineProperty(t,"toString",{value:e})}function o0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var MD=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw o0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(L2);return n},t}(),qh=new Map,qf=new Map,Kh=1,Y0=function(t){if(qh.has(t))return qh.get(t);for(;qf.has(Kh);)Kh++;var e=Kh++;return qh.set(t,e),qf.set(e,t),e},AD=function(t,e){Kh=e+1,qh.set(t,e),qf.set(e,t)},OD="style[".concat(kc,"][").concat(V9,'="').concat(Nm,'"]'),ID=new RegExp("^".concat(kc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),ND=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},RD=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(L2),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(ID);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(AD(u,c),ND(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},aw=function(t){for(var e=document.querySelectorAll(OD),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(kc)!==U9&&(RD(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function DD(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var Q9=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(kc,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(kc,U9),r.setAttribute(V9,Nm);var o=DD();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},_D=function(){function t(e){this.element=Q9(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw o0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),PD=function(){function t(e){this.element=Q9(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),LD=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),lw=Wf,zD={isServer:!Wf,useCSSOMInjection:!hD},Z9=function(){function t(e,n,r){e===void 0&&(e=Sc),n===void 0&&(n={});var i=this;this.options=Jn(Jn({},zD),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Wf&&lw&&(lw=!1,aw(this)),B2(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(y){return qf.get(y)}(d);if(h===void 0)return"continue";var f=s.names.get(h),p=o.getGroup(d);if(f===void 0||!f.size||p.length===0)return"continue";var g="".concat(kc,".g").concat(d,'[id="').concat(h,'"]'),b="";f!==void 0&&f.forEach(function(y){y.length>0&&(b+="".concat(y,","))}),l+="".concat(p).concat(g,'{content:"').concat(b,'"}').concat(L2)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return Y0(e)},t.prototype.rehydrate=function(){!this.server&&Wf&&aw(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Jn(Jn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new LD(i):r?new _D(i):new PD(i)}(this.options),new MD(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Y0(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Y0(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Y0(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),BD=/&/g,FD=/^\s*\/\/.*$/gm;function ex(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=ex(n.children,e)),n})}function jD(t){var e,n,r,i=Sc,s=i.options,o=s===void 0?Sc:s,a=i.plugins,l=a===void 0?Rm:a,c=function(h,f,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===Mm&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(BD,n).replace(r,c))}),o.prefix&&u.push(uD),u.push(aD);var d=function(h,f,p,g){f===void 0&&(f=""),p===void 0&&(p=""),g===void 0&&(g="&"),e=g,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var b=h.replace(FD,""),y=sD(p||f?"".concat(p," ").concat(f," { ").concat(b," }"):b);o.namespace&&(y=ex(y,o.namespace));var w=[];return Vf(y,lD(u.concat(cD(function(C){return w.push(C)})))),w};return d.hash=l.length?l.reduce(function(h,f){return f.name||o0(15),Hl(h,f.name)},q9).toString():"",d}var $D=new Z9,uv=jD(),tx=Ct.createContext({shouldForwardProp:void 0,styleSheet:$D,stylis:uv});tx.Consumer;Ct.createContext(void 0);function cw(){return B.useContext(tx)}var HD=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=uv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,B2(this,function(){throw o0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=uv),this.name+e.hash},t}(),UD=function(t){return t>="A"&&t<="Z"};function uw(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;UD(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var nx=function(t){return t==null||t===!1||t===""},rx=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!nx(s)&&(Array.isArray(s)&&s.isCss||xc(s)?r.push("".concat(uw(i),":"),s,";"):xd(s)?r.push.apply(r,Uf(Uf(["".concat(i," {")],rx(s),!1),["}"],!1)):r.push("".concat(uw(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in dD||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Da(t,e,n,r){if(nx(t))return[];if(z2(t))return[".".concat(t.styledComponentId)];if(xc(t)){if(!xc(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Da(i,e,n,r)}var s;return t instanceof HD?n?(t.inject(n,r),[t.getName(r)]):[t]:xd(t)?rx(t):Array.isArray(t)?Array.prototype.concat.apply(Rm,t.map(function(o){return Da(o,e,n,r)})):[t.toString()]}function VD(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(xc(n)&&!z2(n))return!1}return!0}var WD=K9(Nm),qD=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&VD(e),this.componentId=n,this.baseHash=Hl(WD,n),this.baseStyle=r,Z9.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ea(i,this.staticRulesId);else{var s=ow(Da(this.rules,e,n,r)),o=lv(Hl(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ea(i,o),this.staticRulesId=o}else{for(var l=Hl(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=ow(Da(d,e,n,r));l=Hl(l,h+u),c+=h}}if(c){var f=lv(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(c,".".concat(f),void 0,this.componentId)),i=Ea(i,f)}}return i},t}(),ix=Ct.createContext(void 0);ix.Consumer;var Z1={};function KD(t,e,n){var r=z2(t),i=t,s=!Q1(t),o=e.attrs,a=o===void 0?Rm:o,l=e.componentId,c=l===void 0?function(k,A){var x=typeof k!="string"?"sc":tw(k);Z1[x]=(Z1[x]||0)+1;var O="".concat(x,"-").concat(vD(Nm+x+Z1[x]));return A?"".concat(A,"-").concat(O):O}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(k){return Q1(k)?"styled.".concat(k):"Styled(".concat(yD(k),")")}(t):u,h=e.displayName&&e.componentId?"".concat(tw(e.displayName),"-").concat(e.componentId):e.componentId||c,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var b=e.shouldForwardProp;p=function(k,A){return g(k,A)&&b(k,A)}}else p=g}var y=new qD(n,h,r?i.componentStyle:void 0);function w(k,A){return function(x,O,D){var L=x.attrs,j=x.componentStyle,Q=x.defaultProps,X=x.foldedComponentIds,oe=x.styledComponentId,me=x.target,Oe=Ct.useContext(ix),Me=cw(),he=x.shouldForwardProp||Me.shouldForwardProp,H=fD(O,Oe,Q)||Sc,ee=function(Fe,je,Qe){for(var gt,zt=Jn(Jn({},je),{className:void 0,theme:Qe}),Gt=0;Gt<Fe.length;Gt+=1){var Je=xc(gt=Fe[Gt])?gt(zt):gt;for(var At in Je)zt[At]=At==="className"?Ea(zt[At],Je[At]):At==="style"?Jn(Jn({},zt[At]),Je[At]):Je[At]}return je.className&&(zt.className=Ea(zt.className,je.className)),zt}(L,O,H),te=ee.as||me,ge={};for(var de in ee)ee[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&ee.theme===H||(de==="forwardedAs"?ge.as=ee.forwardedAs:he&&!he(de,te)||(ge[de]=ee[de]));var tt=function(Fe,je){var Qe=cw(),gt=Fe.generateAndInjectStyles(je,Qe.styleSheet,Qe.stylis);return gt}(j,ee),Be=Ea(X,oe);return tt&&(Be+=" "+tt),ee.className&&(Be+=" "+ee.className),ge[Q1(te)&&!W9.has(te)?"class":"className"]=Be,ge.ref=D,B.createElement(te,ge)}(C,k,A)}w.displayName=d;var C=Ct.forwardRef(w);return C.attrs=f,C.componentStyle=y,C.displayName=d,C.shouldForwardProp=p,C.foldedComponentIds=r?Ea(i.foldedComponentIds,i.styledComponentId):"",C.styledComponentId=h,C.target=r?i.target:t,Object.defineProperty(C,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(k){this._foldedDefaultProps=r?function(A){for(var x=[],O=1;O<arguments.length;O++)x[O-1]=arguments[O];for(var D=0,L=x;D<L.length;D++)cv(A,L[D],!0);return A}({},i.defaultProps,k):k}}),B2(C,function(){return".".concat(C.styledComponentId)}),s&&X9(C,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),C}function dw(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var hw=function(t){return Object.assign(t,{isCss:!0})};function GD(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(xc(t)||xd(t))return hw(Da(dw(Rm,Uf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?Da(r):hw(Da(dw(r,e)))}function dv(t,e,n){if(n===void 0&&(n=Sc),!e)throw o0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,GD.apply(void 0,Uf([i],s,!1)))};return r.attrs=function(i){return dv(t,e,Jn(Jn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return dv(t,e,Jn(Jn({},n),i))},r}var sx=function(t){return dv(KD,t)},br=sx;W9.forEach(function(t){br[t]=sx(t)});const ox=br.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 520px;
  padding: 50px 0px;
`,ax=br.h1`
  font-size: 42px;
`,lx=br.form`
  margin-top: 50px;
  margin-bottom: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
`,Ta=br.input`
  padding: 10px 20px;
  border-radius: 50px;
  border: none;
  width: 100%;
  font-size: 16px;
  &[type="submit"] {
    cursor: pointer;
    &:hover {
      opacity: 0.8;
    }
  }
`,cx=br.span`
  font-weight: 600;
  color: tomato;
`,ux=br.span`
  margin-top: 20px;
  a {
    color: #1d9bf0;
  }
`;var fw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},JD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},hx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new YD;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class YD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const XD=function(t){const e=dx(t);return hx.encodeByteArray(e,!0)},fx=function(t){return XD(t).replace(/\./g,"")},px=function(t){try{return hx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=()=>QD().__FIREBASE_DEFAULTS__,e_=()=>{if(typeof process>"u"||typeof fw>"u")return;const t=fw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},t_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&px(t[1]);return e&&JSON.parse(e)},F2=()=>{try{return ZD()||e_()||t_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},n_=t=>{var e,n;return(n=(e=F2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mx=()=>{var t;return(t=F2())===null||t===void 0?void 0:t.config},gx=t=>{var e;return(e=F2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function i_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function s_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function o_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l_(){const t=Pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c_(){try{return typeof indexedDB=="object"}catch{return!1}}function u_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d_="FirebaseError";class Xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d_,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,a0.prototype.create)}}class a0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?h_(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Xi(i,a,r)}}function h_(t,e){return t.replace(f_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const f_=/\{\$([^}]+)}/g;function p_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Kf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pw(s)&&pw(o)){if(!Kf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Au(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function m_(t,e){const n=new g_(t,e);return n.subscribe.bind(n)}class g_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");v_(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eg),i.error===void 0&&(i.error=eg),i.complete===void 0&&(i.complete=eg);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function v_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(t){return t&&t._delegate?t._delegate:t}class Cc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new r_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b_(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:w_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function w_(t){return t===pa?void 0:t}function b_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new y_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nt||(nt={}));const S_={debug:nt.DEBUG,verbose:nt.VERBOSE,info:nt.INFO,warn:nt.WARN,error:nt.ERROR,silent:nt.SILENT},x_=nt.INFO,C_={[nt.DEBUG]:"log",[nt.VERBOSE]:"log",[nt.INFO]:"info",[nt.WARN]:"warn",[nt.ERROR]:"error"},E_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=C_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vx{constructor(e){this.name=e,this._logLevel=x_,this._logHandler=E_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?S_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nt.DEBUG,...e),this._logHandler(this,nt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nt.VERBOSE,...e),this._logHandler(this,nt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nt.INFO,...e),this._logHandler(this,nt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nt.WARN,...e),this._logHandler(this,nt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nt.ERROR,...e),this._logHandler(this,nt.ERROR,...e)}}const T_=(t,e)=>e.some(n=>t instanceof n);let mw,gw;function M_(){return mw||(mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function A_(){return gw||(gw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yx=new WeakMap,hv=new WeakMap,wx=new WeakMap,tg=new WeakMap,j2=new WeakMap;function O_(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ro(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yx.set(n,t)}).catch(()=>{}),j2.set(e,t),e}function I_(t){if(hv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hv.set(t,e)}let fv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ro(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function N_(t){fv=t(fv)}function R_(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ng(this),e,...n);return wx.set(r,e.sort?e.sort():[e]),Ro(r)}:A_().includes(t)?function(...e){return t.apply(ng(this),e),Ro(yx.get(this))}:function(...e){return Ro(t.apply(ng(this),e))}}function D_(t){return typeof t=="function"?R_(t):(t instanceof IDBTransaction&&I_(t),T_(t,M_())?new Proxy(t,fv):t)}function Ro(t){if(t instanceof IDBRequest)return O_(t);if(tg.has(t))return tg.get(t);const e=D_(t);return e!==t&&(tg.set(t,e),j2.set(e,t)),e}const ng=t=>j2.get(t);function __(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ro(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ro(o.result),l.oldVersion,l.newVersion,Ro(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const P_=["get","getKey","getAll","getAllKeys","count"],L_=["put","add","delete","clear"],rg=new Map;function vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rg.get(e))return rg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=L_.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||P_.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return rg.set(e,s),s}N_(t=>({...t,get:(e,n,r)=>vw(e,n)||t.get(e,n,r),has:(e,n)=>!!vw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(B_(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function B_(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pv="@firebase/app",yw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new vx("@firebase/app"),F_="@firebase/app-compat",j_="@firebase/analytics-compat",$_="@firebase/analytics",H_="@firebase/app-check-compat",U_="@firebase/app-check",V_="@firebase/auth",W_="@firebase/auth-compat",q_="@firebase/database",K_="@firebase/data-connect",G_="@firebase/database-compat",J_="@firebase/functions",Y_="@firebase/functions-compat",X_="@firebase/installations",Q_="@firebase/installations-compat",Z_="@firebase/messaging",eP="@firebase/messaging-compat",tP="@firebase/performance",nP="@firebase/performance-compat",rP="@firebase/remote-config",iP="@firebase/remote-config-compat",sP="@firebase/storage",oP="@firebase/storage-compat",aP="@firebase/firestore",lP="@firebase/vertexai",cP="@firebase/firestore-compat",uP="firebase",dP="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="[DEFAULT]",hP={[pv]:"fire-core",[F_]:"fire-core-compat",[$_]:"fire-analytics",[j_]:"fire-analytics-compat",[U_]:"fire-app-check",[H_]:"fire-app-check-compat",[V_]:"fire-auth",[W_]:"fire-auth-compat",[q_]:"fire-rtdb",[K_]:"fire-data-connect",[G_]:"fire-rtdb-compat",[J_]:"fire-fn",[Y_]:"fire-fn-compat",[X_]:"fire-iid",[Q_]:"fire-iid-compat",[Z_]:"fire-fcm",[eP]:"fire-fcm-compat",[tP]:"fire-perf",[nP]:"fire-perf-compat",[rP]:"fire-rc",[iP]:"fire-rc-compat",[sP]:"fire-gcs",[oP]:"fire-gcs-compat",[aP]:"fire-fst",[cP]:"fire-fst-compat",[lP]:"fire-vertex","fire-js":"fire-js",[uP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf=new Map,fP=new Map,gv=new Map;function ww(t,e){try{t.container.addComponent(e)}catch(n){Rs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cd(t){const e=t.name;if(gv.has(e))return Rs.debug(`There were multiple attempts to register component ${e}.`),!1;gv.set(e,t);for(const n of Gf.values())ww(n,t);for(const n of fP.values())ww(n,t);return!0}function bx(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Do=new a0("app","Firebase",pP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Do.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=dP;function kx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:mv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Do.create("bad-app-name",{appName:String(i)});if(n||(n=mx()),!n)throw Do.create("no-options");const s=Gf.get(i);if(s){if(Kf(n,s.options)&&Kf(r,s.config))return s;throw Do.create("duplicate-app",{appName:i})}const o=new k_(i);for(const l of gv.values())o.addComponent(l);const a=new mP(n,r,o);return Gf.set(i,a),a}function gP(t=mv){const e=Gf.get(t);if(!e&&t===mv&&mx())return kx();if(!e)throw Do.create("no-app",{appName:t});return e}function Ql(t,e,n){var r;let i=(r=hP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rs.warn(a.join(" "));return}Cd(new Cc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP="firebase-heartbeat-database",yP=1,Ed="firebase-heartbeat-store";let ig=null;function Sx(){return ig||(ig=__(vP,yP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw Do.create("idb-open",{originalErrorMessage:t.message})})),ig}async function wP(t){try{const n=(await Sx()).transaction(Ed),r=await n.objectStore(Ed).get(xx(t));return await n.done,r}catch(e){if(e instanceof Xi)Rs.warn(e.message);else{const n=Do.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Rs.warn(n.message)}}}async function bw(t,e){try{const r=(await Sx()).transaction(Ed,"readwrite");await r.objectStore(Ed).put(e,xx(t)),await r.done}catch(n){if(n instanceof Xi)Rs.warn(n.message);else{const r=Do.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Rs.warn(r.message)}}}function xx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=1024,kP=30*24*60*60*1e3;class SP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new CP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=kP}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Rs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kw(),{heartbeatsToSend:r,unsentEntries:i}=xP(this._heartbeatsCache.heartbeats),s=fx(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Rs.warn(n),""}}}function kw(){return new Date().toISOString().substring(0,10)}function xP(t,e=bP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Sw(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class CP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return c_()?u_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await wP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return bw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sw(t){return fx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){Cd(new Cc("platform-logger",e=>new z_(e),"PRIVATE")),Cd(new Cc("heartbeat",e=>new SP(e),"PRIVATE")),Ql(pv,yw,t),Ql(pv,yw,"esm2017"),Ql("fire-js","")}EP("");function Cx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const TP=Cx,Ex=new a0("auth","Firebase",Cx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf=new vx("@firebase/auth");function MP(t,...e){Jf.logLevel<=nt.WARN&&Jf.warn(`Auth (${c0}): ${t}`,...e)}function Gh(t,...e){Jf.logLevel<=nt.ERROR&&Jf.error(`Auth (${c0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(t,...e){throw $2(t,...e)}function Ui(t,...e){return $2(t,...e)}function Tx(t,e,n){const r=Object.assign(Object.assign({},TP()),{[e]:n});return new a0("auth","Firebase",r).create(e,{appName:t.name})}function Ss(t){return Tx(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ex.create(t,...e)}function Ee(t,e,...n){if(!t)throw $2(e,...n)}function gs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Gh(e),new Error(e)}function Ds(t,e){t||gs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AP(){return xw()==="http:"||xw()==="https:"}function xw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AP()||o_()||"connection"in navigator)?navigator.onLine:!0}function IP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ds(n>e,"Short delay should be less than long delay!"),this.isMobile=i_()||a_()}get(){return OP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t,e){Ds(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new u0(3e4,6e4);function Zo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function js(t,e,n,r,i={}){return Ax(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=l0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return s_()||(c.referrerPolicy="no-referrer"),Mx.fetch()(Ox(t,t.config.apiHost,n,a),c)})}async function Ax(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},NP),e);try{const i=new _P(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw X0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw X0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw X0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw X0(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Tx(t,u,c);fi(t,u)}}catch(i){if(i instanceof Xi)throw i;fi(t,"network-request-failed",{message:String(i)})}}async function d0(t,e,n,r,i={}){const s=await js(t,e,n,r,i);return"mfaPendingCredential"in s&&fi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ox(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?H2(t.config,i):`${t.config.apiScheme}://${i}`}function DP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _P{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ui(this.auth,"network-request-failed")),RP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function X0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ui(t,e,r);return i.customData._tokenResponse=n,i}function Cw(t){return t!==void 0&&t.enterprise!==void 0}class PP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return DP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function LP(t,e){return js(t,"GET","/v2/recaptchaConfig",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zP(t,e){return js(t,"POST","/v1/accounts:delete",e)}async function Ix(t,e){return js(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(t,e=!1){const n=Qo(t),r=await n.getIdToken(e),i=U2(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Uu(sg(i.auth_time)),issuedAtTime:Uu(sg(i.iat)),expirationTime:Uu(sg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sg(t){return Number(t)*1e3}function U2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{const i=px(n);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ew(t){const e=U2(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xi&&FP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function FP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uu(this.lastLoginAt),this.creationTime=Uu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yf(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ec(t,Ix(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Nx(s.providerUserInfo):[],a=HP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new yv(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function $P(t){const e=Qo(t);await Yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function HP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Nx(t){return t.map(e=>{var{providerId:n}=e,r=D2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e){const n=await Ax(t,{},async()=>{const r=l0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Ox(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Mx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VP(t,e){return js(t,"POST","/v2/accounts:revokeToken",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ew(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Ew(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await UP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Zl;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zl,this.toJSON())}_performRefresh(){return gs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vs{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=D2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new yv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ec(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BP(this,e)}reload(){return $P(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zi(this.auth.app))return Promise.reject(Ss(this.auth));const e=await this.getIdToken();return await Ec(this,zP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:C,emailVerified:k,isAnonymous:A,providerData:x,stsTokenManager:O}=n;Ee(C&&O,e,"internal-error");const D=Zl.fromJSON(this.name,O);Ee(typeof C=="string",e,"internal-error"),Ws(d,e.name),Ws(h,e.name),Ee(typeof k=="boolean",e,"internal-error"),Ee(typeof A=="boolean",e,"internal-error"),Ws(f,e.name),Ws(p,e.name),Ws(g,e.name),Ws(b,e.name),Ws(y,e.name),Ws(w,e.name);const L=new vs({uid:C,auth:e,email:h,emailVerified:k,displayName:d,isAnonymous:A,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:D,createdAt:y,lastLoginAt:w});return x&&Array.isArray(x)&&(L.providerData=x.map(j=>Object.assign({},j))),b&&(L._redirectEventId=b),L}static async _fromIdTokenResponse(e,n,r=!1){const i=new Zl;i.updateFromServerResponse(n);const s=new vs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Yf(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Nx(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Zl;a.updateFromIdToken(r);const l=new vs({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new yv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=new Map;function ys(t){Ds(t instanceof Function,"Expected a class definition");let e=Tw.get(t);return e?(Ds(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rx.type="NONE";const Mw=Rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(t,e,n){return`firebase:${t}:${e}:${n}`}class ec{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Jh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Jh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ec(ys(Mw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ys(Mw);const o=Jh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=vs._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new ec(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new ec(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Dx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bx(e))return"Blackberry";if(Fx(e))return"Webos";if(_x(e))return"Safari";if((e.includes("chrome/")||Px(e))&&!e.includes("edge/"))return"Chrome";if(zx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Dx(t=Pn()){return/firefox\//i.test(t)}function _x(t=Pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Px(t=Pn()){return/crios\//i.test(t)}function Lx(t=Pn()){return/iemobile/i.test(t)}function zx(t=Pn()){return/android/i.test(t)}function Bx(t=Pn()){return/blackberry/i.test(t)}function Fx(t=Pn()){return/webos/i.test(t)}function V2(t=Pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WP(t=Pn()){var e;return V2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function qP(){return l_()&&document.documentMode===10}function jx(t=Pn()){return V2(t)||zx(t)||Fx(t)||Bx(t)||/windows phone/i.test(t)||Lx(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(t,e=[]){let n;switch(t){case"Browser":n=Aw(Pn());break;case"Worker":n=`${Aw(Pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${c0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP(t,e={}){return js(t,"GET","/v2/passwordPolicy",Zo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP=6;class YP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:JP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ow(this),this.idTokenSubscription=new Ow(this),this.beforeStateQueue=new KP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ex,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await ec.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ix(this,{idToken:e}),r=await vs._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=IP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zi(this.app))return Promise.reject(Ss(this));const n=e?Qo(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zi(this.app)?Promise.reject(Ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zi(this.app)?Promise.reject(Ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GP(this),n=new YP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new a0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await VP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ys(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await ec.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$x(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ll(t){return Qo(t)}class Ow{constructor(e){this.auth=e,this.observer=null,this.addObserver=m_(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QP(t){Dm=t}function Hx(t){return Dm.loadJS(t)}function ZP(){return Dm.recaptchaEnterpriseScript}function eL(){return Dm.gapiScript}function tL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class nL{constructor(){this.enterprise=new rL}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class rL{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const iL="recaptcha-enterprise",Ux="NO_RECAPTCHA";class sL{constructor(e){this.type=iL,this.auth=ll(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{LP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new PP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Cw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(Ux)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nL().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Cw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ZP();l.length!==0&&(l+=a),Hx(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Iw(t,e,n,r=!1,i=!1){const s=new sL(t);let o;if(i)o=Ux;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function wv(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Iw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Iw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){const n=bx(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Kf(s,e??{}))return i;fi(i,"already-initialized")}return n.initialize({options:e})}function aL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lL(t,e,n){const r=ll(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=Vx(e),{host:o,port:a}=cL(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),uL()}function Vx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cL(t){const e=Vx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Nw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Nw(o)}}}function Nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return gs("not implemented")}_getIdTokenResponse(e){return gs("not implemented")}_linkToIdToken(e,n){return gs("not implemented")}_getReauthenticationResolver(e){return gs("not implemented")}}async function dL(t,e){return js(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hL(t,e){return d0(t,"POST","/v1/accounts:signInWithPassword",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){return d0(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}async function pL(t,e){return d0(t,"POST","/v1/accounts:signInWithEmailLink",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td extends W2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Td(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Td(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(e,n,"signInWithPassword",hL);case"emailLink":return fL(e,{email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wv(e,r,"signUpPassword",dL);case"emailLink":return pL(e,{idToken:n,email:this._email,oobCode:this._password});default:fi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(t,e){return d0(t,"POST","/v1/accounts:signInWithIdp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mL="http://localhost";class Ga extends W2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):fi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=D2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Ga(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tc(e,n)}buildRequest(){const e={requestUri:mL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=l0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vL(t){const e=Mu(Au(t)).link,n=e?Mu(Au(e)).deep_link_id:null,r=Mu(Au(t)).deep_link_id;return(r?Mu(Au(r)).link:null)||r||n||e||t}class q2{constructor(e){var n,r,i,s,o,a;const l=Mu(Au(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=gL((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=vL(e);try{return new q2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(){this.providerId=Wc.PROVIDER_ID}static credential(e,n){return Td._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=q2.parseLink(n);return Ee(r,"argument-error"),Td._fromEmailAndCode(e,r.code,r.tenantId)}}Wc.PROVIDER_ID="password";Wc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Wc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Wx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends h0{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:ao.PROVIDER_ID,signInMethod:ao.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ao.credentialFromTaggedObject(e)}static credentialFromError(e){return ao.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ao.credential(e.oauthAccessToken)}catch{return null}}}ao.FACEBOOK_SIGN_IN_METHOD="facebook.com";ao.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo extends h0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:lo.PROVIDER_ID,signInMethod:lo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return lo.credentialFromTaggedObject(e)}static credentialFromError(e){return lo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return lo.credential(n,r)}catch{return null}}}lo.GOOGLE_SIGN_IN_METHOD="google.com";lo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co extends h0{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:co.PROVIDER_ID,signInMethod:co.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return co.credentialFromTaggedObject(e)}static credentialFromError(e){return co.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return co.credential(e.oauthAccessToken)}catch{return null}}}co.GITHUB_SIGN_IN_METHOD="github.com";co.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo extends h0{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:uo.PROVIDER_ID,signInMethod:uo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return uo.credentialFromTaggedObject(e)}static credentialFromError(e){return uo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return uo.credential(n,r)}catch{return null}}}uo.TWITTER_SIGN_IN_METHOD="twitter.com";uo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(t,e){return d0(t,"POST","/v1/accounts:signUp",Zo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await vs._fromIdTokenResponse(e,r,i),o=Rw(r);return new Ja({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Rw(r);return new Ja({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf extends Xi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Xf.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Xf(e,n,r,i)}}function qx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Xf._fromErrorAndOperation(t,s,e,r):s})}async function wL(t,e,n=!1){const r=await Ec(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(t,e,n=!1){const{auth:r}=t;if(zi(r.app))return Promise.reject(Ss(r));const i="reauthenticate";try{const s=await Ec(t,qx(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=U2(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),Ja._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&fi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(t,e,n=!1){if(zi(t.app))return Promise.reject(Ss(t));const r="signIn",i=await qx(t,r,e),s=await Ja._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function kL(t,e){return Kx(ll(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t){const e=ll(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function SL(t,e,n){if(zi(t.app))return Promise.reject(Ss(t));const r=ll(t),o=await wv(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yL).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&Gx(t),l}),a=await Ja._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function xL(t,e,n){return zi(t.app)?Promise.reject(Ss(t)):kL(Qo(t),Wc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Gx(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CL(t,e){return js(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qo(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ec(r,CL(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function TL(t,e,n,r){return Qo(t).onIdTokenChanged(e,n,r)}function ML(t,e,n){return Qo(t).beforeAuthStateChanged(e,n)}const Qf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=1e3,OL=10;class Yx extends Jx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);qP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,OL):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},AL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yx.type="LOCAL";const IL=Yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx extends Jx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xx.type="SESSION";const Qx=Xx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new _m(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await NL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_m.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K2(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=K2("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function DL(t){Vi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function _L(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LL(){return Zx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebaseLocalStorageDb",zL=1,Zf="firebaseLocalStorage",tC="fbase_key";class f0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pm(t,e){return t.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function BL(){const t=indexedDB.deleteDatabase(eC);return new f0(t).toPromise()}function bv(){const t=indexedDB.open(eC,zL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Zf,{keyPath:tC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),await BL(),e(await bv()))})})}async function Dw(t,e,n){const r=Pm(t,!0).put({[tC]:e,value:n});return new f0(r).toPromise()}async function FL(t,e){const n=Pm(t,!1).get(e),r=await new f0(n).toPromise();return r===void 0?null:r.value}function _w(t,e){const n=Pm(t,!0).delete(e);return new f0(n).toPromise()}const jL=800,$L=3;class nC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>$L)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_m._getInstance(LL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await _L(),!this.activeServiceWorker)return;this.sender=new RL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bv();return await Dw(e,Qf,"1"),await _w(e,Qf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Dw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>FL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>_w(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Pm(i,!1).getAll();return new f0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nC.type="LOCAL";const HL=nC;new u0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UL(t,e){return e?ys(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2 extends W2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VL(t){return Kx(t.auth,new G2(t),t.bypassAuthState)}function WL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),bL(n,new G2(t),t.bypassAuthState)}async function qL(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),wL(n,new G2(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VL;case"linkViaPopup":case"linkViaRedirect":return qL;case"reauthViaPopup":case"reauthViaRedirect":return WL;default:fi(this.auth,"internal-error")}}resolve(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ds(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KL=new u0(2e3,1e4);class Ul extends rC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ul.currentPopupAction&&Ul.currentPopupAction.cancel(),Ul.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){Ds(this.filter.length===1,"Popup operations only handle one event");const e=K2();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ul.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,KL.get())};e()}}Ul.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="pendingRedirect",Yh=new Map;class JL extends rC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Yh.get(this.auth._key());if(!e){try{const r=await YL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Yh.set(this.auth._key(),e)}return this.bypassAuthState||Yh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YL(t,e){const n=ZL(e),r=QL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function XL(t,e){Yh.set(t._key(),e)}function QL(t){return ys(t._redirectPersistence)}function ZL(t){return Jh(GL,t.config.apiKey,t.name)}async function ez(t,e,n=!1){if(zi(t.app))return Promise.reject(Ss(t));const r=ll(t),i=UL(r,e),o=await new JL(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tz=10*60*1e3;class nz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!iC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ui(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tz&&this.cachedEventUids.clear(),this.cachedEventUids.has(Pw(e))}saveEventToCache(e){this.cachedEventUids.add(Pw(e)),this.lastProcessedEventTime=Date.now()}}function Pw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iz(t,e={}){return js(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oz=/^https?/;async function az(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iz(t);for(const n of e)try{if(lz(n))return}catch{}fi(t,"unauthorized-domain")}function lz(t){const e=vv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!oz.test(n))return!1;if(sz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cz=new u0(3e4,6e4);function Lw(){const t=Vi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uz(t){return new Promise((e,n)=>{var r,i,s;function o(){Lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Lw(),n(Ui(t,"network-request-failed"))},timeout:cz.get()})}if(!((i=(r=Vi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Vi().gapi)===null||s===void 0)&&s.load)o();else{const a=tL("iframefcb");return Vi()[a]=()=>{gapi.load?o():n(Ui(t,"network-request-failed"))},Hx(`${eL()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Xh=null,e})}let Xh=null;function dz(t){return Xh=Xh||uz(t),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hz=new u0(5e3,15e3),fz="__/auth/iframe",pz="emulator/auth/iframe",mz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vz(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?H2(e,pz):`https://${t.config.authDomain}/${fz}`,r={apiKey:e.apiKey,appName:t.name,v:c0},i=gz.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${l0(r).slice(1)}`}async function yz(t){const e=await dz(t),n=Vi().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:vz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ui(t,"network-request-failed"),a=Vi().setTimeout(()=>{s(o)},hz.get());function l(){Vi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bz=500,kz=600,Sz="_blank",xz="http://localhost";class zw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cz(t,e,n,r=bz,i=kz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},wz),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Pn().toLowerCase();n&&(a=Px(c)?Sz:n),Dx(c)&&(e=e||xz,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(WP(c)&&a!=="_self")return Ez(e||"",a),new zw(null);const d=window.open(e||"",a,u);Ee(d,t,"popup-blocked");try{d.focus()}catch{}return new zw(d)}function Ez(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tz="__/auth/handler",Mz="emulator/auth/handler",Az=encodeURIComponent("fac");async function Bw(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:c0,eventId:i};if(e instanceof Wx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",p_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof h0){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${Az}=${encodeURIComponent(l)}`:"";return`${Oz(t)}?${l0(a).slice(1)}${c}`}function Oz({config:t}){return t.emulator?H2(t,Mz):`https://${t.authDomain}/${Tz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og="webStorageSupport";class Iz{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=ez,this._overrideRedirectResult=XL}async _openPopup(e,n,r,i){var s;Ds((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Bw(e,n,r,vv(),i);return Cz(e,o,K2())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Bw(e,n,r,vv(),i);return DL(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ds(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yz(e),r=new nz(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(og,{type:og},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[og];o!==void 0&&n(!!o),fi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=az(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jx()||_x()||V2()}}const Nz=Iz;var Fw="@firebase/auth",jw="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rz{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dz(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _z(t){Cd(new Cc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$x(t)},c=new XP(r,i,s,l);return aL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cd(new Cc("auth-internal",e=>{const n=ll(e.getProvider("auth").getImmediate());return(r=>new Rz(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ql(Fw,jw,Dz(t)),Ql(Fw,jw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pz=5*60,Lz=gx("authIdTokenMaxAge")||Pz;let $w=null;const zz=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Lz)return;const i=n==null?void 0:n.token;$w!==i&&($w=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Bz(t=gP()){const e=bx(t,"auth");if(e.isInitialized())return e.getImmediate();const n=oL(t,{popupRedirectResolver:Nz,persistence:[HL,IL,Qx]}),r=gx("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zz(s.toString());ML(n,o,()=>o(n.currentUser)),TL(n,a=>o(a))}}const i=n_("auth");return i&&lL(n,`http://${i}`),n}function Fz(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ui("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Fz().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_z("Browser");var jz="firebase",$z="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ql(jz,$z,"app");const Hz={apiKey:"AIzaSyBJDxxFl-LiT_aGKYULn6gNvpNfIfrUvxA",authDomain:"notice-board-1fb34.firebaseapp.com",projectId:"notice-board-1fb34",storageBucket:"notice-board-1fb34.firebasestorage.app",messagingSenderId:"70906713459",appId:"1:70906713459:web:76603ec50da53c906f2106"},Uz=kx(Hz),p0=Bz(Uz);function Vz(){const t=Uc(),[e,n]=B.useState(!1),[r,i]=B.useState(""),[s,o]=B.useState(""),[a,l]=B.useState(""),[c,u]=B.useState(""),d=f=>{const{target:{name:p,value:g}}=f;p==="name"?i(g):p==="email"?o(g):p==="password"&&l(g)},h=async f=>{if(f.preventDefault(),u(""),!(e||r===""||s===""||a===""))try{n(!0);const p=await SL(p0,s,a);await EL(p.user,{displayName:r}),t("/")}catch(p){p instanceof Xi&&u(p.message)}finally{n(!1)}};return N.jsxs(ox,{children:[N.jsx(ax,{children:"Create Account"}),N.jsxs(lx,{onSubmit:h,children:[N.jsx(Ta,{onChange:d,name:"name",placeholder:"Name",type:"text",required:!0}),N.jsx(Ta,{onChange:d,name:"email",placeholder:"Email",type:"text",required:!0}),N.jsx(Ta,{onChange:d,name:"password",placeholder:"Password",type:"password",required:!0}),N.jsx(Ta,{onChange:d,type:"submit",value:e?"Loading...":"Create Account"})]}),c!==""?N.jsx(cx,{children:c}):null,N.jsx(ux,{children:N.jsx(P9,{to:"/login",children:"Log in "})})]})}function Wz(){const t=Uc(),[e,n]=B.useState(!1),[r,i]=B.useState(""),[s,o]=B.useState(""),[a,l]=B.useState(""),c=d=>{const{target:{name:h,value:f}}=d;h==="email"?i(f):h==="password"&&o(f)},u=async d=>{if(d.preventDefault(),l(""),!(e||r===""||s===""))try{n(!0),await xL(p0,r,s),t("/")}catch(h){h instanceof Xi&&l(h.message)}finally{n(!1)}};return N.jsxs(ox,{children:[N.jsx(ax,{children:"Log in"}),N.jsxs(lx,{onSubmit:u,children:[N.jsx(Ta,{onChange:c,name:"email",placeholder:"Email",type:"text",required:!0}),N.jsx(Ta,{onChange:c,name:"password",placeholder:"Password",type:"password",required:!0}),N.jsx(Ta,{onChange:c,type:"submit",value:e?"Loading...":"Log in"})]}),a!==""?N.jsx(cx,{children:a}):null,N.jsx(ux,{children:N.jsx(P9,{to:"/create-account",children:"Create Account "})})]})}function qz(){return N.jsx(N.Fragment,{children:N.jsx("h1",{children:"Home"})})}const Kz=br.div`
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
`,Gz=br.span`
  font-size: 24px;
`;function Jz(){return N.jsx(Kz,{children:N.jsx(Gz,{children:"Loading..."})})}const Yz=br.div`
  display: grid;
  gap: 20px;
  grid-template-columns: 1fr 4fr;
  height: 100px;
  padding: 50px 0px;
  width: 100%;
  max-width: 60px;
`,Xz=br.div`
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 20px;
`,Hw=br.div`
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  border: 2px solid white;
  height: 50px;
  width: 50px;
  border-radius: 50%;
  svg {
    width: 30px;
    fill: white;
  }
  &.log-out {
    border-color: tomato;
    svg {
      fill: tomato;
    }
  }
`;function Qz(){const t="https://yoonuooh.duckdns.org",e="5000",n=Uc();let[r,i]=B.useState([]);const s=async()=>{confirm("Are you sure?")&&(await p0.signOut(),n("/login"))},o=c=>{n("/editor/"+c)},a=async()=>{try{r=await(await fetch(`${t}:${e}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:""})).json(),i(r),console.log(r)}catch(c){console.error("Error sending data to server:",c)}},l=async c=>{try{r=await(await fetch(`${t}:${e}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:c})})).json(),i(r),console.log(r)}catch(u){console.error("Error sending data to server:",u)}a()};return B.useEffect(()=>{a()},[]),N.jsxs(N.Fragment,{children:[N.jsxs(Yz,{children:[N.jsxs(Xz,{children:[N.jsx(Hw,{children:N.jsx("button",{onClick:()=>o(""),children:"Go to Editor"})}),N.jsx(Hw,{onClick:s,className:"log-out",children:N.jsxs("svg",{fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[N.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M17 4.25A2.25 2.25 0 0 0 14.75 2h-5.5A2.25 2.25 0 0 0 7 4.25v2a.75.75 0 0 0 1.5 0v-2a.75.75 0 0 1 .75-.75h5.5a.75.75 0 0 1 .75.75v11.5a.75.75 0 0 1-.75.75h-5.5a.75.75 0 0 1-.75-.75v-2a.75.75 0 0 0-1.5 0v2A2.25 2.25 0 0 0 9.25 18h5.5A2.25 2.25 0 0 0 17 15.75V4.25Z"}),N.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M1 10a.75.75 0 0 1 .75-.75h9.546l-1.048-.943a.75.75 0 1 1 1.004-1.114l2.5 2.25a.75.75 0 0 1 0 1.114l-2.5 2.25a.75.75 0 1 1-1.004-1.114l1.048-.943H1.75A.75.75 0 0 1 1 10Z"})]})})]}),N.jsx("div",{children:r.length>0?r.map((c,u)=>N.jsxs("div",{children:[N.jsx("button",{onClick:()=>o(c._id),children:c.title+`
`+c.created_at+`
`+c.modified_at}),N.jsx("button",{onClick:()=>l(c._id),children:c.title+`
Delete`})]},u)):N.jsx("p",{children:"None"})})]}),N.jsx(CR,{})]})}function Zz({children:t}){return p0.currentUser===null?N.jsx(xR,{to:"/login"}):t}function hn(t){this.content=t}hn.prototype={constructor:hn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new hn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new hn(n)},addToStart:function(t,e){return new hn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new hn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new hn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=hn.from(t),t.size?new hn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=hn.from(t),t.size?new hn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=hn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};hn.from=function(t){if(t instanceof hn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new hn(e)};function sC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=sC(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function oC(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=oC(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class ${constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new $(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new $(r,i)}cutByIndex(e,n){return e==n?$.empty:e==0&&n==this.content.length?this:new $(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new $(i,s)}addToStart(e){return new $([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new $(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return sC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return oC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Q0(0,e);if(e==this.size)return Q0(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?Q0(r+1,o):Q0(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return $.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new $(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return $.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new $(n||e,r)}static from(e){if(!e)return $.empty;if(e instanceof $)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new $([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}$.empty=new $([],0);const ag={index:0,offset:0};function Q0(t,e){return ag.index=t,ag.offset=e,ag}function ep(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ep(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ep(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let it=class kv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ep(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return kv.none;if(e instanceof kv)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};it.none=[];class tp extends Error{}class J{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=lC(this.content,e+this.openStart,n);return r&&new J(r,this.openStart,this.openEnd)}removeBetween(e,n){return new J(aC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return J.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new J($.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new J(e,r,i)}}J.empty=new J($.empty,0,0);function aC(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(aC(s.content,e-i-1,n-i-1)))}function lC(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=lC(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function eB(t,e,n){if(n.openStart>t.depth)throw new tp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new tp("Inconsistent open depths");return cC(t,e,n,0)}function cC(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=cC(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Pa(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=tB(n,t);return Pa(s,dC(t,o,a,e,r))}else return Pa(s,np(t,e,r))}function uC(t,e){if(!e.type.compatibleContent(t.type))throw new tp("Cannot join "+e.type.name+" onto "+t.type.name)}function Sv(t,e,n){let r=t.node(n);return uC(r,e.node(n)),r}function _a(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Vu(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(_a(t.nodeAfter,r),s++));for(let a=s;a<o;a++)_a(i.child(a),r);e&&e.depth==n&&e.textOffset&&_a(e.nodeBefore,r)}function Pa(t,e){return t.type.checkContent(e),t.copy(e)}function dC(t,e,n,r,i){let s=t.depth>i&&Sv(t,e,i+1),o=r.depth>i&&Sv(n,r,i+1),a=[];return Vu(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(uC(s,o),_a(Pa(s,dC(t,e,n,r,i+1)),a)):(s&&_a(Pa(s,np(t,e,i+1)),a),Vu(e,n,i,a),o&&_a(Pa(o,np(n,r,i+1)),a)),Vu(r,null,i,a),new $(a)}function np(t,e,n){let r=[];if(Vu(null,t,n,r),t.depth>n){let i=Sv(t,e,n+1);_a(Pa(i,np(t,e,n+1)),r)}return Vu(e,null,n,r),new $(r)}function tB(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy($.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Md{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return it.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ad(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new Md(n,r,s)}static resolveCached(e,n){let r=Uw.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else Uw.set(e,r=new nB);let i=r.elts[r.i]=Md.resolve(e,n);return r.i=(r.i+1)%rB,i}}class nB{constructor(){this.elts=[],this.i=0}}const rB=12,Uw=new WeakMap;class Ad{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const iB=Object.create(null);let La=class xv{constructor(e,n,r,i=it.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||$.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ep(this.attrs,n||e.defaultAttrs||iB)&&it.sameSet(this.marks,r||it.none)}copy(e=null){return e==this.content?this:new xv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new xv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return J.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new J(c,i.depth-o,s.depth-o)}replace(e,n,r){return eB(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Md.resolveCached(this,e)}resolveNoCache(e){return Md.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),hC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=$.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=it.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!it.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=$.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};La.prototype.text=void 0;let sB=class Cv extends La{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):hC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Cv(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Cv(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function hC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Ya{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new oB(e,n);if(r.next==null)return Ya.empty;let i=fC(r);r.next&&r.err("Unexpected trailing text");let s=fB(hB(i));return pB(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return $.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}Ya.empty=new Ya(!0);class oB{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function fC(t){let e=[];do e.push(aB(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function aB(t){let e=[];do e.push(lB(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function lB(t){let e=dB(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=cB(t,e);else break;return e}function Vw(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function cB(t,e){let n=Vw(t),r=n;return t.eat(",")&&(t.next!="}"?r=Vw(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function uB(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function dB(t){if(t.eat("(")){let e=fC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=uB(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function hB(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function pC(t,e){return e-t}function Ww(t,e){let n=[];return r(e),n.sort(pC);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function fB(t){let e=Object.create(null);return n(Ww(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);Ww(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new Ya(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(pC);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function pB(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function mC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function gC(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function vC(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function yC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new gB(t,r,e[r]);return n}let qw=class wC{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=yC(e,r.attrs),this.defaultAttrs=mC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ya.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:gC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new La(this,this.computeAttrs(e),$.from(n),it.setFrom(r))}createChecked(e=null,n,r){return n=$.from(n),this.checkContent(n),new La(this,this.computeAttrs(e),n,it.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=$.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore($.empty,!0);return s?new La(this,e,n.append(s),it.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){vC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:it.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new wC(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function mB(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class gB{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?mB(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Lm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=yC(e,i.attrs),this.excluded=null;let s=mC(this.attrs);this.instance=s?new it(this,s):null}create(e=null){return!e&&this.instance?this.instance:new it(this,gC(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Lm(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){vC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class bC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=hn.from(e.nodes),n.marks=hn.from(e.marks||{}),this.nodes=qw.compile(this.spec.nodes,this),this.marks=Lm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=Ya.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?Kw(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:Kw(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof qw){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new sB(r,r.defaultAttrs,e,it.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return La.fromJSON(this,e)}markFromJSON(e){return it.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Kw(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function vB(t){return t.tag!=null}function yB(t){return t.style!=null}let Wu=class Ev{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(vB(i))this.tags.push(i);else if(yB(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Jw(this,n,!1);return r.addAll(e,it.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Jw(this,n,!0);return r.addAll(e,it.none,n.from,n.to),J.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(kB(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Yw(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=Yw(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Ev(e,Ev.schemaRules(e)))}};const kC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},wB={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},SC={ol:!0,ul:!0},rp=1,ip=2,qu=4;function Gw(t,e,n){return e!=null?(e?rp:0)|(e==="full"?ip:0):t&&t.whitespace=="pre"?rp|ip:n&~qu}class Z0{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=it.none,this.match=s||(o&qu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore($.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&rp)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=$.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore($.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!kC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Jw{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=Gw(null,n.preserveWhitespace,0)|(r?qu:0);i?s=new Z0(i.type,i.attrs,it.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new Z0(null,null,it.none,!0,null,o):s=new Z0(e.schema.topNodeType,null,it.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&ip||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&rp)i.options&ip?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;SC.hasOwnProperty(i)&&this.parser.normalizeLists&&bB(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:wB.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(kC.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=it.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):Xw(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=Gw(e,s,o.options);o.options&qu&&o.content.length==0&&(a|=qu);let l=it.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):Xw(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new Z0(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function bB(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&SC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function kB(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Yw(t){let e={};for(let n in t)e[n]=t[n];return e}function Xw(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class cl{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=lg(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Qh(lg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Qh(lg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return Qh(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new cl(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Qw(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Qw(e.marks)}}function Qw(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function lg(t){return t.document||window.document}const Zw=new WeakMap;function SB(t){let e=Zw.get(t);return e===void 0&&Zw.set(t,e=xB(t)),e}function xB(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function Qh(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=SB(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=Qh(t,h,n,r);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const xC=65535,CC=Math.pow(2,16);function CB(t,e){return t+e*CC}function e7(t){return t&xC}function EB(t){return(t-(t&xC))/CC}const EC=1,TC=2,Zh=4,MC=8;class Tv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&MC)>0}get deletedBefore(){return(this.delInfo&(EC|Zh))>0}get deletedAfter(){return(this.delInfo&(TC|Zh))>0}get deletedAcross(){return(this.delInfo&Zh)>0}}class cr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&cr.empty)return cr.empty}recover(e){let n=0,r=e7(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+EB(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,f=l+i+(h<0?0:u);if(r)return f;let p=e==(n<0?l:d)?null:CB(a/3,e-l),g=e==l?TC:e==d?EC:Zh;return(n<0?e!=l:e!=d)&&(g|=MC),new Tv(f,g,p)}i+=u-c}return r?e+i:new Tv(e+i,0,null)}touches(e,n){let r=0,i=e7(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new cr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?cr.empty:new cr(e<0?[0,-e,0]:[0,0,e])}}cr.empty=new cr([]);class nc{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new nc(this.maps,this.mirror,e,n)}copy(){return new nc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new nc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Tv(e,i,null)}}const cg=Object.create(null);class Mn{getMap(){return cr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=cg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in cg)throw new RangeError("Duplicate use of step JSON ID "+e);return cg[e]=n,n.prototype.jsonID=e,n}}class Wt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Wt(e,null)}static fail(e){return new Wt(null,e)}static fromReplace(e,n,r,i){try{return Wt.ok(e.replace(n,r,i))}catch(s){if(s instanceof tp)return Wt.fail(s.message);throw s}}}function J2(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(J2(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return $.fromArray(r)}class yo extends Mn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new J(J2(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return Wt.fromReplace(e,this.from,this.to,s)}invert(){return new Bi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new yo(n.pos,r.pos,this.mark)}merge(e){return e instanceof yo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new yo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new yo(n.from,n.to,e.markFromJSON(n.mark))}}Mn.jsonID("addMark",yo);class Bi extends Mn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new J(J2(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Wt.fromReplace(e,this.from,this.to,r)}invert(){return new yo(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Bi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Bi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Bi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bi(n.from,n.to,e.markFromJSON(n.mark))}}Mn.jsonID("removeMark",Bi);class wo extends Mn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Wt.fromReplace(e,this.pos,this.pos+1,new J($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new wo(this.pos,n.marks[i]);return new wo(this.pos,this.mark)}}return new Tc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new wo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new wo(n.pos,e.markFromJSON(n.mark))}}Mn.jsonID("addNodeMark",wo);class Tc extends Mn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Wt.fromReplace(e,this.pos,this.pos+1,new J($.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new wo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Tc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Tc(n.pos,e.markFromJSON(n.mark))}}Mn.jsonID("removeNodeMark",Tc);class sn extends Mn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Mv(e,this.from,this.to)?Wt.fail("Structure replace would overwrite content"):Wt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new cr([this.from,this.to-this.from,this.slice.size])}invert(e){return new sn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new sn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof sn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?J.empty:new J(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new sn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?J.empty:new J(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new sn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new sn(n.from,n.to,J.fromJSON(e,n.slice),!!n.structure)}}Mn.jsonID("replace",sn);class an extends Mn{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Mv(e,this.from,this.gapFrom)||Mv(e,this.gapTo,this.to)))return Wt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Wt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Wt.fromReplace(e,this.from,this.to,r):Wt.fail("Content does not fit in gap")}getMap(){return new cr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new an(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new an(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new an(n.from,n.to,n.gapFrom,n.gapTo,J.fromJSON(e,n.slice),n.insert,!!n.structure)}}Mn.jsonID("replaceAround",an);function Mv(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function TB(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),f=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=f:i.push(o=new Bi(h,f,d[g])));a&&a.to==h?a.to=f:s.push(a=new yo(h,f,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function MB(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Lm){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new Bi(o.from,o.to,o.style)))}function Y2(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new sn(a,u,J.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new Bi(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(c.text);)p||(p=new J($.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new sn(a+h.index,a+h.index+h[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore($.empty,!0);t.replace(a,a,new J(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function AB(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function qc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!AB(i,s,o))break}return null}function OB(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=$.empty,d=0;for(let p=s,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=$.from(r.node(p).copy(u)),d++):l--;let h=$.empty,f=0;for(let p=s,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,h=$.from(i.node(p).copy(h)),f++):c++;t.step(new an(l,c,o,a,new J(u.append(h),d,f),u.size-d,!0))}function X2(t,e,n=null,r=t){let i=IB(t,e),s=i&&NB(r,e);return s?i.map(t7).concat({type:e,attrs:n}).concat(s.map(t7)):null}function t7(t){return{type:t,attrs:null}}function IB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function NB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function RB(t,e,n){let r=$.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=$.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new an(i,s,i,s,new J(r,0,0),n.length,!0))}function DB(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&_B(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&OC(t,o,a,s),Y2(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new an(d,h,d+1,h-1,new J($.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&AC(t,o,a,s),!1}})}function AC(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function OC(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function _B(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function PB(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new an(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new J($.from(o),0,0),1,!0))}function rc(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=r&&r[u+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function LB(t,e,n=1,r){let i=t.doc.resolve(e),s=$.empty,o=$.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=$.from(i.node(a).copy(s));let u=r&&r[c];o=$.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new sn(e,e,new J(s.append(o),n,n),!0))}function ea(t,e){let n=t.resolve(e),r=n.index();return IC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function zB(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function IC(t,e){return!!(t&&e&&!t.isLeaf&&zB(t,e))}function zm(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&IC(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function BB(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);OC(t,u.node(),u.before(),a)}o.inlineContent&&Y2(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new sn(c,l.map(e+n,-1),J.empty,!0)),r===!0){let u=t.doc.resolve(c);AC(t,u.node(),u.before(),t.steps.length)}return t}function FB(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function NC(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Bm(t,e,n=e,r=J.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return RC(i,s,r)?new sn(e,n,r):new jB(i,s,r).fit()}function RC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class jB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=$.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=$.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new J(s,o,a);return e>-1?new an(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new sn(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=ug(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore($.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ug(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new J(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=ug(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new J(Ou(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new J(Ou(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),b=d.matchType(g.type);if(!b)break;c++,(c>1||l==0||g.content.size)&&(d=b,u.push(DC(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=Iu(this.placed,n,$.from(u)),this.frontier[n].match=d,p&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,b=a;g<f;g++){let y=b.lastChild;this.frontier.push({type:y.type,match:y.contentMatchAt(y.childCount)}),b=y.content}this.unplaced=p?e==0?J.empty:new J(Ou(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new J(Ou(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!dg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=dg(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=dg(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Iu(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Iu(this.placed,this.depth,$.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore($.empty,!0);n.childCount&&(this.placed=Iu(this.placed,this.frontier.length,n))}}function Ou(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ou(t.firstChild.content,e-1,n)))}function Iu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Iu(t.lastChild.content,e-1,n)))}function ug(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function DC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,DC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore($.empty,!0)))),t.copy(r)}function dg(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!$B(n,s.content,o)?a:null}function $B(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function HB(t){return t.spec.defining||t.spec.definingForContent}function UB(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(RC(i,s,r))return t.step(new sn(e,n,r));let o=PC(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let p=h.firstChild;if(c.push(p),f==r.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let f=c[h],p=HB(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(p||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),p=c[f];if(p)for(let g=0;g<o.length;g++){let b=o[(g+l)%o.length],y=!0;b<0&&(y=!1,b=-b);let w=i.node(b-1),C=i.index(b-1);if(w.canReplaceWith(C,C,p.type,p.marks))return t.replace(i.before(b),y?s.after(b):n,new J(_C(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),n=s.after(f))}}function _C(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(_C(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore($.empty,!0))}return t}function VB(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=FB(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new J($.from(r),0,0))}function WB(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=PC(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function PC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class ic extends Mn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Wt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Wt.fromReplace(e,this.pos,this.pos+1,new J($.from(i),0,n.isLeaf?0:1))}getMap(){return cr.empty}invert(e){return new ic(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ic(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ic(n.pos,n.attr,n.value)}}Mn.jsonID("attr",ic);class Od extends Mn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return Wt.ok(r)}getMap(){return cr.empty}invert(e){return new Od(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Od(n.attr,n.value)}}Mn.jsonID("docAttr",Od);let Mc=class extends Error{};Mc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Mc.prototype=Object.create(Error.prototype);Mc.prototype.constructor=Mc;Mc.prototype.name="TransformError";class Q2{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new nc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Mc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=J.empty){let i=Bm(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new J($.from(r),0,0))}delete(e,n){return this.replace(e,n,J.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return UB(this,e,n,r),this}replaceRangeWith(e,n,r){return VB(this,e,n,r),this}deleteRange(e,n){return WB(this,e,n),this}lift(e,n){return OB(this,e,n),this}join(e,n=1){return BB(this,e,n),this}wrap(e,n){return RB(this,e,n),this}setBlockType(e,n=e,r,i=null){return DB(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return PB(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ic(e,n,r)),this}setDocAttribute(e,n){return this.step(new Od(e,n)),this}addNodeMark(e,n){return this.step(new wo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof it)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Tc(e,n)),this}split(e,n=1,r){return LB(this,e,n,r),this}addMark(e,n,r){return TB(this,e,n,r),this}removeMark(e,n,r){return MB(this,e,n,r),this}clearIncompatible(e,n,r){return Y2(this,e,n,r),this}}const hg=Object.create(null);class Se{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new Z2(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=J.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?J.empty:n),a==0&&i7(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),i7(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new ye(e):Tl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Tl(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Tl(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new ci(e.node(0))}static atStart(e){return Tl(e,e,0,0,1)||new ci(e)}static atEnd(e){return Tl(e,e,e.content.size,e.childCount,-1)||new ci(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=hg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in hg)throw new RangeError("Duplicate use of selection JSON ID "+e);return hg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return ye.between(this.$anchor,this.$head).getBookmark()}}Se.prototype.visible=!0;class Z2{constructor(e,n){this.$from=e,this.$to=n}}let n7=!1;function r7(t){!n7&&!t.parent.inlineContent&&(n7=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class ye extends Se{constructor(e,n=e){r7(e),r7(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Se.near(r);let i=e.resolve(n.map(this.anchor));return new ye(i.parent.inlineContent?i:r,r)}replace(e,n=J.empty){if(super.replace(e,n),n==J.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof ye&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Fm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new ye(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=Se.findFrom(n,r,!0)||Se.findFrom(n,-r,!0);if(s)n=s.$head;else return Se.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Se.findFrom(e,-r,!0)||Se.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new ye(e,n)}}Se.jsonID("text",ye);class Fm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Fm(e.map(this.anchor),e.map(this.head))}resolve(e){return ye.between(e.resolve(this.anchor),e.resolve(this.head))}}class we extends Se{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?Se.near(s):new we(s)}content(){return new J($.from(this.node),0,0)}eq(e){return e instanceof we&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new e3(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new we(e.resolve(n.anchor))}static create(e,n){return new we(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}we.prototype.visible=!1;Se.jsonID("node",we);class e3{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Fm(r,r):new e3(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&we.isSelectable(r)?new we(n):Se.near(n)}}class ci extends Se{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=J.empty){if(n==J.empty){e.delete(0,e.doc.content.size);let r=Se.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new ci(e)}map(e){return new ci(e)}eq(e){return e instanceof ci}getBookmark(){return qB}}Se.jsonID("all",ci);const qB={map(){return this},resolve(t){return new ci(t)}};function Tl(t,e,n,r,i,s=!1){if(e.inlineContent)return ye.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&we.isSelectable(a))return we.create(t,n-(i<0?a.nodeSize:0))}else{let l=Tl(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function i7(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof sn||i instanceof an))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(Se.near(t.doc.resolve(o),n))}const s7=1,eh=2,o7=4;let KB=class extends Q2{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|s7)&~eh,this.storedMarks=null,this}get selectionSet(){return(this.updated&s7)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=eh,this}ensureMarks(e){return it.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&eh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~eh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||it.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(Se.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=o7,this}get scrolledIntoView(){return(this.updated&o7)>0}};function a7(t,e){return!e||!t?t:t.bind(e)}class Nu{constructor(e,n,r){this.name=e,this.init=a7(n.init,r),this.apply=a7(n.apply,r)}}const GB=[new Nu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Nu("selection",{init(t,e){return t.selection||Se.atStart(e.doc)},apply(t){return t.selection}}),new Nu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Nu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class fg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=GB.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Nu(r.key,r.spec.state,r))})}}class Vl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Vl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new KB(this)}static create(e){let n=new fg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Vl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new fg(this.schema,e.plugins),r=n.fields,i=new Vl(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new fg(e.schema,e.plugins),s=new Vl(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=La.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=Se.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function LC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=LC(i,e,{})),n[r]=i}return n}class ot{constructor(e){this.spec=e,this.props={},e.props&&LC(e.props,this,this.props),this.key=e.key?e.key.key:zC("plugin")}getState(e){return e[this.key]}}const pg=Object.create(null);function zC(t){return t in pg?t+"$"+ ++pg[t]:(pg[t]=0,t+"$")}class dt{constructor(e="key"){this.key=zC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const fn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Id=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Av=null;const ds=function(t,e,n){let r=Av||(Av=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},JB=function(){Av=null},Xa=function(t,e,n,r){return n&&(l7(t,e,n,r,-1)||l7(t,e,n,r,1))},YB=/^(img|br|input|textarea|hr)$/i;function l7(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Or(t))){let s=t.parentNode;if(!s||s.nodeType!=1||m0(t)||YB.test(t.nodeName)||t.contentEditable=="false")return!1;e=fn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Or(t):0}else return!1}}function Or(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function XB(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Or(t)}else if(t.parentNode&&!m0(t))e=fn(t),t=t.parentNode;else return null}}function QB(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!m0(t))e=fn(t)+1,t=t.parentNode;else return null}}function ZB(t,e,n){for(let r=e==0,i=e==Or(t);r||i;){if(t==n)return!0;let s=fn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Or(t)}}function m0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const jm=function(t){return t.focusNode&&Xa(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ya(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function eF(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function tF(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Or(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Or(r.startContainer),r.startOffset)}}}const qi=typeof navigator<"u"?navigator:null,c7=typeof document<"u"?document:null,ta=qi&&qi.userAgent||"",Ov=/Edge\/(\d+)/.exec(ta),BC=/MSIE \d/.exec(ta),Iv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(ta),Zn=!!(BC||Iv||Ov),_o=BC?document.documentMode:Iv?+Iv[1]:Ov?+Ov[1]:0,pi=!Zn&&/gecko\/(\d+)/i.test(ta);pi&&+(/Firefox\/(\d+)/.exec(ta)||[0,0])[1];const Nv=!Zn&&/Chrome\/(\d+)/.exec(ta),xn=!!Nv,FC=Nv?+Nv[1]:0,Ln=!Zn&&!!qi&&/Apple Computer/.test(qi.vendor),Ac=Ln&&(/Mobile\/\w+/.test(ta)||!!qi&&qi.maxTouchPoints>2),Tr=Ac||(qi?/Mac/.test(qi.platform):!1),nF=qi?/Win/.test(qi.platform):!1,ni=/Android \d/.test(ta),g0=!!c7&&"webkitFontSmoothing"in c7.documentElement.style,rF=g0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function iF(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function rs(t,e){return typeof t=="number"?t:t[e]}function sF(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function u7(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=Id(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?iF(s):sF(a),u=0,d=0;if(e.top<c.top+rs(r,"top")?d=-(c.top-e.top+rs(i,"top")):e.bottom>c.bottom-rs(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+rs(i,"top")-c.top:e.bottom-c.bottom+rs(i,"bottom")),e.left<c.left+rs(r,"left")?u=-(c.left-e.left+rs(i,"left")):e.right>c.right-rs(r,"right")&&(u=e.right-c.right+rs(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-f;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function oF(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:jC(t.dom)}}function jC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Id(r));return e}function aF({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;$C(n,r==0?0:r-e)}function $C(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Sl=null;function lF(t){if(t.setActive)return t.setActive();if(Sl)return t.focus(Sl);let e=jC(t);t.focus(Sl==null?{get preventScroll(){return Sl={preventScroll:!0},!0}}:void 0),Sl||(Sl=!1,$C(e,0))}function HC(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ds(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?cF(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:HC(n,i)}function cF(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=Qs(r,1);if(s.top!=s.bottom&&t3(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function t3(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function uF(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function dF(t,e,n){let{node:r,offset:i}=HC(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function hF(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function UC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(t3(e,c))return UC(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function fF(t,e){let n=t.dom.ownerDocument,r,i=0,s=tF(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!t3(e,c)||(o=UC(t.dom,e,c),!o))return null}if(Ln)for(let c=o;r&&c;c=Id(c))c.draggable&&(r=void 0);if(o=uF(o,e),r){if(pi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;g0&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=hF(t,r,i,e))}a==null&&(a=dF(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function d7(t){return t.top<t.bottom||t.left<t.right}function Qs(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(d7(r))return r}return Array.prototype.find.call(n,d7)||t.getBoundingClientRect()}const pF=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function VC(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=g0||pi;if(r.nodeType==3)if(o&&(pF.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=Qs(ds(r,i,i),n);if(pi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=Qs(ds(r,i-1,i-1),-1);if(c.top==l.top){let u=Qs(ds(r,i,i+1),-1);if(u.top!=l.top)return yu(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,yu(Qs(ds(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Or(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return mg(l.getBoundingClientRect(),!1)}if(s==null&&i<Or(r)){let l=r.childNodes[i];if(l.nodeType==1)return mg(l.getBoundingClientRect(),!0)}return mg(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Or(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ds(l,Or(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return yu(Qs(c,1),!1)}if(s==null&&i<Or(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ds(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return yu(Qs(c,-1),!0)}return yu(Qs(r.nodeType==3?ds(r):r,-n),n>=0)}function yu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function mg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function WC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function mF(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return WC(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=VC(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ds(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const gF=/[\u0590-\u08ac]/;function vF(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!gF.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:WC(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),b=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),b}):r.pos==r.start()||r.pos==r.end()}let h7=null,f7=null,p7=!1;function yF(t,e,n){return h7==e&&f7==n?p7:(h7=e,f7=n,p7=n=="up"||n=="down"?mF(t,e,n):vF(t,e,n))}const Pr=0,m7=1,Ma=2,Ki=3;class v0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=Pr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>fn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof KC){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof qC&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?fn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?fn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=fn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=fn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],g=f+p.size;if(s>f&&o<g)return p.setSelection(e-f-p.border,n-f-p.border,r,i);f=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((pi||Ln)&&e==n){let{node:h,offset:f}=a;if(h.nodeType==3){if(u=!!(f&&h.nodeValue[f-1]==`
`),u&&f==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:fn(g)+1});break}let b=p.pmViewDesc;if(b&&b.node&&b.node.isBlock)break}}else{let p=h.childNodes[f-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(pi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||u&&Ln)&&Xa(a.node,a.offset,c.anchorNode,c.anchorOffset)&&Xa(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let f=a;a=l,l=f}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Ma:m7,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Ki:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ma:Ki}r=o}this.dirty=Ma}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ma:m7;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class qC extends v0{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==Pr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class wF extends v0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qa extends v0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=cl.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new Qa(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Ki||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Ki&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Pr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Pr}}slice(e,n,r){let i=Qa.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=Dv(s,n,o,r)),e>0&&(s=Dv(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Po extends v0{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=cl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=YC(u,r,n),c?l=new bF(e,n,r,i,u,d||null,h,c,s,o+1):n.isText?new $m(e,n,r,i,u,h,s):new Po(e,n,r,i,u,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>$.empty)}return e}matchesNode(e,n,r){return this.dirty==Pr&&e.eq(this.node)&&sp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new SF(this,o&&o.node,e);EF(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?it.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let f;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,f,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ma)&&(o&&this.protectLocalComposition(e,o),GC(this.contentDOM,this.children,e),Ac&&TF(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof ye)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=MF(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new wF(this,s,n,i);e.input.compositionNodes.push(o),this.children=Dv(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Ki||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Pr}updateOuterDeco(e){if(sp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=JC(this.dom,this.nodeDOM,Rv(this.outerDeco,this.node,n),Rv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function g7(t,e,n,r,i){YC(r,e,t);let s=new Po(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class $m extends Po{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Ki||this.dirty!=Pr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Pr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Pr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new $m(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Ki)}get domAtom(){return!1}isText(e){return this.node.text==e}}class KC extends v0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Pr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class bF extends Po{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Ki)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function GC(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=v7(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof Qa){let l=r?r.previousSibling:t.lastChild;GC(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=v7(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Ku=function(t){t&&(this.nodeName=t)};Ku.prototype=Object.create(null);const Aa=[new Ku];function Rv(t,e,n){if(t.length==0)return Aa;let r=n?Aa[0]:new Ku,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new Ku(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new Ku(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function JC(t,e,n,r){if(n==Aa&&r==Aa)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Aa[0]),i=l}kF(i,a||Aa[0],o)}return i}function kF(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function YC(t,e,n){return JC(t,t,Aa,Rv(e,n,t.nodeType!=1))}function sp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function v7(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class SF{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=xF(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Pr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=Qa.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Ki&&o.dom==o.contentDOM&&(o.dirty=Ma),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Po){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Ki&&sp(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ma,d.updateChildren(i,o+1),d.dirty=Pr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!sp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Po.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Po.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new qC(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Qa;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof $m)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ln||xn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new KC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function xF(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof Qa)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function CF(t,e){return t.type.side-e.type.side}function EF(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let b=i[o++];b.widget&&(u?(d||(d=[u])).push(b):u=b)}if(u)if(d){d.sort(CF);for(let b=0;b<d.length;b++)n(d[b],c,!!l)}else n(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<t.childCount)f=c,h=t.child(c++);else break;for(let b=0;b<a.length;b++)a[b].to<=s&&a.splice(b--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+h.nodeSize;if(h.isText){let b=p;o<i.length&&i[o].from<b&&(b=i[o].from);for(let y=0;y<a.length;y++)a[y].to<b&&(b=a[y].to);b<p&&(l=h.cut(b-s),h=h.cut(0,b-s),p=b,f=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=h.isInline&&!h.isLeaf?a.filter(b=>!b.inline):a.slice();r(h,g,e.forChild(s,h),f),s=p}}function TF(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function MF(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function Dv(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function n3(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(jm(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&we.isSelectable(d)&&i.parent&&!(d.isInline&&ZB(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new we(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,h=o;for(let f=0;f<n.rangeCount;f++){let p=n.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=r3(t,u,a,d)}return c}function XC(t){return t.editable?t.hasFocus():ZC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function xs(t,e=!1){let n=t.state.selection;if(QC(t,n),!!XC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&xn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Xa(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)OF(t);else{let{anchor:r,head:i}=n,s,o;y7&&!(n instanceof ye)&&(n.$from.parent.inlineContent||(s=w7(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=w7(t,n.to))),t.docView.setSelection(r,i,t.root,e),y7&&(s&&b7(s),o&&b7(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&AF(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const y7=Ln||xn&&FC<63;function w7(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Ln&&i&&i.contentEditable=="false")return gg(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return gg(i);if(s)return gg(s)}}function gg(t){return t.contentEditable="true",Ln&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function b7(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function AF(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!XC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function OF(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,fn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&Zn&&_o<=11&&(r.disabled=!0,r.disabled=!1)}function QC(t,e){if(e instanceof we){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(k7(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else k7(t)}function k7(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function r3(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||ye.between(e,n,r)}function S7(t){return t.editable&&!t.hasFocus()?!1:ZC(t)}function ZC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function IF(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Xa(e.node,e.offset,n.anchorNode,n.anchorOffset)}function _v(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Se.findFrom(s,e)}function no(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function x7(t,e,n){let r=t.state.selection;if(r instanceof ye)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return no(t,new ye(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=_v(t.state,e);return i&&i instanceof we?no(t,i):!1}else if(!(Tr&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?we.isSelectable(s)?no(t,new we(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):g0?no(t,new ye(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof we&&r.node.isInline)return no(t,new ye(e>0?r.$to:r.$from));{let i=_v(t.state,e);return i?no(t,i):!1}}}function op(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Gu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function xl(t,e){return e<0?NF(t):RF(t)}function NF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(pi&&n.nodeType==1&&r<op(n)&&Gu(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Gu(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(eE(n))break;{let a=n.previousSibling;for(;a&&Gu(a,-1);)i=n.parentNode,s=fn(a),a=a.previousSibling;if(a)n=a,r=op(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Pv(t,n,r):i&&Pv(t,i,s)}function RF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=op(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Gu(a,1))s=n,o=++r;else break}else{if(eE(n))break;{let a=n.nextSibling;for(;a&&Gu(a,1);)s=a.parentNode,o=fn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=op(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Pv(t,s,o)}function eE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function DF(t,e){for(;t&&e==t.childNodes.length&&!m0(t);)e=fn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function _F(t,e){for(;t&&!e&&!m0(t);)e=fn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Pv(t,e,n){if(e.nodeType!=3){let s,o;(o=DF(e,n))?(e=o,n=0):(s=_F(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(jm(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&xs(t)},50)}function C7(t,e){let n=t.state.doc.resolve(e);if(!(xn||nF)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function E7(t,e,n){let r=t.state.selection;if(r instanceof ye&&!r.empty||n.indexOf("s")>-1||Tr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=_v(t.state,e);if(o&&o instanceof we)return no(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof ci?Se.near(o,e):Se.findFrom(o,e);return a?no(t,a):!1}return!1}function T7(t,e){if(!(t.state.selection instanceof ye))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function M7(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function PF(t){if(!Ln||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;M7(t,r,"true"),setTimeout(()=>M7(t,r,"false"),20)}return!1}function LF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function zF(t,e){let n=e.keyCode,r=LF(e);if(n==8||Tr&&n==72&&r=="c")return T7(t,-1)||xl(t,-1);if(n==46&&!e.shiftKey||Tr&&n==68&&r=="c")return T7(t,1)||xl(t,1);if(n==13||n==27)return!0;if(n==37||Tr&&n==66&&r=="c"){let i=n==37?C7(t,t.state.selection.from)=="ltr"?-1:1:-1;return x7(t,i,r)||xl(t,i)}else if(n==39||Tr&&n==70&&r=="c"){let i=n==39?C7(t,t.state.selection.from)=="ltr"?1:-1:1;return x7(t,i,r)||xl(t,i)}else{if(n==38||Tr&&n==80&&r=="c")return E7(t,-1,r)||xl(t,-1);if(n==40||Tr&&n==78&&r=="c")return PF(t)||E7(t,1,r)||xl(t,1);if(r==(Tr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function tE(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=t.someProp("clipboardSerializer")||cl.fromSchema(t.state.schema),a=aE(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=oE[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let p=a.createElement(u[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function nE(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return e?new J($.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):J.empty;let d=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,p=cl.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let b=o.appendChild(document.createElement("p"));g&&b.appendChild(p.serializeNode(f.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=$F(n),g0&&HF(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Wu.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!BF.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=UF(A7(a,+u[1],+u[2]),u[4]);else if(a=J.maxOpen(FF(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=A7(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const BF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function FF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&iE(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=sE(o[o.length-1],s.length));let u=rE(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return $.from(o)}return t}function rE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,$.from(t));return t}function iE(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=iE(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append($.from(rE(n,t,i+1))))}}function sE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,sE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore($.empty,!0);return t.copy(n.append(r))}function Lv(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=Lv(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore($.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function A7(t,e,n){return e<t.openStart&&(t=new J(Lv(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new J(Lv(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const oE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let O7=null;function aE(){return O7||(O7=document.implementation.createHTMLDocument("title"))}let vg=null;function jF(t){let e=window.trustedTypes;return e?(vg||(vg=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),vg.createHTML(t)):t}function $F(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=aE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&oE[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=jF(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function HF(t){let e=t.querySelectorAll(xn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function UF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=$.from(l.create(r[a+1],i)),s++,o++}return new J(i,s,o)}const zn={},Bn={},VF={touchstart:!0,touchmove:!0};class WF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function qF(t){for(let e in zn){let n=zn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{GF(t,r)&&!i3(t,r)&&(t.editable||!(r.type in Bn))&&n(t,r)},VF[e]?{passive:!0}:void 0)}Ln&&t.dom.addEventListener("input",()=>null),zv(t)}function bo(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function KF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function zv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>i3(t,r))})}function i3(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function GF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function JF(t,e){!i3(t,e)&&zn[e.type]&&(t.editable||!(e.type in Bn))&&zn[e.type](t,e)}Bn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!cE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ni&&xn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Ac&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,ya(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||zF(t,n)?n.preventDefault():bo(t,"key")};Bn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Bn.keypress=(t,e)=>{let n=e;if(cE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Tr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof ye)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Hm(t){return{left:t.clientX,top:t.clientY}}function YF(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function s3(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function sc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function XF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&we.isSelectable(r)?(sc(t,new we(n)),!0):!1}function QF(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof we&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(we.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(sc(t,we.create(t.state.doc,i)),!0):!1}function ZF(t,e,n,r,i){return s3(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?QF(t,n):XF(t,n))}function ej(t,e,n,r){return s3(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function tj(t,e,n,r){return s3(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||nj(t,n,r)}function nj(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(sc(t,ye.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)sc(t,ye.create(r,a+1,a+1+o.content.size));else if(we.isSelectable(o))sc(t,we.create(r,a));else continue;return!0}}function o3(t){return ap(t)}const lE=Tr?"metaKey":"ctrlKey";zn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=o3(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&YF(n,t.input.lastClick)&&!n[lE]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Hm(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new rj(t,o,n,!!r)):(s=="doubleClick"?ej:tj)(t,o.pos,o.inside,n)?n.preventDefault():bo(t,"pointer"))};class rj{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[lE],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof we&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),bo(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>xs(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Hm(e))),this.updateAllowDefault(e),this.allowDefault||!n?bo(this.view,"pointer"):ZF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ln&&this.mightDrag&&!this.mightDrag.node.isAtom||xn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(sc(this.view,Se.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):bo(this.view,"pointer")}move(e){this.updateAllowDefault(e),bo(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}zn.touchstart=t=>{t.input.lastTouch=Date.now(),o3(t),bo(t,"pointer")};zn.touchmove=t=>{t.input.lastTouch=Date.now(),bo(t,"pointer")};zn.contextmenu=t=>o3(t);function cE(t,e){return t.composing?!0:Ln&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const ij=ni?5e3:-1;Bn.compositionstart=Bn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof ye&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),ap(t,!0),t.markCursor=null;else if(ap(t,!e.selection.empty),pi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}uE(t,ij)};Bn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,uE(t,20))};function uE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>ap(t),e))}function dE(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=oj());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function sj(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=XB(e.focusNode,e.focusOffset),r=QB(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function oj(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function ap(t,e=!1){if(!(ni&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),dE(t),e||t.docView&&t.docView.dirty){let n=n3(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function aj(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Nd=Zn&&_o<15||Ac&&rF<604;zn.copy=Bn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Nd?null:n.clipboardData,o=r.content(),{dom:a,text:l}=tE(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):aj(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function lj(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function cj(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Rd(t,r.value,null,i,e):Rd(t,r.textContent,r.innerHTML,i,e)},50)}function Rd(t,e,n,r,i){let s=nE(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||J.empty)))return!0;if(!s)return!1;let o=lj(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function hE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Bn.paste=(t,e)=>{let n=e;if(t.composing&&!ni)return;let r=Nd?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Rd(t,hE(r),r.getData("text/html"),i,n)?n.preventDefault():cj(t,n)};class fE{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const pE=Tr?"altKey":"ctrlKey";zn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Hm(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof we?i.to-1:i.to))){if(r&&r.mightDrag)o=we.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=we.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=tE(t,a);(!n.dataTransfer.files.length||!xn||FC>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Nd?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nd||n.dataTransfer.setData("text/plain",c),t.dragging=new fE(u,!n[pE],o)};zn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Bn.dragover=Bn.dragenter=(t,e)=>e.preventDefault();Bn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Hm(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=nE(t,hE(n.dataTransfer),Nd?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[pE]);if(t.someProp("handleDrop",p=>p(t,n,o||J.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?NC(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let f=c.doc.resolve(u);if(d&&we.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new we(f));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,b,y,w)=>p=w),c.setSelection(r3(t,f,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};zn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&xs(t)},20))};zn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};zn.beforeinput=(t,e)=>{if(xn&&ni&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,ya(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Bn)zn[t]=Bn[t];function Dd(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class lp{constructor(e,n){this.toDOM=e,this.spec=n||za,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Xt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof lp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Dd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Lo{constructor(e,n){this.attrs=e,this.spec=n||za}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Xt(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Lo&&Dd(this.attrs,e.attrs)&&Dd(this.spec,e.spec)}static is(e){return e.type instanceof Lo}destroy(){}}class a3{constructor(e,n){this.attrs=e,this.spec=n||za}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Xt(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof a3&&Dd(this.attrs,e.attrs)&&Dd(this.spec,e.spec)}destroy(){}}class Xt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Xt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Xt(e,e,new lp(n,r))}static inline(e,n,r,i){return new Xt(e,n,new Lo(r,i))}static node(e,n,r,i){return new Xt(e,n,new a3(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Lo}get widget(){return this.type instanceof lp}}const Ml=[],za={};class et{constructor(e,n){this.local=e.length?e:Ml,this.children=n.length?n:Ml}static create(e,n){return n.length?cp(n,e,0,za):kn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==kn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||za)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?uj(this.children,o||[],e,n,r,i,s):o?new et(o.sort(Ba),Ml):kn}add(e,n){return n.length?this==kn?et.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=gE(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,cp(u,a,c+1,za)),s+=3}});let o=mE(s?vE(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new et(o.length?this.local.concat(o).sort(Ba):this.local,i||this.children)}remove(e){return e.length==0||this==kn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=kn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new et(i,r):kn}forChild(e,n){if(this==kn)return this;if(n.isLeaf)return et.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof Lo){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new et(i.sort(Ba),Ml);return r?new ho([a,r]):a}return r||kn}eq(e){if(this==e)return!0;if(!(e instanceof et)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return l3(this.localsInner(e))}localsInner(e){if(this==kn)return Ml;if(e.inlineContent||!this.local.some(Lo.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Lo||n.push(this.local[r]);return n}forEachSet(e){e(this)}}et.empty=new et([],[]);et.removeOverlap=l3;const kn=et.empty;class ho{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,za));return ho.from(r)}forChild(e,n){if(n.isLeaf)return et.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=kn&&(s instanceof ho?r=r.concat(s.members):r.push(s))}return ho.from(r)}eq(e){if(!(e instanceof ho)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?l3(r?n:n.sort(Ba)):Ml}static from(e){switch(e.length){case 0:return kn;case 1:return e[0];default:return new ho(e.every(n=>n instanceof et)?e:e.reduce((n,r)=>n.concat(r instanceof et?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function uj(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,f,p,g)=>{let b=g-p-(f-h);for(let y=0;y<a.length;y+=3){let w=a[y+1];if(w<0||h>w+u-d)continue;let C=a[y]+u-d;f>=C?a[y+1]=h<=C?-2:-1:h>=u&&b&&(a[y]+=b,a[y+1]+=b)}d+=b}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),f=h-i,{index:p,offset:g}=r.content.findIndex(d),b=r.maybeChild(p);if(b&&g==d&&g+b.nodeSize==f){let y=a[c+2].mapInner(n,b,u+1,t[c]+s+1,o);y!=kn?(a[c]=d,a[c+1]=f,a[c+2]=y):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=dj(a,t,e,n,i,s,o),u=cp(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let f=u.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new et(e.sort(Ba),a)}function mE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Xt(i.from+e,i.to+e,i.type))}return n}function dj(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function gE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function vE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function cp(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=gE(t,a,l+n);if(c){s=!0;let u=cp(c,a,n+l+1,r);u!=kn&&i.push(l,l+a.nodeSize,u)}});let o=mE(s?vE(t):t,-n).sort(Ba);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new et(o,i):kn}function Ba(t,e){return t.from-e.from||t.to-e.to}function l3(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),I7(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),I7(e,i,r.copy(s.from,r.to)));break}}}return e}function I7(t,e,n){for(;e<t.length&&Ba(n,t[e])>0;)e++;t.splice(e,0,n)}function yg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=kn&&e.push(r)}),t.cursorWrapper&&e.push(et.create(t.state.doc,[t.cursorWrapper.deco])),ho.from(e)}const hj={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},fj=Zn&&_o<=11;class pj{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class mj{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new pj,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Zn&&_o<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),fj&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,hj)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(S7(this.view)){if(this.suppressingSelectionUpdates)return xs(this.view);if(Zn&&_o<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Xa(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=Id(s))n.add(s);for(let s=e.anchorNode;s;s=Id(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&S7(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(pi&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||yj(e,d)!=f)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&jm(r)&&(c=n3(e))&&c.eq(Se.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,xs(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),gj(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||xs(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Zn&&_o<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?fn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?fn(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let N7=new WeakMap,R7=!1;function gj(t){if(!N7.has(t)&&(N7.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pi,R7)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),R7=!0}}function D7(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Xa(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function vj(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return D7(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?D7(t,n):null}function yj(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function wj(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],jm(l)||c.push({node:l.focusNode,offset:l.focusOffset})),xn&&t.input.lastKeyCode===8)for(let b=s;b>i;b--){let y=r.childNodes[b-1],w=y.pmViewDesc;if(y.nodeName=="BR"&&!w){s=b;break}if(!w||w.size)break}let d=t.state.doc,h=t.someProp("domParser")||Wu.fromSchema(t.state.schema),f=d.resolve(o),p=null,g=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:bj,context:f});if(c&&c[0].pos!=null){let b=c[0].pos,y=c[1]&&c[1].pos;y==null&&(y=b),p={anchor:b+o,head:y+o}}return{doc:g,sel:p,from:o,to:a}}function bj(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ln&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Ln&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const kj=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function Sj(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let L=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,j=n3(t,L);if(j&&!t.state.selection.eq(j)){if(xn&&ni&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",X=>X(t,ya(13,"Enter"))))return;let Q=t.state.tr.setSelection(j);L=="pointer"?Q.setMeta("pointer",!0):L=="key"&&Q.scrollIntoView(),s&&Q.setMeta("composition",s),t.dispatch(Q)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=wj(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,f="end"):(h=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=Ej(d.content,c.doc.content,c.from,h,f);if(p&&t.input.domChangeCount++,(Ac&&t.input.lastIOSEnter>Date.now()-225||ni)&&i.some(L=>L.nodeType==1&&!kj.test(L.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",L=>L(t,ya(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof ye&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let L=_7(t,t.state.doc,c.sel);if(L&&!L.eq(t.state.selection)){let j=t.state.tr.setSelection(L);s&&j.setMeta("composition",s),t.dispatch(j)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof ye&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),Zn&&_o<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),b=c.doc.resolveNoCache(p.endB-c.from),y=u.resolve(p.start),w=g.sameParent(b)&&g.parent.inlineContent&&y.end()>=p.endA,C;if((Ac&&t.input.lastIOSEnter>Date.now()-225&&(!w||i.some(L=>L.nodeName=="DIV"||L.nodeName=="P"))||!w&&g.pos<c.doc.content.size&&!g.sameParent(b)&&(C=Se.findFrom(c.doc.resolve(g.pos+1),1,!0))&&C.head==b.pos)&&t.someProp("handleKeyDown",L=>L(t,ya(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&Cj(u,p.start,p.endA,g,b)&&t.someProp("handleKeyDown",L=>L(t,ya(8,"Backspace")))){ni&&xn&&t.domObserver.suppressSelectionUpdates();return}xn&&ni&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),ni&&!w&&g.start()!=b.start()&&b.parentOffset==0&&g.depth==b.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,b=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(L){return L(t,ya(13,"Enter"))})},20));let k=p.start,A=p.endA,x,O,D;if(w){if(g.pos==b.pos)Zn&&_o<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>xs(t),20)),x=t.state.tr.delete(k,A),O=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(D=xj(g.parent.content.cut(g.parentOffset,b.parentOffset),y.parent.content.cut(y.parentOffset,p.endA-y.start()))))x=t.state.tr,D.type=="add"?x.addMark(k,A,D.mark):x.removeMark(k,A,D.mark);else if(g.parent.child(g.index()).isText&&g.index()==b.index()-(b.textOffset?0:1)){let L=g.parent.textBetween(g.parentOffset,b.parentOffset);if(t.someProp("handleTextInput",j=>j(t,k,A,L)))return;x=t.state.tr.insertText(L,k,A)}}if(x||(x=t.state.tr.replace(k,A,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let L=_7(t,x.doc,c.sel);L&&!(xn&&ni&&t.composing&&L.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(L.head==k||L.head==x.mapping.map(A)-1)||Zn&&L.empty&&L.head==k)&&x.setSelection(L)}O&&x.ensureMarks(O),s&&x.setMeta("composition",s),t.dispatch(x.scrollIntoView())}function _7(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:r3(t,e.resolve(n.anchor),e.resolve(n.head))}function xj(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if($.from(c).eq(t))return{mark:a,type:o}}function Cj(t,e,n,r,i){if(n-e<=i.pos-r.pos||wg(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(wg(s,!0,!0));return!o.parent.isTextblock||o.pos>n||wg(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function wg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Ej(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&P7(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&P7(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function P7(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class Tj{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new WF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(j7),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=B7(this),z7(this),this.nodeViews=F7(this),this.docView=g7(this.state.doc,L7(this),yg(this),this.dom,this),this.domObserver=new mj(this,(r,i,s,o)=>Sj(this,r,i,s,o)),this.domObserver.start(),qF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&zv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(j7),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(dE(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=F7(this);Aj(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&zv(this),this.editable=B7(this),z7(this);let l=yg(this),c=L7(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&oF(this);if(o){this.domObserver.stop();let f=d&&(Zn||xn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&Mj(i.selection,e.selection);if(d){let p=xn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=sj(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=g7(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&IF(this))?xs(this,f):(QC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&aF(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof we){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&u7(this,n.getBoundingClientRect(),e)}else u7(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new fE(e.slice,e.move,i<0?void 0:we.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(Zn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&lF(this.dom),xs(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return fF(this,e)}coordsAtPos(e,n=1){return VC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return yF(this,n||this.state,e)}pasteHTML(e,n){return Rd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Rd(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(KF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],yg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,JB())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return JF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Ln&&this.root.nodeType===11&&eF(this.dom.ownerDocument)==this.dom&&vj(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function L7(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Xt.node(0,t.state.doc.content.size,e)]}function z7(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Xt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function B7(t){return!t.someProp("editable",e=>e(t.state)===!1)}function Mj(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function F7(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function Aj(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function j7(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Fo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},up={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Oj=typeof navigator<"u"&&/Mac/.test(navigator.platform),Ij=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var pn=0;pn<10;pn++)Fo[48+pn]=Fo[96+pn]=String(pn);for(var pn=1;pn<=24;pn++)Fo[pn+111]="F"+pn;for(var pn=65;pn<=90;pn++)Fo[pn]=String.fromCharCode(pn+32),up[pn]=String.fromCharCode(pn);for(var bg in Fo)up.hasOwnProperty(bg)||(up[bg]=Fo[bg]);function Nj(t){var e=Oj&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Ij&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?up:Fo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const Rj=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function Dj(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))Rj?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function _j(t){let e=Object.create(null);for(let n in t)e[Dj(n)]=t[n];return e}function kg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function Pj(t){return new ot({props:{handleKeyDown:c3(t)}})}function c3(t){let e=_j(t);return function(n,r){let i=Nj(r),s,o=e[kg(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[kg(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Fo[r.keyCode])&&s!=i){let a=e[kg(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Lj=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function yE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const zj=(t,e,n)=>{let r=yE(t,n);if(!r)return!1;let i=u3(r);if(!i){let o=r.blockRange(),a=o&&qc(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(SE(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Oc(s,"end")||we.isSelectable(s)))for(let o=r.depth;;o--){let a=Bm(t.doc,r.before(o),r.after(o),J.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Oc(s,"end")?Se.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):we.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},Bj=(t,e,n)=>{let r=yE(t,n);if(!r)return!1;let i=u3(r);return i?wE(t,i,e):!1},Fj=(t,e,n)=>{let r=bE(t,n);if(!r)return!1;let i=d3(r);return i?wE(t,i,e):!1};function wE(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Bm(t.doc,s,l,J.empty);if(!c||c.from!=s||c instanceof sn&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(ye.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Oc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const jj=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=u3(r)}let o=s&&s.nodeBefore;return!o||!we.isSelectable(o)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function u3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function bE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const $j=(t,e,n)=>{let r=bE(t,n);if(!r)return!1;let i=d3(r);if(!i)return!1;let s=i.nodeAfter;if(SE(t,i,e,1))return!0;if(r.parent.content.size==0&&(Oc(s,"start")||we.isSelectable(s))){let o=Bm(t.doc,r.before(),r.after(),J.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Oc(s,"start")?Se.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):we.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},Hj=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=d3(r)}let o=s&&s.nodeAfter;return!o||!we.isSelectable(o)?!1:(e&&e(t.tr.setSelection(we.create(t.doc,s.pos)).scrollIntoView()),!0)};function d3(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const Uj=(t,e)=>{let n=t.selection,r=n instanceof we,i;if(r){if(n.node.isTextblock||!ea(t.doc,n.from))return!1;i=n.from}else if(i=zm(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(we.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},Vj=(t,e)=>{let n=t.selection,r;if(n instanceof we){if(n.node.isTextblock||!ea(t.doc,n.to))return!1;r=n.to}else if(r=zm(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},Wj=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&qc(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},qj=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function kE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const Kj=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=kE(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(Se.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},Gj=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof ci||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=kE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(ye.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},Jj=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(rc(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&qc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},Yj=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(we.create(t.doc,i))),!0)};function Xj(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||ea(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function SE(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&Xj(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let f=e.pos+s.nodeSize,p=$.empty;for(let y=o.length-1;y>=0;y--)p=$.from(o[y].create(null,p));p=$.from(i.copy(p));let g=t.tr.step(new an(e.pos-1,f,e.pos,f,new J(p,1,0),o.length,!0)),b=g.doc.resolve(f+2*o.length);b.nodeAfter&&b.nodeAfter.type==i.type&&ea(g.doc,b.pos)&&g.join(b.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:Se.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&qc(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&Oc(s,"start",!0)&&Oc(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=s,b=1;for(;!g.isTextblock;g=g.firstChild)b++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let y=$.empty;for(let C=p.length-1;C>=0;C--)y=$.from(p[C].copy(y));let w=t.tr.step(new an(e.pos-p.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new J(y,p.length,0),0,!0));n(w.scrollIntoView())}return!0}}return!1}function xE(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(ye.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const Qj=xE(-1),Zj=xE(1);function e$(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&X2(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function $7(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function t$(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new Ad(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new Ad(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=X2(l,t,e,o);return c?(r&&r(n$(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function n$(t,e,n,r,i){let s=$.empty;for(let u=n.length-1;u>=0;u--)s=$.from(n[u].type.create(n[u].attrs,s));t.step(new an(e.start-(r?2:0),e.end,e.start,e.end,new J(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&rc(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function r$(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?i$(e,n,t,s):s$(e,n,s):!0:!1}}function i$(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new an(s-1,o,s,o,new J($.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ad(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=qc(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return ea(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function s$(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?$.empty:$.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return r.step(new an(d-(a?1:0),h+(l?1:0),d+1,h-1,new J((a?$.empty:$.from(i.copy($.empty))).append(l?$.empty:$.from(i.copy($.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function o$(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=$.from(c?t.create():null),d=new J($.from(t.create(null,$.from(a.type.create(null,u)))),c?3:1,0),h=s.start,f=s.end;n(e.tr.step(new an(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function Um(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Vm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,f])=>[h,(...g)=>{const b=this.buildProps(c,n),y=f(...g)(b);return a.push(y),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:Um({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class a${constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function Wm(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function CE(t){const e=[],{nodeExtensions:n,markExtensions:r}=Wm(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=ce(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ce(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...s,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function cn(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function wt(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Bv(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>wt(n,r),{})}function EE(t){return typeof t=="function"}function Re(t,e=void 0,...n){return EE(t)?e?t.bind(e)(...n):t(...n):t}function l$(t={}){return Object.keys(t).length===0&&t.constructor===Object}function c$(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function H7(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):c$(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function U7(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&l$(n)?!1:n!=null))}function u$(t,e){var n;const r=CE(t),{nodeExtensions:i,markExtensions:s}=Wm(t),o=(n=i.find(c=>ce(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(y=>y.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((y,w)=>{const C=ce(w,"extendNodeSchema",d);return{...y,...C?C(c):{}}},{}),f=U7({...h,content:Re(ce(c,"content",d)),marks:Re(ce(c,"marks",d)),group:Re(ce(c,"group",d)),inline:Re(ce(c,"inline",d)),atom:Re(ce(c,"atom",d)),selectable:Re(ce(c,"selectable",d)),draggable:Re(ce(c,"draggable",d)),code:Re(ce(c,"code",d)),whitespace:Re(ce(c,"whitespace",d)),defining:Re(ce(c,"defining",d)),isolating:Re(ce(c,"isolating",d)),attrs:Object.fromEntries(u.map(y=>{var w;return[y.name,{default:(w=y==null?void 0:y.attribute)===null||w===void 0?void 0:w.default}]}))}),p=Re(ce(c,"parseHTML",d));p&&(f.parseDOM=p.map(y=>H7(y,u)));const g=ce(c,"renderHTML",d);g&&(f.toDOM=y=>g({node:y,HTMLAttributes:Bv(y,u)}));const b=ce(c,"renderText",d);return b&&(f.toText=b),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(b=>b.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((b,y)=>{const w=ce(y,"extendMarkSchema",d);return{...b,...w?w(c):{}}},{}),f=U7({...h,inclusive:Re(ce(c,"inclusive",d)),excludes:Re(ce(c,"excludes",d)),group:Re(ce(c,"group",d)),spanning:Re(ce(c,"spanning",d)),code:Re(ce(c,"code",d)),attrs:Object.fromEntries(u.map(b=>{var y;return[b.name,{default:(y=b==null?void 0:b.attribute)===null||y===void 0?void 0:y.default}]}))}),p=Re(ce(c,"parseHTML",d));p&&(f.parseDOM=p.map(b=>H7(b,u)));const g=ce(c,"renderHTML",d);return g&&(f.toDOM=b=>g({mark:b,HTMLAttributes:Bv(b,u)})),[c.name,f]}));return new bC({topNode:o,nodes:a,marks:l})}function Sg(t,e){return e.nodes[t]||e.marks[t]||null}function V7(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const d$=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function h3(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class qm{constructor(e){this.find=e.find,this.handler=e.handler}}const h$=(t,e)=>{if(h3(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function th(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=d$(c)+s;return o.forEach(h=>{if(u)return;const f=h$(d,h.find);if(!f)return;const p=l.state.tr,g=Um({state:l.state,transaction:p}),b={from:r-(f[0].length-s.length),to:i},{commands:y,chain:w,can:C}=new Vm({editor:n,state:g});h.handler({state:g,range:b,match:f,commands:y,chain:w,can:C})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),u=!0)}),u}function f$(t){const{editor:e,rules:n}=t,r=new ot({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;th({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return th({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&th({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?th({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function p$(t){return Object.prototype.toString.call(t).slice(8,-1)}function nh(t){return p$(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Km(t,e){const n={...t};return nh(t)&&nh(e)&&Object.keys(e).forEach(r=>{nh(e[r])&&nh(t[r])?n[r]=Km(t[r],e[r]):n[r]=e[r]}),n}class mi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(ce(this,"addOptions",{name:this.name}))),this.storage=Re(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Km(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new mi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Re(ce(n,"addOptions",{name:n.name})),n.storage=Re(ce(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function m$(t){return typeof t=="number"}class g${constructor(e){this.find=e.find,this.handler=e.handler}}const v$=(t,e,n)=>{if(h3(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function y$(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Vm({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(r,p),b=Math.min(i,p+f.content.size),y=f.textBetween(g-p,b-p,void 0,"");v$(y,s.find,o).forEach(C=>{if(C.index===void 0)return;const k=g+C.index+1,A=k+C[0].length,x={from:n.tr.mapping.map(k),to:n.tr.mapping.map(A)},O=s.handler({state:n,range:x,match:C,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(O)})}),d.every(f=>f!==null)}const w$=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function b$(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:h,rule:f,pasteEvt:p})=>{const g=u.tr,b=Um({state:u,transaction:g});if(!(!y$({editor:e,state:b,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new ot({view(d){const h=f=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(s=r===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=h,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!i,b=p.getMeta("uiEvent")==="drop"&&!s,y=p.getMeta("applyPasteRules"),w=!!y;if(!g&&!b&&!w)return;if(w){const{from:A,text:x}=y,O=A+x.length,D=w$(x);return l({rule:u,state:f,from:A,to:{b:O},pasteEvt:D})}const C=h.doc.content.findDiffStart(f.doc.content),k=h.doc.content.findDiffEnd(f.doc.content);if(!(!m$(C)||!k||C===k.b))return l({rule:u,state:f,from:C,to:k,pasteEvt:o})}}))}function k$(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Wl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Wl.resolve(e),this.schema=u$(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Wl.sort(Wl.flatten(e)),r=k$(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ce(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=ce(r,"priority")||100,o=ce(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Sg(n.name,this.schema)},i=ce(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Wl.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Sg(o.name,this.schema)},l=[],c=ce(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&ce(o,"exitable",a)&&(u.ArrowRight=()=>mi.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([b,y])=>[b,()=>y({editor:e})]));u={...u,...g}}const d=Pj(u);l.push(d);const h=ce(o,"addInputRules",a);V7(o,e.options.enableInputRules)&&h&&r.push(...h());const f=ce(o,"addPasteRules",a);V7(o,e.options.enablePasteRules)&&f&&i.push(...f());const p=ce(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[f$({editor:e,rules:r}),...b$({editor:e,rules:i}),...s]}get attributes(){return CE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Wm(this.extensions);return Object.fromEntries(n.filter(r=>!!ce(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:cn(r.name,this.schema)},o=ce(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,d,h)=>{const f=Bv(l,i);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:f})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Sg(e.name,this.schema)};e.type==="mark"&&(!((n=Re(ce(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=ce(e,"onBeforeCreate",r),s=ce(e,"onCreate",r),o=ce(e,"onUpdate",r),a=ce(e,"onSelectionUpdate",r),l=ce(e,"onTransaction",r),c=ce(e,"onFocus",r),u=ce(e,"onBlur",r),d=ce(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class Lt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(ce(this,"addOptions",{name:this.name}))),this.storage=Re(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Lt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Km(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Lt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Re(ce(n,"addOptions",{name:n.name})),n.storage=Re(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function TE(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function ME(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const S$=Lt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new ot({key:new dt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=ME(n);return TE(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),x$=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),C$=(t=!1)=>({commands:e})=>e.setContent("",t),E$=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const p=qc(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(p||p===0)&&e.lift(f,p)})}),!0},T$=t=>e=>t(e),M$=()=>({state:t,dispatch:e})=>Gj(t,e),A$=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new ye(r.doc.resolve(o-1))),!0},O$=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},I$=t=>({tr:e,state:n,dispatch:r})=>{const i=cn(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},N$=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},R$=()=>({state:t,dispatch:e})=>Lj(t,e),D$=()=>({commands:t})=>t.keyboardShortcut("Enter"),_$=()=>({state:t,dispatch:e})=>Kj(t,e);function dp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:h3(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Fv(t,e,n={}){return t.find(r=>r.type===e&&dp(r.attrs,n))}function P$(t,e,n={}){return!!Fv(t,e,n)}function f3(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(c=>c.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(c=>c.type===e))return;const i=Fv([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(Fv([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&P$([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function na(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const L$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=na(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=f3(l,s,e);if(d&&d.from<=c&&d.to>=u){const h=ye.create(o,d.from,d.to);n.setSelection(h)}}return!0},z$=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function p3(t){return t instanceof ye}function ws(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function AE(t,e=null){if(!e)return null;const n=Se.atStart(t),r=Se.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?ye.create(t,ws(0,i,s),ws(t.content.size,i,s)):ye.create(t,ws(e,i,s),ws(e,i,s))}function m3(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const B$=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{m3()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!p3(n.state.selection))return o(),!0;const a=AE(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},F$=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),j$=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),OE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&OE(r)}return t};function rh(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return OE(n)}function hp(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return $.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),hp("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new bC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Wu.fromSchema(l).parseSlice(rh(t),n.parseOptions):Wu.fromSchema(l).parse(rh(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Wu.fromSchema(e);return n.slice?s.parseSlice(rh(t),n.parseOptions).content:s.parse(rh(t),n.parseOptions)}return hp("",e,n)}function $$(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof sn||i instanceof an))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(Se.near(t.doc.resolve(o),n))}const H$=t=>!("type"in t),U$=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=hp(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((H$(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let f;u?(Array.isArray(e)?f=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,r.insertText(f,l,c)):(f=a,r.replaceWith(l,c,f)),n.updateSelection&&$$(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:f}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:f})}return!0},V$=()=>({state:t,dispatch:e})=>Uj(t,e),W$=()=>({state:t,dispatch:e})=>Vj(t,e),q$=()=>({state:t,dispatch:e})=>zj(t,e),K$=()=>({state:t,dispatch:e})=>$j(t,e),G$=()=>({state:t,dispatch:e,tr:n})=>{try{const r=zm(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},J$=()=>({state:t,dispatch:e,tr:n})=>{try{const r=zm(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},Y$=()=>({state:t,dispatch:e})=>Bj(t,e),X$=()=>({state:t,dispatch:e})=>Fj(t,e);function IE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Q$(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))m3()||IE()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const Z$=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=Q$(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function _d(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?cn(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),p=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:p})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>dp(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const eH=(t,e={})=>({state:n,dispatch:r})=>{const i=cn(t,n.schema);return _d(n,i,e)?Wj(n,r):!1},tH=()=>({state:t,dispatch:e})=>Jj(t,e),nH=t=>({state:e,dispatch:n})=>{const r=cn(t,e.schema);return r$(r)(e,n)},rH=()=>({state:t,dispatch:e})=>qj(t,e);function Gm(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function W7(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const iH=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Gm(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=cn(t,r.schema)),a==="mark"&&(o=na(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,W7(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(W7(d.attrs,e)))})})}),!0):!1},sH=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),oH=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),aH=()=>({state:t,dispatch:e})=>jj(t,e),lH=()=>({state:t,dispatch:e})=>Hj(t,e),cH=()=>({state:t,dispatch:e})=>Yj(t,e),uH=()=>({state:t,dispatch:e})=>Zj(t,e),dH=()=>({state:t,dispatch:e})=>Qj(t,e);function jv(t,e,n={},r={}){return hp(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const hH=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=jv(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function NE(t,e){const n=na(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function fH(t,e){const n=new Q2(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function pH(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function mH(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function RE(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function g3(t){return e=>RE(e.$from,t)}function gH(t,e){const n=cl.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function vH(t,e){const n={from:0,to:t.content.size};return TE(t,n,e)}function yH(t,e){const n=cn(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function DE(t,e){const n=Gm(typeof e=="string"?e:e.name,t.schema);return n==="node"?yH(t,e):n==="mark"?NE(t,e):{}}function wH(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function bH(t){const e=wH(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function kH(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),h=e.invert().map(u);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),bH(r)}function v3(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=f3(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function ef(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function $v(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?na(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>dp(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;t.doc.nodesBetween(f,p,(g,b)=>{if(!g.isText&&!g.marks.length)return;const y=Math.max(f,b),w=Math.min(p,b+g.nodeSize),C=w-y;o+=C,a.push(...g.marks.map(k=>({mark:k,from:y,to:w})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>dp(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function SH(t,e,n={}){if(!e)return _d(t,null,n)||$v(t,null,n);const r=Gm(e,t.schema);return r==="node"?_d(t,e,n):r==="mark"?$v(t,e,n):!1}function q7(t,e){const{nodeExtensions:n}=Wm(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Re(ce(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function Jm(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(Jm(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function _E(t){return t instanceof we}function xH(t,e,n){const i=t.state.doc.content.size,s=ws(e,0,i),o=ws(n,0,i),a=t.coordsAtPos(s),l=t.coordsAtPos(o,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),h=Math.max(a.right,l.right),f=h-d,p=u-c,y={top:c,bottom:u,left:d,right:h,width:f,height:p,x:d,y:c};return{...y,toJSON:()=>y}}function CH(t,e,n){var r;const{selection:i}=e;let s=null;if(p3(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=f&&p}return!c}),c})}const EH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=na(t,r.schema);if(i)if(o){const c=NE(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,f)=>{const p=Math.max(f,u),g=Math.min(f+h.nodeSize,d);h.marks.find(y=>y.type===l)?h.marks.forEach(y=>{l===y.type&&n.addMark(p,g,l.create({...y.attrs,...e}))}):n.addMark(p,g,l.create(e))})});return CH(r,n,l)},TH=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),MH=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=cn(t,n.schema);return s.isTextblock?i().command(({commands:o})=>$7(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>$7(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},AH=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=ws(t,0,r.content.size),s=we.create(r,i);e.setSelection(s)}return!0},OH=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=ye.atStart(r).from,a=ye.atEnd(r).to,l=ws(i,o,a),c=ws(s,o,a),u=ye.create(r,l,c);e.setSelection(u)}return!0},IH=t=>({state:e,dispatch:n})=>{const r=cn(t,e.schema);return o$(r)(e,n)};function K7(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const NH=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=ef(c,a.node().type.name,a.node().attrs);if(s instanceof we&&s.node.isBlock)return!a.parentOffset||!rc(o,a.pos)?!1:(r&&(t&&K7(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:pH(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,p=rc(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&rc(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(p&&(s instanceof ye&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),b=e.doc.resolve(g);a.node(-1).canReplaceWith(b.index(),b.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&K7(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},RH=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=cn(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let y=$.empty;const w=l.index(-1)?1:l.index(-2)?2:3;for(let D=l.depth-w;D>=l.depth-3;D-=1)y=$.from(l.node(D).copy(y));const C=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,k={...ef(h,l.node().type.name,l.node().attrs),...e},A=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(k))||void 0;y=y.append($.from(a.createAndFill(null,A)||void 0));const x=l.before(l.depth-(w-1));n.replace(x,l.after(-C),new J(y,4-w,0));let O=-1;n.doc.nodesBetween(x,n.doc.content.size,(D,L)=>{if(O>-1)return!1;D.isTextblock&&D.content.size===0&&(O=L+1)}),O>-1&&n.setSelection(ye.near(n.doc.resolve(O))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...ef(h,d.type.name,d.attrs),...e},g={...ef(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const b=f?[{type:a,attrs:p},{type:f,attrs:g}]:[{type:a,attrs:p}];if(!rc(n.doc,l.pos,2))return!1;if(i){const{selection:y,storedMarks:w}=r,{splittableMarks:C}=s.extensionManager,k=w||y.$to.parentOffset&&y.$from.marks();if(n.split(l.pos,2,b).scrollIntoView(),!k||!i)return!0;const A=k.filter(x=>C.includes(x.type.name));n.ensureMarks(A)}return!0},xg=(t,e)=>{const n=g3(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ea(t.doc,n.pos)&&t.join(n.pos),!0},Cg=(t,e)=>{const n=g3(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&ea(t.doc,r)&&t.join(r),!0},DH=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=cn(t,o.schema),p=cn(e,o.schema),{selection:g,storedMarks:b}=o,{$from:y,$to:w}=g,C=y.blockRange(w),k=b||g.$to.parentOffset&&g.$from.marks();if(!C)return!1;const A=g3(x=>q7(x.type.name,d))(g);if(C.depth>=1&&A&&C.depth-A.depth<=1){if(A.node.type===f)return c.liftListItem(p);if(q7(A.node.type.name,d)&&f.validContent(A.node.content)&&a)return l().command(()=>(s.setNodeMarkup(A.pos,f),!0)).command(()=>xg(s,f)).command(()=>Cg(s,f)).run()}return!n||!k||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>xg(s,f)).command(()=>Cg(s,f)).run():l().command(()=>{const x=u().wrapInList(f,r),O=k.filter(D=>h.includes(D.type.name));return s.ensureMarks(O),x?!0:c.clearNodes()}).wrapInList(f,r).command(()=>xg(s,f)).command(()=>Cg(s,f)).run()},_H=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=na(t,r.schema);return $v(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},PH=(t,e,n={})=>({state:r,commands:i})=>{const s=cn(t,r.schema),o=cn(e,r.schema),a=_d(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},LH=(t,e={})=>({state:n,commands:r})=>{const i=cn(t,n.schema);return _d(n,i,e)?r.lift(i):r.wrapIn(i,e)},zH=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},BH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},FH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=na(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:h,to:f}=a;const p=(s=c.marks().find(b=>b.type===l))===null||s===void 0?void 0:s.attrs,g=f3(c,l,p);g&&(h=g.from,f=g.to),n.removeMark(h,f,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},jH=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=Gm(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=cn(t,r.schema)),a==="mark"&&(o=na(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,h)=>{s&&s===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(f=>{if(o===f.type){const p=Math.max(h,c),g=Math.min(h+d.nodeSize,u);n.addMark(p,g,o.create({...f.attrs,...e}))}})})}),!0):!1},$H=(t,e={})=>({state:n,dispatch:r})=>{const i=cn(t,n.schema);return e$(i,e)(n,r)},HH=(t,e={})=>({state:n,dispatch:r})=>{const i=cn(t,n.schema);return t$(i,e)(n,r)};var UH=Object.freeze({__proto__:null,blur:x$,clearContent:C$,clearNodes:E$,command:T$,createParagraphNear:M$,cut:A$,deleteCurrentNode:O$,deleteNode:I$,deleteRange:N$,deleteSelection:R$,enter:D$,exitCode:_$,extendMarkRange:L$,first:z$,focus:B$,forEach:F$,insertContent:j$,insertContentAt:U$,joinBackward:q$,joinDown:W$,joinForward:K$,joinItemBackward:G$,joinItemForward:J$,joinTextblockBackward:Y$,joinTextblockForward:X$,joinUp:V$,keyboardShortcut:Z$,lift:eH,liftEmptyBlock:tH,liftListItem:nH,newlineInCode:rH,resetAttributes:iH,scrollIntoView:sH,selectAll:oH,selectNodeBackward:aH,selectNodeForward:lH,selectParentNode:cH,selectTextblockEnd:uH,selectTextblockStart:dH,setContent:hH,setMark:EH,setMeta:TH,setNode:MH,setNodeSelection:AH,setTextSelection:OH,sinkListItem:IH,splitBlock:NH,splitListItem:RH,toggleList:DH,toggleMark:_H,toggleNode:PH,toggleWrap:LH,undoInputRule:zH,unsetAllMarks:BH,unsetMark:FH,updateAttributes:jH,wrapIn:$H,wrapInList:HH});const VH=Lt.create({name:"commands",addCommands(){return{...UH}}}),WH=Lt.create({name:"drop",addProseMirrorPlugins(){return[new ot({key:new dt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),qH=Lt.create({name:"editable",addProseMirrorPlugins(){return[new ot({key:new dt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),KH=Lt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ot({key:new dt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),GH=Lt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,b=d.pos-d.parentOffset,y=g&&p.parent.childCount===1?b===d.pos:Se.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!y||y&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return m3()||IE()?s:i},addProseMirrorPlugins(){return[new ot({key:new dt("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=Se.atStart(e.doc).from,c=Se.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!Jm(n.doc))return;const h=n.tr,f=Um({state:n,transaction:h}),{commands:p}=new Vm({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),JH=Lt.create({name:"paste",addProseMirrorPlugins(){return[new ot({key:new dt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),YH=Lt.create({name:"tabindex",addProseMirrorPlugins(){return[new ot({key:new dt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class wa{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new wa(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new wa(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new wa(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new wa(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new wa(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const XH=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function QH(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let ZH=class extends a${constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=QH(XH,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=EE(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[qH,S$.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),VH,KH,GH,YH,WH,JH].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Wl(i,this)}createCommandManager(){this.commandManager=new Vm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=jv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=jv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=AE(e,this.options.autofocus);this.view=new Tj(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Vl.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return DE(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return SH(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return gH(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return vH(this.state.doc,{blockSeparator:n,textSerializers:{...ME(this.schema),...r}})}get isEmpty(){return Jm(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new wa(n,this)}get $doc(){return this.$pos(0)}};function Za(t){return new qm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Re(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(v3(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function PE(t){return new qm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=Re(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function Hv(t){return new qm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=Re(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Pd(t){return new qm({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=Re(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&X2(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:f}=t.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(b=>f.includes(b.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&ea(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class Qt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=Re(ce(this,"addOptions",{name:this.name}))),this.storage=Re(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Qt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>Km(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new Qt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=Re(ce(n,"addOptions",{name:n.name})),n.storage=Re(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function jo(t){return new g$({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=Re(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(v3(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(b=>b===t.type&&b!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var er="top",$r="bottom",Hr="right",tr="left",y3="auto",y0=[er,$r,Hr,tr],Ic="start",Ld="end",eU="clippingParents",LE="viewport",wu="popper",tU="reference",G7=y0.reduce(function(t,e){return t.concat([e+"-"+Ic,e+"-"+Ld])},[]),zE=[].concat(y0,[y3]).reduce(function(t,e){return t.concat([e,e+"-"+Ic,e+"-"+Ld])},[]),nU="beforeRead",rU="read",iU="afterRead",sU="beforeMain",oU="main",aU="afterMain",lU="beforeWrite",cU="write",uU="afterWrite",dU=[nU,rU,iU,sU,oU,aU,lU,cU,uU];function Gi(t){return t?(t.nodeName||"").toLowerCase():null}function gr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function el(t){var e=gr(t).Element;return t instanceof e||t instanceof Element}function Lr(t){var e=gr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function w3(t){if(typeof ShadowRoot>"u")return!1;var e=gr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function hU(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Lr(s)||!Gi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function fU(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Lr(i)||!Gi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const BE={name:"applyStyles",enabled:!0,phase:"write",fn:hU,effect:fU,requires:["computeStyles"]};function Wi(t){return t.split("-")[0]}var Fa=Math.max,fp=Math.min,Nc=Math.round;function Uv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function FE(){return!/^((?!chrome|android).)*safari/i.test(Uv())}function Rc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Lr(t)&&(i=t.offsetWidth>0&&Nc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Nc(r.height)/t.offsetHeight||1);var o=el(t)?gr(t):window,a=o.visualViewport,l=!FE()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function b3(t){var e=Rc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function jE(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&w3(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function _s(t){return gr(t).getComputedStyle(t)}function pU(t){return["table","td","th"].indexOf(Gi(t))>=0}function ra(t){return((el(t)?t.ownerDocument:t.document)||window.document).documentElement}function Ym(t){return Gi(t)==="html"?t:t.assignedSlot||t.parentNode||(w3(t)?t.host:null)||ra(t)}function J7(t){return!Lr(t)||_s(t).position==="fixed"?null:t.offsetParent}function mU(t){var e=/firefox/i.test(Uv()),n=/Trident/i.test(Uv());if(n&&Lr(t)){var r=_s(t);if(r.position==="fixed")return null}var i=Ym(t);for(w3(i)&&(i=i.host);Lr(i)&&["html","body"].indexOf(Gi(i))<0;){var s=_s(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function w0(t){for(var e=gr(t),n=J7(t);n&&pU(n)&&_s(n).position==="static";)n=J7(n);return n&&(Gi(n)==="html"||Gi(n)==="body"&&_s(n).position==="static")?e:n||mU(t)||e}function k3(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Ju(t,e,n){return Fa(t,fp(e,n))}function gU(t,e,n){var r=Ju(t,e,n);return r>n?n:r}function $E(){return{top:0,right:0,bottom:0,left:0}}function HE(t){return Object.assign({},$E(),t)}function UE(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var vU=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,HE(typeof e!="number"?e:UE(e,y0))};function yU(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Wi(n.placement),l=k3(a),c=[tr,Hr].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=vU(i.padding,n),h=b3(s),f=l==="y"?er:tr,p=l==="y"?$r:Hr,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],b=o[l]-n.rects.reference[l],y=w0(s),w=y?l==="y"?y.clientHeight||0:y.clientWidth||0:0,C=g/2-b/2,k=d[f],A=w-h[u]-d[p],x=w/2-h[u]/2+C,O=Ju(k,x,A),D=l;n.modifiersData[r]=(e={},e[D]=O,e.centerOffset=O-x,e)}}function wU(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||jE(e.elements.popper,i)&&(e.elements.arrow=i))}const bU={name:"arrow",enabled:!0,phase:"main",fn:yU,effect:wU,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Dc(t){return t.split("-")[1]}var kU={top:"auto",right:"auto",bottom:"auto",left:"auto"};function SU(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Nc(n*i)/i||0,y:Nc(r*i)/i||0}}function Y7(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,b=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=b.x,g=b.y;var y=o.hasOwnProperty("x"),w=o.hasOwnProperty("y"),C=tr,k=er,A=window;if(c){var x=w0(n),O="clientHeight",D="clientWidth";if(x===gr(n)&&(x=ra(n),_s(x).position!=="static"&&a==="absolute"&&(O="scrollHeight",D="scrollWidth")),x=x,i===er||(i===tr||i===Hr)&&s===Ld){k=$r;var L=d&&x===A&&A.visualViewport?A.visualViewport.height:x[O];g-=L-r.height,g*=l?1:-1}if(i===tr||(i===er||i===$r)&&s===Ld){C=Hr;var j=d&&x===A&&A.visualViewport?A.visualViewport.width:x[D];f-=j-r.width,f*=l?1:-1}}var Q=Object.assign({position:a},c&&kU),X=u===!0?SU({x:f,y:g},gr(n)):{x:f,y:g};if(f=X.x,g=X.y,l){var oe;return Object.assign({},Q,(oe={},oe[k]=w?"0":"",oe[C]=y?"0":"",oe.transform=(A.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",oe))}return Object.assign({},Q,(e={},e[k]=w?g+"px":"",e[C]=y?f+"px":"",e.transform="",e))}function xU(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Wi(e.placement),variation:Dc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Y7(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Y7(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const CU={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:xU,data:{}};var ih={passive:!0};function EU(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=gr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,ih)}),a&&l.addEventListener("resize",n.update,ih),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,ih)}),a&&l.removeEventListener("resize",n.update,ih)}}const TU={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:EU,data:{}};var MU={left:"right",right:"left",bottom:"top",top:"bottom"};function tf(t){return t.replace(/left|right|bottom|top/g,function(e){return MU[e]})}var AU={start:"end",end:"start"};function X7(t){return t.replace(/start|end/g,function(e){return AU[e]})}function S3(t){var e=gr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function x3(t){return Rc(ra(t)).left+S3(t).scrollLeft}function OU(t,e){var n=gr(t),r=ra(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=FE();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+x3(t),y:l}}function IU(t){var e,n=ra(t),r=S3(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Fa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Fa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+x3(t),l=-r.scrollTop;return _s(i||n).direction==="rtl"&&(a+=Fa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function C3(t){var e=_s(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function VE(t){return["html","body","#document"].indexOf(Gi(t))>=0?t.ownerDocument.body:Lr(t)&&C3(t)?t:VE(Ym(t))}function Yu(t,e){var n;e===void 0&&(e=[]);var r=VE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=gr(r),o=i?[s].concat(s.visualViewport||[],C3(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(Yu(Ym(o)))}function Vv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function NU(t,e){var n=Rc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Q7(t,e,n){return e===LE?Vv(OU(t,n)):el(e)?NU(e,n):Vv(IU(ra(t)))}function RU(t){var e=Yu(Ym(t)),n=["absolute","fixed"].indexOf(_s(t).position)>=0,r=n&&Lr(t)?w0(t):t;return el(r)?e.filter(function(i){return el(i)&&jE(i,r)&&Gi(i)!=="body"}):[]}function DU(t,e,n,r){var i=e==="clippingParents"?RU(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=Q7(t,c,r);return l.top=Fa(u.top,l.top),l.right=fp(u.right,l.right),l.bottom=fp(u.bottom,l.bottom),l.left=Fa(u.left,l.left),l},Q7(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function WE(t){var e=t.reference,n=t.element,r=t.placement,i=r?Wi(r):null,s=r?Dc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case er:l={x:o,y:e.y-n.height};break;case $r:l={x:o,y:e.y+e.height};break;case Hr:l={x:e.x+e.width,y:a};break;case tr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?k3(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case Ic:l[c]=l[c]-(e[u]/2-n[u]/2);break;case Ld:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function zd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?eU:a,c=n.rootBoundary,u=c===void 0?LE:c,d=n.elementContext,h=d===void 0?wu:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,b=g===void 0?0:g,y=HE(typeof b!="number"?b:UE(b,y0)),w=h===wu?tU:wu,C=t.rects.popper,k=t.elements[p?w:h],A=DU(el(k)?k:k.contextElement||ra(t.elements.popper),l,u,o),x=Rc(t.elements.reference),O=WE({reference:x,element:C,strategy:"absolute",placement:i}),D=Vv(Object.assign({},C,O)),L=h===wu?D:x,j={top:A.top-L.top+y.top,bottom:L.bottom-A.bottom+y.bottom,left:A.left-L.left+y.left,right:L.right-A.right+y.right},Q=t.modifiersData.offset;if(h===wu&&Q){var X=Q[i];Object.keys(j).forEach(function(oe){var me=[Hr,$r].indexOf(oe)>=0?1:-1,Oe=[er,$r].indexOf(oe)>=0?"y":"x";j[oe]+=X[Oe]*me})}return j}function _U(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?zE:l,u=Dc(r),d=u?a?G7:G7.filter(function(p){return Dc(p)===u}):y0,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=zd(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[Wi(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function PU(t){if(Wi(t)===y3)return[];var e=tf(t);return[X7(t),e,X7(e)]}function LU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,b=e.options.placement,y=Wi(b),w=y===b,C=l||(w||!p?[tf(b)]:PU(b)),k=[b].concat(C).reduce(function(Be,Fe){return Be.concat(Wi(Fe)===y3?_U(e,{placement:Fe,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:g}):Fe)},[]),A=e.rects.reference,x=e.rects.popper,O=new Map,D=!0,L=k[0],j=0;j<k.length;j++){var Q=k[j],X=Wi(Q),oe=Dc(Q)===Ic,me=[er,$r].indexOf(X)>=0,Oe=me?"width":"height",Me=zd(e,{placement:Q,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),he=me?oe?Hr:tr:oe?$r:er;A[Oe]>x[Oe]&&(he=tf(he));var H=tf(he),ee=[];if(s&&ee.push(Me[X]<=0),a&&ee.push(Me[he]<=0,Me[H]<=0),ee.every(function(Be){return Be})){L=Q,D=!1;break}O.set(Q,ee)}if(D)for(var te=p?3:1,ge=function(Fe){var je=k.find(function(Qe){var gt=O.get(Qe);if(gt)return gt.slice(0,Fe).every(function(zt){return zt})});if(je)return L=je,"break"},de=te;de>0;de--){var tt=ge(de);if(tt==="break")break}e.placement!==L&&(e.modifiersData[r]._skip=!0,e.placement=L,e.reset=!0)}}const zU={name:"flip",enabled:!0,phase:"main",fn:LU,requiresIfExists:["offset"],data:{_skip:!1}};function Z7(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function e8(t){return[er,Hr,$r,tr].some(function(e){return t[e]>=0})}function BU(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=zd(e,{elementContext:"reference"}),a=zd(e,{altBoundary:!0}),l=Z7(o,r),c=Z7(a,i,s),u=e8(l),d=e8(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const FU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:BU};function jU(t,e,n){var r=Wi(t),i=[tr,er].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[tr,Hr].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function $U(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=zE.reduce(function(u,d){return u[d]=jU(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const HU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$U};function UU(t){var e=t.state,n=t.name;e.modifiersData[n]=WE({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const VU={name:"popperOffsets",enabled:!0,phase:"read",fn:UU,data:{}};function WU(t){return t==="x"?"y":"x"}function qU(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,b=zd(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),y=Wi(e.placement),w=Dc(e.placement),C=!w,k=k3(y),A=WU(k),x=e.modifiersData.popperOffsets,O=e.rects.reference,D=e.rects.popper,L=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,j=typeof L=="number"?{mainAxis:L,altAxis:L}:Object.assign({mainAxis:0,altAxis:0},L),Q=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,X={x:0,y:0};if(x){if(s){var oe,me=k==="y"?er:tr,Oe=k==="y"?$r:Hr,Me=k==="y"?"height":"width",he=x[k],H=he+b[me],ee=he-b[Oe],te=f?-D[Me]/2:0,ge=w===Ic?O[Me]:D[Me],de=w===Ic?-D[Me]:-O[Me],tt=e.elements.arrow,Be=f&&tt?b3(tt):{width:0,height:0},Fe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:$E(),je=Fe[me],Qe=Fe[Oe],gt=Ju(0,O[Me],Be[Me]),zt=C?O[Me]/2-te-gt-je-j.mainAxis:ge-gt-je-j.mainAxis,Gt=C?-O[Me]/2+te+gt+Qe+j.mainAxis:de+gt+Qe+j.mainAxis,Je=e.elements.arrow&&w0(e.elements.arrow),At=Je?k==="y"?Je.clientTop||0:Je.clientLeft||0:0,wi=(oe=Q==null?void 0:Q[k])!=null?oe:0,bi=he+zt-wi-At,An=he+Gt-wi,ki=Ju(f?fp(H,bi):H,he,f?Fa(ee,An):ee);x[k]=ki,X[k]=ki-he}if(a){var Wr,Sr=k==="x"?er:tr,qr=k==="x"?$r:Hr,Kr=x[A],Si=A==="y"?"height":"width",oa=Kr+b[Sr],On=Kr-b[qr],Gr=[er,tr].indexOf(y)!==-1,aa=(Wr=Q==null?void 0:Q[A])!=null?Wr:0,Us=Gr?oa:Kr-O[Si]-D[Si]-aa+j.altAxis,rr=Gr?Kr+O[Si]+D[Si]-aa-j.altAxis:On,Hn=f&&Gr?gU(Us,Kr,rr):Ju(f?Us:oa,Kr,f?rr:On);x[A]=Hn,X[A]=Hn-Kr}e.modifiersData[r]=X}}const KU={name:"preventOverflow",enabled:!0,phase:"main",fn:qU,requiresIfExists:["offset"]};function GU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function JU(t){return t===gr(t)||!Lr(t)?S3(t):GU(t)}function YU(t){var e=t.getBoundingClientRect(),n=Nc(e.width)/t.offsetWidth||1,r=Nc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function XU(t,e,n){n===void 0&&(n=!1);var r=Lr(e),i=Lr(e)&&YU(e),s=ra(e),o=Rc(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Gi(e)!=="body"||C3(s))&&(a=JU(e)),Lr(e)?(l=Rc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=x3(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function QU(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function ZU(t){var e=QU(t);return dU.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function eV(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function tV(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var t8={placement:"bottom",modifiers:[],strategy:"absolute"};function n8(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function nV(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?t8:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},t8,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(y){var w=typeof y=="function"?y(u.options):y;g(),u.options=Object.assign({},s,u.options,w),u.scrollParents={reference:el(a)?Yu(a):a.contextElement?Yu(a.contextElement):[],popper:Yu(l)};var C=ZU(tV([].concat(r,u.options.modifiers)));return u.orderedModifiers=C.filter(function(k){return k.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var y=u.elements,w=y.reference,C=y.popper;if(n8(w,C)){u.rects={reference:XU(w,w0(C),u.options.strategy==="fixed"),popper:b3(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(j){return u.modifiersData[j.name]=Object.assign({},j.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var A=u.orderedModifiers[k],x=A.fn,O=A.options,D=O===void 0?{}:O,L=A.name;typeof x=="function"&&(u=x({state:u,options:D,name:L,instance:f})||u)}}}},update:eV(function(){return new Promise(function(b){f.forceUpdate(),b(u)})}),destroy:function(){g(),h=!0}};if(!n8(a,l))return f;f.setOptions(c).then(function(b){!h&&c.onFirstUpdate&&c.onFirstUpdate(b)});function p(){u.orderedModifiers.forEach(function(b){var y=b.name,w=b.options,C=w===void 0?{}:w,k=b.effect;if(typeof k=="function"){var A=k({state:u,name:y,instance:f,options:C}),x=function(){};d.push(A||x)}})}function g(){d.forEach(function(b){return b()}),d=[]}return f}}var rV=[TU,VU,CU,BE,HU,zU,KU,bU,FU],iV=nV({defaultModifiers:rV}),sV="tippy-box",qE="tippy-content",oV="tippy-backdrop",KE="tippy-arrow",GE="tippy-svg-arrow",ma={passive:!0,capture:!0},JE=function(){return document.body};function Eg(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function E3(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function YE(t,e){return typeof t=="function"?t.apply(void 0,e):t}function r8(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function aV(t){return t.split(/\s+/).filter(Boolean)}function Al(t){return[].concat(t)}function i8(t,e){t.indexOf(e)===-1&&t.push(e)}function lV(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function cV(t){return t.split("-")[0]}function pp(t){return[].slice.call(t)}function s8(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Xu(){return document.createElement("div")}function Xm(t){return["Element","Fragment"].some(function(e){return E3(t,e)})}function uV(t){return E3(t,"NodeList")}function dV(t){return E3(t,"MouseEvent")}function hV(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function fV(t){return Xm(t)?[t]:uV(t)?pp(t):Array.isArray(t)?t:pp(document.querySelectorAll(t))}function Tg(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function o8(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function pV(t){var e,n=Al(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function mV(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=cV(o.placement),u=o.modifiersData.offset;if(!u)return!0;var d=c==="bottom"?u.top.y:0,h=c==="top"?u.bottom.y:0,f=c==="right"?u.left.x:0,p=c==="left"?u.right.x:0,g=s.top-r+d>l,b=r-s.bottom-h>l,y=s.left-n+f>l,w=n-s.right-p>l;return g||b||y||w})}function Mg(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function a8(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var _i={isTouch:!1},l8=0;function gV(){_i.isTouch||(_i.isTouch=!0,window.performance&&document.addEventListener("mousemove",XE))}function XE(){var t=performance.now();t-l8<20&&(_i.isTouch=!1,document.removeEventListener("mousemove",XE)),l8=t}function vV(){var t=document.activeElement;if(hV(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function yV(){document.addEventListener("touchstart",gV,ma),window.addEventListener("blur",vV)}var wV=typeof window<"u"&&typeof document<"u",bV=wV?!!window.msCrypto:!1,kV={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},SV={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},si=Object.assign({appendTo:JE,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},kV,SV),xV=Object.keys(si),CV=function(e){var n=Object.keys(e);n.forEach(function(r){si[r]=e[r]})};function QE(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=si[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function EV(t,e){var n=e?Object.keys(QE(Object.assign({},si,{plugins:e}))):xV,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function c8(t,e){var n=Object.assign({},e,{content:YE(e.content,[t])},e.ignoreAttributes?{}:EV(t,e.plugins));return n.aria=Object.assign({},si.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var TV=function(){return"innerHTML"};function Wv(t,e){t[TV()]=e}function u8(t){var e=Xu();return t===!0?e.className=KE:(e.className=GE,Xm(t)?e.appendChild(t):Wv(e,t)),e}function d8(t,e){Xm(e.content)?(Wv(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Wv(t,e.content):t.textContent=e.content)}function qv(t){var e=t.firstElementChild,n=pp(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(qE)}),arrow:n.find(function(r){return r.classList.contains(KE)||r.classList.contains(GE)}),backdrop:n.find(function(r){return r.classList.contains(oV)})}}function ZE(t){var e=Xu(),n=Xu();n.className=sV,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=Xu();r.className=qE,r.setAttribute("data-state","hidden"),d8(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=qv(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&d8(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(u8(o.arrow))):l.appendChild(u8(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}ZE.$$tippy=!0;var MV=1,sh=[],Ag=[];function AV(t,e){var n=c8(t,Object.assign({},si,QE(s8(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,u,d,h,f=[],p=r8(bi,n.interactiveDebounce),g,b=MV++,y=null,w=lV(n.plugins),C={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:b,reference:t,popper:Xu(),popperInstance:y,props:n,state:C,plugins:w,clearDelayTimeouts:Us,setProps:rr,setContent:Hn,show:T0,hide:hl,hideWithInteractivity:w1,enable:Gr,disable:aa,unmount:xi,destroy:M0};if(!n.render)return k;var A=n.render(k),x=A.popper,O=A.onUpdate;x.setAttribute("data-tippy-root",""),x.id="tippy-"+k.id,k.popper=x,t._tippy=k,x._tippy=k;var D=w.map(function(F){return F.fn(k)}),L=t.hasAttribute("aria-expanded");return Je(),te(),he(),H("onCreate",[k]),n.showOnCreate&&oa(),x.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),x.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&me().addEventListener("mousemove",p)}),k;function j(){var F=k.props.touch;return Array.isArray(F)?F:[F,0]}function Q(){return j()[0]==="hold"}function X(){var F;return!!((F=k.props.render)!=null&&F.$$tippy)}function oe(){return g||t}function me(){var F=oe().parentNode;return F?pV(F):document}function Oe(){return qv(x)}function Me(F){return k.state.isMounted&&!k.state.isVisible||_i.isTouch||u&&u.type==="focus"?0:Eg(k.props.delay,F?0:1,si.delay)}function he(F){F===void 0&&(F=!1),x.style.pointerEvents=k.props.interactive&&!F?"":"none",x.style.zIndex=""+k.props.zIndex}function H(F,ae,xe){if(xe===void 0&&(xe=!0),D.forEach(function(_e){_e[F]&&_e[F].apply(_e,ae)}),xe){var We;(We=k.props)[F].apply(We,ae)}}function ee(){var F=k.props.aria;if(F.content){var ae="aria-"+F.content,xe=x.id,We=Al(k.props.triggerTarget||t);We.forEach(function(_e){var en=_e.getAttribute(ae);if(k.state.isVisible)_e.setAttribute(ae,en?en+" "+xe:xe);else{var yn=en&&en.replace(xe,"").trim();yn?_e.setAttribute(ae,yn):_e.removeAttribute(ae)}})}}function te(){if(!(L||!k.props.aria.expanded)){var F=Al(k.props.triggerTarget||t);F.forEach(function(ae){k.props.interactive?ae.setAttribute("aria-expanded",k.state.isVisible&&ae===oe()?"true":"false"):ae.removeAttribute("aria-expanded")})}}function ge(){me().removeEventListener("mousemove",p),sh=sh.filter(function(F){return F!==p})}function de(F){if(!(_i.isTouch&&(l||F.type==="mousedown"))){var ae=F.composedPath&&F.composedPath()[0]||F.target;if(!(k.props.interactive&&a8(x,ae))){if(Al(k.props.triggerTarget||t).some(function(xe){return a8(xe,ae)})){if(_i.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else H("onClickOutside",[k,F]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),a=!0,setTimeout(function(){a=!1}),k.state.isMounted||je())}}}function tt(){l=!0}function Be(){l=!1}function Fe(){var F=me();F.addEventListener("mousedown",de,!0),F.addEventListener("touchend",de,ma),F.addEventListener("touchstart",Be,ma),F.addEventListener("touchmove",tt,ma)}function je(){var F=me();F.removeEventListener("mousedown",de,!0),F.removeEventListener("touchend",de,ma),F.removeEventListener("touchstart",Be,ma),F.removeEventListener("touchmove",tt,ma)}function Qe(F,ae){zt(F,function(){!k.state.isVisible&&x.parentNode&&x.parentNode.contains(x)&&ae()})}function gt(F,ae){zt(F,ae)}function zt(F,ae){var xe=Oe().box;function We(_e){_e.target===xe&&(Mg(xe,"remove",We),ae())}if(F===0)return ae();Mg(xe,"remove",d),Mg(xe,"add",We),d=We}function Gt(F,ae,xe){xe===void 0&&(xe=!1);var We=Al(k.props.triggerTarget||t);We.forEach(function(_e){_e.addEventListener(F,ae,xe),f.push({node:_e,eventType:F,handler:ae,options:xe})})}function Je(){Q()&&(Gt("touchstart",wi,{passive:!0}),Gt("touchend",An,{passive:!0})),aV(k.props.trigger).forEach(function(F){if(F!=="manual")switch(Gt(F,wi),F){case"mouseenter":Gt("mouseleave",An);break;case"focus":Gt(bV?"focusout":"blur",ki);break;case"focusin":Gt("focusout",ki);break}})}function At(){f.forEach(function(F){var ae=F.node,xe=F.eventType,We=F.handler,_e=F.options;ae.removeEventListener(xe,We,_e)}),f=[]}function wi(F){var ae,xe=!1;if(!(!k.state.isEnabled||Wr(F)||a)){var We=((ae=u)==null?void 0:ae.type)==="focus";u=F,g=F.currentTarget,te(),!k.state.isVisible&&dV(F)&&sh.forEach(function(_e){return _e(F)}),F.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||o)&&k.props.hideOnClick!==!1&&k.state.isVisible?xe=!0:oa(F),F.type==="click"&&(o=!xe),xe&&!We&&On(F)}}function bi(F){var ae=F.target,xe=oe().contains(ae)||x.contains(ae);if(!(F.type==="mousemove"&&xe)){var We=Si().concat(x).map(function(_e){var en,yn=_e._tippy,Ci=(en=yn.popperInstance)==null?void 0:en.state;return Ci?{popperRect:_e.getBoundingClientRect(),popperState:Ci,props:n}:null}).filter(Boolean);mV(We,F)&&(ge(),On(F))}}function An(F){var ae=Wr(F)||k.props.trigger.indexOf("click")>=0&&o;if(!ae){if(k.props.interactive){k.hideWithInteractivity(F);return}On(F)}}function ki(F){k.props.trigger.indexOf("focusin")<0&&F.target!==oe()||k.props.interactive&&F.relatedTarget&&x.contains(F.relatedTarget)||On(F)}function Wr(F){return _i.isTouch?Q()!==F.type.indexOf("touch")>=0:!1}function Sr(){qr();var F=k.props,ae=F.popperOptions,xe=F.placement,We=F.offset,_e=F.getReferenceClientRect,en=F.moveTransition,yn=X()?qv(x).arrow:null,Ci=_e?{getBoundingClientRect:_e,contextElement:_e.contextElement||oe()}:t,A0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(la){var Jr=la.state;if(X()){var fl=Oe(),ru=fl.box;["placement","reference-hidden","escaped"].forEach(function(pl){pl==="placement"?ru.setAttribute("data-placement",Jr.placement):Jr.attributes.popper["data-popper-"+pl]?ru.setAttribute("data-"+pl,""):ru.removeAttribute("data-"+pl)}),Jr.attributes.popper={}}}},Ei=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!en}},A0];X()&&yn&&Ei.push({name:"arrow",options:{element:yn,padding:3}}),Ei.push.apply(Ei,(ae==null?void 0:ae.modifiers)||[]),k.popperInstance=iV(Ci,x,Object.assign({},ae,{placement:xe,onFirstUpdate:h,modifiers:Ei}))}function qr(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function Kr(){var F=k.props.appendTo,ae,xe=oe();k.props.interactive&&F===JE||F==="parent"?ae=xe.parentNode:ae=YE(F,[xe]),ae.contains(x)||ae.appendChild(x),k.state.isMounted=!0,Sr()}function Si(){return pp(x.querySelectorAll("[data-tippy-root]"))}function oa(F){k.clearDelayTimeouts(),F&&H("onTrigger",[k,F]),Fe();var ae=Me(!0),xe=j(),We=xe[0],_e=xe[1];_i.isTouch&&We==="hold"&&_e&&(ae=_e),ae?r=setTimeout(function(){k.show()},ae):k.show()}function On(F){if(k.clearDelayTimeouts(),H("onUntrigger",[k,F]),!k.state.isVisible){je();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(F.type)>=0&&o)){var ae=Me(!1);ae?i=setTimeout(function(){k.state.isVisible&&k.hide()},ae):s=requestAnimationFrame(function(){k.hide()})}}function Gr(){k.state.isEnabled=!0}function aa(){k.hide(),k.state.isEnabled=!1}function Us(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function rr(F){if(!k.state.isDestroyed){H("onBeforeUpdate",[k,F]),At();var ae=k.props,xe=c8(t,Object.assign({},ae,s8(F),{ignoreAttributes:!0}));k.props=xe,Je(),ae.interactiveDebounce!==xe.interactiveDebounce&&(ge(),p=r8(bi,xe.interactiveDebounce)),ae.triggerTarget&&!xe.triggerTarget?Al(ae.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):xe.triggerTarget&&t.removeAttribute("aria-expanded"),te(),he(),O&&O(ae,xe),k.popperInstance&&(Sr(),Si().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),H("onAfterUpdate",[k,F])}}function Hn(F){k.setProps({content:F})}function T0(){var F=k.state.isVisible,ae=k.state.isDestroyed,xe=!k.state.isEnabled,We=_i.isTouch&&!k.props.touch,_e=Eg(k.props.duration,0,si.duration);if(!(F||ae||xe||We)&&!oe().hasAttribute("disabled")&&(H("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,X()&&(x.style.visibility="visible"),he(),Fe(),k.state.isMounted||(x.style.transition="none"),X()){var en=Oe(),yn=en.box,Ci=en.content;Tg([yn,Ci],0)}h=function(){var Ei;if(!(!k.state.isVisible||c)){if(c=!0,x.offsetHeight,x.style.transition=k.props.moveTransition,X()&&k.props.animation){var nu=Oe(),la=nu.box,Jr=nu.content;Tg([la,Jr],_e),o8([la,Jr],"visible")}ee(),te(),i8(Ag,k),(Ei=k.popperInstance)==null||Ei.forceUpdate(),H("onMount",[k]),k.props.animation&&X()&&gt(_e,function(){k.state.isShown=!0,H("onShown",[k])})}},Kr()}}function hl(){var F=!k.state.isVisible,ae=k.state.isDestroyed,xe=!k.state.isEnabled,We=Eg(k.props.duration,1,si.duration);if(!(F||ae||xe)&&(H("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,c=!1,o=!1,X()&&(x.style.visibility="hidden"),ge(),je(),he(!0),X()){var _e=Oe(),en=_e.box,yn=_e.content;k.props.animation&&(Tg([en,yn],We),o8([en,yn],"hidden"))}ee(),te(),k.props.animation?X()&&Qe(We,k.unmount):k.unmount()}}function w1(F){me().addEventListener("mousemove",p),i8(sh,p),p(F)}function xi(){k.state.isVisible&&k.hide(),k.state.isMounted&&(qr(),Si().forEach(function(F){F._tippy.unmount()}),x.parentNode&&x.parentNode.removeChild(x),Ag=Ag.filter(function(F){return F!==k}),k.state.isMounted=!1,H("onHidden",[k]))}function M0(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),At(),delete t._tippy,k.state.isDestroyed=!0,H("onDestroy",[k]))}}function Kc(t,e){e===void 0&&(e={});var n=si.plugins.concat(e.plugins||[]);yV();var r=Object.assign({},e,{plugins:n}),i=fV(t),s=i.reduce(function(o,a){var l=a&&AV(a,r);return l&&o.push(l),o},[]);return Xm(t)?s[0]:s}Kc.defaultProps=si;Kc.setDefaultProps=CV;Kc.currentInput=_i;Object.assign({},BE,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Kc.setDefaultProps({render:ZE});class OV{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:c,to:u})=>{const{doc:d,selection:h}=l,{empty:f}=h,p=!d.textBetween(c,u).length&&p3(l.selection),g=this.element.contains(document.activeElement);return!(!(a.hasFocus()||g)||f||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,l)=>{const c=!(l!=null&&l.selection.eq(a.state.selection)),u=!(l!=null&&l.doc.eq(a.state.doc));!c&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,u,l)},this.updateDelay))},this.updateHandler=(a,l,c,u)=>{var d,h,f;const{state:p,composing:g}=a,{selection:b}=p;if(g||!l&&!c)return;this.createTooltip();const{ranges:w}=b,C=Math.min(...w.map(x=>x.$from.pos)),k=Math.max(...w.map(x=>x.$to.pos));if(!((d=this.shouldShow)===null||d===void 0?void 0:d.call(this,{editor:this.editor,view:a,state:p,oldState:u,from:C,to:k}))){this.hide();return}(h=this.tippy)===null||h===void 0||h.setProps({getReferenceClientRect:((f=this.tippyOptions)===null||f===void 0?void 0:f.getReferenceClientRect)||(()=>{if(_E(p.selection)){let x=a.nodeDOM(C);const O=x.dataset.nodeViewWrapper?x:x.querySelector("[data-node-view-wrapper]");if(O&&(x=O.firstChild),x)return x.getBoundingClientRect()}return xH(a,C,k)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Kc(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),o=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,o,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const eT=t=>new ot({key:typeof t.pluginKey=="string"?new dt(t.pluginKey):t.pluginKey,view:e=>new OV({view:e,...t})});Lt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[eT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function IV(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var tT={exports:{}},Og={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h8;function NV(){if(h8)return Og;h8=1;var t=Ct;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var f=h(),p=r({inst:{value:f,getSnapshot:h}}),g=p[0].inst,b=p[1];return s(function(){g.value=f,g.getSnapshot=h,l(g)&&b({inst:g})},[d,f,h]),i(function(){return l(g)&&b({inst:g}),d(function(){l(g)&&b({inst:g})})},[d]),o(f),f}function l(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!n(d,f)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Og.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Og}tT.exports=NV();var T3=tT.exports;const RV=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},DV=({contentComponent:t})=>{const e=T3.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Ct.createElement(Ct.Fragment,null,Object.values(e))};function _V(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:y9.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class PV extends Ct.Component{constructor(e){var n;super(e),this.editorContentRef=Ct.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=_V(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Ct.createElement(Ct.Fragment,null,Ct.createElement("div",{ref:RV(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Ct.createElement(DV,{contentComponent:e.contentComponent}))}}const LV=B.forwardRef((t,e)=>{const n=Ct.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ct.createElement(PV,{key:n,innerRef:e,...t})}),zV=Ct.memo(LV);var BV=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},FV=IV(BV),nT={exports:{}},Ig={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f8;function jV(){if(f8)return Ig;f8=1;var t=Ct,e=T3;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return Ig.useSyncExternalStoreWithSelector=function(c,u,d,h,f){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function y(x){if(!w){if(w=!0,C=x,x=h(x),f!==void 0&&g.hasValue){var O=g.value;if(f(O,x))return k=O}return k=x}if(O=k,r(C,x))return O;var D=h(x);return f!==void 0&&f(O,D)?O:(C=x,k=D)}var w=!1,C,k,A=d===void 0?null:d;return[function(){return y(u())},A===null?void 0:function(){return y(A())}]},[u,d,h,f]);var b=i(c,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=b},[b]),l(b),b},Ig}nT.exports=jV();var $V=nT.exports;class HV{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function UV(t){var e;const[n]=B.useState(()=>new HV(t.editor)),r=$V.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:FV);return B.useEffect(()=>n.watch(t.editor),[t.editor,n]),B.useDebugValue(r),r}const VV=!1,Kv=typeof window>"u",WV=Kv||!!(typeof window<"u"&&window.next);class qV{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Kv||WV?null:this.createEditor();if(this.options.current.immediatelyRender&&Kv&&VV)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new ZH(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function KV(t={},e=[]){const n=B.useRef(t);n.current=t;const[r]=B.useState(()=>new qV(n)),i=T3.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return B.useDebugValue(i),B.useEffect(r.onRender(e)),UV({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const rT=B.createContext({editor:null});rT.Consumer;const GV=()=>B.useContext(rT),JV=t=>{const[e,n]=B.useState(null),{editor:r}=GV();return B.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:o,tippyOptions:a={},updateDelay:l,shouldShow:c=null}=t,u=o||r;if(!u){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const d=eT({updateDelay:l,editor:u,element:e,pluginKey:s,shouldShow:c,tippyOptions:a});return u.registerPlugin(d),()=>{u.unregisterPlugin(s)}},[t.editor,r,e]),Ct.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},YV=B.createContext({onDragStart:void 0}),XV=()=>B.useContext(YV);Ct.forwardRef((t,e)=>{const{onDragStart:n}=XV(),r=t.as||"div";return Ct.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const QV=/^\s*>\s$/,iT=Qt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Pd({find:QV,type:this.type})]}}),ZV=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,eW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,tW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,nW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,sT=mi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Za({find:ZV,type:this.type}),Za({find:tW,type:this.type})]},addPasteRules(){return[jo({find:eW,type:this.type}),jo({find:nW,type:this.type})]}}),rW="listItem",p8="textStyle",m8=/^\s*([-+*])\s$/,oT=Qt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(rW,this.editor.getAttributes(p8)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Pd({find:m8,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Pd({find:m8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(p8),editor:this.editor})),[t]}}),iW=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,sW=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,aT=mi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Za({find:iW,type:this.type})]},addPasteRules(){return[jo({find:sW,type:this.type})]}}),oW=/^```([a-z]+)?[\s\n]$/,aW=/^~~~([a-z]+)?[\s\n]$/,lW=Qt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",wt(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(Se.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Hv({find:oW,type:this.type,getAttributes:t=>({language:t[1]})}),Hv({find:aW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new ot({key:new dt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(ye.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),lT=Qt.create({name:"doc",topNode:!0,content:"block+"});function cW(t={}){return new ot({view(e){return new uW(e,t)}})}class uW{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=NC(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const cT=Lt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[cW(this.options)]}});class _t extends Se{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return _t.valid(r)?new _t(r):Se.near(r)}content(){return J.empty}eq(e){return e instanceof _t&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new _t(e.resolve(n.pos))}getBookmark(){return new M3(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!dW(e)||!hW(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&_t.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(_t.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!we.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(_t.valid(a))return a}return null}}}_t.prototype.visible=!1;_t.findFrom=_t.findGapCursorFrom;Se.jsonID("gapcursor",_t);class M3{constructor(e){this.pos=e}map(e){return new M3(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return _t.valid(n)?new _t(n):Se.near(n)}}function dW(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function hW(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function fW(){return new ot({props:{decorations:vW,createSelectionBetween(t,e,n){return e.pos==n.pos&&_t.valid(n)?new _t(n):null},handleClick:mW,handleKeyDown:pW,handleDOMEvents:{beforeinput:gW}}})}const pW=c3({ArrowLeft:oh("horiz",-1),ArrowRight:oh("horiz",1),ArrowUp:oh("vert",-1),ArrowDown:oh("vert",1)});function oh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof ye){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=_t.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new _t(c))),!0):!1}}function mW(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!_t.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&we.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new _t(r))),!0)}function gW(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof _t))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=$.empty;for(let o=r.length-1;o>=0;o--)i=$.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new J(i,0,0));return s.setSelection(ye.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function vW(t){if(!(t.selection instanceof _t))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",et.create(t.doc,[Xt.widget(t.selection.head,e,{key:"gapcursor"})])}const yW=Lt.create({name:"gapCursor",addProseMirrorPlugins(){return[fW()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Re(ce(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),wW=Qt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",wt(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),uT=Qt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,wt(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Hv({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var mp=200,ln=function(){};ln.prototype.append=function(e){return e.length?(e=ln.from(e),!this.length&&e||e.length<mp&&this.leafAppend(e)||this.length<mp&&e.leafPrepend(this)||this.appendInner(e)):this};ln.prototype.prepend=function(e){return e.length?ln.from(e).append(this):this};ln.prototype.appendInner=function(e){return new bW(this,e)};ln.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?ln.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};ln.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};ln.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};ln.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};ln.from=function(e){return e instanceof ln?e:e&&e.length?new dT(e):ln.empty};var dT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=mp)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=mp)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(ln);ln.empty=new dT([]);var bW=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(ln);const kW=500;class ri{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new qs(d.map));let f=d.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new qs(p,void 0,void 0,c.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new ri(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new qs(e.mapping.maps[u],d,n),f;(f=l&&l.merge(h))&&(h=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let c=o-r.depth;return c>xW&&(a=SW(a,c),o-=c),new ri(a.append(s),o)}remapping(e,n){let r=new nc;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new ri(this.items.append(e.map(n=>new qs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),b=h.selection&&h.selection.map(s.slice(l+1,f));b&&a++,r.push(new qs(p,g,b))}else r.push(new qs(p))},i);let c=[];for(let h=n;h<o;h++)c.push(new qs(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new ri(u,a);return d.emptyItemCount()>kW&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new qs(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&r--},this.items.length,0),new ri(ln.from(i.reverse()),s)}}ri.empty=new ri(ln.empty,0);function SW(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let qs=class hT{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new hT(n.getMap().invert(),n,this.selection)}}};class ro{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const xW=20;function CW(t,e,n,r){let i=n.getMeta(ja),s;if(i)return i.historyState;n.getMeta(MW)&&(t=new ro(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(ja))return o.getMeta(ja).redo?new ro(t.done.addTransform(n,void 0,r,nf(e)),t.undone,g8(n.mapping.maps),t.prevTime,t.prevComposition):new ro(t.done,t.undone.addTransform(n,void 0,r,nf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!EW(n,t.prevRanges)),c=o?Ng(t.prevRanges,n.mapping):g8(n.mapping.maps);return new ro(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,nf(e)),ri.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new ro(t.done.rebased(n,s),t.undone.rebased(n,s),Ng(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ro(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ng(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function EW(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function g8(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Ng(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function TW(t,e,n){let r=nf(e),i=ja.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new ro(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(ja,{redo:n,historyState:l})}let Rg=!1,v8=null;function nf(t){let e=t.plugins;if(v8!=e){Rg=!1,v8=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Rg=!0;break}}return Rg}const ja=new dt("history"),MW=new dt("closeHistory");function AW(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new ot({key:ja,state:{init(){return new ro(ri.empty,ri.empty,null,0,-1)},apply(e,n,r){return CW(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?pT:r=="historyRedo"?mT:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function fT(t,e){return(n,r)=>{let i=ja.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=TW(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const pT=fT(!1,!0),mT=fT(!0,!0),OW=Lt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>pT(t,e),redo:()=>({state:t,dispatch:e})=>mT(t,e)}},addProseMirrorPlugins(){return[AW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),gT=Qt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",wt(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):_E(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(ye.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(we.create(o.doc,c.pos)):o.setSelection(ye.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(ye.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[PE({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),IW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,NW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,RW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,DW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,vT=mi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Za({find:IW,type:this.type}),Za({find:RW,type:this.type})]},addPasteRules(){return[jo({find:NW,type:this.type}),jo({find:DW,type:this.type})]}}),yT=Qt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",wt(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),_W="listItem",y8="textStyle",w8=/^(\d+)\.\s$/,wT=Qt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",wt(this.options.HTMLAttributes,n),0]:["ol",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(_W,this.editor.getAttributes(y8)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Pd({find:w8,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Pd({find:w8,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(y8)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),PW=Qt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),LW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,zW=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,bT=mi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Za({find:LW,type:this.type})]},addPasteRules(){return[jo({find:zW,type:this.type})]}}),BW=Qt.create({name:"text",group:"inline"}),FW=Lt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,g,b,y;const w=[];return this.options.bold!==!1&&w.push(sT.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&w.push(iT.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&w.push(oT.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&w.push(aT.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&w.push(lW.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&w.push(lT.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&w.push(cT.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&w.push(yW.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&w.push(wW.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&w.push(uT.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&w.push(OW.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&w.push(gT.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&w.push(vT.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&w.push(yT.configure((f=this.options)===null||f===void 0?void 0:f.listItem)),this.options.orderedList!==!1&&w.push(wT.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&w.push(PW.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&w.push(bT.configure((b=this.options)===null||b===void 0?void 0:b.strike)),this.options.text!==!1&&w.push(BW.configure((y=this.options)===null||y===void 0?void 0:y.text)),w}});var Gv,Jv;if(typeof WeakMap<"u"){let t=new WeakMap;Gv=e=>t.get(e),Jv=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;Gv=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},Jv=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Pt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const a=(t+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(t){return Gv(t)||Jv(t,jW(t))}};function jW(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=$W(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;const g=d.child(p),{colspan:b,rowspan:y,colwidth:w}=g.attrs;for(let C=0;C<y;C++){if(C+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:y-C});break}const k=i+C*e;for(let A=0;A<b;A++){r[k+A]==0?r[k+A]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:b-A});const x=w&&w[A];if(x){const O=(k+A)%e*2,D=o[O];D==null||D!=x&&o[O+1]==1?(o[O]=x,o[O+1]=1):D==x&&o[O+1]++}}}i+=b,u+=g.nodeSize}const h=(c+1)*e;let f=0;for(;i<h;)r[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:c,n:f}),u++}const a=new Pt(e,n,r,s);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<n&&(l=!0);return l&&HW(a,o,t),a}function $W(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function HW(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%t.width,d=e[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((a||(a=UW(l)))[c]=d)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function UW(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function Tn(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var fo=new dt("selectingCells");function Gc(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function VW(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function vi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function Qm(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=Gc(e.$head)||WW(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function WW(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function Yv(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function qW(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function A3(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function kT(t,e,n){const r=t.node(-1),i=Pt.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}function tl(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function ST(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function KW(t,e,n){const r=Tn(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var ct=class as extends Se{constructor(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(u=>u!=n.pos-s);l.unshift(n.pos-s);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const h=s+u+1;return new Z2(a.resolve(h),a.resolve(h+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(Yv(r)&&Yv(i)&&A3(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?as.rowSelection(r,i):s&&this.isColSelection()?as.colSelection(r,i):new as(r,i)}return ye.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Pt.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const h=n.map[u];if(s[h])continue;s[h]=!0;const f=n.findCell(h);let p=e.nodeAt(h);if(!p)throw RangeError(`No cell with offset ${h} found`);const g=i.left-f.left,b=f.right-i.right;if(g>0||b>0){let y=p.attrs;if(g>0&&(y=tl(y,0,g)),b>0&&(y=tl(y,y.colspan-b,b)),f.left<i.left){if(p=p.type.createAndFill(y),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(y)}`)}else p=p.type.create(y,p.content)}if(f.top<i.top||f.bottom>i.bottom){const y={...p.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?p=p.type.createAndFill(y):p=p.type.create(y,p.content)}c.push(p)}o.push(e.child(l).copy($.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new J($.from(a),1,1)}replace(e,n=J.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),o?J.empty:n)}const s=Se.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new J($.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Pt.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new as(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Pt.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(e){return e instanceof as&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new as(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new as(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new as(e.resolve(n),e.resolve(r))}getBookmark(){return new GW(this.$anchorCell.pos,this.$headCell.pos)}};ct.prototype.visible=!1;Se.jsonID("cell",ct);var GW=class xT{constructor(e,n){this.anchor=e,this.head=n}map(e){return new xT(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&A3(n,r)?new ct(n,r):Se.near(r,1)}};function JW(t){if(!(t.selection instanceof ct))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Xt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),et.create(t.doc,e)}function YW({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function XW({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function QW(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof we&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=ct.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=ct.rowSelection(a,a)}else if(!n){const a=Pt.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];s=ct.create(i,l+1,c)}}else r instanceof ye&&YW(r)?s=ye.create(i,r.from):r instanceof ye&&XW(r)&&(s=ye.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var ZW=new dt("fix-tables");function CT(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let c=a,u=Math.min(i,o+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?CT(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function ET(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=eq(t,i,s,n))};return e?e.doc!=t.doc&&CT(e.doc,t.doc,0,r):t.doc.descendants(r),n}function eq(t,e,n,r){const i=Pt.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let h=0;h<d.rowspan;h++)s[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,tl(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),d=c+u.nodeSize,h=s[l];if(h>0){let f="cell";u.firstChild&&(f=u.firstChild.type.spec.tableRole);const p=[];for(let b=0;b<h;b++){const y=Tn(t.schema)[f].createAndFill();y&&p.push(y)}const g=(l==0||o==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),p)}c=d}return r.setMeta(ZW,{fixTables:!0})}function Qi(t){const e=t.selection,n=Qm(t),r=n.node(-1),i=n.start(-1),s=Pt.get(r);return{...e instanceof ct?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function TT(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;KW(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,ST(c.attrs,i-e.colCount(l))),o+=c.attrs.rowspan-1}else{const l=s==null?Tn(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,c=e.positionAt(o,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function tq(t,e){if(!vi(t))return!1;if(e){const n=Qi(t);e(TT(t.tr,n,n.left))}return!0}function nq(t,e){if(!vi(t))return!1;if(e){const n=Qi(t);e(TT(t.tr,n,n.right))}return!0}function rq(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,tl(u,i-e.colCount(l)));else{const d=t.mapping.slice(s).map(r+l);t.delete(d,d+c.nodeSize)}o+=u.rowspan}}function iq(t,e){if(!vi(t))return!1;if(e){const n=Qi(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;rq(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Pt.get(s)}e(r)}return!0}function sq(t,e,n){var r;const i=Tn(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function MT(t,{map:e,tableStart:n,table:r},i){var s;let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const a=[];let l=i>0?-1:0;sq(e,r,i+l)&&(l=i==0||i==e.height?null:0);for(let c=0,u=e.width*i;c<e.width;c++,u++)if(i>0&&i<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],h=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...h,rowspan:h.rowspan+1}),c+=h.colspan-1}else{const d=l==null?Tn(r.type.schema).cell:(s=r.nodeAt(e.map[u+l*e.width]))==null?void 0:s.type,h=d==null?void 0:d.createAndFill();h&&a.push(h)}return t.insert(o,Tn(r.type.schema).row.create(null,a)),t}function oq(t,e){if(!vi(t))return!1;if(e){const n=Qi(t);e(MT(t.tr,n,n.top))}return!0}function aq(t,e){if(!vi(t))return!1;if(e){const n=Qi(t);e(MT(t.tr,n,n.bottom))}return!0}function lq(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const o=s+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+r,o+r);const l=new Set;for(let c=0,u=i*e.width;c<e.width;c++,u++){const d=e.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==e.map[u-e.width]){const h=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...h,rowspan:h.rowspan-1}),c+=h.colspan-1}else if(i<e.height&&d==e.map[u+e.width]){const h=n.nodeAt(d),f=h.attrs,p=h.type.create({...f,rowspan:h.attrs.rowspan-1},h.content),g=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(a).map(r+g),p),c+=f.colspan-1}}}}function cq(t,e){if(!vi(t))return!1;if(e){const n=Qi(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;lq(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Pt.get(n.table)}e(r)}return!0}function b8(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function uq({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[a]==n[a+1])return!0;s+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}function k8(t,e){const n=t.selection;if(!(n instanceof ct)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=Qi(t),{map:i}=r;if(uq(i,r))return!1;if(e){const s=t.tr,o={};let a=$.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const h=i.map[u*i.width+d],f=r.table.nodeAt(h);if(!(o[h]||!f))if(o[h]=!0,l==null)l=h,c=f;else{b8(f)||(a=a.append(f.content));const p=s.mapping.map(h+r.tableStart);s.delete(p,p+f.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...ST(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const u=l+1+c.content.size,d=b8(c)?l+1:u;s.replaceWith(d+r.tableStart,u+r.tableStart,a)}s.setSelection(new ct(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function S8(t,e){const n=Tn(t.schema);return dq(({node:r})=>n[r.type.spec.tableRole])(t,e)}function dq(t){return(e,n)=>{var r;const i=e.selection;let s,o;if(i instanceof ct){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=VW(i.$from),!s)return!1;o=(r=Gc(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let a=s.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=Qi(e),d=e.tr;for(let f=0;f<u.right-u.left;f++)l.push(c?{...a,colwidth:c&&c[f]?[c[f]]:null}:a);let h;for(let f=u.top;f<u.bottom;f++){let p=u.map.positionAt(f,u.left,u.table);f==u.top&&(p+=s.nodeSize);for(let g=u.left,b=0;g<u.right;g++,b++)g==u.left&&f==u.top||d.insert(h=d.mapping.map(p+u.tableStart,1),t({node:s,row:f,col:g}).createAndFill(l[b]))}d.setNodeMarkup(o,t({node:s,row:u.top,col:u.left}),l[0]),i instanceof ct&&d.setSelection(new ct(d.doc.resolve(i.$anchorCell.pos),h?d.doc.resolve(h):void 0)),n(d)}return!0}}function hq(t,e){return function(n,r){if(!vi(n))return!1;const i=Qm(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof ct?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function fq(t){return function(e,n){if(!vi(e))return!1;if(n){const r=Tn(e.schema),i=Qi(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function x8(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function Bd(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?fq(t):function(n,r){if(!vi(n))return!1;if(r){const i=Tn(n.schema),s=Qi(n),o=n.tr,a=x8("row",s,i),l=x8("column",s,i),u=(t==="column"?a:t==="row"?l:!1)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,h=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(f=>{const p=f+s.tableStart,g=o.doc.nodeAt(p);g&&o.setNodeMarkup(p,h,g.attrs)}),r(o)}return!0}}Bd("row",{useDeprecatedLogic:!0});Bd("column",{useDeprecatedLogic:!0});var pq=Bd("cell",{useDeprecatedLogic:!0});function mq(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function C8(t){return function(e,n){if(!vi(e))return!1;const r=mq(Qm(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(ye.between(i,qW(i))).scrollIntoView())}return!0}}function gq(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function ah(t,e){const n=t.selection;if(!(n instanceof ct))return!1;if(e){const r=t.tr,i=Tn(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new J(i,0,0))}),r.docChanged&&e(r)}return!0}function vq(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=Xv(Tn(o).row,new J(c,u,d)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(n||r?Xv(Tn(o).row,new J(e,n,r)).content:e);else return null;return yq(o,a)}function yq(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push($.empty),n[i]<r){const s=Tn(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append($.from(o))}return{height:e.length,width:r,rows:e}}function Xv(t,e){const n=t.createAndFill();return new Q2(n).replace(0,n.content.size,e).doc}function wq({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=s[a]||0,d=0;u<r;d++){let h=l.child(d%l.childCount);u+h.attrs.colspan>r&&(h=h.type.createChecked(tl(h.attrs,h.attrs.colspan,u+h.attrs.colspan-r),h.content)),c.push(h),u+=h.attrs.colspan;for(let f=1;f<h.attrs.rowspan;f++)s[a+f]=(s[a+f]||0)+h.attrs.colspan}o.push($.from(c))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push($.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function bq(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=Tn(a);let c,u;if(i>e.width)for(let d=0,h=0;d<e.height;d++){const f=n.child(d);h+=f.nodeSize;const p=[];let g;f.lastChild==null||f.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let b=e.width;b<i;b++)p.push(g);t.insert(t.mapping.slice(o).map(h-1+r),p)}if(s>e.height){const d=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const b=p>=e.width?!1:n.nodeAt(e.map[g+p]).type==l.header_cell;d.push(b?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,$.from(d)),f=[];for(let p=e.height;p<s;p++)f.push(h);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),f)}return!!(c||u)}function E8(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const u=o*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const h=n.nodeAt(d),{top:f,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...h.attrs,rowspan:o-f}),t.insert(t.mapping.slice(a).map(e.positionAt(o,p,n)),h.type.createAndFill({...h.attrs,rowspan:f+h.attrs.rowspan-o})),c+=h.attrs.colspan-1}}return l}function T8(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const u=c*e.width+o,d=e.map[u];if(e.map[u-1]==d){l=!0;const h=n.nodeAt(d),f=e.colCount(d),p=t.mapping.slice(a).map(d+r);t.setNodeMarkup(p,null,tl(h.attrs,o-f,h.attrs.colspan-(o-f))),t.insert(p+h.nodeSize,h.type.createAndFill(tl(h.attrs,0,o-f))),c+=h.attrs.rowspan-1}}return l}function M8(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=Pt.get(s);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=t.tr;let h=0;function f(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");o=Pt.get(s),h=d.mapping.maps.length}bq(d,o,s,n,c,u,h)&&f(),E8(d,o,s,n,l,c,a,h)&&f(),E8(d,o,s,n,l,c,u,h)&&f(),T8(d,o,s,n,a,u,l,h)&&f(),T8(d,o,s,n,a,u,c,h)&&f();for(let p=a;p<u;p++){const g=o.positionAt(p,l,s),b=o.positionAt(p,c,s);d.replace(d.mapping.slice(h).map(g+n),d.mapping.slice(h).map(b+n),new J(i.rows[p-a],0,0))}f(),d.setSelection(new ct(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(u-1,c-1,s)))),e(d)}var kq=c3({ArrowLeft:lh("horiz",-1),ArrowRight:lh("horiz",1),ArrowUp:lh("vert",-1),ArrowDown:lh("vert",1),"Shift-ArrowLeft":ch("horiz",-1),"Shift-ArrowRight":ch("horiz",1),"Shift-ArrowUp":ch("vert",-1),"Shift-ArrowDown":ch("vert",1),Backspace:ah,"Mod-Backspace":ah,Delete:ah,"Mod-Delete":ah});function rf(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function lh(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof ct)return rf(n,r,Se.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=AT(i,t,e);if(o==null)return!1;if(t=="horiz")return rf(n,r,Se.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=kT(a,t,e);let c;return l?c=Se.near(l,1):e<0?c=Se.near(n.doc.resolve(a.before(-1)),-1):c=Se.near(n.doc.resolve(a.after(-1)),1),rf(n,r,c)}}}function ch(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof ct)o=s;else{const l=AT(i,t,e);if(l==null)return!1;o=new ct(n.doc.resolve(l))}const a=kT(o.$headCell,t,e);return a?rf(n,r,new ct(o.$anchorCell,a)):!1}}function Sq(t,e){const n=t.state.doc,r=Gc(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new ct(r))),!0):!1}function xq(t,e,n){if(!vi(t.state))return!1;let r=vq(n);const i=t.state.selection;if(i instanceof ct){r||(r={width:1,height:1,rows:[$.from(Xv(Tn(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Pt.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=wq(r,a.right-a.left,a.bottom-a.top),M8(t.state,t.dispatch,o,a,r),!0}else if(r){const s=Qm(t.state),o=s.start(-1);return M8(t.state,t.dispatch,o,Pt.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Cq(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=A8(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof ct)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=Gc(t.state.selection.$anchor))!=null&&((n=Dg(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(l,c){let u=Dg(t,c);const d=fo.getState(t.state)==null;if(!u||!A3(l,u))if(d)u=l;else return;const h=new ct(l,u);if(d||!t.state.selection.eq(h)){const f=t.state.tr.setSelection(h);d&&f.setMeta(fo,l.pos),t.dispatch(f)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),fo.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(fo,-1))}function a(l){const c=l,u=fo.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(A8(t,c.target)!=r&&(d=Dg(t,e),!d))return o();d&&s(d,c)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function AT(t,e,n){if(!(t.state.selection instanceof ye))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function A8(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Dg(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?Gc(t.state.doc.resolve(n.pos)):null}var Eq=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Qv(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,Qv(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function Qv(t,e,n,r,i,s){var o;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,h=0;d<u.childCount;d++){const{colspan:f,colwidth:p}=u.child(d).attrs;for(let g=0;g<f;g++,h++){const b=i==h?s:p&&p[g],y=b?b+"px":"";if(a+=b||r,b||(l=!1),c)c.style.width!=y&&(c.style.width=y),c=c.nextSibling;else{const w=document.createElement("col");w.style.width=y,e.appendChild(w)}}}for(;c;){const d=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var ur=new dt("tableColumnResizing");function Tq({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=Eq,lastColumnResizable:i=!0}={}){const s=new ot({key:ur,state:{init(o,a){var l,c;const u=(c=(l=s.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,d=Tn(a.schema).table.name;return r&&u&&(u[d]=(h,f)=>new r(h,n,f)),new Mq(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=ur.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Aq(o,a,t,i)},mouseleave:o=>{Oq(o)},mousedown:(o,a)=>{Iq(o,a,e,n)}},decorations:o=>{const a=ur.getState(o);if(a&&a.activeHandle>-1)return Pq(o,a.activeHandle)},nodeViews:{}}});return s}var Mq=class sf{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(ur);if(r&&r.setHandle!=null)return new sf(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new sf(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return Yv(e.doc.resolve(i))||(i=-1),new sf(i,n.dragging)}return n}};function Aq(t,e,n,r){const i=ur.getState(t.state);if(i&&!i.dragging){const s=Rq(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();e.clientX-a<=n?o=O8(t,e,"left",n):l-e.clientX<=n&&(o=O8(t,e,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=t.state.doc.resolve(o),l=a.node(-1),c=Pt.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}OT(t,o)}}}function Oq(t){const e=ur.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&OT(t,-1)}function Iq(t,e,n,r){var i;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,o=ur.getState(t.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=t.state.doc.nodeAt(o.activeHandle),l=Nq(t,o.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(ur,{setDragging:{startX:e.clientX,startWidth:l}}));function c(d){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",u);const h=ur.getState(t.state);h!=null&&h.dragging&&(Dq(t,h.activeHandle,I8(h.dragging,d,n)),t.dispatch(t.state.tr.setMeta(ur,{setDragging:null})))}function u(d){if(!d.which)return c(d);const h=ur.getState(t.state);if(h&&h.dragging){const f=I8(h.dragging,d,n);N8(t,h.activeHandle,f,r)}}return N8(t,o.activeHandle,l,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",u),e.preventDefault(),!0}function Nq(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function Rq(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function O8(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=Gc(t.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Pt.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function I8(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function OT(t,e){t.dispatch(t.state.tr.setMeta(ur,{setHandle:e}))}function Dq(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=Pt.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+a;if(c&&s.map[u]==s.map[u-s.width])continue;const d=s.map[u],h=i.nodeAt(d).attrs,f=h.colspan==1?0:a-s.colCount(d);if(h.colwidth&&h.colwidth[f]==n)continue;const p=h.colwidth?h.colwidth.slice():_q(h.colspan);p[f]=n,l.setNodeMarkup(o+d,null,{...h,colwidth:p})}l.docChanged&&t.dispatch(l)}function N8(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=Pt.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&Qv(s,l.firstChild,l,r,a,n)}function _q(t){return Array(t).fill(0)}function Pq(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return et.empty;const o=Pt.get(s),a=i.start(-1),l=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const u=l+c*o.width;if((l==o.width-1||o.map[u]!=o.map[u+1])&&(c==0||o.map[u]!=o.map[u-o.width])){const d=o.map[u],h=a+d+s.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",(n=ur.getState(t))!=null&&n.dragging&&r.push(Xt.node(a+d,a+d+s.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(Xt.widget(h,f))}}return et.create(t.doc,r)}function Lq({allowTableNodeSelection:t=!1}={}){return new ot({key:fo,state:{init(){return null},apply(e,n){const r=e.getMeta(fo);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:JW,handleDOMEvents:{mousedown:Cq},createSelectionBetween(e){return fo.getState(e.state)!=null?e.state.selection:null},handleTripleClick:Sq,handleKeyDown:kq,handlePaste:xq},appendTransaction(e,n,r){return QW(r,ET(r,n),t)}})}function R8(t,e,n,r,i,s){let o=0,a=!0,l=e.firstChild;const c=t.firstChild;for(let u=0,d=0;u<c.childCount;u+=1){const{colspan:h,colwidth:f}=c.child(u).attrs;for(let p=0;p<h;p+=1,d+=1){const g=i===d?s:f&&f[p],b=g?`${g}px`:"";o+=g||r,g||(a=!1),l?(l.style.width!==b&&(l.style.width=b),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=b}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}class zq{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),R8(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,R8(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function Bq(t,e,n,r){let i=0,s=!0;const o=[],a=t.firstChild;if(!a)return{};for(let d=0,h=0;d<a.childCount;d+=1){const{colspan:f,colwidth:p}=a.child(d).attrs;for(let g=0;g<f;g+=1,h+=1){const b=n===h?r:p&&p[g],y=b?`${b}px`:"";i+=b||e,b||(s=!1),o.push(["col",y?{style:`width: ${y}`}:{}])}}const l=s?`${i}px`:"",c=s?"":`${i}px`;return{colgroup:["colgroup",{},...o],tableWidth:l,tableMinWidth:c}}function D8(t,e){return t.createAndFill()}function Fq(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function jq(t,e,n,r,i){const s=Fq(t),o=[],a=[];for(let c=0;c<n;c+=1){const u=D8(s.cell);if(u&&a.push(u),r){const d=D8(s.header_cell);d&&o.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(s.row.createChecked(null,r&&c===0?o:a));return s.table.createChecked(null,l)}function $q(t){return t instanceof ct}const uh=({editor:t})=>{const{selection:e}=t.state;if(!$q(e))return!1;let n=0;const r=RE(e.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},Hq=Qt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:zq,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=Bq(t,this.options.cellMinWidth);return["table",wt(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const o=jq(s.schema,t,e,n);if(i){const a=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(ye.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>tq(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>nq(t,e),deleteColumn:()=>({state:t,dispatch:e})=>iq(t,e),addRowBefore:()=>({state:t,dispatch:e})=>oq(t,e),addRowAfter:()=>({state:t,dispatch:e})=>aq(t,e),deleteRow:()=>({state:t,dispatch:e})=>cq(t,e),deleteTable:()=>({state:t,dispatch:e})=>gq(t,e),mergeCells:()=>({state:t,dispatch:e})=>k8(t,e),splitCell:()=>({state:t,dispatch:e})=>S8(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Bd("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Bd("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>pq(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>k8(t,e)?!0:S8(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>hq(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>C8(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>C8(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&ET(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=ct.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:uh,"Mod-Backspace":uh,Delete:uh,"Mod-Delete":uh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Tq({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Lq({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:Re(ce(t,"tableRole",e))}}}),Uq=Qt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",wt(this.options.HTMLAttributes,t),0]}}),Vq=Qt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",wt(this.options.HTMLAttributes,t),0]}}),Wq=Qt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",wt(this.options.HTMLAttributes,t),0]}}),qq=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,Kq=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,Gq=mi.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Za({find:qq,type:this.type})]},addPasteRules(){return[jo({find:Kq,type:this.type})]}}),Jq="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Yq="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",_c=(t,e)=>{for(const n in e)t[n]=e[n];return t},Zv="numeric",ey="ascii",ty="alpha",of="asciinumeric",dh="alphanumeric",ny="domain",IT="emoji",Xq="scheme",Qq="slashscheme",_8="whitespace";function Zq(t,e){return t in e||(e[t]=[]),e[t]}function Oa(t,e,n){e[Zv]&&(e[of]=!0,e[dh]=!0),e[ey]&&(e[of]=!0,e[ty]=!0),e[of]&&(e[dh]=!0),e[ty]&&(e[dh]=!0),e[dh]&&(e[ny]=!0),e[IT]&&(e[ny]=!0);for(const r in e){const i=Zq(r,n);i.indexOf(t)<0&&i.push(t)}}function eK(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function qn(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}qn.groups={};qn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||qn.groups;let i;return e&&e.j?i=e:(i=new qn(e),n&&r&&Oa(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||qn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new qn,_c(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new qn,s){if(r)if(o.t&&typeof o.t=="string"){const l=_c(eK(o.t,r),n);Oa(s,l,r)}else n&&Oa(s,n,r);o.t=s}return i.j[t]=o,o}};const Ie=(t,e,n,r,i)=>t.ta(e,n,r,i),xr=(t,e,n,r,i)=>t.tr(e,n,r,i),P8=(t,e,n,r,i)=>t.ts(e,n,r,i),Y=(t,e,n,r,i)=>t.tt(e,n,r,i),ls="WORD",ry="UWORD",Fd="LOCALHOST",iy="TLD",sy="UTLD",af="SCHEME",Ol="SLASH_SCHEME",O3="NUM",NT="WS",I3="NL",Qu="OPENBRACE",Zu="CLOSEBRACE",gp="OPENBRACKET",vp="CLOSEBRACKET",yp="OPENPAREN",wp="CLOSEPAREN",bp="OPENANGLEBRACKET",kp="CLOSEANGLEBRACKET",Sp="FULLWIDTHLEFTPAREN",xp="FULLWIDTHRIGHTPAREN",Cp="LEFTCORNERBRACKET",Ep="RIGHTCORNERBRACKET",Tp="LEFTWHITECORNERBRACKET",Mp="RIGHTWHITECORNERBRACKET",Ap="FULLWIDTHLESSTHAN",Op="FULLWIDTHGREATERTHAN",Ip="AMPERSAND",Np="APOSTROPHE",Rp="ASTERISK",io="AT",Dp="BACKSLASH",_p="BACKTICK",Pp="CARET",po="COLON",N3="COMMA",Lp="DOLLAR",Ii="DOT",zp="EQUALS",R3="EXCLAMATION",Ni="HYPHEN",Bp="PERCENT",Fp="PIPE",jp="PLUS",$p="POUND",Hp="QUERY",D3="QUOTE",_3="SEMI",Ri="SLASH",ed="TILDE",Up="UNDERSCORE",RT="EMOJI",Vp="SYM";var DT=Object.freeze({__proto__:null,WORD:ls,UWORD:ry,LOCALHOST:Fd,TLD:iy,UTLD:sy,SCHEME:af,SLASH_SCHEME:Ol,NUM:O3,WS:NT,NL:I3,OPENBRACE:Qu,CLOSEBRACE:Zu,OPENBRACKET:gp,CLOSEBRACKET:vp,OPENPAREN:yp,CLOSEPAREN:wp,OPENANGLEBRACKET:bp,CLOSEANGLEBRACKET:kp,FULLWIDTHLEFTPAREN:Sp,FULLWIDTHRIGHTPAREN:xp,LEFTCORNERBRACKET:Cp,RIGHTCORNERBRACKET:Ep,LEFTWHITECORNERBRACKET:Tp,RIGHTWHITECORNERBRACKET:Mp,FULLWIDTHLESSTHAN:Ap,FULLWIDTHGREATERTHAN:Op,AMPERSAND:Ip,APOSTROPHE:Np,ASTERISK:Rp,AT:io,BACKSLASH:Dp,BACKTICK:_p,CARET:Pp,COLON:po,COMMA:N3,DOLLAR:Lp,DOT:Ii,EQUALS:zp,EXCLAMATION:R3,HYPHEN:Ni,PERCENT:Bp,PIPE:Fp,PLUS:jp,POUND:$p,QUERY:Hp,QUOTE:D3,SEMI:_3,SLASH:Ri,TILDE:ed,UNDERSCORE:Up,EMOJI:RT,SYM:Vp});const Cl=/[a-z]/,_g=new RegExp("\\p{L}","u"),Pg=new RegExp("\\p{Emoji}","u"),Lg=/\d/,L8=/\s/,z8=`
`,tK="",nK="";let hh=null,fh=null;function rK(t){t===void 0&&(t=[]);const e={};qn.groups=e;const n=new qn;hh==null&&(hh=B8(Jq)),fh==null&&(fh=B8(Yq)),Y(n,"'",Np),Y(n,"{",Qu),Y(n,"}",Zu),Y(n,"[",gp),Y(n,"]",vp),Y(n,"(",yp),Y(n,")",wp),Y(n,"<",bp),Y(n,">",kp),Y(n,"",Sp),Y(n,"",xp),Y(n,"",Cp),Y(n,"",Ep),Y(n,"",Tp),Y(n,"",Mp),Y(n,"",Ap),Y(n,"",Op),Y(n,"&",Ip),Y(n,"*",Rp),Y(n,"@",io),Y(n,"`",_p),Y(n,"^",Pp),Y(n,":",po),Y(n,",",N3),Y(n,"$",Lp),Y(n,".",Ii),Y(n,"=",zp),Y(n,"!",R3),Y(n,"-",Ni),Y(n,"%",Bp),Y(n,"|",Fp),Y(n,"+",jp),Y(n,"#",$p),Y(n,"?",Hp),Y(n,'"',D3),Y(n,"/",Ri),Y(n,";",_3),Y(n,"~",ed),Y(n,"_",Up),Y(n,"\\",Dp);const r=xr(n,Lg,O3,{[Zv]:!0});xr(r,Lg,r);const i=xr(n,Cl,ls,{[ey]:!0});xr(i,Cl,i);const s=xr(n,_g,ry,{[ty]:!0});xr(s,Cl),xr(s,_g,s);const o=xr(n,L8,NT,{[_8]:!0});Y(n,z8,I3,{[_8]:!0}),Y(o,z8),xr(o,L8,o);const a=xr(n,Pg,RT,{[IT]:!0});xr(a,Pg,a),Y(a,tK,a);const l=Y(a,nK);xr(l,Pg,a);const c=[[Cl,i]],u=[[Cl,null],[_g,s]];for(let d=0;d<hh.length;d++)Ks(n,hh[d],iy,ls,c);for(let d=0;d<fh.length;d++)Ks(n,fh[d],sy,ry,u);Oa(iy,{tld:!0,ascii:!0},e),Oa(sy,{utld:!0,alpha:!0},e),Ks(n,"file",af,ls,c),Ks(n,"mailto",af,ls,c),Ks(n,"http",Ol,ls,c),Ks(n,"https",Ol,ls,c),Ks(n,"ftp",Ol,ls,c),Ks(n,"ftps",Ol,ls,c),Oa(af,{scheme:!0,ascii:!0},e),Oa(Ol,{slashscheme:!0,ascii:!0},e),t=t.sort((d,h)=>d[0]>h[0]?1:-1);for(let d=0;d<t.length;d++){const h=t[d][0],p=t[d][1]?{[Xq]:!0}:{[Qq]:!0};h.indexOf("-")>=0?p[ny]=!0:Cl.test(h)?Lg.test(h)?p[of]=!0:p[ey]=!0:p[Zv]=!0,P8(n,h,h,p)}return P8(n,"localhost",Fd,{ascii:!0}),n.jd=new qn(Vp),{start:n,tokens:_c({groups:e},DT)}}function iK(t,e){const n=sK(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,h=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[o].length,h++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=h,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function sK(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Ks(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new qn(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new qn(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function B8(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const jd={defaultProtocol:"http",events:null,format:F8,formatHref:F8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function P3(t,e){e===void 0&&(e=null);let n=_c({},jd);t&&(n=_c(n,t instanceof P3?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}P3.prototype={o:jd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:jd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function F8(t){return t}function _T(t,e){this.t="token",this.v=t,this.tk=e}_T.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=jd.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&_c(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function Zm(t,e){class n extends _T{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const j8=Zm("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),$8=Zm("text"),oK=Zm("nl"),ph=Zm("url",{isLink:!0,toHref(t){return t===void 0&&(t=jd.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Fd&&t[1].t===po}}),Cr=t=>new qn(t);function aK(t){let{groups:e}=t;const n=e.domain.concat([Ip,Rp,io,Dp,_p,Pp,Lp,zp,Ni,O3,Bp,Fp,jp,$p,Ri,Vp,ed,Up]),r=[Np,po,N3,Ii,R3,Hp,D3,_3,bp,kp,Qu,Zu,vp,gp,yp,wp,Sp,xp,Cp,Ep,Tp,Mp,Ap,Op],i=[Ip,Np,Rp,Dp,_p,Pp,Lp,zp,Ni,Qu,Zu,Bp,Fp,jp,$p,Hp,Ri,Vp,ed,Up],s=Cr(),o=Y(s,ed);Ie(o,i,o),Ie(o,e.domain,o);const a=Cr(),l=Cr(),c=Cr();Ie(s,e.domain,a),Ie(s,e.scheme,l),Ie(s,e.slashscheme,c),Ie(a,i,o),Ie(a,e.domain,a);const u=Y(a,io);Y(o,io,u),Y(l,io,u),Y(c,io,u);const d=Y(o,Ii);Ie(d,i,o),Ie(d,e.domain,o);const h=Cr();Ie(u,e.domain,h),Ie(h,e.domain,h);const f=Y(h,Ii);Ie(f,e.domain,h);const p=Cr(j8);Ie(f,e.tld,p),Ie(f,e.utld,p),Y(u,Fd,p);const g=Y(h,Ni);Ie(g,e.domain,h),Ie(p,e.domain,h),Y(p,Ii,f),Y(p,Ni,g);const b=Y(p,po);Ie(b,e.numeric,j8);const y=Y(a,Ni),w=Y(a,Ii);Ie(y,e.domain,a),Ie(w,i,o),Ie(w,e.domain,a);const C=Cr(ph);Ie(w,e.tld,C),Ie(w,e.utld,C),Ie(C,e.domain,a),Ie(C,i,o),Y(C,Ii,w),Y(C,Ni,y),Y(C,io,u);const k=Y(C,po),A=Cr(ph);Ie(k,e.numeric,A);const x=Cr(ph),O=Cr();Ie(x,n,x),Ie(x,r,O),Ie(O,n,x),Ie(O,r,O),Y(C,Ri,x),Y(A,Ri,x);const D=Y(l,po),L=Y(c,po),j=Y(L,Ri),Q=Y(j,Ri);Ie(l,e.domain,a),Y(l,Ii,w),Y(l,Ni,y),Ie(c,e.domain,a),Y(c,Ii,w),Y(c,Ni,y),Ie(D,e.domain,x),Y(D,Ri,x),Ie(Q,e.domain,x),Ie(Q,n,x),Y(Q,Ri,x);const X=[[Qu,Zu],[gp,vp],[yp,wp],[bp,kp],[Sp,xp],[Cp,Ep],[Tp,Mp],[Ap,Op]];for(let oe=0;oe<X.length;oe++){const[me,Oe]=X[oe],Me=Y(x,me);Y(O,me,Me),Y(Me,Oe,x);const he=Cr(ph);Ie(Me,n,he);const H=Cr();Ie(Me,r),Ie(he,n,he),Ie(he,r,H),Ie(H,n,he),Ie(H,r,H),Y(he,Oe,x),Y(H,Oe,x)}return Y(s,Fd,C),Y(s,I3,oK),{start:s,tokens:DT}}function lK(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,h=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(zg($8,e,o)),o=[]),i-=h,u-=h;const f=d.t,p=n.slice(i-u,i);s.push(zg(f,e,p))}}return o.length>0&&s.push(zg($8,e,o)),s}function zg(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const cK=typeof console<"u"&&console&&console.warn||(()=>{}),uK="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",St={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function dK(){qn.groups={},St.scanner=null,St.parser=null,St.tokenQueue=[],St.pluginQueue=[],St.customSchemes=[],St.initialized=!1}function H8(t,e){if(e===void 0&&(e=!1),St.initialized&&cK(`linkifyjs: already initialized - will not register custom scheme "${t}" ${uK}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);St.customSchemes.push([t,e])}function hK(){St.scanner=rK(St.customSchemes);for(let t=0;t<St.tokenQueue.length;t++)St.tokenQueue[t][1]({scanner:St.scanner});St.parser=aK(St.scanner.tokens);for(let t=0;t<St.pluginQueue.length;t++)St.pluginQueue[t][1]({scanner:St.scanner,parser:St.parser});St.initialized=!0}function PT(t){return St.initialized||hK(),lK(St.parser.start,t,iK(St.scanner.start,t))}function LT(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new P3(n),i=PT(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}function fK(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function pK(t){return new ot({key:new dt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=fH(n.doc,[...e]);if(kH(a).forEach(({newRange:c})=>{const u=mH(r.doc,c,f=>f.isTextblock);let d,h;if(u.length>1?(d=u[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&h){const f=h.split(" ").filter(y=>y!=="");if(f.length<=0)return!1;const p=f[f.length-1],g=d.pos+h.lastIndexOf(p);if(!p)return!1;const b=PT(p).map(y=>y.toObject(t.defaultProtocol));if(!fK(b))return!1;b.filter(y=>y.isLink).map(y=>({...y,from:g+y.start+1,to:g+y.end+1})).filter(y=>r.schema.marks.code?!r.doc.rangeHasMark(y.from,y.to,r.schema.marks.code):!0).filter(y=>t.validate(y.value)).forEach(y=>{v3(y.from,y.to,r.doc).some(w=>w.mark.type===t.type)||o.addMark(y.from,y.to,t.type.create({href:y.href}))})}}),!!o.steps.length)return o}})}function mK(t){return new ot({key:new dt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=DE(e.state,t.type.name),c=r.target,u=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,d=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function gK(t){return new ot({key:new dt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=LT(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const vK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function U8(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(vK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const yK=mi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){H8(t);return}H8(t.scheme,t.optionalSlashes)})},onDestroy(){dK()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!U8(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return U8(t.href,this.options.protocols)?["a",wt(this.options.HTMLAttributes,t),0]:["a",wt(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[jo({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=LT(t).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(pK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(mK({type:this.type})),this.options.linkOnPaste&&t.push(gK({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),wK=mi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",wt(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),bK=Lt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new ot({key:new dt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&Jm(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=Xt.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),et.create(t,i)}}})]}}),kK=Lt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),SK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,xK=Qt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",wt(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[PE({find:SK,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),ui=()=>new Map,oy=t=>{const e=ui();return t.forEach((n,r)=>{e.set(r,n)}),e},ia=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},CK=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},EK=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},nl=()=>new Set,Bg=t=>t[t.length-1],TK=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},rl=Array.from,MK=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},ay=Array.isArray;class zT{constructor(){this._observers=ui()}on(e,n){return ia(this._observers,e,nl).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return rl((this._observers.get(e)||ui()).values()).forEach(r=>r(...n))}destroy(){this._observers=ui()}}const Ps=Math.floor,lf=Math.abs,e1=(t,e)=>t<e?t:e,Jc=(t,e)=>t>e?t:e,BT=t=>t!==0?t<0:1/t<0,V8=1,W8=2,Fg=4,jg=8,$d=32,Cs=64,fr=128,t1=31,ly=63,$a=127,AK=2147483647,FT=Number.MAX_SAFE_INTEGER,OK=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&Ps(t)===t),IK=t=>t.toLowerCase(),NK=/^\s*/g,RK=t=>t.replace(NK,""),DK=/([A-Z])/g,q8=(t,e)=>RK(t.replace(DK,n=>`${e}${IK(n)}`)),_K=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},Hd=typeof TextEncoder<"u"?new TextEncoder:null,PK=t=>Hd.encode(t),LK=Hd?PK:_K;let td=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});td&&td.decode(new Uint8Array).length===1&&(td=null);class b0{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const n1=()=>new b0,zK=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Fi=t=>{const e=new Uint8Array(zK(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},BK=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Jc(n,e)*2),t.cpos=0)},tn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},cy=tn,He=(t,e)=>{for(;e>$a;)tn(t,fr|$a&e),e=Ps(e/128);tn(t,$a&e)},L3=(t,e)=>{const n=BT(e);for(n&&(e=-e),tn(t,(e>ly?fr:0)|(n?Cs:0)|ly&e),e=Ps(e/64);e>0;)tn(t,(e>$a?fr:0)|$a&e),e=Ps(e/128)},uy=new Uint8Array(3e4),FK=uy.length/3,jK=(t,e)=>{if(e.length<FK){const n=Hd.encodeInto(e,uy).written||0;He(t,n);for(let r=0;r<n;r++)tn(t,uy[r])}else sr(t,LK(e))},$K=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;He(t,r);for(let i=0;i<r;i++)tn(t,n.codePointAt(i))},oc=Hd&&Hd.encodeInto?jK:$K,r1=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=e1(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Jc(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},sr=(t,e)=>{He(t,e.byteLength),r1(t,e)},z3=(t,e)=>{BK(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},HK=(t,e)=>z3(t,4).setFloat32(0,e,!1),UK=(t,e)=>z3(t,8).setFloat64(0,e,!1),VK=(t,e)=>z3(t,8).setBigInt64(0,e,!1),K8=new DataView(new ArrayBuffer(4)),WK=t=>(K8.setFloat32(0,t),K8.getFloat32(0)===t),Ud=(t,e)=>{switch(typeof e){case"string":tn(t,119),oc(t,e);break;case"number":OK(e)&&lf(e)<=AK?(tn(t,125),L3(t,e)):WK(e)?(tn(t,124),HK(t,e)):(tn(t,123),UK(t,e));break;case"bigint":tn(t,122),VK(t,e);break;case"object":if(e===null)tn(t,126);else if(ay(e)){tn(t,117),He(t,e.length);for(let n=0;n<e.length;n++)Ud(t,e[n])}else if(e instanceof Uint8Array)tn(t,116),sr(t,e);else{tn(t,118);const n=Object.keys(e);He(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];oc(t,i),Ud(t,e[i])}}break;case"boolean":tn(t,e?120:121);break;default:tn(t,127)}};class G8 extends b0{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&He(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const J8=t=>{t.count>0&&(L3(t.encoder,t.count===1?t.s:-t.s),t.count>1&&He(t.encoder,t.count-2))};class cf{constructor(){this.encoder=new b0,this.s=0,this.count=0}write(e){this.s===e?this.count++:(J8(this),this.count=1,this.s=e)}toUint8Array(){return J8(this),Fi(this.encoder)}}const Y8=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);L3(t.encoder,e),t.count>1&&He(t.encoder,t.count-2)}};class $g{constructor(){this.encoder=new b0,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(Y8(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return Y8(this),Fi(this.encoder)}}class qK{constructor(){this.sarr=[],this.s="",this.lensE=new cf}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new b0;return this.sarr.push(this.s),this.s="",oc(e,this.sarr.join("")),r1(e,this.lensE.toUint8Array()),Fi(e)}}const $o=t=>new Error(t),di=()=>{throw $o("Method unimplemented")},vr=()=>{throw $o("Unexpected case")},jT=$o("Unexpected end of array"),$T=$o("Integer out of Range");class i1{constructor(e){this.arr=e,this.pos=0}}const B3=t=>new i1(t),KK=t=>t.pos!==t.arr.length,GK=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Er=t=>GK(t,mt(t)),Vd=t=>t.arr[t.pos++],mt=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&$a)*n,n*=128,i<fr)return e;if(e>FT)throw $T}throw jT},F3=t=>{let e=t.arr[t.pos++],n=e&ly,r=64;const i=(e&Cs)>0?-1:1;if(!(e&fr))return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&$a)*r,r*=128,e<fr)return i*n;if(n>FT)throw $T}throw jT},JK=t=>{let e=mt(t);if(e===0)return"";{let n=String.fromCodePoint(Vd(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Vd(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},YK=t=>td.decode(Er(t)),dy=td?YK:JK,j3=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},XK=t=>j3(t,4).getFloat32(0,!1),QK=t=>j3(t,8).getFloat64(0,!1),ZK=t=>j3(t,8).getBigInt64(0,!1),eG=[t=>{},t=>null,F3,XK,QK,ZK,t=>!1,t=>!0,dy,t=>{const e=mt(t),n={};for(let r=0;r<e;r++){const i=dy(t);n[i]=Wp(t)}return n},t=>{const e=mt(t),n=[];for(let r=0;r<e;r++)n.push(Wp(t));return n},Er],Wp=t=>eG[127-Vd(t)](t);class X8 extends i1{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),KK(this)?this.count=mt(this)+1:this.count=-1),this.count--,this.s}}class uf extends i1{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=F3(this);const e=BT(this.s);this.count=1,e&&(this.s=-this.s,this.count=mt(this)+2)}return this.count--,this.s}}class Hg extends i1{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=F3(this),n=e&1;this.diff=Ps(e/2),this.count=1,n&&(this.count=mt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class tG{constructor(e){this.decoder=new uf(e),this.str=dy(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const nG=crypto.getRandomValues.bind(crypto),rG=Math.random,HT=()=>nG(new Uint32Array(1))[0],iG=t=>t[Ps(rG()*t.length)],sG="10000000-1000-4000-8000"+-1e11,oG=()=>sG.replace(/[018]/g,t=>(t^HT()&15>>t/4).toString(16)),aG=Date.now,Q8=t=>new Promise(t);Promise.all.bind(Promise);const Z8=t=>t===void 0?null:t;class lG{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let UT=new lG,cG=!0;try{typeof localStorage<"u"&&localStorage&&(UT=localStorage,cG=!1)}catch{}const uG=UT,dG=Object.assign,VT=Object.keys,hG=(t,e)=>{for(const n in t)e(t[n],n)},eb=t=>VT(t).length,fG=t=>{for(const e in t)return!1;return!0},pG=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},mG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),gG=(t,e)=>t===e||eb(t)===eb(e)&&pG(t,(n,r)=>(n!==void 0||mG(e,r))&&e[r]===n),vG=Object.freeze,WT=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&WT(t[e])}return vG(t)},$3=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&$3(t,e,n+1)}},yG=(t,e)=>e.includes(t);var qT={};const Pc=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",wG=typeof window<"u"&&typeof document<"u"&&!Pc;let Ai;const bG=()=>{if(Ai===void 0)if(Pc){Ai=ui();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Ai.set(e,""),e=r):e!==null&&(Ai.set(e,r),e=null)}e!==null&&Ai.set(e,"")}else typeof location=="object"?(Ai=ui(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Ai.set(`--${q8(e,"-")}`,n),Ai.set(`-${q8(e,"-")}`,n)}})):Ai=ui();return Ai},hy=t=>bG().has(t),qp=t=>Z8(Pc?qT[t.toUpperCase().replaceAll("-","_")]:uG.getItem(t)),KT=t=>hy("--"+t)||qp(t)!==null;KT("production");const kG=Pc&&yG(qT.FORCE_COLOR,["true","1","2"]),SG=kG||!hy("--no-colors")&&!KT("no-color")&&(!Pc||process.stdout.isTTY)&&(!Pc||hy("--color")||qp("COLORTERM")!==null||(qp("TERM")||"").includes("color"));class xG{constructor(e,n){this.left=e,this.right=n}}const is=(t,e)=>new xG(t,e),CG=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const EG=t=>CK(t,(e,n)=>`${n}:${e};`).join(""),TG=t=>class{constructor(n){this._=n}destroy(){t(this._)}},MG=TG(clearTimeout),GT=(t,e)=>new MG(setTimeout(e,t)),$s=Symbol,JT=$s(),YT=$s(),AG=$s(),OG=$s(),IG=$s(),XT=$s(),NG=$s(),H3=$s(),RG=$s(),DG=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},_G={[JT]:is("font-weight","bold"),[YT]:is("font-weight","normal"),[AG]:is("color","blue"),[IG]:is("color","green"),[OG]:is("color","grey"),[XT]:is("color","red"),[NG]:is("color","purple"),[H3]:is("color","orange"),[RG]:is("color","black")},PG=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[],r=ui();let i=[],s=0;for(;s<t.length;s++){const a=t[s],l=_G[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const c=EG(r);s>0||c.length>0?(e.push("%c"+a),n.push(c)):e.push(a)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const a=t[s];a instanceof Symbol||i.push(a)}return i},QT=SG?PG:DG,LG=(...t)=>{console.log(...QT(t)),eM.forEach(e=>e.print(t))},ZT=(...t)=>{console.warn(...QT(t)),t.unshift(H3),eM.forEach(e=>e.print(t))},eM=nl(),tM=t=>({[Symbol.iterator](){return this},next:t}),zG=(t,e)=>tM(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Ug=(t,e)=>tM(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class U3{constructor(e,n){this.clock=e,this.len=n}}class Yc{constructor(){this.clients=new Map}}const Ho=(t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);for(let o=0;o<r.length;o++){const a=r[o];cM(t,s,a.clock,a.len,n)}}),BG=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=Ps((n+r)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;n=i+1}else r=i-1}return null},Xc=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&BG(n,e.clock)!==null},V3=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=Jc(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},fy=t=>{const e=new Yc;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let o=n+1;o<t.length;o++)TK(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return V3(e),e},Wd=(t,e,n,r)=>{ia(t.clients,e,()=>[]).push(new U3(n,r))},nM=()=>new Yc,FG=t=>{const e=nM();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const a=o.id.clock;let l=o.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])l+=c.length;i.push(new U3(a,l))}}i.length>0&&e.clients.set(r,i)}),e},W3=(t,e)=>{He(t.restEncoder,e.clients.size),rl(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),He(t.restEncoder,n);const i=r.length;He(t.restEncoder,i);for(let s=0;s<i;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},jG=t=>{const e=new Yc,n=mt(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=mt(t.restDecoder),s=mt(t.restDecoder);if(s>0){const o=ia(e.clients,i,()=>[]);for(let a=0;a<s;a++)o.push(new U3(t.readDsClock(),t.readDsLen()))}}return e},tb=(t,e,n)=>{const r=new Yc,i=mt(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=mt(t.restDecoder),a=mt(t.restDecoder),l=n.clients.get(o)||[],c=Ft(n,o);for(let u=0;u<a;u++){const d=t.readDsClock(),h=d+t.readDsLen();if(d<c){c<h&&Wd(r,o,c,h-c);let f=Ji(l,d),p=l[f];for(!p.deleted&&p.id.clock<d&&(l.splice(f+1,0,Zp(e,p,d-p.id.clock)),f++);f<l.length&&(p=l[f++],p.id.clock<h);)p.deleted||(h<p.id.clock+p.length&&l.splice(f,0,Zp(e,p,h-p.id.clock)),p.delete(e))}else Wd(r,o,d,h-d)}}if(r.clients.size>0){const s=new s1;return He(s.restEncoder,0),W3(s,r),s.toUint8Array()}return null},rM=HT;class Qc extends zT{constructor({guid:e=oG(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=rM(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new aM,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=Q8(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>Q8(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&rt(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(rl(this.subdocs).map(e=>e.guid))}transact(e,n=null){return rt(this,e,n)}get(e,n=gn){const r=ia(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==gn&&i!==n)if(i===gn){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,cc)}getText(e=""){return this.get(e,Uo)}getMap(e=""){return this.get(e,Lc)}getXmlElement(e=""){return this.get(e,Rn)}getXmlFragment(e=""){return this.get(e,il)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,rl(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new Qc({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,rt(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class $G{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=mt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=mt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class Kp extends $G{constructor(e){super(e),this.keys=[],mt(e),this.keyClockDecoder=new Hg(Er(e)),this.clientDecoder=new uf(Er(e)),this.leftClockDecoder=new Hg(Er(e)),this.rightClockDecoder=new Hg(Er(e)),this.infoDecoder=new X8(Er(e),Vd),this.stringDecoder=new tG(Er(e)),this.parentInfoDecoder=new X8(Er(e),Vd),this.typeRefDecoder=new uf(Er(e)),this.lenDecoder=new uf(Er(e))}readLeftID(){return new ac(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ac(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Wp(this.restDecoder)}readBuf(){return Er(this.restDecoder)}readJSON(){return Wp(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class HG{constructor(){this.restEncoder=n1()}toUint8Array(){return Fi(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){He(this.restEncoder,e)}writeDsLen(e){He(this.restEncoder,e)}}class UG extends HG{writeLeftID(e){He(this.restEncoder,e.client),He(this.restEncoder,e.clock)}writeRightID(e){He(this.restEncoder,e.client),He(this.restEncoder,e.clock)}writeClient(e){He(this.restEncoder,e)}writeInfo(e){cy(this.restEncoder,e)}writeString(e){oc(this.restEncoder,e)}writeParentInfo(e){He(this.restEncoder,e?1:0)}writeTypeRef(e){He(this.restEncoder,e)}writeLen(e){He(this.restEncoder,e)}writeAny(e){Ud(this.restEncoder,e)}writeBuf(e){sr(this.restEncoder,e)}writeJSON(e){oc(this.restEncoder,JSON.stringify(e))}writeKey(e){oc(this.restEncoder,e)}}class VG{constructor(){this.restEncoder=n1(),this.dsCurrVal=0}toUint8Array(){return Fi(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,He(this.restEncoder,n)}writeDsLen(e){e===0&&vr(),He(this.restEncoder,e-1),this.dsCurrVal+=e}}class s1 extends VG{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new $g,this.clientEncoder=new cf,this.leftClockEncoder=new $g,this.rightClockEncoder=new $g,this.infoEncoder=new G8(cy),this.stringEncoder=new qK,this.parentInfoEncoder=new G8(cy),this.typeRefEncoder=new cf,this.lenEncoder=new cf}toUint8Array(){const e=n1();return He(e,0),sr(e,this.keyClockEncoder.toUint8Array()),sr(e,this.clientEncoder.toUint8Array()),sr(e,this.leftClockEncoder.toUint8Array()),sr(e,this.rightClockEncoder.toUint8Array()),sr(e,Fi(this.infoEncoder)),sr(e,this.stringEncoder.toUint8Array()),sr(e,Fi(this.parentInfoEncoder)),sr(e,this.typeRefEncoder.toUint8Array()),sr(e,this.lenEncoder.toUint8Array()),r1(e,Fi(this.restEncoder)),Fi(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Ud(this.restEncoder,e)}writeBuf(e){sr(this.restEncoder,e)}writeJSON(e){Ud(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const WG=(t,e,n,r)=>{r=Jc(r,e[0].id.clock);const i=Ji(e,r);He(t.restEncoder,e.length-i),t.writeClient(n),He(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},iM=(t,e,n)=>{const r=new Map;n.forEach((i,s)=>{Ft(e,s)>i&&r.set(s,i)}),o1(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),He(t.restEncoder,r.size),rl(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{WG(t,e.clients.get(i),i,s)})},qG=(t,e)=>{const n=ui(),r=mt(t.restDecoder);for(let i=0;i<r;i++){const s=mt(t.restDecoder),o=new Array(s),a=t.readClient();let l=mt(t.restDecoder);n.set(a,{i:0,refs:o});for(let c=0;c<s;c++){const u=t.readInfo();switch(t1&u){case 0:{const d=t.readLen();o[c]=new Ir(De(a,l),d),l+=d;break}case 10:{const d=mt(t.restDecoder);o[c]=new ii(De(a,l),d),l+=d;break}default:{const d=(u&(Cs|fr))===0,h=new Ye(De(a,l),null,(u&fr)===fr?t.readLeftID():null,null,(u&Cs)===Cs?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&$d)===$d?t.readString():null,NM(t,u));o[c]=h,l+=h.length}}}}return n},KG=(t,e,n)=>{const r=[];let i=rl(n.keys()).sort((f,p)=>f-p);if(i.length===0)return null;const s=()=>{if(i.length===0)return null;let f=n.get(i[i.length-1]);for(;f.refs.length===f.i;)if(i.pop(),i.length>0)f=n.get(i[i.length-1]);else return null;return f};let o=s();if(o===null)return null;const a=new aM,l=new Map,c=(f,p)=>{const g=l.get(f);(g==null||g>p)&&l.set(f,p)};let u=o.refs[o.i++];const d=new Map,h=()=>{for(const f of r){const p=f.id.client,g=n.get(p);g?(g.i--,a.clients.set(p,g.refs.slice(g.i)),n.delete(p),g.i=0,g.refs=[]):a.clients.set(p,[f]),i=i.filter(b=>b!==p)}r.length=0};for(;;){if(u.constructor!==ii){const p=ia(d,u.id.client,()=>Ft(e,u.id.client))-u.id.clock;if(p<0)r.push(u),c(u.id.client,u.id.clock-1),h();else{const g=u.getMissing(t,e);if(g!==null){r.push(u);const b=n.get(g)||{refs:[],i:0};if(b.refs.length===b.i)c(g,Ft(e,g)),h();else{u=b.refs[b.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(r.length>0)u=r.pop();else if(o!==null&&o.i<o.refs.length)u=o.refs[o.i++];else{if(o=s(),o===null)break;u=o.refs[o.i++]}}if(a.clients.size>0){const f=new s1;return iM(f,a,new Map),He(f.restEncoder,0),{missing:l,update:f.toUint8Array()}}return null},GG=(t,e)=>iM(t,e.doc.store,e.beforeState),JG=(t,e,n,r=new Kp(t))=>rt(e,i=>{i.local=!1;let s=!1;const o=i.doc,a=o.store,l=qG(r,o),c=KG(i,a,l),u=a.pendingStructs;if(u){for(const[h,f]of u.missing)if(f<Ft(a,h)){s=!0;break}if(c){for(const[h,f]of c.missing){const p=u.missing.get(h);(p==null||p>f)&&u.missing.set(h,f)}u.update=ub([u.update,c.update])}}else a.pendingStructs=c;const d=tb(r,i,a);if(a.pendingDs){const h=new Kp(B3(a.pendingDs));mt(h.restDecoder);const f=tb(h,i,a);d&&f?a.pendingDs=ub([d,f]):a.pendingDs=d||f}else a.pendingDs=d;if(s){const h=a.pendingStructs.update;a.pendingStructs=null,py(i.doc,h)}},n,!1),py=(t,e,n,r=Kp)=>{const i=B3(e);JG(i,t,n,new r(i))};class YG{constructor(){this.l=[]}}const nb=()=>new YG,rb=(t,e)=>t.l.push(e),ib=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},sM=(t,e,n)=>$3(t.l,[e,n]);class ac{constructor(e,n){this.client=e,this.clock=n}}const mh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,De=(t,e)=>new ac(t,e),qd=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw vr()},Kd=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class Gp{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}class XG{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const QG=(t,e,n=0)=>new XG(t,e,n),gh=(t,e,n)=>{let r=null,i=null;return t._item===null?i=qd(t):r=De(t._item.id.client,t._item.id.clock),new Gp(r,i,e,n)},Vg=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return gh(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return gh(t,De(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return gh(t,r.lastId,n);r=r.right}return gh(t,null,n)},ZG=(t,e,n=!0)=>{const r=e.store,i=t.item,s=t.type,o=t.tname,a=t.assoc;let l=null,c=0;if(i!==null){if(Ft(r,i.client)<=i.clock)return null;const u=n?yy(r,i):{item:lc(r,i),diff:0},d=u.item;if(!(d instanceof Ye))return null;if(l=d.parent,l._item===null||!l._item.deleted){c=d.deleted||!d.countable?0:u.diff+(a>=0?0:1);let h=d.left;for(;h!==null;)!h.deleted&&h.countable&&(c+=h.length),h=h.left}}else{if(o!==null)l=e.get(o);else if(s!==null){if(Ft(r,s.client)<=s.clock)return null;const{item:u}=n?yy(r,s):{item:lc(r,s)};if(u instanceof Ye&&u.content instanceof yi)l=u.content.type;else return null}else throw vr();a>=0?c=l._length:c=0}return QG(l,c,t.assoc)};class q3{constructor(e,n){this.ds=e,this.sv=n}}const oM=(t,e)=>new q3(t,e),Wg=t=>oM(FG(t.store),o1(t.store)),ba=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!Xc(e.ds,t.id),my=(t,e)=>{const n=ia(t.meta,my,nl),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<Ft(r,s)&&Kn(t,De(s,i))}),Ho(t,e.ds,i=>{}),n.add(e))};class aM{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const o1=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Ft=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},lM=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw vr()}n.push(e)},Ji=(t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let o=Ps(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;n=o+1}else r=o-1;o=Ps((n+r)/2)}throw vr()},eJ=(t,e)=>{const n=t.clients.get(e.client);return n[Ji(n,e.clock)]},lc=eJ,gy=(t,e,n)=>{const r=Ji(e,n),i=e[r];return i.id.clock<n&&i instanceof Ye?(e.splice(r+1,0,Zp(t,i,n-i.id.clock)),r+1):r},Kn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[gy(t,n,e.clock)]},sb=(t,e,n)=>{const r=e.clients.get(n.client),i=Ji(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==Ir&&r.splice(i+1,0,Zp(t,s,n.clock-s.id.clock+1)),s},tJ=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Ji(r,e.id.clock)]=n},cM=(t,e,n,r,i)=>{if(r===0)return;const s=n+r;let o=gy(t,e,n),a;do a=e[o++],s<a.id.clock+a.length&&gy(t,e,s),i(a);while(o<e.length&&e[o].id.clock<s)};class nJ{constructor(e,n,r){this.doc=e,this.deleteSet=new Yc,this.beforeState=o1(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const ob=(t,e)=>e.deleteSet.clients.size===0&&!EK(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(V3(e.deleteSet),GG(t,e),W3(t,e.deleteSet),!0),ab=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&ia(t.changed,e,nl).add(n)},df=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Ye&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},rJ=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let o=i.length-1;o>=0;o--){const a=i[o],l=a.clock+a.len;for(let c=Ji(s,a.clock),u=s[c];c<s.length&&u.id.clock<l;u=s[++c]){const d=s[c];if(a.clock+a.len<=d.id.clock)break;d instanceof Ye&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},iJ=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],a=e1(i.length-1,1+Ji(i,o.clock+o.len-1));for(let l=a,c=i[l];l>0&&c.id.clock>=o.clock;c=i[l])l-=1+df(i,l)}})},uM=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,o=n._mergeStructs;try{V3(s),n.afterState=o1(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),sM(c._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),$3(a,[]),n._needFormattingCleanup&&CJ(n)}finally{r.gc&&rJ(s,i,r.gcFilter),iJ(s,i),n.afterState.forEach((u,d)=>{const h=n.beforeState.get(d)||0;if(h!==u){const f=i.clients.get(d),p=Jc(Ji(f,h),1);for(let g=f.length-1;g>=p;)g-=1+df(f,g)}});for(let u=o.length-1;u>=0;u--){const{client:d,clock:h}=o[u].id,f=i.clients.get(d),p=Ji(f,h);p+1<f.length&&df(f,p+1)>1||p>0&&df(f,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(LG(H3,JT,"[yjs] ",YT,XT,"Changed the client-id because another client seems to be using it."),r.clientID=rM()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const u=new UG;ob(u,n)&&r.emit("update",[u.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const u=new s1;ob(u,n)&&r.emit("updateV2",[u.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):uM(t,e+1)}}},rt=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new nJ(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const a=t._transaction===i[0];t._transaction=null,a&&uM(i,0)}}return o};class sJ{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const lb=(t,e,n)=>{Ho(t,n.deletions,r=>{r instanceof Ye&&e.scope.some(i=>Kd(i,r))&&X3(r,!1)})},cb=(t,e,n)=>{let r=null;const i=t.doc,s=t.scope;rt(i,a=>{for(;e.length>0&&t.currStackItem===null;){const l=i.store,c=e.pop(),u=new Set,d=[];let h=!1;Ho(a,c.insertions,f=>{if(f instanceof Ye){if(f.redone!==null){let{item:p,diff:g}=yy(l,f.id);g>0&&(p=Kn(a,De(p.id.client,p.id.clock+g))),f=p}!f.deleted&&s.some(p=>Kd(p,f))&&d.push(f)}}),Ho(a,c.deletions,f=>{f instanceof Ye&&s.some(p=>Kd(p,f))&&!Xc(c.insertions,f.id)&&u.add(f)}),u.forEach(f=>{h=IM(a,f,u,c.insertions,t.ignoreRemoteMapChanges,t)!==null||h});for(let f=d.length-1;f>=0;f--){const p=d[f];t.deleteFilter(p)&&(p.delete(a),h=!0)}t.currStackItem=h?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=a},t);const o=t.currStackItem;if(o!=null){const a=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return o};class dM extends zT{constructor(e,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=ay(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=i,s.add(this),this.trackedOrigins=s,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(b=>l.changedParentTypes.has(b))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const h=new Yc;l.afterState.forEach((b,y)=>{const w=l.beforeState.get(y)||0,C=b-w;C>0&&Wd(h,y,w,C)});const f=aG();let p=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const b=d[d.length-1];b.deletions=fy([b.deletions,l.deleteSet]),b.insertions=fy([b.insertions,h])}else d.push(new sJ(l.deleteSet,h)),p=!0;!c&&!u&&(this.lastChange=f),Ho(l,l.deleteSet,b=>{b instanceof Ye&&this.scope.some(y=>Kd(y,b))&&X3(b,!0)});const g=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=ay(e)?e:[e],e.forEach(n=>{this.scope.every(r=>r!==n)&&(n.doc!==this.doc&&ZT("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>lb(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>lb(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=cb(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=cb(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*oJ(t){const e=mt(t.restDecoder);for(let n=0;n<e;n++){const r=mt(t.restDecoder),i=t.readClient();let s=mt(t.restDecoder);for(let o=0;o<r;o++){const a=t.readInfo();if(a===10){const l=mt(t.restDecoder);yield new ii(De(i,s),l),s+=l}else if(t1&a){const l=(a&(Cs|fr))===0,c=new Ye(De(i,s),null,(a&fr)===fr?t.readLeftID():null,null,(a&Cs)===Cs?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&$d)===$d?t.readString():null,NM(t,a));yield c,s+=c.length}else{const l=t.readLen();yield new Ir(De(i,s),l),s+=l}}}}class aJ{constructor(e,n){this.gen=oJ(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===ii);return this.curr}}class lJ{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const cJ=(t,e)=>{if(t.constructor===Ir){const{client:n,clock:r}=t.id;return new Ir(De(n,r+e),t.length-e)}else if(t.constructor===ii){const{client:n,clock:r}=t.id;return new ii(De(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new Ye(De(r,i+e),null,De(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},ub=(t,e=Kp,n=s1)=>{if(t.length===1)return t[0];const r=t.map(u=>new e(B3(u)));let i=r.map(u=>new aJ(u,!0)),s=null;const o=new n,a=new lJ(o);for(;i=i.filter(h=>h.curr!==null),i.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){const p=h.curr.id.clock-f.curr.id.clock;return p===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===ii?1:-1:p}else return f.curr.id.client-h.curr.id.client}),i.length!==0;){const u=i[0],d=u.curr.id.client;if(s!==null){let h=u.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=u.next(),f=!0;if(h===null||h.id.client!==d||f&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(d!==s.struct.id.client)bu(a,s.struct,s.offset),s={struct:h,offset:0},u.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===ii)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{bu(a,s.struct,s.offset);const p=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new ii(De(d,s.struct.id.clock+s.struct.length),p),offset:0}}else{const p=s.struct.id.clock+s.struct.length-h.id.clock;p>0&&(s.struct.constructor===ii?s.struct.length-=p:h=cJ(h,p)),s.struct.mergeWith(h)||(bu(a,s.struct,s.offset),s={struct:h,offset:0},u.next())}}else s={struct:u.curr,offset:0},u.next();for(let h=u.curr;h!==null&&h.id.client===d&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==ii;h=u.next())bu(a,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(bu(a,s.struct,s.offset),s=null),uJ(a);const l=r.map(u=>jG(u)),c=fy(l);return W3(o,c),o.toUint8Array()},hM=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Fi(t.encoder.restEncoder)}),t.encoder.restEncoder=n1(),t.written=0)},bu=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&hM(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),He(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},uJ=t=>{hM(t);const e=t.encoder.restEncoder;He(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];He(e,r.written),r1(e,r.restEncoder)}},db="You must not compute changes after the event-handler fired.";class a1{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=dJ(this.currentTarget,this.target))}deletes(e){return Xc(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw $o(db);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let o,a;if(this.adds(s)){let l=s.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(s))if(l!==null&&this.deletes(l))o="delete",a=Bg(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=Bg(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(s))o="delete",a=Bg(s.content.getContent());else return;e.set(i,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw $o(db);const n=this.target,r=nl(),i=nl(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&s.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,i.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const dJ=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},Cn=()=>{ZT("Invalid access: Add Yjs type to a document before reading data.")},fM=80;let K3=0;class hJ{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=K3++}}const fJ=t=>{t.timestamp=K3++},pM=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=K3++},pJ=(t,e,n)=>{if(t.length>=fM){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return pM(r,e,n),r}else{const r=new hJ(e,n);return t.push(r),r}},l1=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>lf(e-s.index)<lf(e-o.index)?s:o);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,fJ(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&lf(n.index-i)<r.parent.length/fM?(pM(n,r,i),n):pJ(t._searchMarker,r,i)},Gd=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=Jc(e,i.index+n))}},c1=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;ia(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;sM(r._eH,n,e)};class gn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=nb(),this._dEH=nb(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw di()}clone(){throw di()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){rb(this._eH,e)}observeDeep(e){rb(this._dEH,e)}unobserve(e){ib(this._eH,e)}unobserveDeep(e){ib(this._dEH,e)}toJSON(){}}const mM=(t,e,n)=>{t.doc??Cn(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&r>0;a++)i.push(o[a]),r--;e=0}}s=s.right}return i},gM=t=>{t.doc??Cn();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},vM=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&ba(r,e)){const i=r.content.getContent();for(let s=0;s<i.length;s++)n.push(i[s])}r=r.right}return n},Jd=(t,e)=>{let n=0,r=t._start;for(t.doc??Cn();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},yM=(t,e)=>{const n=[];return Jd(t,(r,i)=>{n.push(e(r,i,t))}),n},mJ=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},wM=(t,e)=>{t.doc??Cn();const n=l1(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},Jp=(t,e,n,r)=>{let i=n;const s=t.doc,o=s.clientID,a=s.store,l=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new Ye(De(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new sl(c)),i.integrate(t,0),c=[])};r.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:i=new Ye(De(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new k0(new Uint8Array(d))),i.integrate(t,0);break;case Qc:i=new Ye(De(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new S0(d)),i.integrate(t,0);break;default:if(d instanceof gn)i=new Ye(De(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new yi(d)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},bM=()=>$o("Length exceeded!"),kM=(t,e,n,r)=>{if(n>e._length)throw bM();if(n===0)return e._searchMarker&&Gd(e._searchMarker,n,r.length),Jp(t,e,null,r);const i=n,s=l1(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Kn(t,De(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&Gd(e._searchMarker,i,r.length),Jp(t,e,o,r)},gJ=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return Jp(t,e,i,n)},SM=(t,e,n,r)=>{if(r===0)return;const i=n,s=r,o=l1(e,n);let a=e._start;for(o!==null&&(a=o.p,n-=o.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Kn(t,De(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Kn(t,De(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw bM();e._searchMarker&&Gd(e._searchMarker,i,-s+r)},Yp=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},G3=(t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,o=s.clientID;let a;if(r==null)a=new sl([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new sl([r]);break;case Uint8Array:a=new k0(r);break;case Qc:a=new S0(r);break;default:if(r instanceof gn)a=new yi(r);else throw new Error("Unexpected content type")}new Ye(De(o,Ft(s.store,o)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},J3=(t,e)=>{t.doc??Cn();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},xM=t=>{const e={};return t.doc??Cn(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},CM=(t,e)=>{t.doc??Cn();const n=t._map.get(e);return n!==void 0&&!n.deleted},vJ=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&ba(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},vh=t=>(t.doc??Cn(),zG(t._map.entries(),e=>!e[1].deleted));class yJ extends a1{}class cc extends gn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new cc;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new cc}clone(){const e=new cc;return e.insert(0,this.toArray().map(n=>n instanceof gn?n.clone():n)),e}get length(){return this.doc??Cn(),this._length}_callObserver(e,n){super._callObserver(e,n),c1(this,e,new yJ(this,e))}insert(e,n){this.doc!==null?rt(this.doc,r=>{kM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?rt(this.doc,n=>{gJ(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?rt(this.doc,r=>{SM(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return wM(this,e)}toArray(){return gM(this)}slice(e=0,n=this.length){return mM(this,e,n)}toJSON(){return this.map(e=>e instanceof gn?e.toJSON():e)}map(e){return yM(this,e)}forEach(e){Jd(this,e)}[Symbol.iterator](){return mJ(this)}_write(e){e.writeTypeRef(UJ)}}const wJ=t=>new cc;class bJ extends a1{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Lc extends gn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new Lc}clone(){const e=new Lc;return this.forEach((n,r)=>{e.set(r,n instanceof gn?n.clone():n)}),e}_callObserver(e,n){c1(this,e,new bJ(this,e,n))}toJSON(){this.doc??Cn();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof gn?i.toJSON():i}}),e}get size(){return[...vh(this)].length}keys(){return Ug(vh(this),e=>e[0])}values(){return Ug(vh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Ug(vh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??Cn(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?rt(this.doc,n=>{Yp(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?rt(this.doc,r=>{G3(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return J3(this,e)}has(e){return CM(this,e)}clear(){this.doc!==null?rt(this.doc,e=>{this.forEach(function(n,r,i){Yp(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(VJ)}}const kJ=t=>new Lc,ko=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&gG(t,e);class vy{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&vr(),this.right.content.constructor){case qt:this.right.deleted||Zc(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const hb=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case qt:e.right.deleted||Zc(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Kn(t,De(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},yh=(t,e,n,r)=>{const i=new Map,s=r?l1(e,n):null;if(s){const o=new vy(s.p.left,s.p,s.index,i);return hb(t,o,n-s.index)}else{const o=new vy(null,e._start,0,i);return hb(t,o,n)}},EM=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===qt&&ko(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((o,a)=>{const l=n.left,c=n.right,u=new Ye(De(s,Ft(i.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,new qt(a,o));u.integrate(t,0),n.right=u,n.forward()})},Zc=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},TM=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===qt&&ko(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},MM=(t,e,n,r)=>{const i=t.doc,s=i.clientID,o=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)??null;if(!ko(c,l)){o.set(a,c);const{left:u,right:d}=n;n.right=new Ye(De(s,Ft(i.store,s)),u,u&&u.lastId,d,d&&d.id,e,null,new qt(a,l)),n.right.integrate(t,0),n.forward()}}return o},qg=(t,e,n,r,i)=>{n.currentAttributes.forEach((h,f)=>{i[f]===void 0&&(i[f]=null)});const s=t.doc,o=s.clientID;TM(n,i);const a=MM(t,e,n,i),l=r.constructor===String?new gi(r):r instanceof gn?new yi(r):new ul(r);let{left:c,right:u,index:d}=n;e._searchMarker&&Gd(e._searchMarker,n.index,l.getLength()),u=new Ye(De(o,Ft(s.store,o)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(t,0),n.right=u,n.index=d,n.forward(),EM(t,e,n,a)},fb=(t,e,n,r,i)=>{const s=t.doc,o=s.clientID;TM(n,i);const a=MM(t,e,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===qt));){if(!n.right.deleted)switch(n.right.content.constructor){case qt:{const{key:l,value:c}=n.right.content,u=i[l];if(u!==void 0){if(ko(u,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}n.right.delete(t)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Kn(t,De(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Ye(De(o,Ft(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new gi(l)),n.right.integrate(t,0),n.forward()}EM(t,e,n,a)},AM=(t,e,n,r,i)=>{let s=e;const o=ui();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===qt){const c=s.content;o.set(c.key,c)}s=s.right}let a=0,l=!1;for(;e!==s;){if(n===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case qt:{const{key:u,value:d}=c,h=r.get(u)??null;(o.get(u)!==c||h===d)&&(e.delete(t),a++,!l&&(i.get(u)??null)===d&&h!==d&&(h===null?i.delete(u):i.set(u,h))),!l&&!e.deleted&&Zc(i,c);break}}}e=e.right}return a},SJ=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===qt){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},xJ=t=>{let e=0;return rt(t.doc,n=>{let r=t._start,i=t._start,s=ui();const o=oy(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case qt:Zc(o,i.content);break;default:e+=AM(n,r,i,s,o),s=oy(o),r=i;break}i=i.right}}),e},CJ=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&cM(t,n.store.clients.get(r),s,i,o=>{!o.deleted&&o.content.constructor===qt&&o.constructor!==Ir&&e.add(o.parent)})}rt(n,r=>{Ho(t,t.deleteSet,i=>{if(i instanceof Ir||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===qt?e.add(s):SJ(r,i)});for(const i of e)xJ(i)})},pb=(t,e,n)=>{const r=n,i=oy(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case yi:case ul:case gi:n<e.right.length&&Kn(t,De(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&AM(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&Gd(o._searchMarker,e.index,-r+n),e};class EJ extends a1{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];rt(e,r=>{const i=new Map,s=new Map;let o=this.target._start,a=null;const l={};let c="",u=0,d=0;const h=()=>{if(a!==null){let f=null;switch(a){case"delete":d>0&&(f={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},i.size>0&&(f.attributes={},i.forEach((p,g)=>{p!==null&&(f.attributes[g]=p)}))),c="";break;case"retain":u>0&&(f={retain:u},fG(l)||(f.attributes=dG({},l))),u=0;break}f&&n.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case yi:case ul:this.adds(o)?this.deletes(o)||(h(),a="insert",c=o.content.getContent()[0],h()):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=1):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=1);break;case gi:this.adds(o)?this.deletes(o)||(a!=="insert"&&(h(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=o.length):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=o.length);break;case qt:{const{key:f,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const g=i.get(f)??null;ko(g,p)?p!==null&&o.delete(r):(a==="retain"&&h(),ko(p,s.get(f)??null)?delete l[f]:l[f]=p)}}else if(this.deletes(o)){s.set(f,p);const g=i.get(f)??null;ko(g,p)||(a==="retain"&&h(),l[f]=g)}else if(!o.deleted){s.set(f,p);const g=l[f];g!==void 0&&(ko(g,p)?g!==null&&o.delete(r):(a==="retain"&&h(),p===null?delete l[f]:l[f]=p))}o.deleted||(a==="insert"&&h(),Zc(i,o.content));break}}o=o.right}for(h();n.length>0;){const f=n[n.length-1];if(f.retain!==void 0&&f.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Uo extends gn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Cn(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Uo}clone(){const e=new Uo;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new EJ(this,e,n);c1(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??Cn();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===gi&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?rt(this.doc,r=>{const i=new vy(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const a=!n&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&qg(r,this,i,a,o.attributes||{})}else o.retain!==void 0?fb(r,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&pb(r,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??Cn();const i=[],s=new Map,o=this.doc;let a="",l=this._start;function c(){if(a.length>0){const d={};let h=!1;s.forEach((p,g)=>{h=!0,d[g]=p});const f={insert:a};h&&(f.attributes=d),i.push(f),a=""}}const u=()=>{for(;l!==null;){if(ba(l,e)||n!==void 0&&ba(l,n))switch(l.content.constructor){case gi:{const d=s.get("ychange");e!==void 0&&!ba(l,e)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),s.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!ba(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),s.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(c(),s.delete("ychange")),a+=l.content.str;break}case yi:case ul:{c();const d={insert:l.content.getContent()[0]};if(s.size>0){const h={};d.attributes=h,s.forEach((f,p)=>{h[p]=f})}i.push(d);break}case qt:ba(l,e)&&(c(),Zc(s,l.content));break}l=l.right}c()};return e||n?rt(o,d=>{e&&my(d,e),n&&my(d,n),u()},"cleanup"):u(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?rt(i,s=>{const o=yh(s,this,e,!r);r||(r={},o.currentAttributes.forEach((a,l)=>{r[l]=a})),qg(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?rt(i,s=>{const o=yh(s,this,e,!r);qg(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?rt(r,i=>{pb(i,yh(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?rt(i,s=>{const o=yh(s,this,e,!1);o.right!==null&&fb(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?rt(this.doc,n=>{Yp(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?rt(this.doc,r=>{G3(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return J3(this,e)}getAttributes(){return xM(this)}_write(e){e.writeTypeRef(WJ)}}const TJ=t=>new Uo;class Kg{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??Cn()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===Rn||n.constructor===il)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class il extends gn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new il}clone(){const e=new il;return e.insert(0,this.toArray().map(n=>n instanceof gn?n.clone():n)),e}get length(){return this.doc??Cn(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new Kg(this,e)}querySelector(e){e=e.toUpperCase();const r=new Kg(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),rl(new Kg(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){c1(this,e,new OJ(this,n,e))}toString(){return yM(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),Jd(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?rt(this.doc,r=>{kM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)rt(this.doc,r=>{const i=e&&e instanceof gn?e._item:e;Jp(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw $o("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?rt(this.doc,r=>{SM(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return gM(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return wM(this,e)}slice(e=0,n=this.length){return mM(this,e,n)}forEach(e){Jd(this,e)}_write(e){e.writeTypeRef(KJ)}}const MJ=t=>new il;class Rn extends il{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new Rn(this.nodeName)}clone(){const e=new Rn(this.nodeName),n=this.getAttributes();return hG(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof gn?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?rt(this.doc,n=>{Yp(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?rt(this.doc,r=>{G3(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return J3(this,e)}hasAttribute(e){return CM(this,e)}getAttributes(e){return e?vJ(this,e):xM(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const a=s[o];typeof a=="string"&&i.setAttribute(o,a)}return Jd(this,o=>{i.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(qJ),e.writeKey(this.nodeName)}}const AJ=t=>new Rn(t.readKey());class OJ extends a1{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class Xp extends Lc{constructor(e){super(),this.hookName=e}_copy(){return new Xp(this.hookName)}clone(){const e=new Xp(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(GJ),e.writeKey(this.hookName)}}const IJ=t=>new Xp(t.readKey());class pr extends Uo{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new pr}clone(){const e=new pr;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,a)=>o.key<a.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const a=s.attrs[o];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(JJ)}}const NJ=t=>new pr;class Y3{constructor(e,n){this.id=e,this.length=n}get deleted(){throw di()}mergeWith(e){return!1}write(e,n,r){throw di()}integrate(e,n){throw di()}}const RJ=0;class Ir extends Y3{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),lM(e.doc.store,this)}write(e,n){e.writeInfo(RJ),e.writeLen(this.length-n)}getMissing(e,n){return null}}class k0{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new k0(this.content)}splice(e){throw di()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const DJ=t=>new k0(t.readBuf());class Yd{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new Yd(this.len)}splice(e){const n=new Yd(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Wd(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const _J=t=>new Yd(t.readLen()),OM=(t,e)=>new Qc({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class S0{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new S0(OM(this.doc.guid,this.opts))}splice(e){throw di()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const PJ=t=>new S0(OM(t.readString(),t.readAny()));class ul{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new ul(this.embed)}splice(e){throw di()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const LJ=t=>new ul(t.readJSON());class qt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new qt(this.key,this.value)}splice(e){throw di()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const zJ=t=>new qt(t.readKey(),t.readJSON());class Qp{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new Qp(this.arr)}splice(e){const n=new Qp(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const BJ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new Qp(n)},FJ=qp("node_env")==="development";class sl{constructor(e){this.arr=e,FJ&&WT(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new sl(this.arr)}splice(e){const n=new sl(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const jJ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new sl(n)};class gi{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new gi(this.str)}splice(e){const n=new gi(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const $J=t=>new gi(t.readString()),HJ=[wJ,kJ,TJ,AJ,MJ,IJ,NJ],UJ=0,VJ=1,WJ=2,qJ=3,KJ=4,GJ=5,JJ=6;class yi{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new yi(this.type._copy())}splice(e){throw di()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const YJ=t=>new yi(HJ[t.readTypeRef()](t)),yy=(t,e)=>{let n=e,r=0,i;do r>0&&(n=De(n.client,n.clock+r)),i=lc(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof Ye);return{item:i,diff:r}},X3=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},Zp=(t,e,n)=>{const{client:r,clock:i}=e.id,s=new Ye(De(r,i+n),e,De(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=De(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},mb=(t,e)=>MK(t,n=>Xc(n.deletions,e)),IM=(t,e,n,r,i,s)=>{const o=t.doc,a=o.store,l=o.clientID,c=e.redone;if(c!==null)return Kn(t,c);let u=e.parent._item,d=null,h;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!n.has(u)||IM(t,u,n,r,i,s)===null))return null;for(;u.redone!==null;)u=Kn(t,u.redone)}const f=u===null?e.parent:u.content.type;if(e.parentSub===null){for(d=e.left,h=e;d!==null;){let y=d;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:Kn(t,y.redone);if(y!==null&&y.parent._item===u){d=y;break}d=d.left}for(;h!==null;){let y=h;for(;y!==null&&y.parent._item!==u;)y=y.redone===null?null:Kn(t,y.redone);if(y!==null&&y.parent._item===u){h=y;break}h=h.right}}else if(h=null,e.right&&!i){for(d=e;d!==null&&d.right!==null&&(d.right.redone||Xc(r,d.right.id)||mb(s.undoStack,d.right.id)||mb(s.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Kn(t,d.redone);if(d&&d.right!==null)return null}else d=f._map.get(e.parentSub)||null;const p=Ft(a,l),g=De(l,p),b=new Ye(g,d,d&&d.lastId,h,h&&h.id,f,e.parentSub,e.content.copy());return e.redone=g,X3(b,!0),b.integrate(t,0),b};class Ye extends Y3{constructor(e,n,r,i,s,o,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?W8:0}set marker(e){(this.info&jg)>0!==e&&(this.info^=jg)}get marker(){return(this.info&jg)>0}get keep(){return(this.info&V8)>0}set keep(e){this.keep!==e&&(this.info^=V8)}get countable(){return(this.info&W8)>0}get deleted(){return(this.info&Fg)>0}set deleted(e){this.deleted!==e&&(this.info^=Fg)}markDeleted(){this.info|=Fg}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ft(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ft(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ac&&this.id.client!==this.parent.client&&this.parent.clock>=Ft(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=sb(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Kn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Ir||this.right&&this.right.constructor===Ir)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Ye&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Ye&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ac){const r=lc(n,this.parent);r.constructor===Ir?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=sb(e,e.doc.store,De(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),mh(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(mh(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(lc(e.doc.store,i.origin)))s.has(lc(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),lM(e.doc.store,this),this.content.integrate(e,this),ab(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Ir(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:De(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&mh(e.origin,this.lastId)&&this.right===e&&mh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Wd(e.deleteSet,this.id.client,this.id.clock,this.length),ab(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw vr();this.content.gc(e),n?tJ(e,this,new Ir(this.id,this.length)):this.content=new Yd(this.length)}write(e,n){const r=n>0?De(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&t1|(r===null?0:fr)|(i===null?0:Cs)|(s===null?0:$d);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=qd(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===ac?(e.writeParentInfo(!1),e.writeLeftID(a)):vr();s!==null&&e.writeString(s)}this.content.write(e,n)}}const NM=(t,e)=>XJ[e&t1](t),XJ=[()=>{vr()},_J,BJ,DJ,$J,LJ,zJ,YJ,jJ,PJ,()=>{vr()}],QJ=10;class ii extends Y3{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){vr()}write(e,n){e.writeInfo(QJ),He(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const RM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},DM="__ $YJS$ __";RM[DM]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");RM[DM]=!0;const ZJ=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},eY=/[\uD800-\uDBFF]/,tY=/[\uDC00-\uDFFF]/,nY=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&eY.test(t[n-1])&&n--;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&tY.test(t[t.length-r])&&r--,{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},rY=nY,Dt=new dt("y-sync"),Es=new dt("y-undo");new dt("yjs-cursor");const em=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!Xc(e.ds,t.id),iY=[{light:"#ecd44433",dark:"#ecd444"}],sY=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=nl();t.forEach(i=>r.add(i)),e=e.filter(i=>!r.has(i))}t.set(n,iG(e))}return t.get(n)},oY=(t,{colors:e=iY,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:s}={})=>{let o=!1;const a=new lY(t,s),l=new ot({props:{editable:c=>{const u=Dt.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:Dt,state:{init:(c,u)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(c,u)=>{const d=c.getMeta(Dt);if(d!==void 0){u=Object.assign({},u);for(const h in d)u[h]=d[h]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,a.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&GT(0,()=>{a.prosemirrorView!=null&&(d.restore==null?a._renderSnapshot(d.snapshot,d.prevSnapshot,u):(a._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),u}},view:c=>(a.initView(c),s==null&&a._forceRerender(),i(),{update:()=>{const u=l.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(o||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(o=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=Es.getState(c.state),h=d&&d.undoManager;h&&h.stopCapturing()}a.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),a._prosemirrorChanged(c.state.doc)},Dt)})}},destroy:()=>{a.destroy()}})});return l},aY=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null){const r=Cy(n.doc,n.type,e.anchor,n.mapping),i=Cy(n.doc,n.type,e.head,n.mapping);r!==null&&i!==null&&(t=t.setSelection(ye.create(t.doc,r,i)))}},wy=(t,e)=>({anchor:xy(e.selection.anchor,t.type,t.mapping),head:xy(e.selection.head,t.type,t.mapping)});class lY{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=ZJ(),this.mapping=n,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=wy(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(wG&&this._domSelectionInView===null&&(GT(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),s=CG.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||s.clientWidth||0)&&i.top<=(window.innerHeight||s.clientHeight||0)}renderSnapshot(e,n){n||(n=oM(nM(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Dt,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(r=>hf(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J($.from(e),0,0));n.setMeta(Dt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>hf(i,this.prosemirrorView.state.schema,this.mapping)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J($.from(n),0,0));e&&r.setSelection(ye.create(r.doc,e.anchor,e.head)),this.prosemirrorView.dispatch(r.setMeta(Dt,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,r){let i=this.doc;e||(e=Wg(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&vr(),i=new Qc({gc:!1}),py(i,n),n=Wg(i),py(i,e),e=Wg(i)),this.mapping.clear(),this.mux(()=>{i.transact(s=>{const o=r.permanentUserData;o&&o.dss.forEach(u=>{Ho(s,u,d=>{})});const a=(u,d)=>{const h=u==="added"?o.getUserByClientId(d.client):o.getUserByDeletedId(d);return{user:h,type:u,color:sY(r.colorMapping,r.colors,h)}},l=vM(this.type,new q3(n.ds,e.sv)).map(u=>!u._item.deleted||em(u._item,e)||em(u._item,n)?hf(u,this.prosemirrorView.state.schema,new Map,e,n,a):null).filter(u=>u!==null),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J($.from(l),0,0));this.prosemirrorView.dispatch(c.setMeta(Dt,{isChangeOrigin:!0}))},Dt)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const r=Dt.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(a,l)=>this.mapping.delete(l);Ho(n,n.deleteSet,a=>{if(a.constructor===Ye){const l=a.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const s=this.type.toArray().map(a=>_M(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null);let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new J($.from(s),0,0));aY(o,this.beforeTransactionSelection,this),o=o.setMeta(Dt,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof dM}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{ky(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=wy(this,this.prosemirrorView.state)},Dt)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const _M=(t,e,n,r,i,s)=>{const o=n.get(t);if(o===void 0){if(t instanceof Rn)return hf(t,e,n,r,i,s);throw di()}return o},hf=(t,e,n,r,i,s)=>{const o=[],a=l=>{var c;if(l.constructor===Rn){const u=_M(l,e,n,r,i,s);u!==null&&o.push(u)}else{const u=(c=l._item.right)==null?void 0:c.content.type;u instanceof Uo&&!u._item.deleted&&u._item.id.client===u.doc.clientID&&(l.applyDelta([{retain:l.length},...u.toDelta()]),u.doc.transact(h=>{u._item.delete(h)}));const d=cY(l,e,n,r,i,s);d!==null&&d.forEach(h=>{h!==null&&o.push(h)})}};r===void 0||i===void 0?t.toArray().forEach(a):vM(t,new q3(i.ds,r.sv)).forEach(a);try{const l=t.getAttributes(r);r!==void 0&&(em(t._item,r)?em(t._item,i)||(l.ychange=s?s("added",t._item.id):{type:"added"}):l.ychange=s?s("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,l,o);return n.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Dt),n.delete(t),null}},cY=(t,e,n,r,i,s)=>{const o=[],a=t.toDelta(r,i,s);try{for(let l=0;l<a.length;l++){const c=a[l],u=[];for(const d in c.attributes)u.push(e.mark(d,c.attributes[d]));o.push(e.text(c.insert,u))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Dt),null}return o},uY=(t,e)=>{const n=new pr,r=t.map(i=>({insert:i.text,attributes:LM(i.marks)}));return n.applyDelta(r),e.set(n,t),n},dY=(t,e)=>{const n=new Rn(t.type.name);for(const r in t.attrs){const i=t.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,u1(t).map(r=>by(r,e))),e.set(n,t),n},by=(t,e)=>t instanceof Array?uY(t,e):dY(t,e),gb=t=>typeof t=="object"&&t!==null,Q3=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let r=n.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<n.length&&r;i++){const s=n[i],o=t[s],a=e[s];r=s==="ychange"||o===a||gb(o)&&gb(a)&&Q3(o,a)}return r},u1=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.isText){const s=[];for(let o=e[r];r<e.length&&o.isText;o=e[++r])s.push(o);r--,n.push(s)}else n.push(i)}return n},PM=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,i)=>r.insert===e[i].text&&VT(r.attributes||{}).length===e[i].marks.length&&e[i].marks.every(s=>Q3(r.attributes[s.type.name]||{},s.attrs)))},Xd=(t,e)=>{if(t instanceof Rn&&!(e instanceof Array)&&Sy(t,e)){const n=u1(e);return t._length===n.length&&Q3(t.getAttributes(),e.attrs)&&t.toArray().every((r,i)=>Xd(r,n[i]))}return t instanceof pr&&e instanceof Array&&PM(t,e)},tm=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),vb=(t,e,n)=>{const r=t.toArray(),i=u1(e),s=i.length,o=r.length,a=e1(o,s);let l=0,c=0,u=!1;for(;l<a;l++){const d=r[l],h=i[l];if(tm(n.get(d),h))u=!0;else if(!Xd(d,h))break}for(;l+c<a;c++){const d=r[o-c-1],h=i[s-c-1];if(tm(n.get(d),h))u=!0;else if(!Xd(d,h))break}return{equalityFactor:l+c,foundMappedChild:u}},hY=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof gi?e+=n.content.str:n.content instanceof qt&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},fY=(t,e,n)=>{n.set(t,e);const{nAttrs:r,str:i}=hY(t),s=e.map(c=>({insert:c.text,attributes:Object.assign({},r,LM(c.marks))})),{insert:o,remove:a,index:l}=rY(i,s.map(c=>c.insert).join(""));t.delete(l,a),t.insert(l,o),t.applyDelta(s.map(c=>({retain:c.insert.length,attributes:c.attributes})))},LM=t=>{const e={};return t.forEach(n=>{n.type.name!=="ychange"&&(e[n.type.name]=n.attrs)}),e},ky=(t,e,n,r)=>{if(e instanceof Rn&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(e,n),e instanceof Rn){const d=e.getAttributes(),h=n.attrs;for(const f in h)h[f]!==null?d[f]!==h[f]&&f!=="ychange"&&e.setAttribute(f,h[f]):e.removeAttribute(f);for(const f in d)h[f]===void 0&&e.removeAttribute(f)}const i=u1(n),s=i.length,o=e.toArray(),a=o.length,l=e1(s,a);let c=0,u=0;for(;c<l;c++){const d=o[c],h=i[c];if(!tm(r.get(d),h))if(Xd(d,h))r.set(d,h);else break}for(;u+c+1<l;u++){const d=o[a-u-1],h=i[s-u-1];if(!tm(r.get(d),h))if(Xd(d,h))r.set(d,h);else break}t.transact(()=>{for(;a-c-u>0&&s-c-u>0;){const h=o[c],f=i[c],p=o[a-u-1],g=i[s-u-1];if(h instanceof pr&&f instanceof Array)PM(h,f)||fY(h,f,r),c+=1;else{let b=h instanceof Rn&&Sy(h,f),y=p instanceof Rn&&Sy(p,g);if(b&&y){const w=vb(h,f,r),C=vb(p,g,r);w.foundMappedChild&&!C.foundMappedChild?y=!1:!w.foundMappedChild&&C.foundMappedChild||w.equalityFactor<C.equalityFactor?b=!1:y=!1}b?(ky(t,h,f,r),c+=1):y?(ky(t,p,g,r),u+=1):(r.delete(e.get(c)),e.delete(c,1),e.insert(c,[by(f,r)]),c+=1)}}const d=a-c-u;if(a===1&&s===0&&o[0]instanceof pr?(r.delete(o[0]),o[0].delete(0,o[0].length)):d>0&&(e.slice(c,c+d).forEach(h=>r.delete(h)),e.delete(c,d)),c+u<s){const h=[];for(let f=c;f<s-u;f++)h.push(by(i[f],r));e.insert(c,h)}},Dt)},Sy=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name,xy=(t,e,n)=>{if(t===0)return Vg(e,0,-1);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof pr){if(r._length>=t)return Vg(r,t,-1);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<i)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&i>1)return new Gp(r._item===null?null:r._item.id,r._item===null?qd(r):null,null);if(t-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new Gp(r._item===null?null:r._item.id,r._item===null?qd(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw vr();if(t===0&&r.constructor!==pr&&r!==e)return pY(r._item.parent,r._item)}return Vg(e,e._length,-1)},pY=(t,e)=>{let n=null,r=null;return t._item===null?r=qd(t):n=De(t._item.id.client,t._item.id.clock),new Gp(n,r,e.id)},Cy=(t,e,n,r)=>{const i=ZG(n,t);if(i===null||i.type!==e&&!Kd(e,i.type._item))return null;let s=i.type,o=0;if(s.constructor===pr)o=i.index;else if(s._item===null||!s._item.deleted){let a=s._first,l=0;for(;l<s._length&&l<i.index&&a!==null;){if(!a.deleted){const c=a.content.type;l++,c instanceof pr?o+=c._length:o+=r.get(c).nodeSize}a=a.right}o+=1}for(;s!==e&&s._item!==null;){const a=s._item.parent;if(a._item===null||!a._item.deleted){o+=1;let l=a._first;for(;l!==null;){const c=l.content.type;if(c===s)break;l.deleted||(c instanceof pr?o+=c._length:o+=r.get(c).nodeSize),l=l.right}}s=a}return o-1};function mY(t){const e=t.toArray();function n(r){let i;if(!r.nodeName)i=r.toDelta().map(o=>{const a={type:"text",text:o.insert};return o.attributes&&(a.marks=Object.keys(o.attributes).map(l=>{const c=o.attributes[l],u={type:l};return Object.keys(c)&&(u.attrs=c),u})),a});else{i={type:r.nodeName};const s=r.getAttributes();Object.keys(s).length&&(i.attrs=s);const o=r.toArray();o.length&&(i.content=o.map(n).flat())}return i}return{type:"doc",content:e.map(n)}}const gY=t=>{const e=Es.getState(t).undoManager;if(e!=null)return e.undo(),!0},vY=t=>{const e=Es.getState(t).undoManager;if(e!=null)return e.redo(),!0},yY=new Set(["paragraph"]),wY=(t,e)=>!(t instanceof Ye)||!(t.content instanceof yi)||!(t.content.type instanceof Uo||t.content.type instanceof Rn&&e.has(t.content.type.nodeName))||t.content.type._length===0,bY=({protectedNodes:t=yY,trackedOrigins:e=[],undoManager:n=null}={})=>new ot({key:Es,state:{init:(r,i)=>{const s=Dt.getState(i),o=n||new dM(s.type,{trackedOrigins:new Set([Dt].concat(e)),deleteFilter:a=>wY(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:o,prevSel:null,hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}},apply:(r,i,s,o)=>{const a=Dt.getState(o).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return a?{undoManager:l,prevSel:wy(a,s),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Dt.getState(r.state),s=Es.getState(r.state).undoManager;return s.on("stack-item-added",({stackItem:o})=>{const a=i.binding;a&&o.meta.set(a,Es.getState(r.state).prevSel)}),s.on("stack-item-popped",({stackItem:o})=>{const a=i.binding;a&&(a.beforeTransactionSelection=o.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{s.destroy()}}}});Lt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Es.getState(e).undoManager.undoStack.length===0?!1:n?gY(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Es.getState(e).undoManager.redoStack.length===0?!1:n?vY(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=bY(this.options.yUndoOptions),r=n.spec.view;n.spec.view=o=>{const{undoManager:a}=Es.getState(o.state);a.restore&&(a.restore(),a.restore=()=>{});const l=r?r(o):void 0;return{destroy:()=>{const c=a.trackedOrigins.has(a),u=a._observers;a.restore=()=>{c&&a.trackedOrigins.add(a),a.doc.on("afterTransaction",a.afterTransactionHandler),a._observers=u},l!=null&&l.destroy&&l.destroy()}}};const i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},s=oY(e,i);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const o=mY(e);if(o.content.length===0)return;this.editor.schema.nodeFromJSON(o).check()}catch(o){return this.editor.emit("contentError",{error:o,editor:this.editor,disableCollaboration:()=>{var a;(a=e.doc)===null||a===void 0||a.destroy(),this.storage.isDisabled=!0}}),!1}})),[s,n,this.editor.options.enableContentCheck&&new ot({key:new dt("filterInvalidContent"),filterTransaction:()=>{var o;return this.storage.isDisabled&&((o=e.doc)===null||o===void 0||o.destroy()),!0}})].filter(Boolean)}});function kY(t){return!!t.getMeta(Dt)}function yb(t){if(!t.length)return et.empty;const e=[],n=t[0].$from.node(0);return t.forEach(r=>{const i=r.$from.pos,s=r.$from.nodeAfter;s&&e.push(Xt.node(i,i+s.nodeSize,{class:"ProseMirror-selectednoderange"}))}),et.create(n,e)}function d1(t,e,n){const r=[],i=t.node(0);n=typeof n=="number"&&n>=0?n:t.sameParent(e)?Math.max(0,t.sharedDepth(e.pos)-1):t.sharedDepth(e.pos);const s=new Ad(t,e,n),o=s.depth===0?0:i.resolve(s.start).posAtIndex(0);return s.parent.forEach((a,l)=>{const c=o+l,u=c+a.nodeSize;if(c<s.start||c>=s.end)return;const d=new Z2(i.resolve(c),i.resolve(u));r.push(d)}),r}class Z3{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Z3(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return new So(n,r)}}let So=class Zs extends Se{constructor(e,n,r,i=1){const{doc:s}=e,o=e===n,a=e.pos===s.content.size&&n.pos===s.content.size,l=o&&!a?s.resolve(n.pos+(i>0?1:-1)):n,c=o&&a?s.resolve(e.pos-(i>0?1:-1)):e,u=d1(c.min(l),c.max(l),r);super(l.pos>=e.pos?u[0].$from:u[u.length-1].$to,l.pos>=e.pos?u[u.length-1].$to:u[0].$from,u),this.depth=r}get $to(){return this.ranges[this.ranges.length-1].$to}eq(e){return e instanceof Zs&&e.$from.pos===this.$from.pos&&e.$to.pos===this.$to.pos}map(e,n){const r=e.resolve(n.map(this.anchor)),i=e.resolve(n.map(this.head));return new Zs(r,i)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:e}=this.$from;if(this.isForwards&&this.ranges.length>1){const i=this.ranges.slice(0,-1),s=i[0].$from,o=i[i.length-1].$to;return new Zs(s,o,this.depth)}const n=this.ranges[0],r=e.resolve(Math.max(0,n.$from.pos-1));return new Zs(this.$anchor,r,this.depth)}extendForwards(){const{doc:e}=this.$from;if(this.isBackwards&&this.ranges.length>1){const i=this.ranges.slice(1),s=i[0].$from,o=i[i.length-1].$to;return new Zs(o,s,this.depth)}const n=this.ranges[this.ranges.length-1],r=e.resolve(Math.min(e.content.size,n.$to.pos+1));return new Zs(this.$anchor,r,this.depth)}static fromJSON(e,n){return new Zs(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r,i,s=1){return new this(e.resolve(n),e.resolve(r),i,s)}getBookmark(){return new Z3(this.anchor,this.head)}};function wh(t){return t instanceof So}So.prototype.visible=!1;Lt.create({name:"nodeRange",addOptions:()=>({depth:void 0,key:"Mod"}),addKeyboardShortcuts(){return{"Shift-ArrowUp":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:l}=s;if(!wh(s)){const u=So.create(i,a,l,e,-1);return o.setSelection(u),n.dispatch(o),!0}const c=s.extendBackwards();return o.setSelection(c),n.dispatch(o),!0},"Shift-ArrowDown":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:l}=s;if(!wh(s)){const u=So.create(i,a,l,e);return o.setSelection(u),n.dispatch(o),!0}const c=s.extendForwards();return o.setSelection(c),n.dispatch(o),!0},"Mod-a":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,tr:s}=r,o=So.create(i,0,i.content.size,e);return s.setSelection(o),n.dispatch(s),!0}}},onSelectionUpdate(){const{selection:t}=this.editor.state;wh(t)&&this.editor.view.dom.classList.add("ProseMirror-noderangeselection")},addProseMirrorPlugins(){let t=!1,e=!1;return[new ot({key:new dt("nodeRange"),props:{attributes:()=>t?{class:"ProseMirror-noderangeselection"}:{class:""},handleDOMEvents:{mousedown:(n,r)=>{const{key:i}=this.options,s=/Mac/.test(navigator.platform),o=!!r.shiftKey,a=!!r.ctrlKey,l=!!r.altKey,c=!!r.metaKey;return(i==null||i==="Shift"&&o||i==="Control"&&a||i==="Alt"&&l||i==="Meta"&&c||i==="Mod"&&(s?c:a))&&(e=!0),!!e&&(document.addEventListener("mouseup",()=>{e=!1;const{state:u}=n,{doc:d,selection:h,tr:f}=u,{$anchor:p,$head:g}=h;if(p.sameParent(g))return;const b=So.create(d,p.pos,g.pos,this.options.depth);f.setSelection(b),n.dispatch(f)},{once:!0}),!1)}},decorations:n=>{const{selection:r}=n,i=wh(r);if(t=!1,!e)return i?(t=!0,yb(r.ranges)):null;const{$from:s,$to:o}=r;if(!i&&s.sameParent(o))return null;const a=d1(s,o,this.options.depth);return a.length?(t=!0,yb(a)):null}}})]}});function SY(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],r=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((i,s)=>{r[s].style.cssText=function(o){let a="";const l=getComputedStyle(o);for(let c=0;c<l.length;c+=1)a+=`${l[c]}:${l.getPropertyValue(l[c])};`;return a}(i)}),e}const zM=t=>{const{x:e,y:n,direction:r,editor:i}=t;let s=null,o=null,a=null,l=e;for(;o===null&&l<window.innerWidth&&l>0;){const c=document.elementsFromPoint(l,n),u=c.findIndex(h=>h.classList.contains("ProseMirror")),d=c.slice(0,u);if(d.length>0){const h=d[0];if(s=h,a=i.view.posAtDOM(h,0),a>=0){o=i.state.doc.nodeAt(Math.max(a-1,0)),o!=null&&o.isText&&(o=i.state.doc.nodeAt(Math.max(a-1,0))),o||(o=i.state.doc.nodeAt(Math.max(a,0)));break}}r==="left"?l-=1:l+=1}return{resultElement:s,resultNode:o,pos:a??null}};function bh(t,e){return window.getComputedStyle(t)[e]}function xY(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function wb(t){var e;(e=t.parentNode)===null||e===void 0||e.removeChild(t)}function CY(t,e){const{doc:n}=e.view.state,r=zM({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!r.resultNode||r.pos===null)return[];const i=t.clientX,s=function(u,d,h){const f=parseInt(bh(u.dom,"paddingLeft"),10),p=parseInt(bh(u.dom,"paddingRight"),10),g=parseInt(bh(u.dom,"borderLeftWidth"),10),b=parseInt(bh(u.dom,"borderLeftWidth"),10),y=u.dom.getBoundingClientRect();return{left:xY(d,y.left+f+g,y.right-p-b),top:h}}(e.view,i,t.clientY),o=e.view.posAtCoords(s);if(!o)return[];const{pos:a}=o;if(!n.resolve(a).parent)return[];const l=n.resolve(r.pos),c=n.resolve(r.pos+1);return d1(l,c,0)}const bb=(t,e)=>{const n=t.resolve(e),{depth:r}=n;return r===0?e:n.pos-n.parentOffset-1},kb=(t,e)=>{const n=t.nodeAt(e),r=t.resolve(e);let{depth:i}=r,s=n;for(;i>0;){const o=r.node(i);i-=1,i===0&&(s=o)}return s},Gg=(t,e)=>{const n=Dt.getState(t);return n?xy(e,n.type,n.binding.mapping):null},Sb=(t,e)=>{let n=e;for(;n&&n.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},BM=new dt("dragHandle"),FM=({pluginKey:t=BM,element:e,editor:n,tippyOptions:r,onNodeChange:i})=>{const s=document.createElement("div");let o,a=null,l=!1,c=null,u=-1;return e.addEventListener("dragstart",d=>{(function(h,f){const{view:p}=f;if(!h.dataTransfer)return;const{empty:g,$from:b,$to:y}=p.state.selection,w=CY(h,f),C=d1(b,y,0),k=C.some(X=>w.find(oe=>oe.$from===X.$from&&oe.$to===X.$to)),A=g||!k?w:C;if(!A.length)return;const{tr:x}=p.state,O=document.createElement("div"),D=A[0].$from.pos,L=A[A.length-1].$to.pos,j=So.create(p.state.doc,D,L),Q=j.content();A.forEach(X=>{const oe=SY(p.nodeDOM(X.$from.pos));O.append(oe)}),O.style.position="absolute",O.style.top="-10000px",document.body.append(O),h.dataTransfer.clearData(),h.dataTransfer.setDragImage(O,0,0),p.dragging={slice:Q,move:!0},x.setSelection(j),p.dispatch(x),document.addEventListener("drop",()=>wb(O),{once:!0})})(d,n),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new ot({key:typeof t=="string"?new dt(t):t,state:{init:()=>({locked:!1}),apply(d,h,f,p){const g=d.getMeta("lockDragHandle"),b=d.getMeta("hideDragHandle");if(g!==void 0&&(l=g),b&&a)return a.hide(),l=!1,c=null,u=-1,i==null||i({editor:n,node:null,pos:-1}),h;if(d.docChanged&&u!==-1&&e&&a)if(kY(d)){const y=((w,C)=>{const k=Dt.getState(w);return k?Cy(k.doc,k.type,C,k.binding.mapping)||0:-1})(p,o);y!==u&&(u=y)}else{const y=d.mapping.map(u);y!==u&&(u=y,o=Gg(p,u))}return h}},view:d=>{var h;return e.draggable=!0,e.style.pointerEvents="auto",(h=n.view.dom.parentElement)===null||h===void 0||h.appendChild(s),s.appendChild(e),s.style.pointerEvents="none",s.style.position="absolute",s.style.top="0",s.style.left="0",a=Kc(d.dom,{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]},...r,appendTo:s,content:e}),{update(f,p){if(!e||!a||(e.draggable=!l,d.state.doc.eq(p.doc)||u===-1))return;let g=d.nodeDOM(u);if(g=Sb(d,g),g===d.dom||(g==null?void 0:g.nodeType)!==1)return;const b=d.posAtDOM(g,0),y=kb(n.state.doc,b),w=bb(n.state.doc,b);c=y,u=w,o=Gg(d.state,u),i==null||i({editor:n,node:c,pos:u}),a.setProps({getReferenceClientRect:()=>g.getBoundingClientRect()})},destroy(){a==null||a.destroy(),e&&wb(s)}}},props:{handleDOMEvents:{mouseleave:(d,h)=>(l||h.target&&!s.contains(h.relatedTarget)&&(a==null||a.hide(),c=null,u=-1,i==null||i({editor:n,node:null,pos:-1})),!1),mousemove(d,h){if(!e||!a||l)return!1;const f=zM({x:h.clientX,y:h.clientY,direction:"right",editor:n});if(!f.resultElement)return!1;let p=f.resultElement;if(p=Sb(d,p),p===d.dom||(p==null?void 0:p.nodeType)!==1)return!1;const g=d.posAtDOM(p,0),b=kb(n.state.doc,g);if(b!==c){const y=bb(n.state.doc,g);c=b,u=y,o=Gg(d.state,u),i==null||i({editor:n,node:c,pos:u}),a.setProps({getReferenceClientRect:()=>p.getBoundingClientRect()}),a.show()}return!1}}}})};Lt.create({name:"dragHandle",addOptions:()=>({render(){const t=document.createElement("div");return t.classList.add("drag-handle"),t},tippyOptions:{},locked:!1,onNodeChange:()=>null}),addCommands(){return{lockDragHandle:()=>({editor:t})=>(this.options.locked=!0,t.commands.setMeta("lockDragHandle",this.options.locked)),unlockDragHandle:()=>({editor:t})=>(this.options.locked=!1,t.commands.setMeta("lockDragHandle",this.options.locked)),toggleDragHandle:()=>({editor:t})=>(this.options.locked=!this.options.locked,t.commands.setMeta("lockDragHandle",this.options.locked))}},addProseMirrorPlugins(){const t=this.options.render();return[FM({tippyOptions:this.options.tippyOptions,element:t,editor:this.editor,onNodeChange:this.options.onNodeChange})]}});const EY=t=>{const{className:e="drag-handle",children:n,editor:r,pluginKey:i=BM,onNodeChange:s,tippyOptions:o={}}=t,[a,l]=B.useState(null),c=B.useRef(null);return B.useEffect(()=>a?r.isDestroyed?()=>{c.current=null}:(c.current||(c.current=FM({editor:r,element:a,pluginKey:i,tippyOptions:o,onNodeChange:s}),r.registerPlugin(c.current)),()=>{r.unregisterPlugin(i),c.current=null}):()=>{c.current=null},[a,r,s,i]),Ct.createElement("div",{className:e,ref:l},n)};class lr{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new lr(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class zr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new zr(n,lr.range(this,e))}}class K{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,o=n&&n.loc;if(o&&o.start<=o.end){var a=o.lexer.input;i=o.start,s=o.end,i===a.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=a.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+a.slice(i-15,i):c=a.slice(0,i);var u;s+15<a.length?u=a.slice(s,s+15)+"":u=a.slice(s),r+=c+l+u}var d=new Error(r);return d.name="ParseError",d.__proto__=K.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}K.prototype.__proto__=Error.prototype;var TY=function(e,n){return e.indexOf(n)!==-1},MY=function(e,n){return e===void 0?n:e},AY=/([A-Z])/g,OY=function(e){return e.replace(AY,"-$1").toLowerCase()},IY={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},NY=/[&><"']/g;function RY(t){return String(t).replace(NY,e=>IY[e])}var jM=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},DY=function(e){var n=jM(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},_Y=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},PY=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},ve={contains:TY,deflt:MY,escape:RY,hyphenate:OY,getBaseElem:jM,isCharacterBox:DY,protocolFromUrl:PY},ff={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function LY(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class e5{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in ff)if(ff.hasOwnProperty(n)){var r=ff[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:LY(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new K("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=ve.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class Gs{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Pi[zY[this.id]]}sub(){return Pi[BY[this.id]]}fracNum(){return Pi[FY[this.id]]}fracDen(){return Pi[jY[this.id]]}cramp(){return Pi[$Y[this.id]]}text(){return Pi[HY[this.id]]}isTight(){return this.size>=2}}var t5=0,nm=1,uc=2,Ts=3,Qd=4,Dr=5,zc=6,Dn=7,Pi=[new Gs(t5,0,!1),new Gs(nm,0,!0),new Gs(uc,1,!1),new Gs(Ts,1,!0),new Gs(Qd,2,!1),new Gs(Dr,2,!0),new Gs(zc,3,!1),new Gs(Dn,3,!0)],zY=[Qd,Dr,Qd,Dr,zc,Dn,zc,Dn],BY=[Dr,Dr,Dr,Dr,Dn,Dn,Dn,Dn],FY=[uc,Ts,Qd,Dr,zc,Dn,zc,Dn],jY=[Ts,Ts,Dr,Dr,Dn,Dn,Dn,Dn],$Y=[nm,nm,Ts,Ts,Dr,Dr,Dn,Dn],HY=[t5,nm,uc,Ts,uc,Ts,uc,Ts],ke={DISPLAY:Pi[t5],TEXT:Pi[uc],SCRIPT:Pi[Qd],SCRIPTSCRIPT:Pi[zc]},Ey=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function UY(t){for(var e=0;e<Ey.length;e++)for(var n=Ey[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var pf=[];Ey.forEach(t=>t.blocks.forEach(e=>pf.push(...e)));function $M(t){for(var e=0;e<pf.length;e+=2)if(t>=pf[e]&&t<=pf[e+1])return!0;return!1}var El=80,VY=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},WY=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},qY=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},KY=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},GY=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},JY=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},YY=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},XY=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=VY(n,El);break;case"sqrtSize1":i=WY(n,El);break;case"sqrtSize2":i=qY(n,El);break;case"sqrtSize3":i=KY(n,El);break;case"sqrtSize4":i=GY(n,El);break;case"sqrtTall":i=YY(n,El,r)}return i},QY=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},xb={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},ZY=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class x0{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return ve.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var ji={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},kh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},Cb={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function eX(t,e){ji[t]=e}function n5(t,e,n){if(!ji[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=ji[e][r];if(!i&&t[0]in Cb&&(r=Cb[t[0]].charCodeAt(0),i=ji[e][r]),!i&&n==="text"&&$M(r)&&(i=ji[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var Jg={};function tX(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!Jg[e]){var n=Jg[e]={cssEmPerMu:kh.quad[e]/18};for(var r in kh)kh.hasOwnProperty(r)&&(n[r]=kh[r][e])}return Jg[e]}var nX=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Eb=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Tb=function(e,n){return n.size<2?e:nX[e-1][n.size-1]};class fs{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||fs.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Eb[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new fs(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Tb(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Eb[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Tb(fs.BASESIZE,e);return this.size===n&&this.textSize===fs.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==fs.BASESIZE?["sizing","reset-size"+this.size,"size"+fs.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=tX(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}fs.BASESIZE=6;var Ty={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},rX={ex:!0,em:!0,mu:!0},HM=function(e){return typeof e!="string"&&(e=e.unit),e in Ty||e in rX||e==="ex"},Et=function(e,n){var r;if(e.unit in Ty)r=Ty[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new K("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},G=function(e){return+e.toFixed(4)+"em"},Vo=function(e){return e.filter(n=>n).join(" ")},UM=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},VM=function(e){var n=document.createElement(e);n.className=Vo(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},WM=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+ve.escape(Vo(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ve.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+ve.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+ve.escape(this.attributes[s])+'"');n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+e+">",n};class C0{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,UM.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return ve.contains(this.classes,e)}toNode(){return VM.call(this,"span")}toMarkup(){return WM.call(this,"span")}}class r5{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,UM.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return ve.contains(this.classes,e)}toNode(){return VM.call(this,"a")}toMarkup(){return WM.call(this,"a")}}class iX{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return ve.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+ve.escape(this.src)+'"'+(' alt="'+ve.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=ve.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+ve.escape(n)+'"'),e+="'/>",e}}var sX={:"",:"",:"",:""};class Ur{constructor(e,n,r,i,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var c=UY(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=sX[this.text])}hasClass(e){return ve.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=G(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Vo(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=ve.escape(Vo(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ve.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+ve.escape(r)+'"');var s=ve.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Ls{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+ve.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Wo{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",xb[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+ve.escape(this.alternate)+'"/>':'<path d="'+ve.escape(xb[this.pathName])+'"/>'}}class My{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+ve.escape(this.attributes[n])+'"');return e+="/>",e}}function Mb(t){if(t instanceof Ur)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function oX(t){if(t instanceof C0)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var aX={bin:1,close:1,inner:1,open:1,punct:1,rel:1},lX={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ut={math:{},text:{}};function m(t,e,n,r,i,s){ut[t][i]={font:e,group:n,replace:r},s&&r&&(ut[t][r]=ut[t][i])}var v="math",U="text",S="main",T="ams",bt="accent-token",ne="bin",$n="close",eu="inner",be="mathord",Kt="op-token",kr="open",h1="punct",M="rel",Hs="spacing",R="textord";m(v,S,M,"","\\equiv",!0);m(v,S,M,"","\\prec",!0);m(v,S,M,"","\\succ",!0);m(v,S,M,"","\\sim",!0);m(v,S,M,"","\\perp");m(v,S,M,"","\\preceq",!0);m(v,S,M,"","\\succeq",!0);m(v,S,M,"","\\simeq",!0);m(v,S,M,"","\\mid",!0);m(v,S,M,"","\\ll",!0);m(v,S,M,"","\\gg",!0);m(v,S,M,"","\\asymp",!0);m(v,S,M,"","\\parallel");m(v,S,M,"","\\bowtie",!0);m(v,S,M,"","\\smile",!0);m(v,S,M,"","\\sqsubseteq",!0);m(v,S,M,"","\\sqsupseteq",!0);m(v,S,M,"","\\doteq",!0);m(v,S,M,"","\\frown",!0);m(v,S,M,"","\\ni",!0);m(v,S,M,"","\\propto",!0);m(v,S,M,"","\\vdash",!0);m(v,S,M,"","\\dashv",!0);m(v,S,M,"","\\owns");m(v,S,h1,".","\\ldotp");m(v,S,h1,"","\\cdotp");m(v,S,R,"#","\\#");m(U,S,R,"#","\\#");m(v,S,R,"&","\\&");m(U,S,R,"&","\\&");m(v,S,R,"","\\aleph",!0);m(v,S,R,"","\\forall",!0);m(v,S,R,"","\\hbar",!0);m(v,S,R,"","\\exists",!0);m(v,S,R,"","\\nabla",!0);m(v,S,R,"","\\flat",!0);m(v,S,R,"","\\ell",!0);m(v,S,R,"","\\natural",!0);m(v,S,R,"","\\clubsuit",!0);m(v,S,R,"","\\wp",!0);m(v,S,R,"","\\sharp",!0);m(v,S,R,"","\\diamondsuit",!0);m(v,S,R,"","\\Re",!0);m(v,S,R,"","\\heartsuit",!0);m(v,S,R,"","\\Im",!0);m(v,S,R,"","\\spadesuit",!0);m(v,S,R,"","\\S",!0);m(U,S,R,"","\\S");m(v,S,R,"","\\P",!0);m(U,S,R,"","\\P");m(v,S,R,"","\\dag");m(U,S,R,"","\\dag");m(U,S,R,"","\\textdagger");m(v,S,R,"","\\ddag");m(U,S,R,"","\\ddag");m(U,S,R,"","\\textdaggerdbl");m(v,S,$n,"","\\rmoustache",!0);m(v,S,kr,"","\\lmoustache",!0);m(v,S,$n,"","\\rgroup",!0);m(v,S,kr,"","\\lgroup",!0);m(v,S,ne,"","\\mp",!0);m(v,S,ne,"","\\ominus",!0);m(v,S,ne,"","\\uplus",!0);m(v,S,ne,"","\\sqcap",!0);m(v,S,ne,"","\\ast");m(v,S,ne,"","\\sqcup",!0);m(v,S,ne,"","\\bigcirc",!0);m(v,S,ne,"","\\bullet",!0);m(v,S,ne,"","\\ddagger");m(v,S,ne,"","\\wr",!0);m(v,S,ne,"","\\amalg");m(v,S,ne,"&","\\And");m(v,S,M,"","\\longleftarrow",!0);m(v,S,M,"","\\Leftarrow",!0);m(v,S,M,"","\\Longleftarrow",!0);m(v,S,M,"","\\longrightarrow",!0);m(v,S,M,"","\\Rightarrow",!0);m(v,S,M,"","\\Longrightarrow",!0);m(v,S,M,"","\\leftrightarrow",!0);m(v,S,M,"","\\longleftrightarrow",!0);m(v,S,M,"","\\Leftrightarrow",!0);m(v,S,M,"","\\Longleftrightarrow",!0);m(v,S,M,"","\\mapsto",!0);m(v,S,M,"","\\longmapsto",!0);m(v,S,M,"","\\nearrow",!0);m(v,S,M,"","\\hookleftarrow",!0);m(v,S,M,"","\\hookrightarrow",!0);m(v,S,M,"","\\searrow",!0);m(v,S,M,"","\\leftharpoonup",!0);m(v,S,M,"","\\rightharpoonup",!0);m(v,S,M,"","\\swarrow",!0);m(v,S,M,"","\\leftharpoondown",!0);m(v,S,M,"","\\rightharpoondown",!0);m(v,S,M,"","\\nwarrow",!0);m(v,S,M,"","\\rightleftharpoons",!0);m(v,T,M,"","\\nless",!0);m(v,T,M,"","\\@nleqslant");m(v,T,M,"","\\@nleqq");m(v,T,M,"","\\lneq",!0);m(v,T,M,"","\\lneqq",!0);m(v,T,M,"","\\@lvertneqq");m(v,T,M,"","\\lnsim",!0);m(v,T,M,"","\\lnapprox",!0);m(v,T,M,"","\\nprec",!0);m(v,T,M,"","\\npreceq",!0);m(v,T,M,"","\\precnsim",!0);m(v,T,M,"","\\precnapprox",!0);m(v,T,M,"","\\nsim",!0);m(v,T,M,"","\\@nshortmid");m(v,T,M,"","\\nmid",!0);m(v,T,M,"","\\nvdash",!0);m(v,T,M,"","\\nvDash",!0);m(v,T,M,"","\\ntriangleleft");m(v,T,M,"","\\ntrianglelefteq",!0);m(v,T,M,"","\\subsetneq",!0);m(v,T,M,"","\\@varsubsetneq");m(v,T,M,"","\\subsetneqq",!0);m(v,T,M,"","\\@varsubsetneqq");m(v,T,M,"","\\ngtr",!0);m(v,T,M,"","\\@ngeqslant");m(v,T,M,"","\\@ngeqq");m(v,T,M,"","\\gneq",!0);m(v,T,M,"","\\gneqq",!0);m(v,T,M,"","\\@gvertneqq");m(v,T,M,"","\\gnsim",!0);m(v,T,M,"","\\gnapprox",!0);m(v,T,M,"","\\nsucc",!0);m(v,T,M,"","\\nsucceq",!0);m(v,T,M,"","\\succnsim",!0);m(v,T,M,"","\\succnapprox",!0);m(v,T,M,"","\\ncong",!0);m(v,T,M,"","\\@nshortparallel");m(v,T,M,"","\\nparallel",!0);m(v,T,M,"","\\nVDash",!0);m(v,T,M,"","\\ntriangleright");m(v,T,M,"","\\ntrianglerighteq",!0);m(v,T,M,"","\\@nsupseteqq");m(v,T,M,"","\\supsetneq",!0);m(v,T,M,"","\\@varsupsetneq");m(v,T,M,"","\\supsetneqq",!0);m(v,T,M,"","\\@varsupsetneqq");m(v,T,M,"","\\nVdash",!0);m(v,T,M,"","\\precneqq",!0);m(v,T,M,"","\\succneqq",!0);m(v,T,M,"","\\@nsubseteqq");m(v,T,ne,"","\\unlhd");m(v,T,ne,"","\\unrhd");m(v,T,M,"","\\nleftarrow",!0);m(v,T,M,"","\\nrightarrow",!0);m(v,T,M,"","\\nLeftarrow",!0);m(v,T,M,"","\\nRightarrow",!0);m(v,T,M,"","\\nleftrightarrow",!0);m(v,T,M,"","\\nLeftrightarrow",!0);m(v,T,M,"","\\vartriangle");m(v,T,R,"","\\hslash");m(v,T,R,"","\\triangledown");m(v,T,R,"","\\lozenge");m(v,T,R,"","\\circledS");m(v,T,R,"","\\circledR");m(U,T,R,"","\\circledR");m(v,T,R,"","\\measuredangle",!0);m(v,T,R,"","\\nexists");m(v,T,R,"","\\mho");m(v,T,R,"","\\Finv",!0);m(v,T,R,"","\\Game",!0);m(v,T,R,"","\\backprime");m(v,T,R,"","\\blacktriangle");m(v,T,R,"","\\blacktriangledown");m(v,T,R,"","\\blacksquare");m(v,T,R,"","\\blacklozenge");m(v,T,R,"","\\bigstar");m(v,T,R,"","\\sphericalangle",!0);m(v,T,R,"","\\complement",!0);m(v,T,R,"","\\eth",!0);m(U,S,R,"","");m(v,T,R,"","\\diagup");m(v,T,R,"","\\diagdown");m(v,T,R,"","\\square");m(v,T,R,"","\\Box");m(v,T,R,"","\\Diamond");m(v,T,R,"","\\yen",!0);m(U,T,R,"","\\yen",!0);m(v,T,R,"","\\checkmark",!0);m(U,T,R,"","\\checkmark");m(v,T,R,"","\\beth",!0);m(v,T,R,"","\\daleth",!0);m(v,T,R,"","\\gimel",!0);m(v,T,R,"","\\digamma",!0);m(v,T,R,"","\\varkappa");m(v,T,kr,"","\\@ulcorner",!0);m(v,T,$n,"","\\@urcorner",!0);m(v,T,kr,"","\\@llcorner",!0);m(v,T,$n,"","\\@lrcorner",!0);m(v,T,M,"","\\leqq",!0);m(v,T,M,"","\\leqslant",!0);m(v,T,M,"","\\eqslantless",!0);m(v,T,M,"","\\lesssim",!0);m(v,T,M,"","\\lessapprox",!0);m(v,T,M,"","\\approxeq",!0);m(v,T,ne,"","\\lessdot");m(v,T,M,"","\\lll",!0);m(v,T,M,"","\\lessgtr",!0);m(v,T,M,"","\\lesseqgtr",!0);m(v,T,M,"","\\lesseqqgtr",!0);m(v,T,M,"","\\doteqdot");m(v,T,M,"","\\risingdotseq",!0);m(v,T,M,"","\\fallingdotseq",!0);m(v,T,M,"","\\backsim",!0);m(v,T,M,"","\\backsimeq",!0);m(v,T,M,"","\\subseteqq",!0);m(v,T,M,"","\\Subset",!0);m(v,T,M,"","\\sqsubset",!0);m(v,T,M,"","\\preccurlyeq",!0);m(v,T,M,"","\\curlyeqprec",!0);m(v,T,M,"","\\precsim",!0);m(v,T,M,"","\\precapprox",!0);m(v,T,M,"","\\vartriangleleft");m(v,T,M,"","\\trianglelefteq");m(v,T,M,"","\\vDash",!0);m(v,T,M,"","\\Vvdash",!0);m(v,T,M,"","\\smallsmile");m(v,T,M,"","\\smallfrown");m(v,T,M,"","\\bumpeq",!0);m(v,T,M,"","\\Bumpeq",!0);m(v,T,M,"","\\geqq",!0);m(v,T,M,"","\\geqslant",!0);m(v,T,M,"","\\eqslantgtr",!0);m(v,T,M,"","\\gtrsim",!0);m(v,T,M,"","\\gtrapprox",!0);m(v,T,ne,"","\\gtrdot");m(v,T,M,"","\\ggg",!0);m(v,T,M,"","\\gtrless",!0);m(v,T,M,"","\\gtreqless",!0);m(v,T,M,"","\\gtreqqless",!0);m(v,T,M,"","\\eqcirc",!0);m(v,T,M,"","\\circeq",!0);m(v,T,M,"","\\triangleq",!0);m(v,T,M,"","\\thicksim");m(v,T,M,"","\\thickapprox");m(v,T,M,"","\\supseteqq",!0);m(v,T,M,"","\\Supset",!0);m(v,T,M,"","\\sqsupset",!0);m(v,T,M,"","\\succcurlyeq",!0);m(v,T,M,"","\\curlyeqsucc",!0);m(v,T,M,"","\\succsim",!0);m(v,T,M,"","\\succapprox",!0);m(v,T,M,"","\\vartriangleright");m(v,T,M,"","\\trianglerighteq");m(v,T,M,"","\\Vdash",!0);m(v,T,M,"","\\shortmid");m(v,T,M,"","\\shortparallel");m(v,T,M,"","\\between",!0);m(v,T,M,"","\\pitchfork",!0);m(v,T,M,"","\\varpropto");m(v,T,M,"","\\blacktriangleleft");m(v,T,M,"","\\therefore",!0);m(v,T,M,"","\\backepsilon");m(v,T,M,"","\\blacktriangleright");m(v,T,M,"","\\because",!0);m(v,T,M,"","\\llless");m(v,T,M,"","\\gggtr");m(v,T,ne,"","\\lhd");m(v,T,ne,"","\\rhd");m(v,T,M,"","\\eqsim",!0);m(v,S,M,"","\\Join");m(v,T,M,"","\\Doteq",!0);m(v,T,ne,"","\\dotplus",!0);m(v,T,ne,"","\\smallsetminus");m(v,T,ne,"","\\Cap",!0);m(v,T,ne,"","\\Cup",!0);m(v,T,ne,"","\\doublebarwedge",!0);m(v,T,ne,"","\\boxminus",!0);m(v,T,ne,"","\\boxplus",!0);m(v,T,ne,"","\\divideontimes",!0);m(v,T,ne,"","\\ltimes",!0);m(v,T,ne,"","\\rtimes",!0);m(v,T,ne,"","\\leftthreetimes",!0);m(v,T,ne,"","\\rightthreetimes",!0);m(v,T,ne,"","\\curlywedge",!0);m(v,T,ne,"","\\curlyvee",!0);m(v,T,ne,"","\\circleddash",!0);m(v,T,ne,"","\\circledast",!0);m(v,T,ne,"","\\centerdot");m(v,T,ne,"","\\intercal",!0);m(v,T,ne,"","\\doublecap");m(v,T,ne,"","\\doublecup");m(v,T,ne,"","\\boxtimes",!0);m(v,T,M,"","\\dashrightarrow",!0);m(v,T,M,"","\\dashleftarrow",!0);m(v,T,M,"","\\leftleftarrows",!0);m(v,T,M,"","\\leftrightarrows",!0);m(v,T,M,"","\\Lleftarrow",!0);m(v,T,M,"","\\twoheadleftarrow",!0);m(v,T,M,"","\\leftarrowtail",!0);m(v,T,M,"","\\looparrowleft",!0);m(v,T,M,"","\\leftrightharpoons",!0);m(v,T,M,"","\\curvearrowleft",!0);m(v,T,M,"","\\circlearrowleft",!0);m(v,T,M,"","\\Lsh",!0);m(v,T,M,"","\\upuparrows",!0);m(v,T,M,"","\\upharpoonleft",!0);m(v,T,M,"","\\downharpoonleft",!0);m(v,S,M,"","\\origof",!0);m(v,S,M,"","\\imageof",!0);m(v,T,M,"","\\multimap",!0);m(v,T,M,"","\\leftrightsquigarrow",!0);m(v,T,M,"","\\rightrightarrows",!0);m(v,T,M,"","\\rightleftarrows",!0);m(v,T,M,"","\\twoheadrightarrow",!0);m(v,T,M,"","\\rightarrowtail",!0);m(v,T,M,"","\\looparrowright",!0);m(v,T,M,"","\\curvearrowright",!0);m(v,T,M,"","\\circlearrowright",!0);m(v,T,M,"","\\Rsh",!0);m(v,T,M,"","\\downdownarrows",!0);m(v,T,M,"","\\upharpoonright",!0);m(v,T,M,"","\\downharpoonright",!0);m(v,T,M,"","\\rightsquigarrow",!0);m(v,T,M,"","\\leadsto");m(v,T,M,"","\\Rrightarrow",!0);m(v,T,M,"","\\restriction");m(v,S,R,"","`");m(v,S,R,"$","\\$");m(U,S,R,"$","\\$");m(U,S,R,"$","\\textdollar");m(v,S,R,"%","\\%");m(U,S,R,"%","\\%");m(v,S,R,"_","\\_");m(U,S,R,"_","\\_");m(U,S,R,"_","\\textunderscore");m(v,S,R,"","\\angle",!0);m(v,S,R,"","\\infty",!0);m(v,S,R,"","\\prime");m(v,S,R,"","\\triangle");m(v,S,R,"","\\Gamma",!0);m(v,S,R,"","\\Delta",!0);m(v,S,R,"","\\Theta",!0);m(v,S,R,"","\\Lambda",!0);m(v,S,R,"","\\Xi",!0);m(v,S,R,"","\\Pi",!0);m(v,S,R,"","\\Sigma",!0);m(v,S,R,"","\\Upsilon",!0);m(v,S,R,"","\\Phi",!0);m(v,S,R,"","\\Psi",!0);m(v,S,R,"","\\Omega",!0);m(v,S,R,"A","");m(v,S,R,"B","");m(v,S,R,"E","");m(v,S,R,"Z","");m(v,S,R,"H","");m(v,S,R,"I","");m(v,S,R,"K","");m(v,S,R,"M","");m(v,S,R,"N","");m(v,S,R,"O","");m(v,S,R,"P","");m(v,S,R,"T","");m(v,S,R,"X","");m(v,S,R,"","\\neg",!0);m(v,S,R,"","\\lnot");m(v,S,R,"","\\top");m(v,S,R,"","\\bot");m(v,S,R,"","\\emptyset");m(v,T,R,"","\\varnothing");m(v,S,be,"","\\alpha",!0);m(v,S,be,"","\\beta",!0);m(v,S,be,"","\\gamma",!0);m(v,S,be,"","\\delta",!0);m(v,S,be,"","\\epsilon",!0);m(v,S,be,"","\\zeta",!0);m(v,S,be,"","\\eta",!0);m(v,S,be,"","\\theta",!0);m(v,S,be,"","\\iota",!0);m(v,S,be,"","\\kappa",!0);m(v,S,be,"","\\lambda",!0);m(v,S,be,"","\\mu",!0);m(v,S,be,"","\\nu",!0);m(v,S,be,"","\\xi",!0);m(v,S,be,"","\\omicron",!0);m(v,S,be,"","\\pi",!0);m(v,S,be,"","\\rho",!0);m(v,S,be,"","\\sigma",!0);m(v,S,be,"","\\tau",!0);m(v,S,be,"","\\upsilon",!0);m(v,S,be,"","\\phi",!0);m(v,S,be,"","\\chi",!0);m(v,S,be,"","\\psi",!0);m(v,S,be,"","\\omega",!0);m(v,S,be,"","\\varepsilon",!0);m(v,S,be,"","\\vartheta",!0);m(v,S,be,"","\\varpi",!0);m(v,S,be,"","\\varrho",!0);m(v,S,be,"","\\varsigma",!0);m(v,S,be,"","\\varphi",!0);m(v,S,ne,"","*",!0);m(v,S,ne,"+","+");m(v,S,ne,"","-",!0);m(v,S,ne,"","\\cdot",!0);m(v,S,ne,"","\\circ",!0);m(v,S,ne,"","\\div",!0);m(v,S,ne,"","\\pm",!0);m(v,S,ne,"","\\times",!0);m(v,S,ne,"","\\cap",!0);m(v,S,ne,"","\\cup",!0);m(v,S,ne,"","\\setminus",!0);m(v,S,ne,"","\\land");m(v,S,ne,"","\\lor");m(v,S,ne,"","\\wedge",!0);m(v,S,ne,"","\\vee",!0);m(v,S,R,"","\\surd");m(v,S,kr,"","\\langle",!0);m(v,S,kr,"","\\lvert");m(v,S,kr,"","\\lVert");m(v,S,$n,"?","?");m(v,S,$n,"!","!");m(v,S,$n,"","\\rangle",!0);m(v,S,$n,"","\\rvert");m(v,S,$n,"","\\rVert");m(v,S,M,"=","=");m(v,S,M,":",":");m(v,S,M,"","\\approx",!0);m(v,S,M,"","\\cong",!0);m(v,S,M,"","\\ge");m(v,S,M,"","\\geq",!0);m(v,S,M,"","\\gets");m(v,S,M,">","\\gt",!0);m(v,S,M,"","\\in",!0);m(v,S,M,"","\\@not");m(v,S,M,"","\\subset",!0);m(v,S,M,"","\\supset",!0);m(v,S,M,"","\\subseteq",!0);m(v,S,M,"","\\supseteq",!0);m(v,T,M,"","\\nsubseteq",!0);m(v,T,M,"","\\nsupseteq",!0);m(v,S,M,"","\\models");m(v,S,M,"","\\leftarrow",!0);m(v,S,M,"","\\le");m(v,S,M,"","\\leq",!0);m(v,S,M,"<","\\lt",!0);m(v,S,M,"","\\rightarrow",!0);m(v,S,M,"","\\to");m(v,T,M,"","\\ngeq",!0);m(v,T,M,"","\\nleq",!0);m(v,S,Hs,"","\\ ");m(v,S,Hs,"","\\space");m(v,S,Hs,"","\\nobreakspace");m(U,S,Hs,"","\\ ");m(U,S,Hs,""," ");m(U,S,Hs,"","\\space");m(U,S,Hs,"","\\nobreakspace");m(v,S,Hs,null,"\\nobreak");m(v,S,Hs,null,"\\allowbreak");m(v,S,h1,",",",");m(v,S,h1,";",";");m(v,T,ne,"","\\barwedge",!0);m(v,T,ne,"","\\veebar",!0);m(v,S,ne,"","\\odot",!0);m(v,S,ne,"","\\oplus",!0);m(v,S,ne,"","\\otimes",!0);m(v,S,R,"","\\partial",!0);m(v,S,ne,"","\\oslash",!0);m(v,T,ne,"","\\circledcirc",!0);m(v,T,ne,"","\\boxdot",!0);m(v,S,ne,"","\\bigtriangleup");m(v,S,ne,"","\\bigtriangledown");m(v,S,ne,"","\\dagger");m(v,S,ne,"","\\diamond");m(v,S,ne,"","\\star");m(v,S,ne,"","\\triangleleft");m(v,S,ne,"","\\triangleright");m(v,S,kr,"{","\\{");m(U,S,R,"{","\\{");m(U,S,R,"{","\\textbraceleft");m(v,S,$n,"}","\\}");m(U,S,R,"}","\\}");m(U,S,R,"}","\\textbraceright");m(v,S,kr,"{","\\lbrace");m(v,S,$n,"}","\\rbrace");m(v,S,kr,"[","\\lbrack",!0);m(U,S,R,"[","\\lbrack",!0);m(v,S,$n,"]","\\rbrack",!0);m(U,S,R,"]","\\rbrack",!0);m(v,S,kr,"(","\\lparen",!0);m(v,S,$n,")","\\rparen",!0);m(U,S,R,"<","\\textless",!0);m(U,S,R,">","\\textgreater",!0);m(v,S,kr,"","\\lfloor",!0);m(v,S,$n,"","\\rfloor",!0);m(v,S,kr,"","\\lceil",!0);m(v,S,$n,"","\\rceil",!0);m(v,S,R,"\\","\\backslash");m(v,S,R,"","|");m(v,S,R,"","\\vert");m(U,S,R,"|","\\textbar",!0);m(v,S,R,"","\\|");m(v,S,R,"","\\Vert");m(U,S,R,"","\\textbardbl");m(U,S,R,"~","\\textasciitilde");m(U,S,R,"\\","\\textbackslash");m(U,S,R,"^","\\textasciicircum");m(v,S,M,"","\\uparrow",!0);m(v,S,M,"","\\Uparrow",!0);m(v,S,M,"","\\downarrow",!0);m(v,S,M,"","\\Downarrow",!0);m(v,S,M,"","\\updownarrow",!0);m(v,S,M,"","\\Updownarrow",!0);m(v,S,Kt,"","\\coprod");m(v,S,Kt,"","\\bigvee");m(v,S,Kt,"","\\bigwedge");m(v,S,Kt,"","\\biguplus");m(v,S,Kt,"","\\bigcap");m(v,S,Kt,"","\\bigcup");m(v,S,Kt,"","\\int");m(v,S,Kt,"","\\intop");m(v,S,Kt,"","\\iint");m(v,S,Kt,"","\\iiint");m(v,S,Kt,"","\\prod");m(v,S,Kt,"","\\sum");m(v,S,Kt,"","\\bigotimes");m(v,S,Kt,"","\\bigoplus");m(v,S,Kt,"","\\bigodot");m(v,S,Kt,"","\\oint");m(v,S,Kt,"","\\oiint");m(v,S,Kt,"","\\oiiint");m(v,S,Kt,"","\\bigsqcup");m(v,S,Kt,"","\\smallint");m(U,S,eu,"","\\textellipsis");m(v,S,eu,"","\\mathellipsis");m(U,S,eu,"","\\ldots",!0);m(v,S,eu,"","\\ldots",!0);m(v,S,eu,"","\\@cdots",!0);m(v,S,eu,"","\\ddots",!0);m(v,S,R,"","\\varvdots");m(v,S,bt,"","\\acute");m(v,S,bt,"","\\grave");m(v,S,bt,"","\\ddot");m(v,S,bt,"~","\\tilde");m(v,S,bt,"","\\bar");m(v,S,bt,"","\\breve");m(v,S,bt,"","\\check");m(v,S,bt,"^","\\hat");m(v,S,bt,"","\\vec");m(v,S,bt,"","\\dot");m(v,S,bt,"","\\mathring");m(v,S,be,"","\\@imath");m(v,S,be,"","\\@jmath");m(v,S,R,"","");m(v,S,R,"","");m(U,S,R,"","\\i",!0);m(U,S,R,"","\\j",!0);m(U,S,R,"","\\ss",!0);m(U,S,R,"","\\ae",!0);m(U,S,R,"","\\oe",!0);m(U,S,R,"","\\o",!0);m(U,S,R,"","\\AE",!0);m(U,S,R,"","\\OE",!0);m(U,S,R,"","\\O",!0);m(U,S,bt,"","\\'");m(U,S,bt,"","\\`");m(U,S,bt,"","\\^");m(U,S,bt,"","\\~");m(U,S,bt,"","\\=");m(U,S,bt,"","\\u");m(U,S,bt,"","\\.");m(U,S,bt,"","\\c");m(U,S,bt,"","\\r");m(U,S,bt,"","\\v");m(U,S,bt,"",'\\"');m(U,S,bt,"","\\H");m(U,S,bt,"","\\textcircled");var qM={"--":!0,"---":!0,"``":!0,"''":!0};m(U,S,R,"","--",!0);m(U,S,R,"","\\textendash");m(U,S,R,"","---",!0);m(U,S,R,"","\\textemdash");m(U,S,R,"","`",!0);m(U,S,R,"","\\textquoteleft");m(U,S,R,"","'",!0);m(U,S,R,"","\\textquoteright");m(U,S,R,"","``",!0);m(U,S,R,"","\\textquotedblleft");m(U,S,R,"","''",!0);m(U,S,R,"","\\textquotedblright");m(v,S,R,"","\\degree",!0);m(U,S,R,"","\\degree");m(U,S,R,"","\\textdegree",!0);m(v,S,R,"","\\pounds");m(v,S,R,"","\\mathsterling",!0);m(U,S,R,"","\\pounds");m(U,S,R,"","\\textsterling",!0);m(v,T,R,"","\\maltese");m(U,T,R,"","\\maltese");var Ab='0123456789/@."';for(var Yg=0;Yg<Ab.length;Yg++){var Ob=Ab.charAt(Yg);m(v,S,R,Ob,Ob)}var Ib='0123456789!@*()-=+";:?/.,';for(var Xg=0;Xg<Ib.length;Xg++){var Nb=Ib.charAt(Xg);m(U,S,R,Nb,Nb)}var rm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Qg=0;Qg<rm.length;Qg++){var Sh=rm.charAt(Qg);m(v,S,be,Sh,Sh),m(U,S,R,Sh,Sh)}m(v,T,R,"C","");m(U,T,R,"C","");m(v,T,R,"H","");m(U,T,R,"H","");m(v,T,R,"N","");m(U,T,R,"N","");m(v,T,R,"P","");m(U,T,R,"P","");m(v,T,R,"Q","");m(U,T,R,"Q","");m(v,T,R,"R","");m(U,T,R,"R","");m(v,T,R,"Z","");m(U,T,R,"Z","");m(v,S,be,"h","");m(U,S,be,"h","");var Ce="";for(var In=0;In<rm.length;In++){var Nt=rm.charAt(In);Ce=String.fromCharCode(55349,56320+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56372+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56424+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56580+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56684+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56736+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56788+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56840+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56944+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),In<26&&(Ce=String.fromCharCode(55349,56632+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce),Ce=String.fromCharCode(55349,56476+In),m(v,S,be,Nt,Ce),m(U,S,R,Nt,Ce))}Ce="";m(v,S,be,"k",Ce);m(U,S,R,"k",Ce);for(var ua=0;ua<10;ua++){var Js=ua.toString();Ce=String.fromCharCode(55349,57294+ua),m(v,S,be,Js,Ce),m(U,S,R,Js,Ce),Ce=String.fromCharCode(55349,57314+ua),m(v,S,be,Js,Ce),m(U,S,R,Js,Ce),Ce=String.fromCharCode(55349,57324+ua),m(v,S,be,Js,Ce),m(U,S,R,Js,Ce),Ce=String.fromCharCode(55349,57334+ua),m(v,S,be,Js,Ce),m(U,S,R,Js,Ce)}var Ay="";for(var Zg=0;Zg<Ay.length;Zg++){var xh=Ay.charAt(Zg);m(v,S,be,xh,xh),m(U,S,R,xh,xh)}var Ch=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Rb=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],cX=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[Ch[a][2],Ch[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[Rb[l][2],Rb[l][o]]}else{if(s===120485||s===120486)return[Ch[0][2],Ch[0][o]];if(120486<s&&s<120782)return["",""];throw new K("Unsupported character: "+e)}},f1=function(e,n,r){return ut[r][e]&&ut[r][e].replace&&(e=ut[r][e].replace),{value:e,metrics:n5(e,n,r)}},ei=function(e,n,r,i,s){var o=f1(e,n,r),a=o.metrics;e=o.value;var l;if(a){var c=a.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new Ur(e,a.height,a.depth,c,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Ur(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},uX=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&f1(e,"Main-Bold",n).metrics?ei(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||ut[n][e].font==="main"?ei(e,"Main-Regular",n,r,i):ei(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},dX=function(e,n,r,i,s){return s!=="textord"&&f1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},hX=function(e,n,r){var i=e.mode,s=e.text,o=["mord"],a=i==="math"||i==="text"&&n.font,l=a?n.font:n.fontFamily,c="",u="";if(s.charCodeAt(0)===55349&&([c,u]=cX(s,i)),c.length>0)return ei(s,c,i,n,o.concat(u));if(l){var d,h;if(l==="boldsymbol"){var f=dX(s,i,n,o,r);d=f.fontName,h=[f.fontClass]}else a?(d=JM[l].fontName,h=[l]):(d=Eh(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(f1(s,d,i).metrics)return ei(s,d,i,n,o.concat(h));if(qM.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var p=[],g=0;g<s.length;g++)p.push(ei(s[g],d,i,n,o.concat(h)));return GM(p)}}if(r==="mathord")return ei(s,"Math-Italic",i,n,o.concat(["mathnormal"]));if(r==="textord"){var b=ut[i][s]&&ut[i][s].font;if(b==="ams"){var y=Eh("amsrm",n.fontWeight,n.fontShape);return ei(s,y,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(b==="main"||!b){var w=Eh("textrm",n.fontWeight,n.fontShape);return ei(s,w,i,n,o.concat(n.fontWeight,n.fontShape))}else{var C=Eh(b,n.fontWeight,n.fontShape);return ei(s,C,i,n,o.concat(C,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},fX=(t,e)=>{if(Vo(t.classes)!==Vo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},pX=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Ur&&r instanceof Ur&&fX(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},i5=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>n&&(n=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},Vn=function(e,n,r,i){var s=new C0(e,n,r,i);return i5(s),s},KM=(t,e,n,r)=>new C0(t,e,n,r),mX=function(e,n,r){var i=Vn([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=G(i.height),i.maxFontSize=1,i},gX=function(e,n,r,i){var s=new r5(e,n,r,i);return i5(s),s},GM=function(e){var n=new x0(e);return i5(n),n},vX=function(e,n){return e instanceof x0?Vn([],[e],n):e},yX=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,o=1;o<n.length;o++){var a=-n[o].shift-s-n[o].elem.depth,l=a-(n[o-1].elem.height+n[o-1].elem.depth);s=s+a,r.push({type:"kern",size:l}),r.push(n[o])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var u=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];u-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},wX=function(e,n){for(var{children:r,depth:i}=yX(e),s=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=Vn(["pstrut"],[]);c.style.height=G(s);for(var u=[],d=i,h=i,f=i,p=0;p<r.length;p++){var g=r[p];if(g.type==="kern")f+=g.size;else{var b=g.elem,y=g.wrapperClasses||[],w=g.wrapperStyle||{},C=Vn(y,[c,b],void 0,w);C.style.top=G(-s-f-b.depth),g.marginLeft&&(C.style.marginLeft=g.marginLeft),g.marginRight&&(C.style.marginRight=g.marginRight),u.push(C),f+=b.height+b.depth}d=Math.min(d,f),h=Math.max(h,f)}var k=Vn(["vlist"],u);k.style.height=G(h);var A;if(d<0){var x=Vn([],[]),O=Vn(["vlist"],[x]);O.style.height=G(-d);var D=Vn(["vlist-s"],[new Ur("")]);A=[Vn(["vlist-r"],[k,D]),Vn(["vlist-r"],[O])]}else A=[Vn(["vlist-r"],[k])];var L=Vn(["vlist-t"],A);return A.length===2&&L.classes.push("vlist-t2"),L.height=h,L.depth=-d,L},bX=(t,e)=>{var n=Vn(["mspace"],[],e),r=Et(t,e);return n.style.marginRight=G(r),n},Eh=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},JM={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},YM={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},kX=function(e,n){var[r,i,s]=YM[e],o=new Wo(r),a=new Ls([o],{width:G(i),height:G(s),style:"width:"+G(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=KM(["overlay"],[a],n);return l.height=s,l.style.height=G(s),l.style.width=G(i),l},P={fontMap:JM,makeSymbol:ei,mathsym:uX,makeSpan:Vn,makeSvgSpan:KM,makeLineSpan:mX,makeAnchor:gX,makeFragment:GM,wrapFragment:vX,makeVList:wX,makeOrd:hX,makeGlue:bX,staticSvg:kX,svgData:YM,tryCombineChars:pX},kt={number:3,unit:"mu"},da={number:4,unit:"mu"},ss={number:5,unit:"mu"},SX={mord:{mop:kt,mbin:da,mrel:ss,minner:kt},mop:{mord:kt,mop:kt,mrel:ss,minner:kt},mbin:{mord:da,mop:da,mopen:da,minner:da},mrel:{mord:ss,mop:ss,mopen:ss,minner:ss},mopen:{},mclose:{mop:kt,mbin:da,mrel:ss,minner:kt},mpunct:{mord:kt,mop:kt,mrel:ss,mopen:kt,mclose:kt,mpunct:kt,minner:kt},minner:{mord:kt,mop:kt,mbin:da,mrel:ss,mopen:kt,mpunct:kt,minner:kt}},xX={mord:{mop:kt},mop:{mord:kt,mop:kt},mbin:{},mrel:{},mopen:{},mclose:{mop:kt},mpunct:{},minner:{mop:kt}},XM={},im={},sm={};function Z(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)XM[n[l]]=a;e&&(s&&(im[e]=s),o&&(sm[e]=o))}function dl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Z({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var om=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},jt=function(e){return e.type==="ordgroup"?e.body:[e]},zs=P.makeSpan,CX=["leftmost","mbin","mopen","mrel","mop","mpunct"],EX=["rightmost","mrel","mclose","mpunct"],TX={display:ke.DISPLAY,text:ke.TEXT,script:ke.SCRIPT,scriptscript:ke.SCRIPTSCRIPT},MX={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Zt=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=Ve(e[o],n);if(a instanceof x0){var l=a.children;s.push(...l)}else s.push(a)}if(P.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var u=e[0];u.type==="sizing"?c=n.havingSize(u.size):u.type==="styling"&&(c=n.havingStyle(TX[u.style]))}var d=zs([i[0]||"leftmost"],[],n),h=zs([i[1]||"rightmost"],[],n),f=r==="root";return Db(s,(p,g)=>{var b=g.classes[0],y=p.classes[0];b==="mbin"&&ve.contains(EX,y)?g.classes[0]="mord":y==="mbin"&&ve.contains(CX,b)&&(p.classes[0]="mord")},{node:d},h,f),Db(s,(p,g)=>{var b=Oy(g),y=Oy(p),w=b&&y?p.hasClass("mtight")?xX[b][y]:SX[b][y]:null;if(w)return P.makeGlue(w,c)},{node:d},h,f),s},Db=function t(e,n,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o],l=QM(a);if(l){t(l.children,n,r,null,s);continue}var c=!a.hasClass("mspace");if(c){var u=n(a,r.node);u&&(r.insertAfter?r.insertAfter(u):(e.unshift(u),o++))}c?r.node=a:s&&a.hasClass("newline")&&(r.node=zs(["leftmost"])),r.insertAfter=(d=>h=>{e.splice(d+1,0,h),o++})(o)}i&&e.pop()},QM=function(e){return e instanceof x0||e instanceof r5||e instanceof C0&&e.hasClass("enclosing")?e:null},AX=function t(e,n){var r=QM(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},Oy=function(e,n){return e?(n&&(e=AX(e,n)),MX[e.classes[0]]||null):null},Zd=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return zs(n.concat(r))},Ve=function(e,n,r){if(!e)return zs();if(im[e.type]){var i=im[e.type](e,n);if(r&&n.size!==r.size){i=zs(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new K("Got group of unknown type: '"+e.type+"'")};function Th(t,e){var n=zs(["base"],t,e),r=zs(["strut"]);return r.style.height=G(n.height+n.depth),n.depth&&(r.style.verticalAlign=G(-n.depth)),n.children.unshift(r),n}function Iy(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Zt(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],a=0;a<r.length;a++)if(o.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,o.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(s.push(Th(o,e)),o=[])}else r[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Th(o,e)),o=[]),s.push(r[a]));o.length>0&&s.push(Th(o,e));var c;n?(c=Th(Zt(n,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var u=zs(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=G(u.height+u.depth),u.depth&&(d.style.verticalAlign=G(-u.depth))}return u}function ZM(t){return new x0(t)}class Nr{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Vo(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=ve.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+ve.escape(Vo(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class nd{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return ve.escape(this.toText())}toText(){return this.text}}class OX{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",G(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+G(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var W={MathNode:Nr,TextNode:nd,SpaceNode:OX,newDocumentFragment:ZM},Vr=function(e,n,r){return ut[n][e]&&ut[n][e].replace&&e.charCodeAt(0)!==55349&&!(qM.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ut[n][e].replace),new W.TextNode(e)},s5=function(e){return e.length===1?e[0]:new W.MathNode("mrow",e)},o5=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(ve.contains(["\\imath","\\jmath"],s))return null;ut[i][s]&&ut[i][s].replace&&(s=ut[i][s].replace);var o=P.fontMap[r].fontName;return n5(s,o,i)?P.fontMap[r].variant:null},nr=function(e,n,r){if(e.length===1){var i=st(e[0],n);return r&&i instanceof Nr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,a=0;a<e.length;a++){var l=st(e[a],n);if(l instanceof Nr&&o instanceof Nr){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&o.type==="mn"){var c=l.children[0];if(c instanceof nd&&c.text==="."){o.children.push(...l.children);continue}}else if(o.type==="mi"&&o.children.length===1){var u=o.children[0];if(u instanceof nd&&u.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof nd&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(l),o=l}return s},qo=function(e,n,r){return s5(nr(e,n,r))},st=function(e,n){if(!e)return new W.MathNode("mrow");if(sm[e.type]){var r=sm[e.type](e,n);return r}else throw new K("Got group of unknown type: '"+e.type+"'")};function _b(t,e,n,r,i){var s=nr(t,n),o;s.length===1&&s[0]instanceof Nr&&ve.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new W.MathNode("mrow",s);var a=new W.MathNode("annotation",[new W.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new W.MathNode("semantics",[o,a]),c=new W.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return P.makeSpan([u],[c])}var eA=function(e){return new fs({style:e.displayMode?ke.DISPLAY:ke.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},tA=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=P.makeSpan(r,[e])}return e},IX=function(e,n,r){var i=eA(r),s;if(r.output==="mathml")return _b(e,n,i,r.displayMode,!0);if(r.output==="html"){var o=Iy(e,i);s=P.makeSpan(["katex"],[o])}else{var a=_b(e,n,i,r.displayMode,!1),l=Iy(e,i);s=P.makeSpan(["katex"],[a,l])}return tA(s,r)},NX=function(e,n,r){var i=eA(r),s=Iy(e,i),o=P.makeSpan(["katex"],[s]);return tA(o,r)},RX={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},DX=function(e){var n=new W.MathNode("mo",[new W.TextNode(RX[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},_X={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},PX=function(e){return e.type==="ordgroup"?e.body.length:1},LX=function(e,n){function r(){var a=4e5,l=e.label.slice(1);if(ve.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,u=PX(c.base),d,h,f;if(u>5)l==="widehat"||l==="widecheck"?(d=420,a=2364,f=.42,h=l+"4"):(d=312,a=2340,f=.34,h="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],h=l+p):(a=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var g=new Wo(h),b=new Ls([g],{width:"100%",height:G(f),viewBox:"0 0 "+a+" "+d,preserveAspectRatio:"none"});return{span:P.makeSvgSpan([],[b],n),minWidth:0,height:f}}else{var y=[],w=_X[l],[C,k,A]=w,x=A/1e3,O=C.length,D,L;if(O===1){var j=w[3];D=["hide-tail"],L=[j]}else if(O===2)D=["halfarrow-left","halfarrow-right"],L=["xMinYMin","xMaxYMin"];else if(O===3)D=["brace-left","brace-center","brace-right"],L=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+O+" children.");for(var Q=0;Q<O;Q++){var X=new Wo(C[Q]),oe=new Ls([X],{width:"400em",height:G(x),viewBox:"0 0 "+a+" "+A,preserveAspectRatio:L[Q]+" slice"}),me=P.makeSvgSpan([D[Q]],[oe],n);if(O===1)return{span:me,minWidth:k,height:x};me.style.height=G(x),y.push(me)}return{span:P.makeSpan(["stretchy"],y,n),minWidth:k,height:x}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=G(o),s>0&&(i.style.minWidth=G(s)),i},zX=function(e,n,r,i,s){var o,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(o=P.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new My({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new My({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Ls(c,{width:"100%",height:G(a)});o=P.makeSvgSpan([],[u],s)}return o.height=a,o.style.height=G(a),o},Bs={encloseSpan:zX,mathMLnode:DX,svgSpan:LX};function Ae(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function a5(t){var e=p1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function p1(t){return t&&(t.type==="atom"||lX.hasOwnProperty(t.type))?t:null}var l5=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ae(t.base,"accent"),n=r.base,t.base=n,i=oX(Ve(t,e)),t.base=r):(r=Ae(t,"accent"),n=r.base);var s=Ve(n,e.havingCrampedStyle()),o=r.isShifty&&ve.isCharacterBox(n),a=0;if(o){var l=ve.getBaseElem(n),c=Ve(l,e.havingCrampedStyle());a=Mb(c).skew}var u=r.label==="\\c",d=u?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=Bs.svgSpan(r,e),h=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+G(2*a)+")",marginLeft:G(2*a)}:void 0}]},e);else{var f,p;r.label==="\\vec"?(f=P.staticSvg("vec",e),p=P.svgData.vec[1]):(f=P.makeOrd({mode:r.mode,text:r.label},e,"textord"),f=Mb(f),f.italic=0,p=f.width,u&&(d+=f.depth)),h=P.makeSpan(["accent-body"],[f]);var g=r.label==="\\textcircled";g&&(h.classes.push("accent-full"),d=s.height);var b=a;g||(b-=p/2),h.style.left=G(b),r.label==="\\textcircled"&&(h.style.top=".2em"),h=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var y=P.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=y,i.height=Math.max(y.height,i.height),i.classes[0]="mord",i):y},nA=(t,e)=>{var n=t.isStretchy?Bs.mathMLnode(t.label):new W.MathNode("mo",[Vr(t.label,t.mode)]),r=new W.MathNode("mover",[st(t.base,e),n]);return r.setAttribute("accent","true"),r},BX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Z({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=om(e[0]),r=!BX.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:l5,mathmlBuilder:nA});Z({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:l5,mathmlBuilder:nA});Z({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ve(t.base,e),r=Bs.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=P.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return P.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=Bs.mathMLnode(t.label),r=new W.MathNode("munder",[st(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Mh=t=>{var e=new W.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Z({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=P.wrapFragment(Ve(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;t.below&&(r=e.havingStyle(n.sub()),o=P.wrapFragment(Ve(t.below,r,e),e),o.classes.push(s+"-arrow-pad"));var a=Bs.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*a.height,c=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(o){var d=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;u=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:d}]},e)}else u=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),P.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=Bs.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Mh(st(t.body,e));if(t.below){var s=Mh(st(t.below,e));r=new W.MathNode("munderover",[n,s,i])}else r=new W.MathNode("mover",[n,i])}else if(t.below){var o=Mh(st(t.below,e));r=new W.MathNode("munder",[n,o])}else r=Mh(),r=new W.MathNode("mover",[n,r]);return r}});var FX=P.makeSpan;function rA(t,e){var n=Zt(t.body,e,!0);return FX([t.mclass],n,e)}function iA(t,e){var n,r=nr(t.body,e);return t.mclass==="minner"?n=new W.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new W.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new W.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Z({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:jt(i),isCharacterBox:ve.isCharacterBox(i)}},htmlBuilder:rA,mathmlBuilder:iA});var m1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Z({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:m1(e[0]),body:jt(e[1]),isCharacterBox:ve.isCharacterBox(e[1])}}});Z({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],o;r!=="\\stackrel"?o=m1(i):o="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:jt(i)},l={type:"supsub",mode:s.mode,base:a,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:ve.isCharacterBox(l)}},htmlBuilder:rA,mathmlBuilder:iA});Z({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:m1(e[0]),body:jt(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!0),r=P.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=nr(t.body,e),r=new W.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var jX={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},Pb=()=>({type:"styling",body:[],mode:"math",style:"display"}),Lb=t=>t.type==="textord"&&t.text==="@",$X=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function HX(t,e,n){var r=jX[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=n.callFunction("\\Big",[s],[]),a=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function UX(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new K("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],a=Pb(),l=0;l<o.length;l++)if(!Lb(o[l]))a.body.push(o[l]);else{r.push(a),l+=1;var c=a5(o[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var h=!0,f=l+1;f<o.length;f++){if($X(o[f],c)){h=!1,l=f;break}if(Lb(o[f]))throw new K("Missing a "+c+" character to complete a CD arrow.",o[f]);u[d].body.push(o[f])}if(h)throw new K("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new K('Expected one of "<>AV=|." after @',o[l]);var p=HX(c,u,t),g={type:"styling",body:[p],mode:"math",style:"display"};r.push(g),a=Pb()}s%2===0?r.push(a):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var b=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:b,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Z({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=P.wrapFragment(Ve(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=G(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new W.MathNode("mrow",[st(t.label,e)]);return n=new W.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new W.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Z({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=P.wrapFragment(Ve(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new W.MathNode("mrow",[st(t.fragment,e)])}});Z({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ae(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var a=Ae(i[o],"textord");s+=a.text}var l=parseInt(s),c;if(isNaN(l))throw new K("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new K("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var sA=(t,e)=>{var n=Zt(t.body,e.withColor(t.color),!1);return P.makeFragment(n)},oA=(t,e)=>{var n=nr(t.body,e.withColor(t.color)),r=new W.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Z({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ae(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:jt(i)}},htmlBuilder:sA,mathmlBuilder:oA});Z({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ae(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:sA,mathmlBuilder:oA});Z({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ae(i,"size").value}},htmlBuilder(t,e){var n=P.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=G(Et(t.size,e)))),n},mathmlBuilder(t,e){var n=new W.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",G(Et(t.size,e)))),n}});var Ny={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},aA=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new K("Expected a control sequence",t);return e},VX=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},lA=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Z({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Ny[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Ny[r.text]),Ae(e.parseFunction(),"internal");throw new K("Invalid token after macro prefix",r)}});Z({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new K("Expected a control sequence",r);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new K('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new K('Argument number "'+r.text+'" out of order');s++,a.push([])}else{if(r.text==="EOF")throw new K("Expected a macro definition");a[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:a},n===Ny[n]),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=aA(e.gullet.popToken());e.gullet.consumeSpaces();var i=VX(e);return lA(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=aA(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return lA(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Ru=function(e,n,r){var i=ut.math[e]&&ut.math[e].replace,s=n5(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},c5=function(e,n,r,i){var s=r.havingBaseStyle(n),o=P.makeSpan(i.concat(s.sizingClasses(r)),[e],r),a=s.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},cA=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=G(s),e.height-=s,e.depth+=s},WX=function(e,n,r,i,s,o){var a=P.makeSymbol(e,"Main-Regular",s,i),l=c5(a,n,i,o);return r&&cA(l,i,n),l},qX=function(e,n,r,i){return P.makeSymbol(e,"Size"+n+"-Regular",r,i)},uA=function(e,n,r,i,s,o){var a=qX(e,n,s,i),l=c5(P.makeSpan(["delimsizing","size"+n],[a],i),ke.TEXT,i,o);return r&&cA(l,i,ke.TEXT),l},e4=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=P.makeSpan(["delimsizinginner",i],[P.makeSpan([],[P.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},t4=function(e,n,r){var i=ji["Size4-Regular"][e.charCodeAt(0)]?ji["Size4-Regular"][e.charCodeAt(0)][4]:ji["Size1-Regular"][e.charCodeAt(0)][4],s=new Wo("inner",QY(e,Math.round(1e3*n))),o=new Ls([s],{width:G(i),height:G(n),style:"width:"+G(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=P.makeSvgSpan([],[o],r);return a.height=n,a.style.height=G(n),a.style.width=G(i),{type:"elem",elem:a}},Ry=.008,Ah={type:"kern",size:-1*Ry},KX=["|","\\lvert","\\rvert","\\vert"],GX=["\\|","\\lVert","\\rVert","\\Vert"],dA=function(e,n,r,i,s,o){var a,l,c,u,d="",h=0;a=c=u=e,l=null;var f="Size1-Regular";e==="\\uparrow"?c=u="":e==="\\Uparrow"?c=u="":e==="\\downarrow"?a=c="":e==="\\Downarrow"?a=c="":e==="\\updownarrow"?(a="\\uparrow",c="",u="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",c="",u="\\Downarrow"):ve.contains(KX,e)?(c="",d="vert",h=333):ve.contains(GX,e)?(c="",d="doublevert",h=556):e==="["||e==="\\lbrack"?(a="",c="",u="",f="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(a="",c="",u="",f="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e===""?(c=a="",u="",f="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e===""?(a="",c=u="",f="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e===""?(c=a="",u="",f="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e===""?(a="",c=u="",f="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(a="",c="",u="",f="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(a="",c="",u="",f="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(a="",l="",u="",c="",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="",l="",u="",c="",f="Size4-Regular"):e==="\\lgroup"||e===""?(a="",u="",c="",f="Size4-Regular"):e==="\\rgroup"||e===""?(a="",u="",c="",f="Size4-Regular"):e==="\\lmoustache"||e===""?(a="",u="",c="",f="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(a="",u="",c="",f="Size4-Regular");var p=Ru(a,f,s),g=p.height+p.depth,b=Ru(c,f,s),y=b.height+b.depth,w=Ru(u,f,s),C=w.height+w.depth,k=0,A=1;if(l!==null){var x=Ru(l,f,s);k=x.height+x.depth,A=2}var O=g+C+k,D=Math.max(0,Math.ceil((n-O)/(A*y))),L=O+D*A*y,j=i.fontMetrics().axisHeight;r&&(j*=i.sizeMultiplier);var Q=L/2-j,X=[];if(d.length>0){var oe=L-g-C,me=Math.round(L*1e3),Oe=ZY(d,Math.round(oe*1e3)),Me=new Wo(d,Oe),he=(h/1e3).toFixed(3)+"em",H=(me/1e3).toFixed(3)+"em",ee=new Ls([Me],{width:he,height:H,viewBox:"0 0 "+h+" "+me}),te=P.makeSvgSpan([],[ee],i);te.height=me/1e3,te.style.width=he,te.style.height=H,X.push({type:"elem",elem:te})}else{if(X.push(e4(u,f,s)),X.push(Ah),l===null){var ge=L-g-C+2*Ry;X.push(t4(c,ge,i))}else{var de=(L-g-C-k)/2+2*Ry;X.push(t4(c,de,i)),X.push(Ah),X.push(e4(l,f,s)),X.push(Ah),X.push(t4(c,de,i))}X.push(Ah),X.push(e4(a,f,s))}var tt=i.havingBaseStyle(ke.TEXT),Be=P.makeVList({positionType:"bottom",positionData:Q,children:X},tt);return c5(P.makeSpan(["delimsizing","mult"],[Be],tt),ke.TEXT,i,o)},n4=80,r4=.08,i4=function(e,n,r,i,s){var o=XY(e,i,r),a=new Wo(e,o),l=new Ls([a],{width:"400em",height:G(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return P.makeSvgSpan(["hide-tail"],[l],s)},JX=function(e,n){var r=n.havingBaseSizing(),i=mA("\\surd",e*r.sizeMultiplier,pA,r),s=r.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*o+n4,e<1?s=1:e<1.4&&(s=.7),l=(1+o+r4)/s,c=(1+o)/s,a=i4("sqrtMain",l,u,o,n),a.style.minWidth="0.853em",d=.833/s):i.type==="large"?(u=(1e3+n4)*rd[i.size],c=(rd[i.size]+o)/s,l=(rd[i.size]+o+r4)/s,a=i4("sqrtSize"+i.size,l,u,o,n),a.style.minWidth="1.02em",d=1/s):(l=e+o+r4,c=e+o,u=Math.floor(1e3*e+o)+n4,a=i4("sqrtTall",l,u,o,n),a.style.minWidth="0.742em",d=1.056),a.height=c,a.style.height=G(l),{span:a,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*s}},hA=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],YX=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],fA=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],rd=[0,1.2,1.8,2.4,3],XX=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),ve.contains(hA,e)||ve.contains(fA,e))return uA(e,n,!1,r,i,s);if(ve.contains(YX,e))return dA(e,rd[n],!1,r,i,s);throw new K("Illegal delimiter: '"+e+"'")},QX=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],ZX=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"stack"}],pA=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],eQ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},mA=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var a=Ru(e,eQ(r[o]),"math"),l=a.height+a.depth;if(r[o].type==="small"){var c=i.havingBaseStyle(r[o].style);l*=c.sizeMultiplier}if(l>n)return r[o]}return r[r.length-1]},gA=function(e,n,r,i,s,o){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var a;ve.contains(fA,e)?a=QX:ve.contains(hA,e)?a=pA:a=ZX;var l=mA(e,n,a,i);return l.type==="small"?WX(e,l.style,r,i,s,o):l.type==="large"?uA(e,l.size,r,i,s,o):dA(e,n,r,i,s,o)},tQ=function(e,n,r,i,s,o){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(n-a,r+a),d=Math.max(u/500*l,2*u-c);return gA(e,d,!0,i,s,o)},Ms={sqrtImage:JX,sizedDelim:XX,sizeToMaxHeight:rd,customSizedDelim:gA,leftRightDelim:tQ},zb={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},nQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function g1(t,e){var n=p1(t);if(n&&ve.contains(nQ,n.text))return n;throw n?new K("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new K("Invalid delimiter type '"+t.type+"'",t)}Z({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=g1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:zb[t.funcName].size,mclass:zb[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?P.makeSpan([t.mclass]):Ms.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Vr(t.delim,t.mode));var n=new W.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=G(Ms.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function Bb(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Z({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new K("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:g1(e[0],t).text,color:n}}});Z({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=g1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ae(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{Bb(t);for(var n=Zt(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<n.length;o++)n[o].isMiddle?s=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(t.left==="."?a=Zd(e,["mopen"]):a=Ms.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(a),s)for(var l=1;l<n.length;l++){var c=n[l],u=c.isMiddle;u&&(n[l]=Ms.leftRightDelim(u.delim,r,i,u.options,t.mode,[]))}var d;if(t.right===".")d=Zd(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;d=Ms.leftRightDelim(t.right,r,i,h,t.mode,["mclose"])}return n.push(d),P.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{Bb(t);var n=nr(t.body,e);if(t.left!=="."){var r=new W.MathNode("mo",[Vr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new W.MathNode("mo",[Vr(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return s5(n)}});Z({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=g1(e[0],t);if(!t.parser.leftrightDepth)throw new K("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Zd(e,[]);else{n=Ms.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Vr("|","text"):Vr(t.delim,t.mode),r=new W.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var u5=(t,e)=>{var n=P.wrapFragment(Ve(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,o=0,a=ve.isCharacterBox(t.body);if(r==="sout")s=P.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Et({number:.6,unit:"pt"},e),c=Et({number:.35,unit:"ex"},e),u=e.havingBaseSizing();i=i/u.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=G(d/2+l);var h=Math.floor(1e3*d*i),f=JY(h),p=new Ls([new Wo("phase",f)],{width:"400em",height:G(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=P.makeSvgSpan(["hide-tail"],[p],e),s.style.height=G(d),o=n.depth+l+c}else{/cancel/.test(r)?a||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,b=0,y=0;/box/.test(r)?(y=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(r==="colorbox"?0:y),b=g):r==="angl"?(y=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*y,b=Math.max(0,.25-n.depth)):(g=a?.2:0,b=g),s=Bs.encloseSpan(n,r,g,b,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=G(y)):r==="angl"&&y!==.049&&(s.style.borderTopWidth=G(y),s.style.borderRightWidth=G(y)),o=n.depth+b,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var w;if(t.backgroundColor)w=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:n,shift:0}]},e);else{var C=/cancel|phase/.test(r)?["svg-align"]:[];w=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:C}]},e)}return/cancel/.test(r)&&(w.height=n.height,w.depth=n.depth),/cancel/.test(r)&&!a?P.makeSpan(["mord","cancel-lap"],[w],e):P.makeSpan(["mord"],[w],e)},d5=(t,e)=>{var n=0,r=new W.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[st(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Z({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:u5,mathmlBuilder:d5});Z({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,o=Ae(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:u5,mathmlBuilder:d5});Z({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Z({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:u5,mathmlBuilder:d5});Z({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var vA={};function Zi(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)vA[n[l]]=a;s&&(im[e]=s),o&&(sm[e]=o)}var yA={};function E(t,e){yA[t]=e}function Fb(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var v1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new K("{"+t.envName+"} can be used only in display mode.")};function h5(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function sa(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:h}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!o){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)o=1;else if(o=parseFloat(f),!o||o<0)throw new K("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],g=[p],b=[],y=[],w=l!=null?[]:void 0;function C(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function k(){w&&(t.gullet.macros.get("\\df@tag")?(w.push(t.subparse([new zr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(C(),y.push(Fb(t));;){var A=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),A={type:"ordgroup",mode:t.mode,body:A},n&&(A={type:"styling",mode:t.mode,style:n,body:[A]}),p.push(A);var x=t.fetch().text;if(x==="&"){if(d&&p.length===d){if(c||a)throw new K("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(x==="\\end"){k(),p.length===1&&A.type==="styling"&&A.body[0].body.length===0&&(g.length>1||!u)&&g.pop(),y.length<g.length+1&&y.push([]);break}else if(x==="\\\\"){t.consume();var O=void 0;t.gullet.future().text!==" "&&(O=t.parseSizeGroup(!0)),b.push(O?O.value:null),k(),y.push(Fb(t)),p=[],g.push(p),C()}else throw new K("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:o,body:g,cols:s,rowGaps:b,hskipBeforeAndAfter:r,hLinesBeforeRow:y,colSeparationType:a,tags:w,leqno:h}}function f5(t){return t.slice(0,1)==="d"?"display":"text"}var es=function(e,n){var r,i,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),c=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=n.havingStyle(ke.SCRIPT).sizeMultiplier;h=.2778*(f/n.sizeMultiplier)}var p=e.colSeparationType==="CD"?Et({number:3,unit:"ex"},n):12*d,g=3*d,b=e.arraystretch*p,y=.7*b,w=.3*b,C=0;function k(Sr){for(var qr=0;qr<Sr.length;++qr)qr>0&&(C+=.25),c.push({pos:C,isDashed:Sr[qr]})}for(k(o[0]),r=0;r<e.body.length;++r){var A=e.body[r],x=y,O=w;a<A.length&&(a=A.length);var D=new Array(A.length);for(i=0;i<A.length;++i){var L=Ve(A[i],n);O<L.depth&&(O=L.depth),x<L.height&&(x=L.height),D[i]=L}var j=e.rowGaps[r],Q=0;j&&(Q=Et(j,n),Q>0&&(Q+=w,O<Q&&(O=Q),Q=0)),e.addJot&&(O+=g),D.height=x,D.depth=O,C+=x,D.pos=C,C+=O+Q,l[r]=D,k(o[r+1])}var X=C/2+n.fontMetrics().axisHeight,oe=e.cols||[],me=[],Oe,Me,he=[];if(e.tags&&e.tags.some(Sr=>Sr))for(r=0;r<s;++r){var H=l[r],ee=H.pos-X,te=e.tags[r],ge=void 0;te===!0?ge=P.makeSpan(["eqn-num"],[],n):te===!1?ge=P.makeSpan([],[],n):ge=P.makeSpan([],Zt(te,n,!0),n),ge.depth=H.depth,ge.height=H.height,he.push({type:"elem",elem:ge,shift:ee})}for(i=0,Me=0;i<a||Me<oe.length;++i,++Me){for(var de=oe[Me]||{},tt=!0;de.type==="separator";){if(tt||(Oe=P.makeSpan(["arraycolsep"],[]),Oe.style.width=G(n.fontMetrics().doubleRuleSep),me.push(Oe)),de.separator==="|"||de.separator===":"){var Be=de.separator==="|"?"solid":"dashed",Fe=P.makeSpan(["vertical-separator"],[],n);Fe.style.height=G(C),Fe.style.borderRightWidth=G(u),Fe.style.borderRightStyle=Be,Fe.style.margin="0 "+G(-u/2);var je=C-X;je&&(Fe.style.verticalAlign=G(-je)),me.push(Fe)}else throw new K("Invalid separator type: "+de.separator);Me++,de=oe[Me]||{},tt=!1}if(!(i>=a)){var Qe=void 0;(i>0||e.hskipBeforeAndAfter)&&(Qe=ve.deflt(de.pregap,h),Qe!==0&&(Oe=P.makeSpan(["arraycolsep"],[]),Oe.style.width=G(Qe),me.push(Oe)));var gt=[];for(r=0;r<s;++r){var zt=l[r],Gt=zt[i];if(Gt){var Je=zt.pos-X;Gt.depth=zt.depth,Gt.height=zt.height,gt.push({type:"elem",elem:Gt,shift:Je})}}gt=P.makeVList({positionType:"individualShift",children:gt},n),gt=P.makeSpan(["col-align-"+(de.align||"c")],[gt]),me.push(gt),(i<a-1||e.hskipBeforeAndAfter)&&(Qe=ve.deflt(de.postgap,h),Qe!==0&&(Oe=P.makeSpan(["arraycolsep"],[]),Oe.style.width=G(Qe),me.push(Oe)))}}if(l=P.makeSpan(["mtable"],me),c.length>0){for(var At=P.makeLineSpan("hline",n,u),wi=P.makeLineSpan("hdashline",n,u),bi=[{type:"elem",elem:l,shift:0}];c.length>0;){var An=c.pop(),ki=An.pos-X;An.isDashed?bi.push({type:"elem",elem:wi,shift:ki}):bi.push({type:"elem",elem:At,shift:ki})}l=P.makeVList({positionType:"individualShift",children:bi},n)}if(he.length===0)return P.makeSpan(["mord"],[l],n);var Wr=P.makeVList({positionType:"individualShift",children:he},n);return Wr=P.makeSpan(["tag"],[Wr],n),P.makeFragment([l,Wr])},rQ={c:"center ",l:"left ",r:"right "},ts=function(e,n){for(var r=[],i=new W.MathNode("mtd",[],["mtr-glue"]),s=new W.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],c=0;c<a.length;c++)l.push(new W.MathNode("mtd",[st(a[c],n)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new W.MathNode("mtr",l))}var u=new W.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",G(d));var h="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,g="",b=!1,y=0,w=p.length;p[0].type==="separator"&&(h+="top ",y=1),p[p.length-1].type==="separator"&&(h+="bottom ",w-=1);for(var C=y;C<w;C++)p[C].type==="align"?(f+=rQ[p[C].align],b&&(g+="none "),b=!0):p[C].type==="separator"&&b&&(g+=p[C].separator==="|"?"solid ":"dashed ",b=!1);u.setAttribute("columnalign",f.trim()),/[sd]/.test(g)&&u.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var k=e.cols||[],A="",x=1;x<k.length;x++)A+=x%2?"0em ":"1em ";u.setAttribute("columnspacing",A.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var O="",D=e.hLinesBeforeRow;h+=D[0].length>0?"left ":"",h+=D[D.length-1].length>0?"right ":"";for(var L=1;L<D.length-1;L++)O+=D[L].length===0?"none ":D[L][0]?"dashed ":"solid ";return/[sd]/.test(O)&&u.setAttribute("rowlines",O.trim()),h!==""&&(u=new W.MathNode("menclose",[u]),u.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(u=new W.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},wA=function(e,n){e.envName.indexOf("ed")===-1&&v1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=sa(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:h5(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",d=0;d<n[0].body.length;d++){var h=Ae(n[0].body[d],"textord");u+=h.text}a=Number(u),l=a*2}var f=!l;o.body.forEach(function(y){for(var w=1;w<y.length;w+=2){var C=Ae(y[w],"styling"),k=Ae(C.body[0],"ordgroup");k.body.unshift(c)}if(f)l<y.length&&(l=y.length);else{var A=y.length/2;if(a<A)throw new K("Too many math in a row: "+("expected "+a+", but got "+A),y[0])}});for(var p=0;p<l;++p){var g="r",b=0;p%2===1?g="l":p>0&&f&&(b=1),r[p]={type:"align",align:g,pregap:b,postgap:0}}return o.colSeparationType=f?"align":"alignat",o};Zi({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=p1(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(o){var a=a5(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new K("Unknown column alignment: "+l,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return sa(t.parser,s,f5(t.envName))},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new K("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=sa(t.parser,r,f5(t.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=sa(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=p1(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(o){var a=a5(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new K("Unknown column alignment: "+l,o)});if(i.length>1)throw new K("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=sa(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new K("{subarray} can contain only one column");return s},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=sa(t.parser,e,f5(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:wA,htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){ve.contains(["gather","gather*"],t.envName)&&v1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:h5(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return sa(t.parser,e,"display")},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:wA,htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){v1(t);var e={autoTag:h5(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return sa(t.parser,e,"display")},htmlBuilder:es,mathmlBuilder:ts});Zi({type:"array",names:["CD"],props:{numArgs:0},handler(t){return v1(t),UX(t.parser)},htmlBuilder:es,mathmlBuilder:ts});E("\\nonumber","\\gdef\\@eqnsw{0}");E("\\notag","\\nonumber");Z({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new K(t.funcName+" valid only within array environment")}});var jb=vA;Z({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new K("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=Ae(i.body[o],"textord").text;if(r==="\\begin"){if(!jb.hasOwnProperty(s))throw new K("No such environment: "+s,i);var a=jb[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",a),u={mode:n.mode,envName:s,parser:n},d=a.handler(u,l,c);n.expect("\\end",!1);var h=n.nextToken,f=Ae(n.parseFunction(),"environment");if(f.name!==s)throw new K("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var bA=(t,e)=>{var n=t.font,r=e.withFont(n);return Ve(t.body,r)},kA=(t,e)=>{var n=t.font,r=e.withFont(n);return st(t.body,r)},$b={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Z({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=om(e[0]),s=r;return s in $b&&(s=$b[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:bA,mathmlBuilder:kA});Z({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=ve.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:m1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Z({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,o=n.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:bA,mathmlBuilder:kA});var SA=(t,e)=>{var n=e;return t==="display"?n=n.id>=ke.SCRIPT.id?n.text():ke.DISPLAY:t==="text"&&n.size===ke.DISPLAY.size?n=ke.TEXT:t==="script"?n=ke.SCRIPT:t==="scriptscript"&&(n=ke.SCRIPTSCRIPT),n},p5=(t,e)=>{var n=SA(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var o=Ve(t.numer,s,e);if(t.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(i);var c=Ve(t.denom,s,e),u,d,h;t.hasBarLine?(t.barSize?(d=Et(t.barSize,e),u=P.makeLineSpan("frac-line",e,d)):u=P.makeLineSpan("frac-line",e),d=u.height,h=u.height):(u=null,d=0,h=e.fontMetrics().defaultRuleThickness);var f,p,g;n.size===ke.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?p=3*h:p=7*h,g=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,p=h):(f=e.fontMetrics().num3,p=3*h),g=e.fontMetrics().denom2);var b;if(u){var w=e.fontMetrics().axisHeight;f-o.depth-(w+.5*d)<p&&(f+=p-(f-o.depth-(w+.5*d))),w-.5*d-(c.height-g)<p&&(g+=p-(w-.5*d-(c.height-g)));var C=-(w-.5*d);b=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:u,shift:C},{type:"elem",elem:o,shift:-f}]},e)}else{var y=f-o.depth-(c.height-g);y<p&&(f+=.5*(p-y),g+=.5*(p-y)),b=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:o,shift:-f}]},e)}s=e.havingStyle(n),b.height*=s.sizeMultiplier/e.sizeMultiplier,b.depth*=s.sizeMultiplier/e.sizeMultiplier;var k;n.size===ke.DISPLAY.size?k=e.fontMetrics().delim1:n.size===ke.SCRIPTSCRIPT.size?k=e.havingStyle(ke.SCRIPT).fontMetrics().delim2:k=e.fontMetrics().delim2;var A,x;return t.leftDelim==null?A=Zd(e,["mopen"]):A=Ms.customSizedDelim(t.leftDelim,k,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?x=P.makeSpan([]):t.rightDelim==null?x=Zd(e,["mclose"]):x=Ms.customSizedDelim(t.rightDelim,k,!0,e.havingStyle(n),t.mode,["mclose"]),P.makeSpan(["mord"].concat(s.sizingClasses(e)),[A,P.makeSpan(["mfrac"],[b]),x],e)},m5=(t,e)=>{var n=new W.MathNode("mfrac",[st(t.numer,e),st(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Et(t.barSize,e);n.setAttribute("linethickness",G(r))}var i=SA(t.size,e.style);if(i.size!==e.style.size){n=new W.MathNode("mstyle",[n]);var s=i.size===ke.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var o=[];if(t.leftDelim!=null){var a=new W.MathNode("mo",[new W.TextNode(t.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),t.rightDelim!=null){var l=new W.MathNode("mo",[new W.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return s5(o)}return n};Z({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],o,a=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:p5,mathmlBuilder:m5});Z({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Z({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var Hb=["display","text","script","scriptscript"],Ub=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Z({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=om(e[0]),o=s.type==="atom"&&s.family==="open"?Ub(s.text):null,a=om(e[1]),l=a.type==="atom"&&a.family==="close"?Ub(a.text):null,c=Ae(e[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var h="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=Ae(f.body[0],"textord");h=Hb[Number(p.text)]}}else f=Ae(f,"textord"),h=Hb[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:o,rightDelim:l,size:h}},htmlBuilder:p5,mathmlBuilder:m5});Z({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ae(e[0],"size").value,token:i}}});Z({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=_Y(Ae(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:p5,mathmlBuilder:m5});var xA=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ve(t.sup,e.havingStyle(n.sup()),e):Ve(t.sub,e.havingStyle(n.sub()),e),i=Ae(t.base,"horizBrace")):i=Ae(t,"horizBrace");var s=Ve(i.base,e.havingBaseStyle(ke.DISPLAY)),o=Bs.svgSpan(i,e),a;if(i.isOver?(a=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=P.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=P.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=P.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return P.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},iQ=(t,e)=>{var n=Bs.mathMLnode(t.label);return new W.MathNode(t.isOver?"mover":"munder",[st(t.base,e),n])};Z({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:xA,mathmlBuilder:iQ});Z({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ae(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:jt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1);return P.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=qo(t.body,e);return n instanceof Nr||(n=new Nr("mrow",[n])),n.setAttribute("href",t.href),n}});Z({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ae(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:jt(a)}}});Z({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:jt(e[0])}},htmlBuilder(t,e){var n=Zt(t.body,e,!1);return P.makeFragment(n)},mathmlBuilder(t,e){return new W.MathNode("mrow",nr(t.body,e))}});Z({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ae(e[0],"raw").string,o=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length!==2)throw new K("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:jt(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Zt(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=P.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>qo(t.body,e)});Z({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:jt(e[0]),mathml:jt(e[1])}},htmlBuilder:(t,e)=>{var n=Zt(t.html,e,!1);return P.makeFragment(n)},mathmlBuilder:(t,e)=>qo(t.mathml,e)});var s4=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new K("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!HM(r))throw new K("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Z({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(n[0])for(var l=Ae(n[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":a=h;break;case"width":i=s4(h);break;case"height":s=s4(h);break;case"totalheight":o=s4(h);break;default:throw new K("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Ae(e[0],"url").url;return a===""&&(a=f,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:s,totalheight:o,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Et(t.height,e),r=0;t.totalheight.number>0&&(r=Et(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Et(t.width,e));var s={height:G(n+r)};i>0&&(s.width=G(i)),r>0&&(s.verticalAlign=G(-r));var o=new iX(t.src,t.alt,s);return o.height=n,o.depth=r,o},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Et(t.height,e),i=0;if(t.totalheight.number>0&&(i=Et(t.totalheight,e)-r,n.setAttribute("valign",G(-i))),n.setAttribute("height",G(r+i)),t.width.number>0){var s=Et(t.width,e);n.setAttribute("width",G(s))}return n.setAttribute("src",t.src),n}});Z({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ae(e[0],"size");if(n.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return P.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Et(t.dimension,e);return new W.SpaceNode(n)}});Z({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=P.makeSpan([],[Ve(t.body,e)]),n=P.makeSpan(["inner"],[n],e)):n=P.makeSpan(["inner"],[Ve(t.body,e)]);var r=P.makeSpan(["fix"],[]),i=P.makeSpan([t.alignment],[n,r],e),s=P.makeSpan(["strut"]);return s.style.height=G(i.height+i.depth),i.depth&&(s.style.verticalAlign=G(-i.depth)),i.children.unshift(s),i=P.makeSpan(["thinbox"],[i],e),P.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[st(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Z({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});Z({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new K("Mismatched "+t.funcName)}});var Vb=(t,e)=>{switch(e.style.size){case ke.DISPLAY.size:return t.display;case ke.TEXT.size:return t.text;case ke.SCRIPT.size:return t.script;case ke.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Z({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:jt(e[0]),text:jt(e[1]),script:jt(e[2]),scriptscript:jt(e[3])}},htmlBuilder:(t,e)=>{var n=Vb(t,e),r=Zt(n,e,!1);return P.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Vb(t,e);return qo(n,e)}});var CA=(t,e,n,r,i,s,o)=>{t=P.makeSpan([],[t]);var a=n&&ve.isCharacterBox(n),l,c;if(e){var u=Ve(e,r.havingStyle(i.sup()),r);c={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=Ve(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var h;if(c&&l){var f=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+o;h=P.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:G(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:G(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=t.height-o;h=P.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:G(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var g=t.depth+o;h=P.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:G(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var b=[h];if(l&&s!==0&&!a){var y=P.makeSpan(["mspace"],[],r);y.style.marginRight=G(s),b.unshift(y)}return P.makeSpan(["mop","op-limits"],b,r)},EA=["\\smallint"],tu=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"op"),i=!0):s=Ae(t,"op");var o=e.style,a=!1;o.size===ke.DISPLAY.size&&s.symbol&&!ve.contains(EA,s.name)&&(a=!0);var l;if(s.symbol){var c=a?"Size2-Regular":"Size1-Regular",u="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(u=s.name.slice(1),s.name=u==="oiint"?"\\iint":"\\iiint"),l=P.makeSymbol(s.name,c,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),u.length>0){var d=l.italic,h=P.staticSvg(u+"Size"+(a?"2":"1"),e);l=P.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:a?.08:0}]},e),s.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=Zt(s.body,e,!0);f.length===1&&f[0]instanceof Ur?(l=f[0],l.classes[0]="mop"):l=P.makeSpan(["mop"],f,e)}else{for(var p=[],g=1;g<s.name.length;g++)p.push(P.mathsym(s.name[g],s.mode,e));l=P.makeSpan(["mop"],p,e)}var b=0,y=0;return(l instanceof Ur||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(b=(l.height-l.depth)/2-e.fontMetrics().axisHeight,y=l.italic),i?CA(l,n,r,e,o,y,b):(b&&(l.style.position="relative",l.style.top=G(b)),l)},E0=(t,e)=>{var n;if(t.symbol)n=new Nr("mo",[Vr(t.name,t.mode)]),ve.contains(EA,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Nr("mo",nr(t.body,e));else{n=new Nr("mi",[new nd(t.name.slice(1))]);var r=new Nr("mo",[Vr("","text")]);t.parentIsSupSub?n=new Nr("mrow",[n,r]):n=ZM([n,r])}return n},sQ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Z({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=sQ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:tu,mathmlBuilder:E0});Z({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:jt(r)}},htmlBuilder:tu,mathmlBuilder:E0});var oQ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Z({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:tu,mathmlBuilder:E0});Z({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:tu,mathmlBuilder:E0});Z({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=oQ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:tu,mathmlBuilder:E0});var TA=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"operatorname"),i=!0):s=Ae(t,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=Zt(a,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Ur&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=P.makeSpan(["mop"],l,e)}else o=P.makeSpan(["mop"],[],e);return i?CA(o,n,r,e,e.style,0,0):o},aQ=(t,e)=>{for(var n=nr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof W.SpaceNode))if(s instanceof W.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof W.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=n.map(u=>u.toText()).join("");n=[new W.TextNode(a)]}var l=new W.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new W.MathNode("mo",[Vr("","text")]);return t.parentIsSupSub?new W.MathNode("mrow",[l,c]):W.newDocumentFragment([l,c])};Z({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:jt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:TA,mathmlBuilder:aQ});E("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");dl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?P.makeFragment(Zt(t.body,e,!1)):P.makeSpan(["mord"],Zt(t.body,e,!0),e)},mathmlBuilder(t,e){return qo(t.body,e,!0)}});Z({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ve(t.body,e.havingCrampedStyle()),r=P.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return P.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("")]);n.setAttribute("stretchy","true");var r=new W.MathNode("mover",[st(t.body,e),n]);return r.setAttribute("accent","true"),r}});Z({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:jt(r)}},htmlBuilder:(t,e)=>{var n=Zt(t.body,e.withPhantom(),!1);return P.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=nr(t.body,e);return new W.MathNode("mphantom",n)}});Z({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=P.makeSpan([],[Ve(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),P.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=nr(jt(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Z({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=P.makeSpan(["inner"],[Ve(t.body,e.withPhantom())]),r=P.makeSpan(["fix"],[]);return P.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=nr(jt(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Z({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ae(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ve(t.body,e),r=Et(t.dy,e);return P.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new W.MathNode("mpadded",[st(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Z({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Z({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ae(e[0],"size"),o=Ae(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ae(i,"size").value,width:s.value,height:o.value}},htmlBuilder(t,e){var n=P.makeSpan(["mord","rule"],[],e),r=Et(t.width,e),i=Et(t.height,e),s=t.shift?Et(t.shift,e):0;return n.style.borderRightWidth=G(r),n.style.borderTopWidth=G(i),n.style.bottom=G(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Et(t.width,e),r=Et(t.height,e),i=t.shift?Et(t.shift,e):0,s=e.color&&e.getColor()||"black",o=new W.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",G(n)),o.setAttribute("height",G(r));var a=new W.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",G(i)):(a.setAttribute("height",G(i)),a.setAttribute("depth",G(-i))),a.setAttribute("voffset",G(i)),a}});function MA(t,e,n){for(var r=Zt(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return P.makeFragment(r)}var Wb=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],lQ=(t,e)=>{var n=e.havingSize(t.size);return MA(t.body,n,e)};Z({type:"sizing",names:Wb,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:Wb.indexOf(r)+1,body:s}},htmlBuilder:lQ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=nr(t.body,n),i=new W.MathNode("mstyle",r);return i.setAttribute("mathsize",G(n.sizeMultiplier)),i}});Z({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,o=n[0]&&Ae(n[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var c=o.body[l];if(a=c.text,a==="t")i=!0;else if(a==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var u=e[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=P.makeSpan([],[Ve(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return P.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[st(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Z({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Ve(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=P.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<ke.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,a=n.height+n.depth+o+i,{span:l,ruleWidth:c,advanceWidth:u}=Ms.sqrtImage(a,e),d=l.height-c;d>n.height+n.depth+o&&(o=(o+d-n.height-n.depth)/2);var h=l.height-n.height-o-c;n.style.paddingLeft=G(u);var f=P.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var p=e.havingStyle(ke.SCRIPTSCRIPT),g=Ve(t.index,p,e),b=.6*(f.height-f.depth),y=P.makeVList({positionType:"shift",positionData:-b,children:[{type:"elem",elem:g}]},e),w=P.makeSpan(["root"],[y]);return P.makeSpan(["mord","sqrt"],[w,f],e)}else return P.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new W.MathNode("mroot",[st(n,e),st(r,e)]):new W.MathNode("msqrt",[st(n,e)])}});var qb={display:ke.DISPLAY,text:ke.TEXT,script:ke.SCRIPT,scriptscript:ke.SCRIPTSCRIPT};Z({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(t,e){var n=qb[t.style],r=e.havingStyle(n).withFont("");return MA(t.body,r,e)},mathmlBuilder(t,e){var n=qb[t.style],r=e.havingStyle(n),i=nr(t.body,r),s=new W.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[t.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var cQ=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ke.DISPLAY.size||r.alwaysHandleSupSub);return i?tu:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===ke.DISPLAY.size||r.limits);return s?TA:null}else{if(r.type==="accent")return ve.isCharacterBox(r.base)?l5:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?xA:null}else return null}else return null};dl({type:"supsub",htmlBuilder(t,e){var n=cQ(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,o=Ve(r,e),a,l,c=e.fontMetrics(),u=0,d=0,h=r&&ve.isCharacterBox(r);if(i){var f=e.havingStyle(e.style.sup());a=Ve(i,f,e),h||(u=o.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=Ve(s,p,e),h||(d=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var g;e.style===ke.DISPLAY?g=c.sup1:e.style.cramped?g=c.sup3:g=c.sup2;var b=e.sizeMultiplier,y=G(.5/c.ptPerEm/b),w=null;if(l){var C=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(o instanceof Ur||C)&&(w=G(-o.italic))}var k;if(a&&l){u=Math.max(u,g,a.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var A=c.defaultRuleThickness,x=4*A;if(u-a.depth-(l.height-d)<x){d=x-(u-a.depth)+l.height;var O=.8*c.xHeight-(u-a.depth);O>0&&(u+=O,d-=O)}var D=[{type:"elem",elem:l,shift:d,marginRight:y,marginLeft:w},{type:"elem",elem:a,shift:-u,marginRight:y}];k=P.makeVList({positionType:"individualShift",children:D},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var L=[{type:"elem",elem:l,marginLeft:w,marginRight:y}];k=P.makeVList({positionType:"shift",positionData:d,children:L},e)}else if(a)u=Math.max(u,g,a.depth+.25*c.xHeight),k=P.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:a,marginRight:y}]},e);else throw new Error("supsub must have either sup or sub.");var j=Oy(o,"right")||"mord";return P.makeSpan([j],[o,P.makeSpan(["msupsub"],[k])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[st(t.base,e)];t.sub&&s.push(st(t.sub,e)),t.sup&&s.push(st(t.sup,e));var o;if(n)o=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===ke.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===ke.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===ke.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===ke.DISPLAY)?o="munder":o="msub"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===ke.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===ke.DISPLAY)?o="mover":o="msup"}return new W.MathNode(o,s)}});dl({type:"atom",htmlBuilder(t,e){return P.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new W.MathNode("mo",[Vr(t.text,t.mode)]);if(t.family==="bin"){var r=o5(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var AA={mi:"italic",mn:"normal",mtext:"normal"};dl({type:"mathord",htmlBuilder(t,e){return P.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new W.MathNode("mi",[Vr(t.text,t.mode,e)]),r=o5(t,e)||"italic";return r!==AA[n.type]&&n.setAttribute("mathvariant",r),n}});dl({type:"textord",htmlBuilder(t,e){return P.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Vr(t.text,t.mode,e),r=o5(t,e)||"normal",i;return t.mode==="text"?i=new W.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new W.MathNode("mn",[n]):t.text==="\\prime"?i=new W.MathNode("mo",[n]):i=new W.MathNode("mi",[n]),r!==AA[i.type]&&i.setAttribute("mathvariant",r),i}});var o4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},a4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};dl({type:"spacing",htmlBuilder(t,e){if(a4.hasOwnProperty(t.text)){var n=a4[t.text].className||"";if(t.mode==="text"){var r=P.makeOrd(t,e,"textord");return r.classes.push(n),r}else return P.makeSpan(["mspace",n],[P.mathsym(t.text,t.mode,e)],e)}else{if(o4.hasOwnProperty(t.text))return P.makeSpan(["mspace",o4[t.text]],[],e);throw new K('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(a4.hasOwnProperty(t.text))n=new W.MathNode("mtext",[new W.TextNode("")]);else{if(o4.hasOwnProperty(t.text))return new W.MathNode("mspace");throw new K('Unknown type of space "'+t.text+'"')}return n}});var Kb=()=>{var t=new W.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};dl({type:"tag",mathmlBuilder(t,e){var n=new W.MathNode("mtable",[new W.MathNode("mtr",[Kb(),new W.MathNode("mtd",[qo(t.body,e)]),Kb(),new W.MathNode("mtd",[qo(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Gb={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Jb={"\\textbf":"textbf","\\textmd":"textmd"},uQ={"\\textit":"textit","\\textup":"textup"},Yb=(t,e)=>{var n=t.font;if(n){if(Gb[n])return e.withTextFontFamily(Gb[n]);if(Jb[n])return e.withTextFontWeight(Jb[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(uQ[n])};Z({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:jt(i),font:r}},htmlBuilder(t,e){var n=Yb(t,e),r=Zt(t.body,n,!0);return P.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=Yb(t,e);return qo(t.body,n)}});Z({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ve(t.body,e),r=P.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=P.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return P.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("")]);n.setAttribute("stretchy","true");var r=new W.MathNode("munder",[st(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Z({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ve(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return P.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new W.MathNode("mpadded",[st(t.body,e)],["vcenter"])}});Z({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new K("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=Xb(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),r.push(P.makeSymbol(o,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return P.makeSpan(["mord","text"].concat(i.sizingClasses(e)),P.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new W.TextNode(Xb(t)),r=new W.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var Xb=t=>t.body.replace(/ /g,t.star?"":""),xo=XM,OA=`[ \r
	]`,dQ="\\\\[a-zA-Z@]+",hQ="\\\\[^\uD800-\uDFFF]",fQ="("+dQ+")"+OA+"*",pQ=`\\\\(
|[ \r	]+
?)[ \r	]*`,Dy="[-]",mQ=new RegExp(Dy+"+$"),gQ="("+OA+"+)|"+(pQ+"|")+"([!-\\[\\]---]"+(Dy+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Dy+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+fQ)+("|"+hQ+")");class Qb{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(gQ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new zr("EOF",new lr(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new K("Unexpected character: '"+e[n]+"'",new zr(e[n],new lr(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new zr(i,new lr(this,n,this.tokenRegex.lastIndex))}}class vQ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new K("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var yQ=yA;E("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});E("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});E("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});E("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});E("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});E("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");E("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var Zb={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};E("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new K("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=Zb[e.text],r==null||r>=n)throw new K("Invalid base-"+n+" digit "+e.text);for(var i;(i=Zb[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var g5=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new K("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new K("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new K("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var a="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)a+=l.text,l=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new K("Invalid number of arguments: "+a);o=parseInt(a),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:o}),""};E("\\newcommand",t=>g5(t,!1,!0));E("\\renewcommand",t=>g5(t,!0,!1));E("\\providecommand",t=>g5(t,!0,!0));E("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});E("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});E("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),xo[n],ut.math[n],ut.text[n]),""});E("\\bgroup","{");E("\\egroup","}");E("~","\\nobreakspace");E("\\lq","`");E("\\rq","'");E("\\aa","\\r a");E("\\AA","\\r A");E("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");E("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");E("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");E("","\\mathscr{B}");E("","\\mathscr{E}");E("","\\mathscr{F}");E("","\\mathscr{H}");E("","\\mathscr{I}");E("","\\mathscr{L}");E("","\\mathscr{M}");E("","\\mathscr{R}");E("","\\mathfrak{C}");E("","\\mathfrak{H}");E("","\\mathfrak{Z}");E("\\Bbbk","\\Bbb{k}");E("","\\cdotp");E("\\llap","\\mathllap{\\textrm{#1}}");E("\\rlap","\\mathrlap{\\textrm{#1}}");E("\\clap","\\mathclap{\\textrm{#1}}");E("\\mathstrut","\\vphantom{(}");E("\\underbar","\\underline{\\text{#1}}");E("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');E("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");E("\\ne","\\neq");E("","\\neq");E("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");E("","\\notin");E("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");E("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");E("","\\perp");E("","\\mathclose{!\\mkern-0.8mu!}");E("","\\notni");E("","\\ulcorner");E("","\\urcorner");E("","\\llcorner");E("","\\lrcorner");E("","\\copyright");E("","\\textregistered");E("","\\textregistered");E("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');E("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');E("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');E("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');E("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");E("","\\vdots");E("\\varGamma","\\mathit{\\Gamma}");E("\\varDelta","\\mathit{\\Delta}");E("\\varTheta","\\mathit{\\Theta}");E("\\varLambda","\\mathit{\\Lambda}");E("\\varXi","\\mathit{\\Xi}");E("\\varPi","\\mathit{\\Pi}");E("\\varSigma","\\mathit{\\Sigma}");E("\\varUpsilon","\\mathit{\\Upsilon}");E("\\varPhi","\\mathit{\\Phi}");E("\\varPsi","\\mathit{\\Psi}");E("\\varOmega","\\mathit{\\Omega}");E("\\substack","\\begin{subarray}{c}#1\\end{subarray}");E("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");E("\\boxed","\\fbox{$\\displaystyle{#1}$}");E("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");E("\\implies","\\DOTSB\\;\\Longrightarrow\\;");E("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var ek={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};E("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in ek?e=ek[n]:(n.slice(0,4)==="\\not"||n in ut.math&&ve.contains(["bin","rel"],ut.math[n].group))&&(e="\\dotsb"),e});var v5={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};E("\\dotso",function(t){var e=t.future().text;return e in v5?"\\ldots\\,":"\\ldots"});E("\\dotsc",function(t){var e=t.future().text;return e in v5&&e!==","?"\\ldots\\,":"\\ldots"});E("\\cdots",function(t){var e=t.future().text;return e in v5?"\\@cdots\\,":"\\@cdots"});E("\\dotsb","\\cdots");E("\\dotsm","\\cdots");E("\\dotsi","\\!\\cdots");E("\\dotsx","\\ldots\\,");E("\\DOTSI","\\relax");E("\\DOTSB","\\relax");E("\\DOTSX","\\relax");E("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");E("\\,","\\tmspace+{3mu}{.1667em}");E("\\thinspace","\\,");E("\\>","\\mskip{4mu}");E("\\:","\\tmspace+{4mu}{.2222em}");E("\\medspace","\\:");E("\\;","\\tmspace+{5mu}{.2777em}");E("\\thickspace","\\;");E("\\!","\\tmspace-{3mu}{.1667em}");E("\\negthinspace","\\!");E("\\negmedspace","\\tmspace-{4mu}{.2222em}");E("\\negthickspace","\\tmspace-{5mu}{.277em}");E("\\enspace","\\kern.5em ");E("\\enskip","\\hskip.5em\\relax");E("\\quad","\\hskip1em\\relax");E("\\qquad","\\hskip2em\\relax");E("\\tag","\\@ifstar\\tag@literal\\tag@paren");E("\\tag@paren","\\tag@literal{({#1})}");E("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new K("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});E("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");E("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");E("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");E("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");E("\\newline","\\\\\\relax");E("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var IA=G(ji["Main-Regular"][84][1]-.7*ji["Main-Regular"][65][1]);E("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+IA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");E("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+IA+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");E("\\hspace","\\@ifstar\\@hspacer\\@hspace");E("\\@hspace","\\hskip #1\\relax");E("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");E("\\ordinarycolon",":");E("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");E("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');E("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');E("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');E("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');E("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');E("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');E("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');E("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');E("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');E("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');E("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');E("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');E("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');E("","\\dblcolon");E("","\\eqcolon");E("","\\coloneqq");E("","\\eqqcolon");E("","\\Coloneqq");E("\\ratio","\\vcentcolon");E("\\coloncolon","\\dblcolon");E("\\colonequals","\\coloneqq");E("\\coloncolonequals","\\Coloneqq");E("\\equalscolon","\\eqqcolon");E("\\equalscoloncolon","\\Eqqcolon");E("\\colonminus","\\coloneq");E("\\coloncolonminus","\\Coloneq");E("\\minuscolon","\\eqcolon");E("\\minuscoloncolon","\\Eqcolon");E("\\coloncolonapprox","\\Colonapprox");E("\\coloncolonsim","\\Colonsim");E("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");E("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");E("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");E("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");E("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");E("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");E("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");E("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");E("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");E("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");E("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");E("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");E("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");E("\\ngeqq","\\html@mathml{\\@ngeqq}{}");E("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");E("\\nleqq","\\html@mathml{\\@nleqq}{}");E("\\nleqslant","\\html@mathml{\\@nleqslant}{}");E("\\nshortmid","\\html@mathml{\\@nshortmid}{}");E("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");E("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");E("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");E("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");E("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");E("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");E("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");E("\\imath","\\html@mathml{\\@imath}{}");E("\\jmath","\\html@mathml{\\@jmath}{}");E("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");E("","\\llbracket");E("","\\rrbracket");E("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");E("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");E("","\\lBrace");E("","\\rBrace");E("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");E("","\\minuso");E("\\darr","\\downarrow");E("\\dArr","\\Downarrow");E("\\Darr","\\Downarrow");E("\\lang","\\langle");E("\\rang","\\rangle");E("\\uarr","\\uparrow");E("\\uArr","\\Uparrow");E("\\Uarr","\\Uparrow");E("\\N","\\mathbb{N}");E("\\R","\\mathbb{R}");E("\\Z","\\mathbb{Z}");E("\\alef","\\aleph");E("\\alefsym","\\aleph");E("\\Alpha","\\mathrm{A}");E("\\Beta","\\mathrm{B}");E("\\bull","\\bullet");E("\\Chi","\\mathrm{X}");E("\\clubs","\\clubsuit");E("\\cnums","\\mathbb{C}");E("\\Complex","\\mathbb{C}");E("\\Dagger","\\ddagger");E("\\diamonds","\\diamondsuit");E("\\empty","\\emptyset");E("\\Epsilon","\\mathrm{E}");E("\\Eta","\\mathrm{H}");E("\\exist","\\exists");E("\\harr","\\leftrightarrow");E("\\hArr","\\Leftrightarrow");E("\\Harr","\\Leftrightarrow");E("\\hearts","\\heartsuit");E("\\image","\\Im");E("\\infin","\\infty");E("\\Iota","\\mathrm{I}");E("\\isin","\\in");E("\\Kappa","\\mathrm{K}");E("\\larr","\\leftarrow");E("\\lArr","\\Leftarrow");E("\\Larr","\\Leftarrow");E("\\lrarr","\\leftrightarrow");E("\\lrArr","\\Leftrightarrow");E("\\Lrarr","\\Leftrightarrow");E("\\Mu","\\mathrm{M}");E("\\natnums","\\mathbb{N}");E("\\Nu","\\mathrm{N}");E("\\Omicron","\\mathrm{O}");E("\\plusmn","\\pm");E("\\rarr","\\rightarrow");E("\\rArr","\\Rightarrow");E("\\Rarr","\\Rightarrow");E("\\real","\\Re");E("\\reals","\\mathbb{R}");E("\\Reals","\\mathbb{R}");E("\\Rho","\\mathrm{P}");E("\\sdot","\\cdot");E("\\sect","\\S");E("\\spades","\\spadesuit");E("\\sub","\\subset");E("\\sube","\\subseteq");E("\\supe","\\supseteq");E("\\Tau","\\mathrm{T}");E("\\thetasym","\\vartheta");E("\\weierp","\\wp");E("\\Zeta","\\mathrm{Z}");E("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");E("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");E("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");E("\\bra","\\mathinner{\\langle{#1}|}");E("\\ket","\\mathinner{|{#1}\\rangle}");E("\\braket","\\mathinner{\\langle{#1}\\rangle}");E("\\Bra","\\left\\langle#1\\right|");E("\\Ket","\\left|#1\\right\\rangle");var NA=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{t&&(h.macros.set("|",o),i.length&&h.macros.set("\\|",a));var f=d;if(!d&&i.length){var p=h.future();p.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};E("\\bra@ket",NA(!1));E("\\bra@set",NA(!0));E("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");E("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");E("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");E("\\angln","{\\angl n}");E("\\blue","\\textcolor{##6495ed}{#1}");E("\\orange","\\textcolor{##ffa500}{#1}");E("\\pink","\\textcolor{##ff00af}{#1}");E("\\red","\\textcolor{##df0030}{#1}");E("\\green","\\textcolor{##28ae7b}{#1}");E("\\gray","\\textcolor{gray}{#1}");E("\\purple","\\textcolor{##9d38bd}{#1}");E("\\blueA","\\textcolor{##ccfaff}{#1}");E("\\blueB","\\textcolor{##80f6ff}{#1}");E("\\blueC","\\textcolor{##63d9ea}{#1}");E("\\blueD","\\textcolor{##11accd}{#1}");E("\\blueE","\\textcolor{##0c7f99}{#1}");E("\\tealA","\\textcolor{##94fff5}{#1}");E("\\tealB","\\textcolor{##26edd5}{#1}");E("\\tealC","\\textcolor{##01d1c1}{#1}");E("\\tealD","\\textcolor{##01a995}{#1}");E("\\tealE","\\textcolor{##208170}{#1}");E("\\greenA","\\textcolor{##b6ffb0}{#1}");E("\\greenB","\\textcolor{##8af281}{#1}");E("\\greenC","\\textcolor{##74cf70}{#1}");E("\\greenD","\\textcolor{##1fab54}{#1}");E("\\greenE","\\textcolor{##0d923f}{#1}");E("\\goldA","\\textcolor{##ffd0a9}{#1}");E("\\goldB","\\textcolor{##ffbb71}{#1}");E("\\goldC","\\textcolor{##ff9c39}{#1}");E("\\goldD","\\textcolor{##e07d10}{#1}");E("\\goldE","\\textcolor{##a75a05}{#1}");E("\\redA","\\textcolor{##fca9a9}{#1}");E("\\redB","\\textcolor{##ff8482}{#1}");E("\\redC","\\textcolor{##f9685d}{#1}");E("\\redD","\\textcolor{##e84d39}{#1}");E("\\redE","\\textcolor{##bc2612}{#1}");E("\\maroonA","\\textcolor{##ffbde0}{#1}");E("\\maroonB","\\textcolor{##ff92c6}{#1}");E("\\maroonC","\\textcolor{##ed5fa6}{#1}");E("\\maroonD","\\textcolor{##ca337c}{#1}");E("\\maroonE","\\textcolor{##9e034e}{#1}");E("\\purpleA","\\textcolor{##ddd7ff}{#1}");E("\\purpleB","\\textcolor{##c6b9fc}{#1}");E("\\purpleC","\\textcolor{##aa87ff}{#1}");E("\\purpleD","\\textcolor{##7854ab}{#1}");E("\\purpleE","\\textcolor{##543b78}{#1}");E("\\mintA","\\textcolor{##f5f9e8}{#1}");E("\\mintB","\\textcolor{##edf2df}{#1}");E("\\mintC","\\textcolor{##e0e5cc}{#1}");E("\\grayA","\\textcolor{##f6f7f7}{#1}");E("\\grayB","\\textcolor{##f0f1f2}{#1}");E("\\grayC","\\textcolor{##e3e5e6}{#1}");E("\\grayD","\\textcolor{##d6d8da}{#1}");E("\\grayE","\\textcolor{##babec2}{#1}");E("\\grayF","\\textcolor{##888d93}{#1}");E("\\grayG","\\textcolor{##626569}{#1}");E("\\grayH","\\textcolor{##3b3e40}{#1}");E("\\grayI","\\textcolor{##21242c}{#1}");E("\\kaBlue","\\textcolor{##314453}{#1}");E("\\kaGreen","\\textcolor{##71B307}{#1}");var RA={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class wQ{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new vQ(yQ,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new Qb(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new zr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,a=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new K("Extra }",s)}else if(s.text==="EOF")throw new K("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){n.splice(-a,a);break}}else a=0}while(o!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new K("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new K("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(n&&n[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new K("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new K("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new K("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new K("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new Qb(i,this.settings),l=[],c=a.lex();c.text!=="EOF";)l.push(c),c=a.lex();l.reverse();var u={tokens:l,numArgs:s};return u}return i}isDefined(e){return this.macros.has(e)||xo.hasOwnProperty(e)||ut.math.hasOwnProperty(e)||ut.text.hasOwnProperty(e)||RA.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:xo.hasOwnProperty(e)&&!xo[e].primitive}}var tk=/^[]/,Oh=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),l4={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},nk={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class y1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new wQ(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new K("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new zr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(y1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&xo[i.text]&&xo[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new K("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,o,a=e.slice(0,n),l=e.slice(n+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[s,e[n],o],[]):c=this.callFunction(r,[s,o],[]),[c]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new K("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var o=s.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new K("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new K("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new K("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new K("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(Oh[s.text]){var c=tk.test(s.text),u=[];for(u.push(new zr(Oh[s.text])),this.consume();;){var d=this.fetch().text;if(!Oh[d]||tk.test(d)!==c)break;u.unshift(new zr(Oh[d])),this.consume()}var h=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=xo[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new K("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new K("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new K("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(i,s);return this.callFunction(i,o,a,r,e)}callFunction(e,n,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},a=xo[e];if(a&&a.handler)return a.handler(o,n,r);throw new K("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var a=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new K("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new K("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new K("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new K("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new K("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new K("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new K("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!HM(s))throw new K("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),o}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:lr.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!RA.hasOwnProperty(i)){if(this.settings.throwOnError)throw new K("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:lr.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:lr.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:lr.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new K(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}nk.hasOwnProperty(n[0])&&!ut[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=nk[n[0]]+n.slice(1));var s=mQ.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var o;if(ut[this.mode][n]){this.settings.strict&&this.mode==="math"&&Ay.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var a=ut[this.mode][n].group,l=lr.range(e),c;if(aX.hasOwnProperty(a)){var u=a;c={type:"atom",mode:this.mode,family:u,loc:l,text:n}}else c={type:a,mode:this.mode,loc:l,text:n};o=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&($M(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:lr.range(e),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var h=s[0][d];if(!l4[h])throw new K("Unknown accent ' "+h+"'",e);var f=l4[h][this.mode]||l4[h].text;if(!f)throw new K("Accent "+h+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:lr.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o}}y1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var y5=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new y1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new K("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new zr("\\df@tag")])}]}return i},DA=function(e,n,r){n.textContent="";var i=w5(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),DA=function(){throw new K("KaTeX doesn't work in quirks mode.")});var bQ=function(e,n){var r=w5(e,n).toMarkup();return r},kQ=function(e,n){var r=new e5(n);return y5(e,r)},_A=function(e,n,r){if(r.throwOnError||!(e instanceof K))throw e;var i=P.makeSpan(["katex-error"],[new Ur(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},w5=function(e,n){var r=new e5(n);try{var i=y5(e,r);return IX(i,e,r)}catch(s){return _A(s,e,r)}},SQ=function(e,n){var r=new e5(n);try{var i=y5(e,r);return NX(i,e,r)}catch(s){return _A(s,e,r)}},xQ={version:"0.16.11",render:DA,renderToString:bQ,ParseError:K,SETTINGS_SCHEMA:ff,__parse:kQ,__renderToDomTree:w5,__renderToHTMLTree:SQ,__setFontMetrics:eX,__defineSymbol:m,__defineFunction:Z,__defineMacro:E,__domTree:{Span:C0,Anchor:r5,SymbolNode:Ur,SvgNode:Ls,PathNode:Wo,LineNode:My}};const CQ=t=>{const{regex:e,katexOptions:n={},editor:r,shouldRender:i}=t;return new ot({key:new dt("mathematics"),state:{init:()=>et.empty,apply(s,o,a,l){const{selection:c}=l,u=[];return l.doc.descendants((d,h)=>{const f=i(l,h,d);if(d.isText&&d.text&&f){let p;for(;p=e.exec(d.text);){const g=h+p.index,b=g+p[0].length,y=p.slice(1).find(Boolean);if(y){const w=c.$from.pos-c.$to.pos,C=c.$anchor.pos>=g&&c.$anchor.pos<=b,k=c.$from.pos>=g&&c.$to.pos<=b,A=w===0&&C||k;A&&r.isEditable||u.push(Xt.widget(g,()=>{const x=document.createElement("span");x.classList.add("Tiptap-mathematics-render"),r.isEditable&&x.classList.add("Tiptap-mathematics-render--editable");try{xQ.render(y,x,n)}catch{x.innerHTML=y}return x})),u.push(Xt.inline(g,b,{class:A&&r.isEditable?"Tiptap-mathematics-editor":"Tiptap-mathematics-editor Tiptap-mathematics-editor--hidden",style:A&&r.isEditable?void 0:"display: inline-block; height: 0; opacity: 0; overflow: hidden; position: absolute; width: 0;"}))}}}}),u.length>0?et.create(l.doc,u):et.empty}},props:{decorations(s){return this.getState(s)}}})},EQ=(t,e)=>t.doc.resolve(e).parent.type.name!=="codeBlock",TQ=Lt.create({name:"Mathematics",addOptions:()=>({regex:/\$([^\$]*)\$/gi,katexOptions:void 0,shouldRender:EQ}),addProseMirrorPlugins(){return[CQ({...this.options,editor:this.editor})]}}),rk=()=>{const t=KV({extensions:[FW,lT,oT,iT,uT.configure({levels:[1,2,3]}),gT,yT,wT,Hq.configure({resizable:!0}),Wq,Vq,Uq,sT,aT,Gq.configure({multicolor:!0}),vT,yK.configure({openOnClick:!0,autolink:!0,defaultProtocol:"https"}),bT,wK,bK.configure({placeholder:"Write something "}),kK.configure({types:["heading","paragraph"]}),xK,cT,TQ]});if(!t)return null;const e=B.useCallback(()=>{const C=window.prompt("Enter a image URL.");C&&t.chain().focus().setImage({src:C}).run()},[t]),n=B.useCallback(()=>{const C=t.getAttributes("link").href,k=window.prompt("URL",C);if(k!==null){if(k===""){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:k}).run()}},[t]),[r,i]=B.useState(""),[s,o]=B.useState(""),[a,l]=B.useState(""),{urlId:c=""}=cR(),u=Uc();let d=null;const h="https://yoonuooh.duckdns.org",f="5000",p=C=>{i(C.target.value)},g=C=>{C.preventDefault(),c===""?(b(r),confirm("Save Complete!")&&u("/")):(w(c,r),confirm("Update Complete!")&&u("/"))},b=async C=>{const k=t.getJSON();console.log(k);try{const x=await(await fetch(`${h}:${f}/api/insert_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:C,content:k})})).json();console.log(x)}catch(A){console.error("Error sending data to sever:",A)}},y=async C=>{try{d=await(await fetch(`${h}:${f}/api/load_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:C})})).json(),console.log(d),t.commands.setContent(d.content),i(d.title),o(d.created_at),l(d.modified_at)}catch(k){console.error("Error sending data to server:",k)}},w=async(C,k)=>{const A=t.getJSON();console.log(A);try{const O=await(await fetch(`${h}:${f}/api/update_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:C,title:k,content:A})})).json();console.log("Response from server:",O)}catch(x){console.error("Error sending data to sever:",x)}};return B.useEffect(()=>{y(c)},[]),N.jsx(N.Fragment,{children:N.jsxs("div",{className:"editor",children:[N.jsxs("form",{onSubmit:g,className:"form",children:[N.jsx("input",{className:"input-title",onChange:p,value:r,name:"title",placeholder:"Title",type:"text",required:!0}),N.jsx("input",{className:"submit-button",type:"submit",value:c!==""?"Update":"Save"})]}),N.jsx("span",{children:s?" : "+s:""}),N.jsx("span",{children:a?" : "+a:""}),N.jsxs("div",{className:"control-group",children:[N.jsxs("div",{className:"button-group",children:[N.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5h4.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0-7H6m2 7h6.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0 0H6"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8.874 19 6.143-14M6 19h6.33m-.66-14H18"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:t.isActive("underline")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M6 19h12M8 5v9a4 4 0 0 0 8 0V5M6 5h4m4 0h4"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 20H5.5c-.27614 0-.5-.2239-.5-.5v-3c0-.2761.22386-.5.5-.5h13c.2761 0 .5.2239.5.5v3c0 .2761-.2239.5-.5.5H18m-6-1 1.42 1.8933c.04.0534.12.0534.16 0L15 19m-7-6 3.9072-9.76789c.0335-.08381.1521-.08381.1856 0L16 13m-8 0H7m1 0h1.5m6.5 0h-1.5m1.5 0h1m-7-3.00001h4"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active":"",children:N.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:N.jsx("path",{d:"M6 16C6 18.2091 7.79086 20 10 20H14C16.2091 20 18 18.2091 18 16C18 13.7909 16.2091 12 14 12M18 8C18 5.79086 16.2091 4 14 4H10C7.79086 4 6 5.79086 6 8M3 12H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})})}),N.jsx("button",{onClick:()=>t.chain().focus().sinkListItem("listItem").run(),disabled:!t.can().sinkListItem("listItem"),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h12M6 18h12m-5-8h5m-5 4h5M6 9v6l3.5-3L6 9Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().liftListItem("listItem").run(),disabled:!t.can().liftListItem("listItem"),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h12M6 18h12m-5-8h5m-5 4h5M9.5 9v6L6 12l3.5-3Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h8m-8 4h12M6 14h8m-8 4h12"})})}),N.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h8M6 10h12M8 14h8M6 18h12"})})}),N.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6h-8m8 4H6m12 4h-8m8 4H6"})})}),N.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:t.isActive({textAlign:"justify"})?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6H6m12 4H6m12 4H6m12 4H6"})})}),N.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-1",children:[N.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),N.jsx("path",{d:"M19 18v-8l-2 2"}),N.jsx("path",{d:"M4 6v12"}),N.jsx("path",{d:"M12 6v12"}),N.jsx("path",{d:"M11 18h2"}),N.jsx("path",{d:"M3 18h2"}),N.jsx("path",{d:"M4 12h8"}),N.jsx("path",{d:"M3 6h2"}),N.jsx("path",{d:"M11 6h2"})]})}),N.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-2",children:[N.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),N.jsx("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}),N.jsx("path",{d:"M4 6v12"}),N.jsx("path",{d:"M12 6v12"}),N.jsx("path",{d:"M11 18h2"}),N.jsx("path",{d:"M3 18h2"}),N.jsx("path",{d:"M4 12h8"}),N.jsx("path",{d:"M3 6h2"}),N.jsx("path",{d:"M11 6h2"})]})}),N.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:N.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-3",children:[N.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),N.jsx("path",{d:"M19 14a2 2 0 1 0 -2 -2"}),N.jsx("path",{d:"M17 16a2 2 0 1 0 2 -2"}),N.jsx("path",{d:"M4 6v12"}),N.jsx("path",{d:"M12 6v12"}),N.jsx("path",{d:"M11 18h2"}),N.jsx("path",{d:"M3 18h2"}),N.jsx("path",{d:"M4 12h8"}),N.jsx("path",{d:"M3 6h2"}),N.jsx("path",{d:"M11 6h2"})]})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:t.isActive("codeBlock")?"is-active":"",children:N.jsx("svg",{"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:N.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 11V8a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1Zm0 0v2a4 4 0 0 1-4 4H5m14-6V8a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1Zm0 0v2a4 4 0 0 1-4 4h-1"})})}),N.jsx("button",{onClick:e,children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m3 16 5-7 6 6.5m6.5 2.5L16 13l-4.286 6M14 10h.01M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"})})}),N.jsx("button",{onClick:n,className:t.isActive("link")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"})})}),N.jsx("button",{onClick:()=>t.chain().focus().unsetLink().run(),disabled:!t.isActive("link"),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M13.2131 9.78732c-.6359-.63557-1.4983-.99259-2.3974-.99259-.89911 0-1.76143.35702-2.39741.99259l-3.4253 3.42528C4.35719 13.8485 4 14.7108 4 15.61c0 .8992.35719 1.7616.99299 2.3974.63598.6356 1.4983.9926 2.39742.9926.89912 0 1.76144-.357 2.39742-.9926l.32157-.3043m-.32157-4.4905c.63587.6358 1.49827.993 2.39747.993.8991 0 1.7615-.3572 2.3974-.993l3.4243-3.42528c.6358-.63585.993-1.49822.993-2.39741 0-.89919-.3572-1.76156-.993-2.39741C17.3712 4.357 16.509 4 15.6101 4c-.899 0-1.7612.357-2.397.9925l-1.0278.96062m7.3873 14.04678-1.7862-1.7862m0 0L16 16.4274m1.7864 1.7863 1.7862-1.7863m-1.7862 1.7863L16 20"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),className:t.isActive("code")?"is-active":"",children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8 8-4 4 4 4m8 0 4-4-4-4m-2-3-4 14"})})}),N.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:N.jsxs("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M5 12h14"}),N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",d:"M6 9.5h12m-12-2h12m-12-2h12m-12 13h12m-12-2h12m-12-2h12"})]})})]}),t&&N.jsx(JV,{editor:t,tippyOptions:{duration:100},children:N.jsxs("div",{className:"button-group",children:[N.jsx("button",{onClick:()=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1 4h2m0 0h2m-2 0v2m0-2v-2"})})}),N.jsx("button",{onClick:()=>t.chain().focus().addColumnBefore().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v14m-8-7h2m0 0h2m-2 0v2m0-2v-2m12 1h-6m6 4h-6M4 19h16c.5523 0 1-.4477 1-1V6c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44772-1 1v12c0 .5523.44772 1 1 1Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().addColumnAfter().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5v14m8-7h-2m0 0h-2m2 0v2m0-2v-2M3 11h6m-6 4h6m11 4H4c-.55228 0-1-.4477-1-1V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v12c0 .5523-.4477 1-1 1Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().deleteColumn().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5v14m-6-8h6m-6 4h6m4.506-1.494L15.012 12m0 0 1.506-1.506M15.012 12l1.506 1.506M15.012 12l-1.506-1.506M20 19H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().addRowBefore().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-6-9h2m0 0h2m-2 0v2m0-2V8"})})}),N.jsx("button",{onClick:()=>t.chain().focus().addRowAfter().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44771 1 1v3M3 9v9c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1V9M3 9h18M8 9V5m4 4V5m4 4V5m-6 9h2m0 0h2m-2 0v-2m0 2v2"})})}),N.jsx("button",{onClick:()=>t.chain().focus().deleteRow().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-5.5061-7.4939L12 10m0 0 1.5061-1.50614M12 10l1.5061 1.5061M12 10l-1.5061-1.50614"})})}),N.jsx("button",{onClick:()=>t.chain().focus().deleteTable().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1.8956 5.9528 1.5047-1.5047m0 0 1.5048-1.5048m-1.5048 1.5048 1.4605 1.4604m-1.4605-1.4604-1.4604-1.4605"})})}),N.jsx("button",{onClick:()=>t.chain().focus().mergeCells().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 18v2H4V4h6v2m4 12v2h6V4h-6v2m-6.49543 8.4954L10 12m0 0L7.50457 9.50457M10 12H4.05191m12.50199 2.5539L14 12m0 0 2.5539-2.55392M14 12h5.8319"})})}),N.jsx("button",{onClick:()=>t.chain().focus().splitCell().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 18v2h6V4H4v2m16 12v2h-6V4h6v2M6.49545 14.4954 4.00003 12m0 0 2.49542-2.49543M4.00003 12h5.94809m7.49798 2.5539L20 12m0 0-2.5539-2.55392M20 12h-5.8319"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleHeaderColumn().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v14m6-8h-6m6 4h-6m-9-3h1.99093M4 19h16c.5523 0 1-.4477 1-1V6c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44772-1 1v12c0 .5523.44772 1 1 1Zm8-7c0 1.1046-.8954 2-2 2-1.10457 0-2-.8954-2-2s.89543-2 2-2c1.1046 0 2 .8954 2 2Z"})})}),N.jsx("button",{onClick:()=>t.chain().focus().toggleHeaderRow().run(),children:N.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:N.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-7-9h1.9909M15 10c0 1.1046-.8954 2-2 2s-2-.8954-2-2c0-1.10457.8954-2 2-2s2 .89543 2 2Z"})})})]})}),N.jsx(EY,{editor:t,tippyOptions:{placement:"left"},children:N.jsx("svg",{"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:N.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9h16.5m-16.5 6.75h16.5"})})}),N.jsx(zV,{editor:t})]})]})})},c4=br.div`
  height: 100vh;
  display: flex;
  justify-content: center;
`,MQ=RR([{path:"/",element:N.jsx(Zz,{children:N.jsx(c4,{children:N.jsx(Qz,{})})})},{path:"",element:N.jsx(qz,{})},{path:"/create-account",element:N.jsx(c4,{children:N.jsx(Vz,{})})},{path:"/login",element:N.jsx(c4,{children:N.jsx(Wz,{})})},{path:"/editor",element:N.jsx(rk,{})},{path:"/editor/:urlId",element:N.jsx(rk,{})}]);function AQ(){const[t,e]=B.useState(!0),n=async()=>{await p0.authStateReady(),e(!1)};return B.useEffect(()=>{n()},[]),N.jsx(N.Fragment,{children:t?N.jsx(Jz,{}):N.jsx($R,{router:MQ})})}w9(document.getElementById("root")).render(N.jsx(AQ,{}));
