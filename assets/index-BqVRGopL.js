function Mk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Ak(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nk={exports:{}},pm={},Ok={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0=Symbol.for("react.element"),hN=Symbol.for("react.portal"),fN=Symbol.for("react.fragment"),pN=Symbol.for("react.strict_mode"),mN=Symbol.for("react.profiler"),gN=Symbol.for("react.provider"),vN=Symbol.for("react.context"),yN=Symbol.for("react.forward_ref"),wN=Symbol.for("react.suspense"),bN=Symbol.for("react.memo"),kN=Symbol.for("react.lazy"),H3=Symbol.iterator;function xN(t){return t===null||typeof t!="object"?null:(t=H3&&t[H3]||t["@@iterator"],typeof t=="function"?t:null)}var Ik={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dk=Object.assign,Rk={};function Wc(t,e,n){this.props=t,this.context=e,this.refs=Rk,this.updater=n||Ik}Wc.prototype.isReactComponent={};Wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _k(){}_k.prototype=Wc.prototype;function Hy(t,e,n){this.props=t,this.context=e,this.refs=Rk,this.updater=n||Ik}var $y=Hy.prototype=new _k;$y.constructor=Hy;Dk($y,Wc.prototype);$y.isPureReactComponent=!0;var $3=Array.isArray,Lk=Object.prototype.hasOwnProperty,Vy={current:null},Pk={key:!0,ref:!0,__self:!0,__source:!0};function zk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lk.call(e,r)&&!Pk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:o0,type:t,key:s,ref:o,props:i,_owner:Vy.current}}function SN(t,e){return{$$typeof:o0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Uy(t){return typeof t=="object"&&t!==null&&t.$$typeof===o0}function CN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V3=/\/+/g;function A1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CN(""+t.key):e.toString(36)}function _h(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case o0:case hN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+A1(o,0):r,$3(i)?(n="",t!=null&&(n=t.replace(V3,"$&/")+"/"),_h(i,e,n,"",function(c){return c})):i!=null&&(Uy(i)&&(i=SN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(V3,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",$3(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+A1(s,a);o+=_h(s,e,n,l,i)}else if(l=xN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+A1(s,a++),o+=_h(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function L0(t,e,n){if(t==null)return t;var r=[],i=0;return _h(t,r,"","",function(s){return e.call(n,s,i++)}),r}function EN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hn={current:null},Lh={transition:null},TN={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Lh,ReactCurrentOwner:Vy};function Bk(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:L0,forEach:function(t,e,n){L0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return L0(t,function(){e++}),e},toArray:function(t){return L0(t,function(e){return e})||[]},only:function(t){if(!Uy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=Wc;Pe.Fragment=fN;Pe.Profiler=mN;Pe.PureComponent=Hy;Pe.StrictMode=pN;Pe.Suspense=wN;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TN;Pe.act=Bk;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vy.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lk.call(e,l)&&!Pk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:o0,type:t.type,key:i,ref:s,props:r,_owner:o}};Pe.createContext=function(t){return t={$$typeof:vN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:gN,_context:t},t.Consumer=t};Pe.createElement=zk;Pe.createFactory=function(t){var e=zk.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:yN,render:t}};Pe.isValidElement=Uy;Pe.lazy=function(t){return{$$typeof:kN,_payload:{_status:-1,_result:t},_init:EN}};Pe.memo=function(t,e){return{$$typeof:bN,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=Lh.transition;Lh.transition={};try{t()}finally{Lh.transition=e}};Pe.unstable_act=Bk;Pe.useCallback=function(t,e){return Hn.current.useCallback(t,e)};Pe.useContext=function(t){return Hn.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return Hn.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return Hn.current.useEffect(t,e)};Pe.useId=function(){return Hn.current.useId()};Pe.useImperativeHandle=function(t,e,n){return Hn.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return Hn.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return Hn.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return Hn.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return Hn.current.useReducer(t,e,n)};Pe.useRef=function(t){return Hn.current.useRef(t)};Pe.useState=function(t){return Hn.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return Hn.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return Hn.current.useTransition()};Pe.version="18.3.1";Ok.exports=Pe;var P=Ok.exports;const Tt=Ak(P),MN=Mk({__proto__:null,default:Tt},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AN=P,NN=Symbol.for("react.element"),ON=Symbol.for("react.fragment"),IN=Object.prototype.hasOwnProperty,DN=AN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RN={key:!0,ref:!0,__self:!0,__source:!0};function jk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IN.call(e,r)&&!RN.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:NN,type:t,key:s,ref:o,props:i,_owner:DN.current}}pm.Fragment=ON;pm.jsx=jk;pm.jsxs=jk;Nk.exports=pm;var x=Nk.exports,Fk={exports:{}},br={},Hk={exports:{}},$k={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,ee){var te=$.length;$.push(ee);e:for(;0<te;){var ve=te-1>>>1,de=$[ve];if(0<i(de,ee))$[ve]=ee,$[te]=de,te=ve;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var ee=$[0],te=$.pop();if(te!==ee){$[0]=te;e:for(var ve=0,de=$.length,rt=de>>>1;ve<rt;){var Be=2*(ve+1)-1,je=$[Be],Fe=Be+1,Ze=$[Fe];if(0>i(je,te))Fe<de&&0>i(Ze,je)?($[ve]=Ze,$[Fe]=te,ve=Fe):($[ve]=je,$[Be]=te,ve=Be);else if(Fe<de&&0>i(Ze,te))$[ve]=Ze,$[Fe]=te,ve=Fe;else break e}}return ee}function i($,ee){var te=$.sortIndex-ee.sortIndex;return te!==0?te:$.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var ee=n(c);ee!==null;){if(ee.callback===null)r(c);else if(ee.startTime<=$)r(c),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=n(c)}}function S($){if(g=!1,E($),!p)if(n(l)!==null)p=!0,Me(N);else{var ee=n(c);ee!==null&&he(S,ee.startTime-$)}}function N($,ee){p=!1,g&&(g=!1,v(I),I=-1),f=!0;var te=h;try{for(E(ee),d=n(l);d!==null&&(!(d.expirationTime>ee)||$&&!G());){var ve=d.callback;if(typeof ve=="function"){d.callback=null,h=d.priorityLevel;var de=ve(d.expirationTime<=ee);ee=t.unstable_now(),typeof de=="function"?d.callback=de:d===n(l)&&r(l),E(ee)}else r(l);d=n(l)}if(d!==null)var rt=!0;else{var Be=n(c);Be!==null&&he(S,Be.startTime-ee),rt=!1}return rt}finally{d=null,h=te,f=!1}}var b=!1,M=null,I=-1,_=5,F=-1;function G(){return!(t.unstable_now()-F<_)}function Q(){if(M!==null){var $=t.unstable_now();F=$;var ee=!0;try{ee=M(!0,$)}finally{ee?oe():(b=!1,M=null)}}else b=!1}var oe;if(typeof k=="function")oe=function(){k(Q)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Ne=ge.port2;ge.port1.onmessage=Q,oe=function(){Ne.postMessage(null)}}else oe=function(){w(Q,0)};function Me($){M=$,b||(b=!0,oe())}function he($,ee){I=w(function(){$(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,Me(N))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var ee=3;break;default:ee=h}var te=h;h=ee;try{return $()}finally{h=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,ee){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var te=h;h=$;try{return ee()}finally{h=te}},t.unstable_scheduleCallback=function($,ee,te){var ve=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?ve+te:ve):te=ve,$){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=te+de,$={id:u++,callback:ee,priorityLevel:$,startTime:te,expirationTime:de,sortIndex:-1},te>ve?($.sortIndex=te,e(c,$),n(l)===null&&$===n(c)&&(g?(v(I),I=-1):g=!0,he(S,te-ve))):($.sortIndex=de,e(l,$),p||f||(p=!0,Me(N))),$},t.unstable_shouldYield=G,t.unstable_wrapCallback=function($){var ee=h;return function(){var te=h;h=ee;try{return $.apply(this,arguments)}finally{h=te}}}})($k);Hk.exports=$k;var _N=Hk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LN=P,vr=_N;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vk=new Set,dd={};function hl(t,e){vc(t,e),vc(t+"Capture",e)}function vc(t,e){for(dd[t]=e,t=0;t<e.length;t++)Vk.add(e[t])}var Ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g4=Object.prototype.hasOwnProperty,PN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U3={},W3={};function zN(t){return g4.call(W3,t)?!0:g4.call(U3,t)?!1:PN.test(t)?W3[t]=!0:(U3[t]=!0,!1)}function BN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function jN(t,e,n,r){if(e===null||typeof e>"u"||BN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var yn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yn[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yn[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yn[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yn[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yn[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yn[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yn[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yn[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yn[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var Wy=/[\-:]([a-z])/g;function qy(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Wy,qy);yn[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Wy,qy);yn[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Wy,qy);yn[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yn[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});yn.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yn[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function Ky(t,e,n,r){var i=yn.hasOwnProperty(e)?yn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(jN(e,n,i,r)&&(n=null),r||i===null?zN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vs=LN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P0=Symbol.for("react.element"),Pl=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),Gy=Symbol.for("react.strict_mode"),v4=Symbol.for("react.profiler"),Uk=Symbol.for("react.provider"),Wk=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),y4=Symbol.for("react.suspense"),w4=Symbol.for("react.suspense_list"),Yy=Symbol.for("react.memo"),oo=Symbol.for("react.lazy"),qk=Symbol.for("react.offscreen"),q3=Symbol.iterator;function pu(t){return t===null||typeof t!="object"?null:(t=q3&&t[q3]||t["@@iterator"],typeof t=="function"?t:null)}var Nt=Object.assign,N1;function Au(t){if(N1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);N1=e&&e[1]||""}return`
`+N1+t}var O1=!1;function I1(t,e){if(!t||O1)return"";O1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{O1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Au(t):""}function FN(t){switch(t.tag){case 5:return Au(t.type);case 16:return Au("Lazy");case 13:return Au("Suspense");case 19:return Au("SuspenseList");case 0:case 2:case 15:return t=I1(t.type,!1),t;case 11:return t=I1(t.type.render,!1),t;case 1:return t=I1(t.type,!0),t;default:return""}}function b4(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zl:return"Fragment";case Pl:return"Portal";case v4:return"Profiler";case Gy:return"StrictMode";case y4:return"Suspense";case w4:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wk:return(t.displayName||"Context")+".Consumer";case Uk:return(t._context.displayName||"Context")+".Provider";case Jy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yy:return e=t.displayName||null,e!==null?e:b4(t.type)||"Memo";case oo:e=t._payload,t=t._init;try{return b4(t(e))}catch{}}return null}function HN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return b4(e);case 8:return e===Gy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Vo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $N(t){var e=Kk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function z0(t){t._valueTracker||(t._valueTracker=$N(t))}function Gk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function k4(t,e){var n=e.checked;return Nt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function K3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Vo(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jk(t,e){e=e.checked,e!=null&&Ky(t,"checked",e,!1)}function x4(t,e){Jk(t,e);var n=Vo(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?S4(t,e.type,n):e.hasOwnProperty("defaultValue")&&S4(t,e.type,Vo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function G3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function S4(t,e,n){(e!=="number"||kf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Nu=Array.isArray;function Ql(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Vo(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function C4(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return Nt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function J3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(Nu(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Vo(n)}}function Yk(t,e){var n=Vo(e.value),r=Vo(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Y3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xk(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function E4(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xk(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var B0,Qk=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(B0=B0||document.createElement("div"),B0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=B0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Fu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VN=["Webkit","ms","Moz","O"];Object.keys(Fu).forEach(function(t){VN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Fu[e]=Fu[t]})});function Zk(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Fu.hasOwnProperty(t)&&Fu[t]?(""+e).trim():e+"px"}function ex(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zk(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var UN=Nt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function T4(t,e){if(e){if(UN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function M4(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var A4=null;function Xy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var N4=null,Zl=null,ec=null;function X3(t){if(t=c0(t)){if(typeof N4!="function")throw Error(q(280));var e=t.stateNode;e&&(e=wm(e),N4(t.stateNode,t.type,e))}}function tx(t){Zl?ec?ec.push(t):ec=[t]:Zl=t}function nx(){if(Zl){var t=Zl,e=ec;if(ec=Zl=null,X3(t),e)for(t=0;t<e.length;t++)X3(e[t])}}function rx(t,e){return t(e)}function ix(){}var D1=!1;function sx(t,e,n){if(D1)return t(e,n);D1=!0;try{return rx(t,e,n)}finally{D1=!1,(Zl!==null||ec!==null)&&(ix(),nx())}}function fd(t,e){var n=t.stateNode;if(n===null)return null;var r=wm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var O4=!1;if(Ds)try{var mu={};Object.defineProperty(mu,"passive",{get:function(){O4=!0}}),window.addEventListener("test",mu,mu),window.removeEventListener("test",mu,mu)}catch{O4=!1}function WN(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Hu=!1,xf=null,Sf=!1,I4=null,qN={onError:function(t){Hu=!0,xf=t}};function KN(t,e,n,r,i,s,o,a,l){Hu=!1,xf=null,WN.apply(qN,arguments)}function GN(t,e,n,r,i,s,o,a,l){if(KN.apply(this,arguments),Hu){if(Hu){var c=xf;Hu=!1,xf=null}else throw Error(q(198));Sf||(Sf=!0,I4=c)}}function fl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ox(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q3(t){if(fl(t)!==t)throw Error(q(188))}function JN(t){var e=t.alternate;if(!e){if(e=fl(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Q3(i),t;if(s===r)return Q3(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function ax(t){return t=JN(t),t!==null?lx(t):null}function lx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lx(t);if(e!==null)return e;t=t.sibling}return null}var cx=vr.unstable_scheduleCallback,Z3=vr.unstable_cancelCallback,YN=vr.unstable_shouldYield,XN=vr.unstable_requestPaint,jt=vr.unstable_now,QN=vr.unstable_getCurrentPriorityLevel,Qy=vr.unstable_ImmediatePriority,ux=vr.unstable_UserBlockingPriority,Cf=vr.unstable_NormalPriority,ZN=vr.unstable_LowPriority,dx=vr.unstable_IdlePriority,mm=null,Wi=null;function eO(t){if(Wi&&typeof Wi.onCommitFiberRoot=="function")try{Wi.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch{}}var li=Math.clz32?Math.clz32:rO,tO=Math.log,nO=Math.LN2;function rO(t){return t>>>=0,t===0?32:31-(tO(t)/nO|0)|0}var j0=64,F0=4194304;function Ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Ou(a):(s&=o,s!==0&&(r=Ou(s)))}else o=n&~i,o!==0?r=Ou(o):s!==0&&(r=Ou(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-li(e),i=1<<n,r|=t[n],e&=~i;return r}function iO(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sO(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-li(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iO(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function D4(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hx(){var t=j0;return j0<<=1,!(j0&4194240)&&(j0=64),t}function R1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function a0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-li(e),t[e]=n}function oO(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-li(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Zy(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-li(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Qe=0;function fx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var px,e2,mx,gx,vx,R4=!1,H0=[],Oo=null,Io=null,Do=null,pd=new Map,md=new Map,ho=[],aO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function e6(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Io=null;break;case"mouseover":case"mouseout":Do=null;break;case"pointerover":case"pointerout":pd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(e.pointerId)}}function gu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=c0(e),e!==null&&e2(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lO(t,e,n,r,i){switch(e){case"focusin":return Oo=gu(Oo,t,e,n,r,i),!0;case"dragenter":return Io=gu(Io,t,e,n,r,i),!0;case"mouseover":return Do=gu(Do,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,gu(pd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,gu(md.get(s)||null,t,e,n,r,i)),!0}return!1}function yx(t){var e=Ma(t.target);if(e!==null){var n=fl(e);if(n!==null){if(e=n.tag,e===13){if(e=ox(n),e!==null){t.blockedOn=e,vx(t.priority,function(){mx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ph(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_4(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);A4=r,n.target.dispatchEvent(r),A4=null}else return e=c0(n),e!==null&&e2(e),t.blockedOn=n,!1;e.shift()}return!0}function t6(t,e,n){Ph(t)&&n.delete(e)}function cO(){R4=!1,Oo!==null&&Ph(Oo)&&(Oo=null),Io!==null&&Ph(Io)&&(Io=null),Do!==null&&Ph(Do)&&(Do=null),pd.forEach(t6),md.forEach(t6)}function vu(t,e){t.blockedOn===e&&(t.blockedOn=null,R4||(R4=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,cO)))}function gd(t){function e(i){return vu(i,t)}if(0<H0.length){vu(H0[0],t);for(var n=1;n<H0.length;n++){var r=H0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oo!==null&&vu(Oo,t),Io!==null&&vu(Io,t),Do!==null&&vu(Do,t),pd.forEach(e),md.forEach(e),n=0;n<ho.length;n++)r=ho[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ho.length&&(n=ho[0],n.blockedOn===null);)yx(n),n.blockedOn===null&&ho.shift()}var tc=Vs.ReactCurrentBatchConfig,Tf=!0;function uO(t,e,n,r){var i=Qe,s=tc.transition;tc.transition=null;try{Qe=1,t2(t,e,n,r)}finally{Qe=i,tc.transition=s}}function dO(t,e,n,r){var i=Qe,s=tc.transition;tc.transition=null;try{Qe=4,t2(t,e,n,r)}finally{Qe=i,tc.transition=s}}function t2(t,e,n,r){if(Tf){var i=_4(t,e,n,r);if(i===null)V1(t,e,r,Mf,n),e6(t,r);else if(lO(i,t,e,n,r))r.stopPropagation();else if(e6(t,r),e&4&&-1<aO.indexOf(t)){for(;i!==null;){var s=c0(i);if(s!==null&&px(s),s=_4(t,e,n,r),s===null&&V1(t,e,r,Mf,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else V1(t,e,r,null,n)}}var Mf=null;function _4(t,e,n,r){if(Mf=null,t=Xy(r),t=Ma(t),t!==null)if(e=fl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ox(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Mf=t,null}function wx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QN()){case Qy:return 1;case ux:return 4;case Cf:case ZN:return 16;case dx:return 536870912;default:return 16}default:return 16}}var ko=null,n2=null,zh=null;function bx(){if(zh)return zh;var t,e=n2,n=e.length,r,i="value"in ko?ko.value:ko.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return zh=i.slice(t,1<r?1-r:void 0)}function Bh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $0(){return!0}function n6(){return!1}function kr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$0:n6,this.isPropagationStopped=n6,this}return Nt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$0)},persist:function(){},isPersistent:$0}),e}var qc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r2=kr(qc),l0=Nt({},qc,{view:0,detail:0}),hO=kr(l0),_1,L1,yu,gm=Nt({},l0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i2,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yu&&(yu&&t.type==="mousemove"?(_1=t.screenX-yu.screenX,L1=t.screenY-yu.screenY):L1=_1=0,yu=t),_1)},movementY:function(t){return"movementY"in t?t.movementY:L1}}),r6=kr(gm),fO=Nt({},gm,{dataTransfer:0}),pO=kr(fO),mO=Nt({},l0,{relatedTarget:0}),P1=kr(mO),gO=Nt({},qc,{animationName:0,elapsedTime:0,pseudoElement:0}),vO=kr(gO),yO=Nt({},qc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wO=kr(yO),bO=Nt({},qc,{data:0}),i6=kr(bO),kO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=SO[t])?!!e[t]:!1}function i2(){return CO}var EO=Nt({},l0,{key:function(t){if(t.key){var e=kO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Bh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?xO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i2,charCode:function(t){return t.type==="keypress"?Bh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Bh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),TO=kr(EO),MO=Nt({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),s6=kr(MO),AO=Nt({},l0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i2}),NO=kr(AO),OO=Nt({},qc,{propertyName:0,elapsedTime:0,pseudoElement:0}),IO=kr(OO),DO=Nt({},gm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RO=kr(DO),_O=[9,13,27,32],s2=Ds&&"CompositionEvent"in window,$u=null;Ds&&"documentMode"in document&&($u=document.documentMode);var LO=Ds&&"TextEvent"in window&&!$u,kx=Ds&&(!s2||$u&&8<$u&&11>=$u),o6=" ",a6=!1;function xx(t,e){switch(t){case"keyup":return _O.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bl=!1;function PO(t,e){switch(t){case"compositionend":return Sx(e);case"keypress":return e.which!==32?null:(a6=!0,o6);case"textInput":return t=e.data,t===o6&&a6?null:t;default:return null}}function zO(t,e){if(Bl)return t==="compositionend"||!s2&&xx(t,e)?(t=bx(),zh=n2=ko=null,Bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kx&&e.locale!=="ko"?null:e.data;default:return null}}var BO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BO[t.type]:e==="textarea"}function Cx(t,e,n,r){tx(r),e=Af(e,"onChange"),0<e.length&&(n=new r2("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Vu=null,vd=null;function jO(t){Lx(t,0)}function vm(t){var e=Hl(t);if(Gk(e))return t}function FO(t,e){if(t==="change")return e}var Ex=!1;if(Ds){var z1;if(Ds){var B1="oninput"in document;if(!B1){var c6=document.createElement("div");c6.setAttribute("oninput","return;"),B1=typeof c6.oninput=="function"}z1=B1}else z1=!1;Ex=z1&&(!document.documentMode||9<document.documentMode)}function u6(){Vu&&(Vu.detachEvent("onpropertychange",Tx),vd=Vu=null)}function Tx(t){if(t.propertyName==="value"&&vm(vd)){var e=[];Cx(e,vd,t,Xy(t)),sx(jO,e)}}function HO(t,e,n){t==="focusin"?(u6(),Vu=e,vd=n,Vu.attachEvent("onpropertychange",Tx)):t==="focusout"&&u6()}function $O(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vm(vd)}function VO(t,e){if(t==="click")return vm(e)}function UO(t,e){if(t==="input"||t==="change")return vm(e)}function WO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pi=typeof Object.is=="function"?Object.is:WO;function yd(t,e){if(pi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!g4.call(e,i)||!pi(t[i],e[i]))return!1}return!0}function d6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function h6(t,e){var n=d6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=d6(n)}}function Mx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Mx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ax(){for(var t=window,e=kf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kf(t.document)}return e}function o2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function qO(t){var e=Ax(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Mx(n.ownerDocument.documentElement,n)){if(r!==null&&o2(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=h6(n,s);var o=h6(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var KO=Ds&&"documentMode"in document&&11>=document.documentMode,jl=null,L4=null,Uu=null,P4=!1;function f6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;P4||jl==null||jl!==kf(r)||(r=jl,"selectionStart"in r&&o2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Uu&&yd(Uu,r)||(Uu=r,r=Af(L4,"onSelect"),0<r.length&&(e=new r2("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=jl)))}function V0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fl={animationend:V0("Animation","AnimationEnd"),animationiteration:V0("Animation","AnimationIteration"),animationstart:V0("Animation","AnimationStart"),transitionend:V0("Transition","TransitionEnd")},j1={},Nx={};Ds&&(Nx=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function ym(t){if(j1[t])return j1[t];if(!Fl[t])return t;var e=Fl[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Nx)return j1[t]=e[n];return t}var Ox=ym("animationend"),Ix=ym("animationiteration"),Dx=ym("animationstart"),Rx=ym("transitionend"),_x=new Map,p6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zo(t,e){_x.set(t,e),hl(e,[t])}for(var F1=0;F1<p6.length;F1++){var H1=p6[F1],GO=H1.toLowerCase(),JO=H1[0].toUpperCase()+H1.slice(1);Zo(GO,"on"+JO)}Zo(Ox,"onAnimationEnd");Zo(Ix,"onAnimationIteration");Zo(Dx,"onAnimationStart");Zo("dblclick","onDoubleClick");Zo("focusin","onFocus");Zo("focusout","onBlur");Zo(Rx,"onTransitionEnd");vc("onMouseEnter",["mouseout","mouseover"]);vc("onMouseLeave",["mouseout","mouseover"]);vc("onPointerEnter",["pointerout","pointerover"]);vc("onPointerLeave",["pointerout","pointerover"]);hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YO=new Set("cancel close invalid load scroll toggle".split(" ").concat(Iu));function m6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,GN(r,e,void 0,t),t.currentTarget=null}function Lx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;m6(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;m6(i,a,c),s=l}}}if(Sf)throw t=I4,Sf=!1,I4=null,t}function ft(t,e){var n=e[H4];n===void 0&&(n=e[H4]=new Set);var r=t+"__bubble";n.has(r)||(Px(e,t,2,!1),n.add(r))}function $1(t,e,n){var r=0;e&&(r|=4),Px(n,t,r,e)}var U0="_reactListening"+Math.random().toString(36).slice(2);function wd(t){if(!t[U0]){t[U0]=!0,Vk.forEach(function(n){n!=="selectionchange"&&(YO.has(n)||$1(n,!1,t),$1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[U0]||(e[U0]=!0,$1("selectionchange",!1,e))}}function Px(t,e,n,r){switch(wx(e)){case 1:var i=uO;break;case 4:i=dO;break;default:i=t2}n=i.bind(null,e,n,t),i=void 0,!O4||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function V1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ma(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}sx(function(){var c=s,u=Xy(n),d=[];e:{var h=_x.get(t);if(h!==void 0){var f=r2,p=t;switch(t){case"keypress":if(Bh(n)===0)break e;case"keydown":case"keyup":f=TO;break;case"focusin":p="focus",f=P1;break;case"focusout":p="blur",f=P1;break;case"beforeblur":case"afterblur":f=P1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=r6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=pO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=NO;break;case Ox:case Ix:case Dx:f=vO;break;case Rx:f=IO;break;case"scroll":f=hO;break;case"wheel":f=RO;break;case"copy":case"cut":case"paste":f=wO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=s6}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var k=c,E;k!==null;){E=k;var S=E.stateNode;if(E.tag===5&&S!==null&&(E=S,v!==null&&(S=fd(k,v),S!=null&&g.push(bd(k,S,E)))),w)break;k=k.return}0<g.length&&(h=new f(h,p,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==A4&&(p=n.relatedTarget||n.fromElement)&&(Ma(p)||p[Rs]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=c,p=p?Ma(p):null,p!==null&&(w=fl(p),p!==w||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(g=r6,S="onMouseLeave",v="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(g=s6,S="onPointerLeave",v="onPointerEnter",k="pointer"),w=f==null?h:Hl(f),E=p==null?h:Hl(p),h=new g(S,k+"leave",f,n,u),h.target=w,h.relatedTarget=E,S=null,Ma(u)===c&&(g=new g(v,k+"enter",p,n,u),g.target=E,g.relatedTarget=w,S=g),w=S,f&&p)t:{for(g=f,v=p,k=0,E=g;E;E=Cl(E))k++;for(E=0,S=v;S;S=Cl(S))E++;for(;0<k-E;)g=Cl(g),k--;for(;0<E-k;)v=Cl(v),E--;for(;k--;){if(g===v||v!==null&&g===v.alternate)break t;g=Cl(g),v=Cl(v)}g=null}else g=null;f!==null&&g6(d,h,f,g,!1),p!==null&&w!==null&&g6(d,w,p,g,!0)}}e:{if(h=c?Hl(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var N=FO;else if(l6(h))if(Ex)N=UO;else{N=$O;var b=HO}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=VO);if(N&&(N=N(t,c))){Cx(d,N,n,u);break e}b&&b(t,h,c),t==="focusout"&&(b=h._wrapperState)&&b.controlled&&h.type==="number"&&S4(h,"number",h.value)}switch(b=c?Hl(c):window,t){case"focusin":(l6(b)||b.contentEditable==="true")&&(jl=b,L4=c,Uu=null);break;case"focusout":Uu=L4=jl=null;break;case"mousedown":P4=!0;break;case"contextmenu":case"mouseup":case"dragend":P4=!1,f6(d,n,u);break;case"selectionchange":if(KO)break;case"keydown":case"keyup":f6(d,n,u)}var M;if(s2)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Bl?xx(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(kx&&n.locale!=="ko"&&(Bl||I!=="onCompositionStart"?I==="onCompositionEnd"&&Bl&&(M=bx()):(ko=u,n2="value"in ko?ko.value:ko.textContent,Bl=!0)),b=Af(c,I),0<b.length&&(I=new i6(I,t,null,n,u),d.push({event:I,listeners:b}),M?I.data=M:(M=Sx(n),M!==null&&(I.data=M)))),(M=LO?PO(t,n):zO(t,n))&&(c=Af(c,"onBeforeInput"),0<c.length&&(u=new i6("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}Lx(d,e)})}function bd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Af(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=fd(t,n),s!=null&&r.unshift(bd(t,s,i)),s=fd(t,e),s!=null&&r.push(bd(t,s,i))),t=t.return}return r}function Cl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function g6(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=fd(n,s),l!=null&&o.unshift(bd(n,l,a))):i||(l=fd(n,s),l!=null&&o.push(bd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var XO=/\r\n?/g,QO=/\u0000|\uFFFD/g;function v6(t){return(typeof t=="string"?t:""+t).replace(XO,`
`).replace(QO,"")}function W0(t,e,n){if(e=v6(e),v6(t)!==e&&n)throw Error(q(425))}function Nf(){}var z4=null,B4=null;function j4(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var F4=typeof setTimeout=="function"?setTimeout:void 0,ZO=typeof clearTimeout=="function"?clearTimeout:void 0,y6=typeof Promise=="function"?Promise:void 0,eI=typeof queueMicrotask=="function"?queueMicrotask:typeof y6<"u"?function(t){return y6.resolve(null).then(t).catch(tI)}:F4;function tI(t){setTimeout(function(){throw t})}function U1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gd(e)}function Ro(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function w6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kc=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Kc,kd="__reactProps$"+Kc,Rs="__reactContainer$"+Kc,H4="__reactEvents$"+Kc,nI="__reactListeners$"+Kc,rI="__reactHandles$"+Kc;function Ma(t){var e=t[Fi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rs]||n[Fi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=w6(t);t!==null;){if(n=t[Fi])return n;t=w6(t)}return e}t=n,n=t.parentNode}return null}function c0(t){return t=t[Fi]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function wm(t){return t[kd]||null}var $4=[],$l=-1;function ea(t){return{current:t}}function mt(t){0>$l||(t.current=$4[$l],$4[$l]=null,$l--)}function ut(t,e){$l++,$4[$l]=t.current,t.current=e}var Uo={},Mn=ea(Uo),Qn=ea(!1),Ga=Uo;function yc(t,e){var n=t.type.contextTypes;if(!n)return Uo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zn(t){return t=t.childContextTypes,t!=null}function Of(){mt(Qn),mt(Mn)}function b6(t,e,n){if(Mn.current!==Uo)throw Error(q(168));ut(Mn,e),ut(Qn,n)}function zx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,HN(t)||"Unknown",i));return Nt({},n,r)}function If(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uo,Ga=Mn.current,ut(Mn,t),ut(Qn,Qn.current),!0}function k6(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=zx(t,e,Ga),r.__reactInternalMemoizedMergedChildContext=t,mt(Qn),mt(Mn),ut(Mn,t)):mt(Qn),ut(Qn,n)}var gs=null,bm=!1,W1=!1;function Bx(t){gs===null?gs=[t]:gs.push(t)}function iI(t){bm=!0,Bx(t)}function ta(){if(!W1&&gs!==null){W1=!0;var t=0,e=Qe;try{var n=gs;for(Qe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gs=null,bm=!1}catch(i){throw gs!==null&&(gs=gs.slice(t+1)),cx(Qy,ta),i}finally{Qe=e,W1=!1}}return null}var Vl=[],Ul=0,Df=null,Rf=0,Nr=[],Or=0,Ja=null,ys=1,ws="";function ya(t,e){Vl[Ul++]=Rf,Vl[Ul++]=Df,Df=t,Rf=e}function jx(t,e,n){Nr[Or++]=ys,Nr[Or++]=ws,Nr[Or++]=Ja,Ja=t;var r=ys;t=ws;var i=32-li(r)-1;r&=~(1<<i),n+=1;var s=32-li(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ys=1<<32-li(e)+i|n<<i|r,ws=s+t}else ys=1<<s|n<<i|r,ws=t}function a2(t){t.return!==null&&(ya(t,1),jx(t,1,0))}function l2(t){for(;t===Df;)Df=Vl[--Ul],Vl[Ul]=null,Rf=Vl[--Ul],Vl[Ul]=null;for(;t===Ja;)Ja=Nr[--Or],Nr[Or]=null,ws=Nr[--Or],Nr[Or]=null,ys=Nr[--Or],Nr[Or]=null}var pr=null,fr=null,bt=!1,ri=null;function Fx(t,e){var n=_r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function x6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pr=t,fr=Ro(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ja!==null?{id:ys,overflow:ws}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pr=t,fr=null,!0):!1;default:return!1}}function V4(t){return(t.mode&1)!==0&&(t.flags&128)===0}function U4(t){if(bt){var e=fr;if(e){var n=e;if(!x6(t,e)){if(V4(t))throw Error(q(418));e=Ro(n.nextSibling);var r=pr;e&&x6(t,e)?Fx(r,n):(t.flags=t.flags&-4097|2,bt=!1,pr=t)}}else{if(V4(t))throw Error(q(418));t.flags=t.flags&-4097|2,bt=!1,pr=t}}}function S6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pr=t}function q0(t){if(t!==pr)return!1;if(!bt)return S6(t),bt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!j4(t.type,t.memoizedProps)),e&&(e=fr)){if(V4(t))throw Hx(),Error(q(418));for(;e;)Fx(t,e),e=Ro(e.nextSibling)}if(S6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=Ro(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=pr?Ro(t.stateNode.nextSibling):null;return!0}function Hx(){for(var t=fr;t;)t=Ro(t.nextSibling)}function wc(){fr=pr=null,bt=!1}function c2(t){ri===null?ri=[t]:ri.push(t)}var sI=Vs.ReactCurrentBatchConfig;function wu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function K0(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C6(t){var e=t._init;return e(t._payload)}function $x(t){function e(v,k){if(t){var E=v.deletions;E===null?(v.deletions=[k],v.flags|=16):E.push(k)}}function n(v,k){if(!t)return null;for(;k!==null;)e(v,k),k=k.sibling;return null}function r(v,k){for(v=new Map;k!==null;)k.key!==null?v.set(k.key,k):v.set(k.index,k),k=k.sibling;return v}function i(v,k){return v=zo(v,k),v.index=0,v.sibling=null,v}function s(v,k,E){return v.index=E,t?(E=v.alternate,E!==null?(E=E.index,E<k?(v.flags|=2,k):E):(v.flags|=2,k)):(v.flags|=1048576,k)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,k,E,S){return k===null||k.tag!==6?(k=Q1(E,v.mode,S),k.return=v,k):(k=i(k,E),k.return=v,k)}function l(v,k,E,S){var N=E.type;return N===zl?u(v,k,E.props.children,S,E.key):k!==null&&(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===oo&&C6(N)===k.type)?(S=i(k,E.props),S.ref=wu(v,k,E),S.return=v,S):(S=Wh(E.type,E.key,E.props,null,v.mode,S),S.ref=wu(v,k,E),S.return=v,S)}function c(v,k,E,S){return k===null||k.tag!==4||k.stateNode.containerInfo!==E.containerInfo||k.stateNode.implementation!==E.implementation?(k=Z1(E,v.mode,S),k.return=v,k):(k=i(k,E.children||[]),k.return=v,k)}function u(v,k,E,S,N){return k===null||k.tag!==7?(k=za(E,v.mode,S,N),k.return=v,k):(k=i(k,E),k.return=v,k)}function d(v,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Q1(""+k,v.mode,E),k.return=v,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case P0:return E=Wh(k.type,k.key,k.props,null,v.mode,E),E.ref=wu(v,null,k),E.return=v,E;case Pl:return k=Z1(k,v.mode,E),k.return=v,k;case oo:var S=k._init;return d(v,S(k._payload),E)}if(Nu(k)||pu(k))return k=za(k,v.mode,E,null),k.return=v,k;K0(v,k)}return null}function h(v,k,E,S){var N=k!==null?k.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return N!==null?null:a(v,k,""+E,S);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case P0:return E.key===N?l(v,k,E,S):null;case Pl:return E.key===N?c(v,k,E,S):null;case oo:return N=E._init,h(v,k,N(E._payload),S)}if(Nu(E)||pu(E))return N!==null?null:u(v,k,E,S,null);K0(v,E)}return null}function f(v,k,E,S,N){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(E)||null,a(k,v,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case P0:return v=v.get(S.key===null?E:S.key)||null,l(k,v,S,N);case Pl:return v=v.get(S.key===null?E:S.key)||null,c(k,v,S,N);case oo:var b=S._init;return f(v,k,E,b(S._payload),N)}if(Nu(S)||pu(S))return v=v.get(E)||null,u(k,v,S,N,null);K0(k,S)}return null}function p(v,k,E,S){for(var N=null,b=null,M=k,I=k=0,_=null;M!==null&&I<E.length;I++){M.index>I?(_=M,M=null):_=M.sibling;var F=h(v,M,E[I],S);if(F===null){M===null&&(M=_);break}t&&M&&F.alternate===null&&e(v,M),k=s(F,k,I),b===null?N=F:b.sibling=F,b=F,M=_}if(I===E.length)return n(v,M),bt&&ya(v,I),N;if(M===null){for(;I<E.length;I++)M=d(v,E[I],S),M!==null&&(k=s(M,k,I),b===null?N=M:b.sibling=M,b=M);return bt&&ya(v,I),N}for(M=r(v,M);I<E.length;I++)_=f(M,v,I,E[I],S),_!==null&&(t&&_.alternate!==null&&M.delete(_.key===null?I:_.key),k=s(_,k,I),b===null?N=_:b.sibling=_,b=_);return t&&M.forEach(function(G){return e(v,G)}),bt&&ya(v,I),N}function g(v,k,E,S){var N=pu(E);if(typeof N!="function")throw Error(q(150));if(E=N.call(E),E==null)throw Error(q(151));for(var b=N=null,M=k,I=k=0,_=null,F=E.next();M!==null&&!F.done;I++,F=E.next()){M.index>I?(_=M,M=null):_=M.sibling;var G=h(v,M,F.value,S);if(G===null){M===null&&(M=_);break}t&&M&&G.alternate===null&&e(v,M),k=s(G,k,I),b===null?N=G:b.sibling=G,b=G,M=_}if(F.done)return n(v,M),bt&&ya(v,I),N;if(M===null){for(;!F.done;I++,F=E.next())F=d(v,F.value,S),F!==null&&(k=s(F,k,I),b===null?N=F:b.sibling=F,b=F);return bt&&ya(v,I),N}for(M=r(v,M);!F.done;I++,F=E.next())F=f(M,v,I,F.value,S),F!==null&&(t&&F.alternate!==null&&M.delete(F.key===null?I:F.key),k=s(F,k,I),b===null?N=F:b.sibling=F,b=F);return t&&M.forEach(function(Q){return e(v,Q)}),bt&&ya(v,I),N}function w(v,k,E,S){if(typeof E=="object"&&E!==null&&E.type===zl&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case P0:e:{for(var N=E.key,b=k;b!==null;){if(b.key===N){if(N=E.type,N===zl){if(b.tag===7){n(v,b.sibling),k=i(b,E.props.children),k.return=v,v=k;break e}}else if(b.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===oo&&C6(N)===b.type){n(v,b.sibling),k=i(b,E.props),k.ref=wu(v,b,E),k.return=v,v=k;break e}n(v,b);break}else e(v,b);b=b.sibling}E.type===zl?(k=za(E.props.children,v.mode,S,E.key),k.return=v,v=k):(S=Wh(E.type,E.key,E.props,null,v.mode,S),S.ref=wu(v,k,E),S.return=v,v=S)}return o(v);case Pl:e:{for(b=E.key;k!==null;){if(k.key===b)if(k.tag===4&&k.stateNode.containerInfo===E.containerInfo&&k.stateNode.implementation===E.implementation){n(v,k.sibling),k=i(k,E.children||[]),k.return=v,v=k;break e}else{n(v,k);break}else e(v,k);k=k.sibling}k=Z1(E,v.mode,S),k.return=v,v=k}return o(v);case oo:return b=E._init,w(v,k,b(E._payload),S)}if(Nu(E))return p(v,k,E,S);if(pu(E))return g(v,k,E,S);K0(v,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,k!==null&&k.tag===6?(n(v,k.sibling),k=i(k,E),k.return=v,v=k):(n(v,k),k=Q1(E,v.mode,S),k.return=v,v=k),o(v)):n(v,k)}return w}var bc=$x(!0),Vx=$x(!1),_f=ea(null),Lf=null,Wl=null,u2=null;function d2(){u2=Wl=Lf=null}function h2(t){var e=_f.current;mt(_f),t._currentValue=e}function W4(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function nc(t,e){Lf=t,u2=Wl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function Fr(t){var e=t._currentValue;if(u2!==t)if(t={context:t,memoizedValue:e,next:null},Wl===null){if(Lf===null)throw Error(q(308));Wl=t,Lf.dependencies={lanes:0,firstContext:t}}else Wl=Wl.next=t;return e}var Aa=null;function f2(t){Aa===null?Aa=[t]:Aa.push(t)}function Ux(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,f2(e)):(n.next=i.next,i.next=n),e.interleaved=n,_s(t,r)}function _s(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ao=!1;function p2(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Wx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _o(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_s(t,n)}return i=r.interleaved,i===null?(e.next=e,f2(r)):(e.next=i.next,i.next=e),r.interleaved=e,_s(t,n)}function jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}function E6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pf(t,e,n,r){var i=t.updateQueue;ao=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,u=c=l=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,g=a;switch(h=e,f=n,g.tag){case 1:if(p=g.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=g.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=Nt({},d,h);break e;case 2:ao=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xa|=o,t.lanes=o,t.memoizedState=d}}function T6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var u0={},qi=ea(u0),xd=ea(u0),Sd=ea(u0);function Na(t){if(t===u0)throw Error(q(174));return t}function m2(t,e){switch(ut(Sd,e),ut(xd,t),ut(qi,u0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:E4(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=E4(e,t)}mt(qi),ut(qi,e)}function kc(){mt(qi),mt(xd),mt(Sd)}function qx(t){Na(Sd.current);var e=Na(qi.current),n=E4(e,t.type);e!==n&&(ut(xd,t),ut(qi,n))}function g2(t){xd.current===t&&(mt(qi),mt(xd))}var Et=ea(0);function zf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var q1=[];function v2(){for(var t=0;t<q1.length;t++)q1[t]._workInProgressVersionPrimary=null;q1.length=0}var Fh=Vs.ReactCurrentDispatcher,K1=Vs.ReactCurrentBatchConfig,Ya=0,At=null,Xt=null,rn=null,Bf=!1,Wu=!1,Cd=0,oI=0;function bn(){throw Error(q(321))}function y2(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pi(t[n],e[n]))return!1;return!0}function w2(t,e,n,r,i,s){if(Ya=s,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fh.current=t===null||t.memoizedState===null?uI:dI,t=n(r,i),Wu){s=0;do{if(Wu=!1,Cd=0,25<=s)throw Error(q(301));s+=1,rn=Xt=null,e.updateQueue=null,Fh.current=hI,t=n(r,i)}while(Wu)}if(Fh.current=jf,e=Xt!==null&&Xt.next!==null,Ya=0,rn=Xt=At=null,Bf=!1,e)throw Error(q(300));return t}function b2(){var t=Cd!==0;return Cd=0,t}function Ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rn===null?At.memoizedState=rn=t:rn=rn.next=t,rn}function Hr(){if(Xt===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=rn===null?At.memoizedState:rn.next;if(e!==null)rn=e,Xt=t;else{if(t===null)throw Error(q(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},rn===null?At.memoizedState=rn=t:rn=rn.next=t}return rn}function Ed(t,e){return typeof e=="function"?e(t):e}function G1(t){var e=Hr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Ya&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,At.lanes|=u,Xa|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,pi(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,At.lanes|=s,Xa|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function J1(t){var e=Hr(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pi(s,e.memoizedState)||(Yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Kx(){}function Gx(t,e){var n=At,r=Hr(),i=e(),s=!pi(r.memoizedState,i);if(s&&(r.memoizedState=i,Yn=!0),r=r.queue,k2(Xx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||rn!==null&&rn.memoizedState.tag&1){if(n.flags|=2048,Td(9,Yx.bind(null,n,r,i,e),void 0,null),an===null)throw Error(q(349));Ya&30||Jx(n,e,i)}return i}function Jx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yx(t,e,n,r){e.value=n,e.getSnapshot=r,Qx(e)&&Zx(t)}function Xx(t,e,n){return n(function(){Qx(e)&&Zx(t)})}function Qx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pi(t,n)}catch{return!0}}function Zx(t){var e=_s(t,1);e!==null&&ci(e,t,1,-1)}function M6(t){var e=Ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:t},e.queue=t,t=t.dispatch=cI.bind(null,At,t),[e.memoizedState,t]}function Td(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function eS(){return Hr().memoizedState}function Hh(t,e,n,r){var i=Ri();At.flags|=t,i.memoizedState=Td(1|e,n,void 0,r===void 0?null:r)}function km(t,e,n,r){var i=Hr();r=r===void 0?null:r;var s=void 0;if(Xt!==null){var o=Xt.memoizedState;if(s=o.destroy,r!==null&&y2(r,o.deps)){i.memoizedState=Td(e,n,s,r);return}}At.flags|=t,i.memoizedState=Td(1|e,n,s,r)}function A6(t,e){return Hh(8390656,8,t,e)}function k2(t,e){return km(2048,8,t,e)}function tS(t,e){return km(4,2,t,e)}function nS(t,e){return km(4,4,t,e)}function rS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iS(t,e,n){return n=n!=null?n.concat([t]):null,km(4,4,rS.bind(null,e,t),n)}function x2(){}function sS(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y2(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oS(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&y2(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function aS(t,e,n){return Ya&21?(pi(n,e)||(n=hx(),At.lanes|=n,Xa|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function aI(t,e){var n=Qe;Qe=n!==0&&4>n?n:4,t(!0);var r=K1.transition;K1.transition={};try{t(!1),e()}finally{Qe=n,K1.transition=r}}function lS(){return Hr().memoizedState}function lI(t,e,n){var r=Po(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cS(t))uS(e,n);else if(n=Ux(t,e,n,r),n!==null){var i=Pn();ci(n,t,r,i),dS(n,e,r)}}function cI(t,e,n){var r=Po(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cS(t))uS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pi(a,o)){var l=e.interleaved;l===null?(i.next=i,f2(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Ux(t,e,i,r),n!==null&&(i=Pn(),ci(n,t,r,i),dS(n,e,r))}}function cS(t){var e=t.alternate;return t===At||e!==null&&e===At}function uS(t,e){Wu=Bf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function dS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Zy(t,n)}}var jf={readContext:Fr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},uI={readContext:Fr,useCallback:function(t,e){return Ri().memoizedState=[t,e===void 0?null:e],t},useContext:Fr,useEffect:A6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hh(4194308,4,rS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var n=Ri();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ri();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lI.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=Ri();return t={current:t},e.memoizedState=t},useState:M6,useDebugValue:x2,useDeferredValue:function(t){return Ri().memoizedState=t},useTransition:function(){var t=M6(!1),e=t[0];return t=aI.bind(null,t[1]),Ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=Ri();if(bt){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),an===null)throw Error(q(349));Ya&30||Jx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,A6(Xx.bind(null,r,s,t),[t]),r.flags|=2048,Td(9,Yx.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ri(),e=an.identifierPrefix;if(bt){var n=ws,r=ys;n=(r&~(1<<32-li(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dI={readContext:Fr,useCallback:sS,useContext:Fr,useEffect:k2,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:oS,useReducer:G1,useRef:eS,useState:function(){return G1(Ed)},useDebugValue:x2,useDeferredValue:function(t){var e=Hr();return aS(e,Xt.memoizedState,t)},useTransition:function(){var t=G1(Ed)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Gx,useId:lS,unstable_isNewReconciler:!1},hI={readContext:Fr,useCallback:sS,useContext:Fr,useEffect:k2,useImperativeHandle:iS,useInsertionEffect:tS,useLayoutEffect:nS,useMemo:oS,useReducer:J1,useRef:eS,useState:function(){return J1(Ed)},useDebugValue:x2,useDeferredValue:function(t){var e=Hr();return Xt===null?e.memoizedState=t:aS(e,Xt.memoizedState,t)},useTransition:function(){var t=J1(Ed)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:Kx,useSyncExternalStore:Gx,useId:lS,unstable_isNewReconciler:!1};function Zr(t,e){if(t&&t.defaultProps){e=Nt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function q4(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Nt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xm={isMounted:function(t){return(t=t._reactInternals)?fl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Po(t),s=Cs(r,i);s.payload=e,n!=null&&(s.callback=n),e=_o(t,s,i),e!==null&&(ci(e,t,i,r),jh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pn(),i=Po(t),s=Cs(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_o(t,s,i),e!==null&&(ci(e,t,i,r),jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pn(),r=Po(t),i=Cs(n,r);i.tag=2,e!=null&&(i.callback=e),e=_o(t,i,r),e!==null&&(ci(e,t,r,n),jh(e,t,r))}};function N6(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!yd(n,r)||!yd(i,s):!0}function hS(t,e,n){var r=!1,i=Uo,s=e.contextType;return typeof s=="object"&&s!==null?s=Fr(s):(i=Zn(e)?Ga:Mn.current,r=e.contextTypes,s=(r=r!=null)?yc(t,i):Uo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function K4(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},p2(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fr(s):(s=Zn(e)?Ga:Mn.current,i.context=yc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(q4(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xm.enqueueReplaceState(i,i.state,null),Pf(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xc(t,e){try{var n="",r=e;do n+=FN(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Y1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function G4(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fI=typeof WeakMap=="function"?WeakMap:Map;function fS(t,e,n){n=Cs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Hf||(Hf=!0,iv=r),G4(t,e)},n}function pS(t,e,n){n=Cs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){G4(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){G4(t,e),typeof r!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function I6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MI.bind(null,t,e,n),e.then(t,t))}function D6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function R6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cs(-1,1),e.tag=2,_o(n,e,1))),n.lanes|=1),t)}var pI=Vs.ReactCurrentOwner,Yn=!1;function Rn(t,e,n,r){e.child=t===null?Vx(e,null,n,r):bc(e,t.child,n,r)}function _6(t,e,n,r,i){n=n.render;var s=e.ref;return nc(e,i),r=w2(t,e,n,r,s,i),n=b2(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(bt&&n&&a2(e),e.flags|=1,Rn(t,e,r,i),e.child)}function L6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!O2(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mS(t,e,s,r,i)):(t=Wh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:yd,n(o,r)&&t.ref===e.ref)return Ls(t,e,i)}return e.flags|=1,t=zo(s,r),t.ref=e.ref,t.return=e,e.child=t}function mS(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(yd(s,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,Ls(t,e,i)}return J4(t,e,n,r,i)}function gS(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ut(Kl,lr),lr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ut(Kl,lr),lr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ut(Kl,lr),lr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ut(Kl,lr),lr|=r;return Rn(t,e,i,n),e.child}function vS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function J4(t,e,n,r,i){var s=Zn(n)?Ga:Mn.current;return s=yc(e,s),nc(e,i),n=w2(t,e,n,r,s,i),r=b2(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ls(t,e,i)):(bt&&r&&a2(e),e.flags|=1,Rn(t,e,n,i),e.child)}function P6(t,e,n,r,i){if(Zn(n)){var s=!0;If(e)}else s=!1;if(nc(e,i),e.stateNode===null)$h(t,e),hS(e,n,r),K4(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fr(c):(c=Zn(n)?Ga:Mn.current,c=yc(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&O6(e,o,r,c),ao=!1;var h=e.memoizedState;o.state=h,Pf(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Qn.current||ao?(typeof u=="function"&&(q4(e,n,u,r),l=e.memoizedState),(a=ao||N6(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Wx(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Zr(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fr(l):(l=Zn(n)?Ga:Mn.current,l=yc(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&O6(e,o,r,l),ao=!1,h=e.memoizedState,o.state=h,Pf(e,r,o,i);var p=e.memoizedState;a!==d||h!==p||Qn.current||ao?(typeof f=="function"&&(q4(e,n,f,r),p=e.memoizedState),(c=ao||N6(e,n,c,r,h,p,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Y4(t,e,n,r,s,i)}function Y4(t,e,n,r,i,s){vS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&k6(e,n,!1),Ls(t,e,s);r=e.stateNode,pI.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=bc(e,t.child,null,s),e.child=bc(e,null,a,s)):Rn(t,e,a,s),e.memoizedState=r.state,i&&k6(e,n,!0),e.child}function yS(t){var e=t.stateNode;e.pendingContext?b6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b6(t,e.context,!1),m2(t,e.containerInfo)}function z6(t,e,n,r,i){return wc(),c2(i),e.flags|=256,Rn(t,e,n,r),e.child}var X4={dehydrated:null,treeContext:null,retryLane:0};function Q4(t){return{baseLanes:t,cachePool:null,transitions:null}}function wS(t,e,n){var r=e.pendingProps,i=Et.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ut(Et,i&1),t===null)return U4(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Em(o,r,0,null),t=za(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Q4(n),e.memoizedState=X4,t):S2(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mI(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=zo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=zo(a,s):(s=za(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Q4(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=X4,r}return s=t.child,t=s.sibling,r=zo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function S2(t,e){return e=Em({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function G0(t,e,n,r){return r!==null&&c2(r),bc(e,t.child,null,n),t=S2(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mI(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Y1(Error(q(422))),G0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Em({mode:"visible",children:r.children},i,0,null),s=za(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&bc(e,t.child,null,o),e.child.memoizedState=Q4(o),e.memoizedState=X4,s);if(!(e.mode&1))return G0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Y1(s,r,void 0),G0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Yn||a){if(r=an,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,_s(t,i),ci(r,t,i,-1))}return N2(),r=Y1(Error(q(421))),G0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,fr=Ro(i.nextSibling),pr=e,bt=!0,ri=null,t!==null&&(Nr[Or++]=ys,Nr[Or++]=ws,Nr[Or++]=Ja,ys=t.id,ws=t.overflow,Ja=e),e=S2(e,r.children),e.flags|=4096,e)}function B6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),W4(t.return,e,n)}function X1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function bS(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Rn(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B6(t,n,e);else if(t.tag===19)B6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ut(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&zf(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),X1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&zf(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}X1(e,!0,n,null,s);break;case"together":X1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ls(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Xa|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=zo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gI(t,e,n){switch(e.tag){case 3:yS(e),wc();break;case 5:qx(e);break;case 1:Zn(e.type)&&If(e);break;case 4:m2(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ut(_f,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ut(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?wS(t,e,n):(ut(Et,Et.current&1),t=Ls(t,e,n),t!==null?t.sibling:null);ut(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bS(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ut(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,gS(t,e,n)}return Ls(t,e,n)}var kS,Z4,xS,SS;kS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Z4=function(){};xS=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Na(qi.current);var s=null;switch(n){case"input":i=k4(t,i),r=k4(t,r),s=[];break;case"select":i=Nt({},i,{value:void 0}),r=Nt({},r,{value:void 0}),s=[];break;case"textarea":i=C4(t,i),r=C4(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Nf)}T4(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(dd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(dd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ft("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SS=function(t,e,n,r){n!==r&&(e.flags|=4)};function bu(t,e){if(!bt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function kn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function vI(t,e,n){var r=e.pendingProps;switch(l2(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kn(e),null;case 1:return Zn(e.type)&&Of(),kn(e),null;case 3:return r=e.stateNode,kc(),mt(Qn),mt(Mn),v2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(q0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ri!==null&&(av(ri),ri=null))),Z4(t,e),kn(e),null;case 5:g2(e);var i=Na(Sd.current);if(n=e.type,t!==null&&e.stateNode!=null)xS(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return kn(e),null}if(t=Na(qi.current),q0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Fi]=e,r[kd]=s,t=(e.mode&1)!==0,n){case"dialog":ft("cancel",r),ft("close",r);break;case"iframe":case"object":case"embed":ft("load",r);break;case"video":case"audio":for(i=0;i<Iu.length;i++)ft(Iu[i],r);break;case"source":ft("error",r);break;case"img":case"image":case"link":ft("error",r),ft("load",r);break;case"details":ft("toggle",r);break;case"input":K3(r,s),ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ft("invalid",r);break;case"textarea":J3(r,s),ft("invalid",r)}T4(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&W0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&W0(r.textContent,a,t),i=["children",""+a]):dd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ft("scroll",r)}switch(n){case"input":z0(r),G3(r,s,!0);break;case"textarea":z0(r),Y3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Nf)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xk(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Fi]=e,t[kd]=r,kS(t,e,!1,!1),e.stateNode=t;e:{switch(o=M4(n,r),n){case"dialog":ft("cancel",t),ft("close",t),i=r;break;case"iframe":case"object":case"embed":ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<Iu.length;i++)ft(Iu[i],t);i=r;break;case"source":ft("error",t),i=r;break;case"img":case"image":case"link":ft("error",t),ft("load",t),i=r;break;case"details":ft("toggle",t),i=r;break;case"input":K3(t,r),i=k4(t,r),ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Nt({},r,{value:void 0}),ft("invalid",t);break;case"textarea":J3(t,r),i=C4(t,r),ft("invalid",t);break;default:i=r}T4(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?ex(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Qk(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&hd(t,l):typeof l=="number"&&hd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&ft("scroll",t):l!=null&&Ky(t,s,l,o))}switch(n){case"input":z0(t),G3(t,r,!1);break;case"textarea":z0(t),Y3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Vo(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ql(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ql(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Nf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kn(e),null;case 6:if(t&&e.stateNode!=null)SS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Na(Sd.current),Na(qi.current),q0(e)){if(r=e.stateNode,n=e.memoizedProps,r[Fi]=e,(s=r.nodeValue!==n)&&(t=pr,t!==null))switch(t.tag){case 3:W0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&W0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fi]=e,e.stateNode=r}return kn(e),null;case 13:if(mt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(bt&&fr!==null&&e.mode&1&&!(e.flags&128))Hx(),wc(),e.flags|=98560,s=!1;else if(s=q0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Fi]=e}else wc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kn(e),s=!1}else ri!==null&&(av(ri),ri=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?Qt===0&&(Qt=3):N2())),e.updateQueue!==null&&(e.flags|=4),kn(e),null);case 4:return kc(),Z4(t,e),t===null&&wd(e.stateNode.containerInfo),kn(e),null;case 10:return h2(e.type._context),kn(e),null;case 17:return Zn(e.type)&&Of(),kn(e),null;case 19:if(mt(Et),s=e.memoizedState,s===null)return kn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)bu(s,!1);else{if(Qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zf(t),o!==null){for(e.flags|=128,bu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ut(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&jt()>Sc&&(e.flags|=128,r=!0,bu(s,!1),e.lanes=4194304)}else{if(!r)if(t=zf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),bu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!bt)return kn(e),null}else 2*jt()-s.renderingStartTime>Sc&&n!==1073741824&&(e.flags|=128,r=!0,bu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=jt(),e.sibling=null,n=Et.current,ut(Et,r?n&1|2:n&1),e):(kn(e),null);case 22:case 23:return A2(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lr&1073741824&&(kn(e),e.subtreeFlags&6&&(e.flags|=8192)):kn(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function yI(t,e){switch(l2(e),e.tag){case 1:return Zn(e.type)&&Of(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return kc(),mt(Qn),mt(Mn),v2(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g2(e),null;case 13:if(mt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));wc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mt(Et),null;case 4:return kc(),null;case 10:return h2(e.type._context),null;case 22:case 23:return A2(),null;case 24:return null;default:return null}}var J0=!1,Sn=!1,wI=typeof WeakSet=="function"?WeakSet:Set,re=null;function ql(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){_t(t,e,r)}else n.current=null}function ev(t,e,n){try{n()}catch(r){_t(t,e,r)}}var j6=!1;function bI(t,e){if(z4=Tf,t=Ax(),o2(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++u===r&&(l=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(B4={focusedElem:t,selectionRange:n},Tf=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var g=p.memoizedProps,w=p.memoizedState,v=e.stateNode,k=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Zr(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(S){_t(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return p=j6,j6=!1,p}function qu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ev(e,n,s)}i=i.next}while(i!==r)}}function Sm(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function tv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function CS(t){var e=t.alternate;e!==null&&(t.alternate=null,CS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Fi],delete e[kd],delete e[H4],delete e[nI],delete e[rI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ES(t){return t.tag===5||t.tag===3||t.tag===4}function F6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ES(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Nf));else if(r!==4&&(t=t.child,t!==null))for(nv(t,e,n),t=t.sibling;t!==null;)nv(t,e,n),t=t.sibling}function rv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(rv(t,e,n),t=t.sibling;t!==null;)rv(t,e,n),t=t.sibling}var hn=null,ei=!1;function Ys(t,e,n){for(n=n.child;n!==null;)TS(t,e,n),n=n.sibling}function TS(t,e,n){if(Wi&&typeof Wi.onCommitFiberUnmount=="function")try{Wi.onCommitFiberUnmount(mm,n)}catch{}switch(n.tag){case 5:Sn||ql(n,e);case 6:var r=hn,i=ei;hn=null,Ys(t,e,n),hn=r,ei=i,hn!==null&&(ei?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(ei?(t=hn,n=n.stateNode,t.nodeType===8?U1(t.parentNode,n):t.nodeType===1&&U1(t,n),gd(t)):U1(hn,n.stateNode));break;case 4:r=hn,i=ei,hn=n.stateNode.containerInfo,ei=!0,Ys(t,e,n),hn=r,ei=i;break;case 0:case 11:case 14:case 15:if(!Sn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ev(n,e,o),i=i.next}while(i!==r)}Ys(t,e,n);break;case 1:if(!Sn&&(ql(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){_t(n,e,a)}Ys(t,e,n);break;case 21:Ys(t,e,n);break;case 22:n.mode&1?(Sn=(r=Sn)||n.memoizedState!==null,Ys(t,e,n),Sn=r):Ys(t,e,n);break;default:Ys(t,e,n)}}function H6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wI),e.forEach(function(r){var i=NI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Qr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hn=a.stateNode,ei=!1;break e;case 3:hn=a.stateNode.containerInfo,ei=!0;break e;case 4:hn=a.stateNode.containerInfo,ei=!0;break e}a=a.return}if(hn===null)throw Error(q(160));TS(s,o,i),hn=null,ei=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){_t(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)MS(e,t),e=e.sibling}function MS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qr(e,t),Oi(t),r&4){try{qu(3,t,t.return),Sm(3,t)}catch(g){_t(t,t.return,g)}try{qu(5,t,t.return)}catch(g){_t(t,t.return,g)}}break;case 1:Qr(e,t),Oi(t),r&512&&n!==null&&ql(n,n.return);break;case 5:if(Qr(e,t),Oi(t),r&512&&n!==null&&ql(n,n.return),t.flags&32){var i=t.stateNode;try{hd(i,"")}catch(g){_t(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Jk(i,s),M4(a,o);var c=M4(a,s);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?ex(i,d):u==="dangerouslySetInnerHTML"?Qk(i,d):u==="children"?hd(i,d):Ky(i,u,d,c)}switch(a){case"input":x4(i,s);break;case"textarea":Yk(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ql(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ql(i,!!s.multiple,s.defaultValue,!0):Ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[kd]=s}catch(g){_t(t,t.return,g)}}break;case 6:if(Qr(e,t),Oi(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){_t(t,t.return,g)}}break;case 3:if(Qr(e,t),Oi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gd(e.containerInfo)}catch(g){_t(t,t.return,g)}break;case 4:Qr(e,t),Oi(t);break;case 13:Qr(e,t),Oi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(T2=jt())),r&4&&H6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Sn=(c=Sn)||u,Qr(e,t),Sn=c):Qr(e,t),Oi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(re=t,u=t.child;u!==null;){for(d=re=u;re!==null;){switch(h=re,f=h.child,h.tag){case 0:case 11:case 14:case 15:qu(4,h,h.return);break;case 1:ql(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(g){_t(r,n,g)}}break;case 5:ql(h,h.return);break;case 22:if(h.memoizedState!==null){V6(d);continue}}f!==null?(f.return=h,re=f):V6(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Zk("display",o))}catch(g){_t(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){_t(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qr(e,t),Oi(t),r&4&&H6(t);break;case 21:break;default:Qr(e,t),Oi(t)}}function Oi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ES(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hd(i,""),r.flags&=-33);var s=F6(t);rv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=F6(t);nv(t,a,o);break;default:throw Error(q(161))}}catch(l){_t(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function kI(t,e,n){re=t,AS(t)}function AS(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var i=re,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||J0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Sn;a=J0;var c=Sn;if(J0=o,(Sn=l)&&!c)for(re=i;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?U6(i):l!==null?(l.return=o,re=l):U6(i);for(;s!==null;)re=s,AS(s),s=s.sibling;re=i,J0=a,Sn=c}$6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,re=s):$6(t)}}function $6(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Sn||Sm(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Sn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Zr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&T6(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T6(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&gd(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Sn||e.flags&512&&tv(e)}catch(h){_t(e,e.return,h)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function V6(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function U6(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Sm(4,e)}catch(l){_t(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){_t(e,i,l)}}var s=e.return;try{tv(e)}catch(l){_t(e,s,l)}break;case 5:var o=e.return;try{tv(e)}catch(l){_t(e,o,l)}}}catch(l){_t(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var xI=Math.ceil,Ff=Vs.ReactCurrentDispatcher,C2=Vs.ReactCurrentOwner,Pr=Vs.ReactCurrentBatchConfig,Ve=0,an=null,Wt=null,gn=0,lr=0,Kl=ea(0),Qt=0,Md=null,Xa=0,Cm=0,E2=0,Ku=null,Kn=null,T2=0,Sc=1/0,fs=null,Hf=!1,iv=null,Lo=null,Y0=!1,xo=null,$f=0,Gu=0,sv=null,Vh=-1,Uh=0;function Pn(){return Ve&6?jt():Vh!==-1?Vh:Vh=jt()}function Po(t){return t.mode&1?Ve&2&&gn!==0?gn&-gn:sI.transition!==null?(Uh===0&&(Uh=hx()),Uh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:wx(t.type)),t):1}function ci(t,e,n,r){if(50<Gu)throw Gu=0,sv=null,Error(q(185));a0(t,n,r),(!(Ve&2)||t!==an)&&(t===an&&(!(Ve&2)&&(Cm|=n),Qt===4&&fo(t,gn)),er(t,r),n===1&&Ve===0&&!(e.mode&1)&&(Sc=jt()+500,bm&&ta()))}function er(t,e){var n=t.callbackNode;sO(t,e);var r=Ef(t,t===an?gn:0);if(r===0)n!==null&&Z3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Z3(n),e===1)t.tag===0?iI(W6.bind(null,t)):Bx(W6.bind(null,t)),eI(function(){!(Ve&6)&&ta()}),n=null;else{switch(fx(r)){case 1:n=Qy;break;case 4:n=ux;break;case 16:n=Cf;break;case 536870912:n=dx;break;default:n=Cf}n=PS(n,NS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NS(t,e){if(Vh=-1,Uh=0,Ve&6)throw Error(q(327));var n=t.callbackNode;if(rc()&&t.callbackNode!==n)return null;var r=Ef(t,t===an?gn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Vf(t,r);else{e=r;var i=Ve;Ve|=2;var s=IS();(an!==t||gn!==e)&&(fs=null,Sc=jt()+500,Pa(t,e));do try{EI();break}catch(a){OS(t,a)}while(!0);d2(),Ff.current=s,Ve=i,Wt!==null?e=0:(an=null,gn=0,e=Qt)}if(e!==0){if(e===2&&(i=D4(t),i!==0&&(r=i,e=ov(t,i))),e===1)throw n=Md,Pa(t,0),fo(t,r),er(t,jt()),n;if(e===6)fo(t,r);else{if(i=t.current.alternate,!(r&30)&&!SI(i)&&(e=Vf(t,r),e===2&&(s=D4(t),s!==0&&(r=s,e=ov(t,s))),e===1))throw n=Md,Pa(t,0),fo(t,r),er(t,jt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:wa(t,Kn,fs);break;case 3:if(fo(t,r),(r&130023424)===r&&(e=T2+500-jt(),10<e)){if(Ef(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=F4(wa.bind(null,t,Kn,fs),e);break}wa(t,Kn,fs);break;case 4:if(fo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-li(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=jt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xI(r/1960))-r,10<r){t.timeoutHandle=F4(wa.bind(null,t,Kn,fs),r);break}wa(t,Kn,fs);break;case 5:wa(t,Kn,fs);break;default:throw Error(q(329))}}}return er(t,jt()),t.callbackNode===n?NS.bind(null,t):null}function ov(t,e){var n=Ku;return t.current.memoizedState.isDehydrated&&(Pa(t,e).flags|=256),t=Vf(t,e),t!==2&&(e=Kn,Kn=n,e!==null&&av(e)),t}function av(t){Kn===null?Kn=t:Kn.push.apply(Kn,t)}function SI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fo(t,e){for(e&=~E2,e&=~Cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-li(e),r=1<<n;t[n]=-1,e&=~r}}function W6(t){if(Ve&6)throw Error(q(327));rc();var e=Ef(t,0);if(!(e&1))return er(t,jt()),null;var n=Vf(t,e);if(t.tag!==0&&n===2){var r=D4(t);r!==0&&(e=r,n=ov(t,r))}if(n===1)throw n=Md,Pa(t,0),fo(t,e),er(t,jt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wa(t,Kn,fs),er(t,jt()),null}function M2(t,e){var n=Ve;Ve|=1;try{return t(e)}finally{Ve=n,Ve===0&&(Sc=jt()+500,bm&&ta())}}function Qa(t){xo!==null&&xo.tag===0&&!(Ve&6)&&rc();var e=Ve;Ve|=1;var n=Pr.transition,r=Qe;try{if(Pr.transition=null,Qe=1,t)return t()}finally{Qe=r,Pr.transition=n,Ve=e,!(Ve&6)&&ta()}}function A2(){lr=Kl.current,mt(Kl)}function Pa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZO(n)),Wt!==null)for(n=Wt.return;n!==null;){var r=n;switch(l2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Of();break;case 3:kc(),mt(Qn),mt(Mn),v2();break;case 5:g2(r);break;case 4:kc();break;case 13:mt(Et);break;case 19:mt(Et);break;case 10:h2(r.type._context);break;case 22:case 23:A2()}n=n.return}if(an=t,Wt=t=zo(t.current,null),gn=lr=e,Qt=0,Md=null,E2=Cm=Xa=0,Kn=Ku=null,Aa!==null){for(e=0;e<Aa.length;e++)if(n=Aa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Aa=null}return t}function OS(t,e){do{var n=Wt;try{if(d2(),Fh.current=jf,Bf){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Bf=!1}if(Ya=0,rn=Xt=At=null,Wu=!1,Cd=0,C2.current=null,n===null||n.return===null){Qt=1,Md=e,Wt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=gn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=D6(o);if(f!==null){f.flags&=-257,R6(f,o,a,s,e),f.mode&1&&I6(s,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var g=new Set;g.add(l),e.updateQueue=g}else p.add(l);break e}else{if(!(e&1)){I6(s,c,e),N2();break e}l=Error(q(426))}}else if(bt&&a.mode&1){var w=D6(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),R6(w,o,a,s,e),c2(xc(l,a));break e}}s=l=xc(l,a),Qt!==4&&(Qt=2),Ku===null?Ku=[s]:Ku.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=fS(s,l,e);E6(s,v);break e;case 1:a=l;var k=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof k.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Lo===null||!Lo.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=pS(s,a,e);E6(s,S);break e}}s=s.return}while(s!==null)}RS(n)}catch(N){e=N,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(!0)}function IS(){var t=Ff.current;return Ff.current=jf,t===null?jf:t}function N2(){(Qt===0||Qt===3||Qt===2)&&(Qt=4),an===null||!(Xa&268435455)&&!(Cm&268435455)||fo(an,gn)}function Vf(t,e){var n=Ve;Ve|=2;var r=IS();(an!==t||gn!==e)&&(fs=null,Pa(t,e));do try{CI();break}catch(i){OS(t,i)}while(!0);if(d2(),Ve=n,Ff.current=r,Wt!==null)throw Error(q(261));return an=null,gn=0,Qt}function CI(){for(;Wt!==null;)DS(Wt)}function EI(){for(;Wt!==null&&!YN();)DS(Wt)}function DS(t){var e=LS(t.alternate,t,lr);t.memoizedProps=t.pendingProps,e===null?RS(t):Wt=e,C2.current=null}function RS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=yI(n,e),n!==null){n.flags&=32767,Wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Qt=6,Wt=null;return}}else if(n=vI(n,e,lr),n!==null){Wt=n;return}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);Qt===0&&(Qt=5)}function wa(t,e,n){var r=Qe,i=Pr.transition;try{Pr.transition=null,Qe=1,TI(t,e,n,r)}finally{Pr.transition=i,Qe=r}return null}function TI(t,e,n,r){do rc();while(xo!==null);if(Ve&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oO(t,s),t===an&&(Wt=an=null,gn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Y0||(Y0=!0,PS(Cf,function(){return rc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Pr.transition,Pr.transition=null;var o=Qe;Qe=1;var a=Ve;Ve|=4,C2.current=null,bI(t,n),MS(n,t),qO(B4),Tf=!!z4,B4=z4=null,t.current=n,kI(n),XN(),Ve=a,Qe=o,Pr.transition=s}else t.current=n;if(Y0&&(Y0=!1,xo=t,$f=i),s=t.pendingLanes,s===0&&(Lo=null),eO(n.stateNode),er(t,jt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hf)throw Hf=!1,t=iv,iv=null,t;return $f&1&&t.tag!==0&&rc(),s=t.pendingLanes,s&1?t===sv?Gu++:(Gu=0,sv=t):Gu=0,ta(),null}function rc(){if(xo!==null){var t=fx($f),e=Pr.transition,n=Qe;try{if(Pr.transition=null,Qe=16>t?16:t,xo===null)var r=!1;else{if(t=xo,xo=null,$f=0,Ve&6)throw Error(q(331));var i=Ve;for(Ve|=4,re=t.current;re!==null;){var s=re,o=s.child;if(re.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var u=re;switch(u.tag){case 0:case 11:case 15:qu(8,u,s)}var d=u.child;if(d!==null)d.return=u,re=d;else for(;re!==null;){u=re;var h=u.sibling,f=u.return;if(CS(u),u===c){re=null;break}if(h!==null){h.return=f,re=h;break}re=f}}}var p=s.alternate;if(p!==null){var g=p.child;if(g!==null){p.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}re=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,re=o;else e:for(;re!==null;){if(s=re,s.flags&2048)switch(s.tag){case 0:case 11:case 15:qu(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,re=v;break e}re=s.return}}var k=t.current;for(re=k;re!==null;){o=re;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,re=E;else e:for(o=k;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sm(9,a)}}catch(N){_t(a,a.return,N)}if(a===o){re=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,re=S;break e}re=a.return}}if(Ve=i,ta(),Wi&&typeof Wi.onPostCommitFiberRoot=="function")try{Wi.onPostCommitFiberRoot(mm,t)}catch{}r=!0}return r}finally{Qe=n,Pr.transition=e}}return!1}function q6(t,e,n){e=xc(n,e),e=fS(t,e,1),t=_o(t,e,1),e=Pn(),t!==null&&(a0(t,1,e),er(t,e))}function _t(t,e,n){if(t.tag===3)q6(t,t,n);else for(;e!==null;){if(e.tag===3){q6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lo===null||!Lo.has(r))){t=xc(n,t),t=pS(e,t,1),e=_o(e,t,1),t=Pn(),e!==null&&(a0(e,1,t),er(e,t));break}}e=e.return}}function MI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pn(),t.pingedLanes|=t.suspendedLanes&n,an===t&&(gn&n)===n&&(Qt===4||Qt===3&&(gn&130023424)===gn&&500>jt()-T2?Pa(t,0):E2|=n),er(t,e)}function _S(t,e){e===0&&(t.mode&1?(e=F0,F0<<=1,!(F0&130023424)&&(F0=4194304)):e=1);var n=Pn();t=_s(t,e),t!==null&&(a0(t,e,n),er(t,n))}function AI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_S(t,n)}function NI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),_S(t,n)}var LS;LS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,gI(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,bt&&e.flags&1048576&&jx(e,Rf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$h(t,e),t=e.pendingProps;var i=yc(e,Mn.current);nc(e,n),i=w2(null,e,r,t,i,n);var s=b2();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(r)?(s=!0,If(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,p2(e),i.updater=xm,e.stateNode=i,i._reactInternals=e,K4(e,r,t,n),e=Y4(null,e,r,!0,s,n)):(e.tag=0,bt&&s&&a2(e),Rn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch($h(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=II(r),t=Zr(r,t),i){case 0:e=J4(null,e,r,t,n);break e;case 1:e=P6(null,e,r,t,n);break e;case 11:e=_6(null,e,r,t,n);break e;case 14:e=L6(null,e,r,Zr(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),J4(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),P6(t,e,r,i,n);case 3:e:{if(yS(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Wx(t,e),Pf(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=xc(Error(q(423)),e),e=z6(t,e,r,n,i);break e}else if(r!==i){i=xc(Error(q(424)),e),e=z6(t,e,r,n,i);break e}else for(fr=Ro(e.stateNode.containerInfo.firstChild),pr=e,bt=!0,ri=null,n=Vx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wc(),r===i){e=Ls(t,e,n);break e}Rn(t,e,r,n)}e=e.child}return e;case 5:return qx(e),t===null&&U4(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,j4(r,i)?o=null:s!==null&&j4(r,s)&&(e.flags|=32),vS(t,e),Rn(t,e,o,n),e.child;case 6:return t===null&&U4(e),null;case 13:return wS(t,e,n);case 4:return m2(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bc(e,null,r,n):Rn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),_6(t,e,r,i,n);case 7:return Rn(t,e,e.pendingProps,n),e.child;case 8:return Rn(t,e,e.pendingProps.children,n),e.child;case 12:return Rn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ut(_f,r._currentValue),r._currentValue=o,s!==null)if(pi(s.value,o)){if(s.children===i.children&&!Qn.current){e=Ls(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Cs(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),W4(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),W4(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Rn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,nc(e,n),i=Fr(i),r=r(i),e.flags|=1,Rn(t,e,r,n),e.child;case 14:return r=e.type,i=Zr(r,e.pendingProps),i=Zr(r.type,i),L6(t,e,r,i,n);case 15:return mS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Zr(r,i),$h(t,e),e.tag=1,Zn(r)?(t=!0,If(e)):t=!1,nc(e,n),hS(e,r,i),K4(e,r,i,n),Y4(null,e,r,!0,t,n);case 19:return bS(t,e,n);case 22:return gS(t,e,n)}throw Error(q(156,e.tag))};function PS(t,e){return cx(t,e)}function OI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,n,r){return new OI(t,e,n,r)}function O2(t){return t=t.prototype,!(!t||!t.isReactComponent)}function II(t){if(typeof t=="function")return O2(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jy)return 11;if(t===Yy)return 14}return 2}function zo(t,e){var n=t.alternate;return n===null?(n=_r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wh(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")O2(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zl:return za(n.children,i,s,e);case Gy:o=8,i|=8;break;case v4:return t=_r(12,n,e,i|2),t.elementType=v4,t.lanes=s,t;case y4:return t=_r(13,n,e,i),t.elementType=y4,t.lanes=s,t;case w4:return t=_r(19,n,e,i),t.elementType=w4,t.lanes=s,t;case qk:return Em(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Uk:o=10;break e;case Wk:o=9;break e;case Jy:o=11;break e;case Yy:o=14;break e;case oo:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=_r(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function za(t,e,n,r){return t=_r(7,t,r,e),t.lanes=n,t}function Em(t,e,n,r){return t=_r(22,t,r,e),t.elementType=qk,t.lanes=n,t.stateNode={isHidden:!1},t}function Q1(t,e,n){return t=_r(6,t,null,e),t.lanes=n,t}function Z1(t,e,n){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function DI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=R1(0),this.expirationTimes=R1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function I2(t,e,n,r,i,s,o,a,l){return t=new DI(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_r(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},p2(s),t}function RI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zS(t){if(!t)return Uo;t=t._reactInternals;e:{if(fl(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(Zn(n))return zx(t,n,e)}return e}function BS(t,e,n,r,i,s,o,a,l){return t=I2(n,r,!0,t,i,s,o,a,l),t.context=zS(null),n=t.current,r=Pn(),i=Po(n),s=Cs(r,i),s.callback=e??null,_o(n,s,i),t.current.lanes=i,a0(t,i,r),er(t,r),t}function Tm(t,e,n,r){var i=e.current,s=Pn(),o=Po(i);return n=zS(n),e.context===null?e.context=n:e.pendingContext=n,e=Cs(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_o(i,e,o),t!==null&&(ci(t,i,o,s),jh(t,i,o)),o}function Uf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function K6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function D2(t,e){K6(t,e),(t=t.alternate)&&K6(t,e)}function _I(){return null}var jS=typeof reportError=="function"?reportError:function(t){console.error(t)};function R2(t){this._internalRoot=t}Mm.prototype.render=R2.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Tm(t,e,null,null)};Mm.prototype.unmount=R2.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qa(function(){Tm(null,t,null,null)}),e[Rs]=null}};function Mm(t){this._internalRoot=t}Mm.prototype.unstable_scheduleHydration=function(t){if(t){var e=gx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ho.length&&e!==0&&e<ho[n].priority;n++);ho.splice(n,0,t),n===0&&yx(t)}};function _2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function G6(){}function LI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=Uf(o);s.call(c)}}var o=BS(e,r,t,0,null,!1,!1,"",G6);return t._reactRootContainer=o,t[Rs]=o.current,wd(t.nodeType===8?t.parentNode:t),Qa(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Uf(l);a.call(c)}}var l=I2(t,0,!1,null,null,!1,!1,"",G6);return t._reactRootContainer=l,t[Rs]=l.current,wd(t.nodeType===8?t.parentNode:t),Qa(function(){Tm(e,l,n,r)}),l}function Nm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Uf(o);a.call(l)}}Tm(e,o,t,i)}else o=LI(n,e,t,i,r);return Uf(o)}px=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ou(e.pendingLanes);n!==0&&(Zy(e,n|1),er(e,jt()),!(Ve&6)&&(Sc=jt()+500,ta()))}break;case 13:Qa(function(){var r=_s(t,1);if(r!==null){var i=Pn();ci(r,t,1,i)}}),D2(t,1)}};e2=function(t){if(t.tag===13){var e=_s(t,134217728);if(e!==null){var n=Pn();ci(e,t,134217728,n)}D2(t,134217728)}};mx=function(t){if(t.tag===13){var e=Po(t),n=_s(t,e);if(n!==null){var r=Pn();ci(n,t,e,r)}D2(t,e)}};gx=function(){return Qe};vx=function(t,e){var n=Qe;try{return Qe=t,e()}finally{Qe=n}};N4=function(t,e,n){switch(e){case"input":if(x4(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=wm(r);if(!i)throw Error(q(90));Gk(r),x4(r,i)}}}break;case"textarea":Yk(t,n);break;case"select":e=n.value,e!=null&&Ql(t,!!n.multiple,e,!1)}};rx=M2;ix=Qa;var PI={usingClientEntryPoint:!1,Events:[c0,Hl,wm,tx,nx,M2]},ku={findFiberByHostInstance:Ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zI={bundleType:ku.bundleType,version:ku.version,rendererPackageName:ku.rendererPackageName,rendererConfig:ku.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ax(t),t===null?null:t.stateNode},findFiberByHostInstance:ku.findFiberByHostInstance||_I,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var X0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!X0.isDisabled&&X0.supportsFiber)try{mm=X0.inject(zI),Wi=X0}catch{}}br.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;br.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_2(e))throw Error(q(200));return RI(t,e,null,n)};br.createRoot=function(t,e){if(!_2(t))throw Error(q(299));var n=!1,r="",i=jS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=I2(t,1,!1,null,null,n,!1,r,i),t[Rs]=e.current,wd(t.nodeType===8?t.parentNode:t),new R2(e)};br.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=ax(e),t=t===null?null:t.stateNode,t};br.flushSync=function(t){return Qa(t)};br.hydrate=function(t,e,n){if(!Am(e))throw Error(q(200));return Nm(null,t,e,!0,n)};br.hydrateRoot=function(t,e,n){if(!_2(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=jS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BS(e,null,t,1,n??null,i,!1,s,o),t[Rs]=e.current,wd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Mm(e)};br.render=function(t,e,n){if(!Am(e))throw Error(q(200));return Nm(null,t,e,!1,n)};br.unmountComponentAtNode=function(t){if(!Am(t))throw Error(q(40));return t._reactRootContainer?(Qa(function(){Nm(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};br.unstable_batchedUpdates=M2;br.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Am(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Nm(t,e,n,!1,r)};br.version="18.3.1-next-f1338f8080-20240426";function FS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(FS)}catch(t){console.error(t)}}FS(),Fk.exports=br;var L2=Fk.exports;const HS=Ak(L2),BI=Mk({__proto__:null,default:HS},[L2]);var $S,J6=L2;$S=J6.createRoot,J6.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yt(){return yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yt.apply(this,arguments)}var Vt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Vt||(Vt={}));const Y6="popstate";function jI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Ad("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Za(i)}return HI(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FI(){return Math.random().toString(36).substr(2,8)}function X6(t,e){return{usr:t.state,key:t.key,idx:e}}function Ad(t,e,n,r){return n===void 0&&(n=null),yt({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?na(e):e,{state:n,key:e&&e.key||r||FI()})}function Za(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function na(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function HI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Vt.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(yt({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Vt.Pop;let w=u(),v=w==null?null:w-c;c=w,l&&l({action:a,location:g.location,delta:v})}function h(w,v){a=Vt.Push;let k=Ad(g.location,w,v);c=u()+1;let E=X6(k,c),S=g.createHref(k);try{o.pushState(E,"",S)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(S)}s&&l&&l({action:a,location:g.location,delta:1})}function f(w,v){a=Vt.Replace;let k=Ad(g.location,w,v);c=u();let E=X6(k,c),S=g.createHref(k);o.replaceState(E,"",S),s&&l&&l({action:a,location:g.location,delta:0})}function p(w){let v=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof w=="string"?w:Za(w);return k=k.replace(/ $/,"%20"),Le(v,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,v)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Y6,d),l=w,()=>{i.removeEventListener(Y6,d),l=null}},createHref(w){return e(i,w)},createURL:p,encodeLocation(w){let v=p(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:f,go(w){return o.go(w)}};return g}var et;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(et||(et={}));const $I=new Set(["lazy","caseSensitive","path","id","index","children"]);function VI(t){return t.index===!0}function Wf(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,String(s)],a=typeof i.id=="string"?i.id:o.join("-");if(Le(i.index!==!0||!i.children,"Cannot specify children on an index route"),Le(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),VI(i)){let l=yt({},i,e(i),{id:a});return r[a]=l,l}else{let l=yt({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=Wf(i.children,e,o,r)),l}})}function xa(t,e,n){return n===void 0&&(n="/"),qh(t,e,n,!1)}function qh(t,e,n,r){let i=typeof e=="string"?na(e):e,s=Gc(i.pathname||"/",n);if(s==null)return null;let o=VS(t);WI(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=nD(s);a=eD(o[l],c,r)}return a}function UI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function VS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Le(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Es([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),VS(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:QI(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of US(s.path))i(s,o,l)}),e}function US(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=US(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function WI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ZI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const qI=/^:[\w-]+$/,KI=3,GI=2,JI=1,YI=10,XI=-2,Q6=t=>t==="*";function QI(t,e){let n=t.split("/"),r=n.length;return n.some(Q6)&&(r+=XI),e&&(r+=GI),n.filter(i=>!Q6(i)).reduce((i,s)=>i+(qI.test(s)?KI:s===""?JI:YI),r)}function ZI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eD(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=Z6({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=Z6({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Es([s,d.pathname]),pathnameBase:sD(Es([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Es([s,d.pathnameBase]))}return o}function Z6(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const p=a[d];return f&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function tD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Cc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Gc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?na(t):t;return{pathname:n?n.startsWith("/")?n:iD(n,e):e,search:oD(r),hash:aD(i)}}function iD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Om(t,e){let n=WS(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Im(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=na(t):(i=yt({},t),Le(!i.pathname||!i.pathname.includes("?"),eg("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),eg("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),eg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=rD(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Es=t=>t.join("/").replace(/\/\/+/g,"/"),sD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),oD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,aD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class qf{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function Dm(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const qS=["post","put","patch","delete"],lD=new Set(qS),cD=["get",...qS],uD=new Set(cD),dD=new Set([301,302,303,307,308]),hD=new Set([307,308]),tg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},fD={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},xu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},P2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pD=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),KS="remix-router-transitions";function mD(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let D=t.detectErrorBoundary;i=L=>({hasErrorBoundary:D(L)})}else i=pD;let s={},o=Wf(t.routes,i,void 0,s),a,l=t.basename||"/",c=t.dataStrategy||wD,u=t.patchRoutesOnNavigation,d=yt({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,v7_skipActionErrorRevalidation:!1},t.future),h=null,f=new Set,p=null,g=null,w=null,v=t.hydrationData!=null,k=xa(o,t.history.location,l),E=null;if(k==null&&!u){let D=Wn(404,{pathname:t.history.location.pathname}),{matches:L,route:B}=uw(o);k=L,E={[B.id]:D}}k&&!t.hydrationData&&Xr(k,o,t.history.location.pathname).active&&(k=null);let S;if(k)if(k.some(D=>D.route.lazy))S=!1;else if(!k.some(D=>D.route.loader))S=!0;else if(d.v7_partialHydration){let D=t.hydrationData?t.hydrationData.loaderData:null,L=t.hydrationData?t.hydrationData.errors:null;if(L){let B=k.findIndex(U=>L[U.route.id]!==void 0);S=k.slice(0,B+1).every(U=>!cv(U.route,D,L))}else S=k.every(B=>!cv(B.route,D,L))}else S=t.hydrationData!=null;else if(S=!1,k=[],d.v7_partialHydration){let D=Xr(null,o,t.history.location.pathname);D.active&&D.matches&&(k=D.matches)}let N,b={historyAction:t.history.action,location:t.history.location,matches:k,initialized:S,navigation:tg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},M=Vt.Pop,I=!1,_,F=!1,G=new Map,Q=null,oe=!1,ge=!1,Ne=[],Me=new Set,he=new Map,$=0,ee=-1,te=new Map,ve=new Set,de=new Map,rt=new Map,Be=new Set,je=new Map,Fe=new Map,Ze;function vt(){if(h=t.history.listen(D=>{let{action:L,location:B,delta:U}=D;if(Ze){Ze(),Ze=void 0;return}Cc(Fe.size===0||U!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let ie=tn({currentLocation:b.location,nextLocation:B,historyAction:L});if(ie&&U!=null){let fe=new Promise(Te=>{Ze=Te});t.history.go(U*-1),_e(ie,{state:"blocked",location:B,proceed(){_e(ie,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),fe.then(()=>t.history.go(U))},reset(){let Te=new Map(b.blockers);Te.set(ie,xu),Ye({blockers:Te})}});return}return On(L,B)}),n){RD(e,G);let D=()=>_D(e,G);e.addEventListener("pagehide",D),Q=()=>e.removeEventListener("pagehide",D)}return b.initialized||On(Vt.Pop,b.location,{initialHydration:!0}),N}function Bt(){h&&h(),Q&&Q(),f.clear(),_&&_.abort(),b.fetchers.forEach((D,L)=>yl(L)),b.blockers.forEach((D,L)=>We(L))}function Yt(D){return f.add(D),()=>f.delete(D)}function Ye(D,L){L===void 0&&(L={}),b=yt({},b,D);let B=[],U=[];d.v7_fetcherPersist&&b.fetchers.forEach((ie,fe)=>{ie.state==="idle"&&(Be.has(fe)?U.push(fe):B.push(fe))}),[...f].forEach(ie=>ie(b,{deletedFetchers:U,viewTransitionOpts:L.viewTransitionOpts,flushSync:L.flushSync===!0})),d.v7_fetcherPersist&&(B.forEach(ie=>b.fetchers.delete(ie)),U.forEach(ie=>yl(ie)))}function Ot(D,L,B){var U,ie;let{flushSync:fe}=B===void 0?{}:B,Te=b.actionData!=null&&b.navigation.formMethod!=null&&ti(b.navigation.formMethod)&&b.navigation.state==="loading"&&((U=D.state)==null?void 0:U._isRedirect)!==!0,le;L.actionData?Object.keys(L.actionData).length>0?le=L.actionData:le=null:Te?le=b.actionData:le=null;let ue=L.loaderData?lw(b.loaderData,L.loaderData,L.matches||[],L.errors):b.loaderData,se=b.blockers;se.size>0&&(se=new Map(se),se.forEach((He,dn)=>se.set(dn,xu)));let pe=I===!0||b.navigation.formMethod!=null&&ti(b.navigation.formMethod)&&((ie=D.state)==null?void 0:ie._isRedirect)!==!0;a&&(o=a,a=void 0),oe||M===Vt.Pop||(M===Vt.Push?t.history.push(D,D.state):M===Vt.Replace&&t.history.replace(D,D.state));let ze;if(M===Vt.Pop){let He=G.get(b.location.pathname);He&&He.has(D.pathname)?ze={currentLocation:b.location,nextLocation:D}:G.has(D.pathname)&&(ze={currentLocation:D,nextLocation:b.location})}else if(F){let He=G.get(b.location.pathname);He?He.add(D.pathname):(He=new Set([D.pathname]),G.set(b.location.pathname,He)),ze={currentLocation:b.location,nextLocation:D}}Ye(yt({},L,{actionData:le,loaderData:ue,historyAction:M,location:D,initialized:!0,navigation:tg,revalidation:"idle",restoreScrollPosition:pa(D,L.matches||b.matches),preventScrollReset:pe,blockers:se}),{viewTransitionOpts:ze,flushSync:fe===!0}),M=Vt.Pop,I=!1,F=!1,oe=!1,ge=!1,Ne=[]}async function xi(D,L){if(typeof D=="number"){t.history.go(D);return}let B=lv(b.location,b.matches,l,d.v7_prependBasename,D,d.v7_relativeSplatPath,L==null?void 0:L.fromRouteId,L==null?void 0:L.relative),{path:U,submission:ie,error:fe}=ew(d.v7_normalizeFormMethod,!1,B,L),Te=b.location,le=Ad(b.location,U,L&&L.state);le=yt({},le,t.history.encodeLocation(le));let ue=L&&L.replace!=null?L.replace:void 0,se=Vt.Push;ue===!0?se=Vt.Replace:ue===!1||ie!=null&&ti(ie.formMethod)&&ie.formAction===b.location.pathname+b.location.search&&(se=Vt.Replace);let pe=L&&"preventScrollReset"in L?L.preventScrollReset===!0:void 0,ze=(L&&L.flushSync)===!0,He=tn({currentLocation:Te,nextLocation:le,historyAction:se});if(He){_e(He,{state:"blocked",location:le,proceed(){_e(He,{state:"proceeding",proceed:void 0,reset:void 0,location:le}),xi(D,L)},reset(){let dn=new Map(b.blockers);dn.set(He,xu),Ye({blockers:dn})}});return}return await On(se,le,{submission:ie,pendingError:fe,preventScrollReset:pe,replace:L&&L.replace,enableViewTransition:L&&L.viewTransition,flushSync:ze})}function Si(){if(Js(),Ye({revalidation:"loading"}),b.navigation.state!=="submitting"){if(b.navigation.state==="idle"){On(b.historyAction,b.location,{startUninterruptedRevalidation:!0});return}On(M||b.historyAction,b.navigation.location,{overrideNavigation:b.navigation,enableViewTransition:F===!0})}}async function On(D,L,B){_&&_.abort(),_=null,M=D,oe=(B&&B.startUninterruptedRevalidation)===!0,cu(b.location,b.matches),I=(B&&B.preventScrollReset)===!0,F=(B&&B.enableViewTransition)===!0;let U=a||o,ie=B&&B.overrideNavigation,fe=xa(U,L,l),Te=(B&&B.flushSync)===!0,le=Xr(fe,U,L.pathname);if(le.active&&le.matches&&(fe=le.matches),!fe){let{error:ct,notFoundMatches:Ke,route:It}=wn(L.pathname);Ot(L,{matches:Ke,loaderData:{},errors:{[It.id]:ct}},{flushSync:Te});return}if(b.initialized&&!ge&&ED(b.location,L)&&!(B&&B.submission&&ti(B.submission.formMethod))){Ot(L,{matches:fe},{flushSync:Te});return}_=new AbortController;let ue=El(t.history,L,_.signal,B&&B.submission),se;if(B&&B.pendingError)se=[Sa(fe).route.id,{type:et.error,error:B.pendingError}];else if(B&&B.submission&&ti(B.submission.formMethod)){let ct=await Ci(ue,L,B.submission,fe,le.active,{replace:B.replace,flushSync:Te});if(ct.shortCircuited)return;if(ct.pendingActionResult){let[Ke,It]=ct.pendingActionResult;if(cr(It)&&Dm(It.error)&&It.error.status===404){_=null,Ot(L,{matches:ct.matches,loaderData:{},errors:{[Ke]:It.error}});return}}fe=ct.matches||fe,se=ct.pendingActionResult,ie=ng(L,B.submission),Te=!1,le.active=!1,ue=El(t.history,ue.url,ue.signal)}let{shortCircuited:pe,matches:ze,loaderData:He,errors:dn}=await Kr(ue,L,fe,le.active,ie,B&&B.submission,B&&B.fetcherSubmission,B&&B.replace,B&&B.initialHydration===!0,Te,se);pe||(_=null,Ot(L,yt({matches:ze||fe},cw(se),{loaderData:He,errors:dn})))}async function Ci(D,L,B,U,ie,fe){fe===void 0&&(fe={}),Js();let Te=ID(L,B);if(Ye({navigation:Te},{flushSync:fe.flushSync===!0}),ie){let se=await wl(U,L.pathname,D.signal);if(se.type==="aborted")return{shortCircuited:!0};if(se.type==="error"){let pe=Sa(se.partialMatches).route.id;return{matches:se.partialMatches,pendingActionResult:[pe,{type:et.error,error:se.error}]}}else if(se.matches)U=se.matches;else{let{notFoundMatches:pe,error:ze,route:He}=wn(L.pathname);return{matches:pe,pendingActionResult:[He.id,{type:et.error,error:ze}]}}}let le,ue=Du(U,L);if(!ue.route.action&&!ue.route.lazy)le={type:et.error,error:Wn(405,{method:D.method,pathname:L.pathname,routeId:ue.route.id})};else if(le=(await Yr("action",b,D,[ue],U,null))[ue.route.id],D.signal.aborted)return{shortCircuited:!0};if(Oa(le)){let se;return fe&&fe.replace!=null?se=fe.replace:se=sw(le.response.headers.get("Location"),new URL(D.url),l)===b.location.pathname+b.location.search,await In(D,le,!0,{submission:B,replace:se}),{shortCircuited:!0}}if(So(le))throw Wn(400,{type:"defer-action"});if(cr(le)){let se=Sa(U,ue.route.id);return(fe&&fe.replace)!==!0&&(M=Vt.Push),{matches:U,pendingActionResult:[se.route.id,le]}}return{matches:U,pendingActionResult:[ue.route.id,le]}}async function Kr(D,L,B,U,ie,fe,Te,le,ue,se,pe){let ze=ie||ng(L,fe),He=fe||Te||hw(ze),dn=!oe&&(!d.v7_partialHydration||!ue);if(U){if(dn){let Dt=Cr(pe);Ye(yt({navigation:ze},Dt!==void 0?{actionData:Dt}:{}),{flushSync:se})}let qe=await wl(B,L.pathname,D.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let Dt=Sa(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[Dt]:qe.error}}}else if(qe.matches)B=qe.matches;else{let{error:Dt,notFoundMatches:xl,route:fu}=wn(L.pathname);return{matches:xl,loaderData:{},errors:{[fu.id]:Dt}}}}let ct=a||o,[Ke,It]=nw(t.history,b,B,He,L,d.v7_partialHydration&&ue===!0,d.v7_skipActionErrorRevalidation,ge,Ne,Me,Be,de,ve,ct,l,pe);if(Mi(qe=>!(B&&B.some(Dt=>Dt.route.id===qe))||Ke&&Ke.some(Dt=>Dt.route.id===qe)),ee=++$,Ke.length===0&&It.length===0){let qe=j();return Ot(L,yt({matches:B,loaderData:{},errors:pe&&cr(pe[1])?{[pe[0]]:pe[1].error}:null},cw(pe),qe?{fetchers:new Map(b.fetchers)}:{}),{flushSync:se}),{shortCircuited:!0}}if(dn){let qe={};if(!U){qe.navigation=ze;let Dt=Cr(pe);Dt!==void 0&&(qe.actionData=Dt)}It.length>0&&(qe.fetchers=Gr(It)),Ye(qe,{flushSync:se})}It.forEach(qe=>{Ti(qe.key),qe.controller&&he.set(qe.key,qe.controller)});let kl=()=>It.forEach(qe=>Ti(qe.key));_&&_.signal.addEventListener("abort",kl);let{loaderResults:du,fetcherResults:as}=await fa(b,B,Ke,It,D);if(D.signal.aborted)return{shortCircuited:!0};_&&_.signal.removeEventListener("abort",kl),It.forEach(qe=>he.delete(qe.key));let Ni=Q0(du);if(Ni)return await In(D,Ni.result,!0,{replace:le}),{shortCircuited:!0};if(Ni=Q0(as),Ni)return ve.add(Ni.key),await In(D,Ni.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:M1,errors:hu}=aw(b,B,du,pe,It,as,je);je.forEach((qe,Dt)=>{qe.subscribe(xl=>{(xl||qe.done)&&je.delete(Dt)})}),d.v7_partialHydration&&ue&&b.errors&&(hu=yt({},b.errors,hu));let ma=j(),R0=ae(ee),_0=ma||R0||It.length>0;return yt({matches:B,loaderData:M1,errors:hu},_0?{fetchers:new Map(b.fetchers)}:{})}function Cr(D){if(D&&!cr(D[1]))return{[D[0]]:D[1].data};if(b.actionData)return Object.keys(b.actionData).length===0?null:b.actionData}function Gr(D){return D.forEach(L=>{let B=b.fetchers.get(L.key),U=Su(void 0,B?B.data:void 0);b.fetchers.set(L.key,U)}),new Map(b.fetchers)}function Jr(D,L,B,U){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ti(D);let ie=(U&&U.flushSync)===!0,fe=a||o,Te=lv(b.location,b.matches,l,d.v7_prependBasename,B,d.v7_relativeSplatPath,L,U==null?void 0:U.relative),le=xa(fe,Te,l),ue=Xr(le,fe,Te);if(ue.active&&ue.matches&&(le=ue.matches),!le){Un(D,L,Wn(404,{pathname:Te}),{flushSync:ie});return}let{path:se,submission:pe,error:ze}=ew(d.v7_normalizeFormMethod,!0,Te,U);if(ze){Un(D,L,ze,{flushSync:ie});return}let He=Du(le,se),dn=(U&&U.preventScrollReset)===!0;if(pe&&ti(pe.formMethod)){Ei(D,L,se,He,le,ue.active,ie,dn,pe);return}de.set(D,{routeId:L,path:se}),ha(D,L,se,He,le,ue.active,ie,dn,pe)}async function Ei(D,L,B,U,ie,fe,Te,le,ue){Js(),de.delete(D);function se($t){if(!$t.route.action&&!$t.route.lazy){let Sl=Wn(405,{method:ue.formMethod,pathname:B,routeId:L});return Un(D,L,Sl,{flushSync:Te}),!0}return!1}if(!fe&&se(U))return;let pe=b.fetchers.get(D);sr(D,DD(ue,pe),{flushSync:Te});let ze=new AbortController,He=El(t.history,B,ze.signal,ue);if(fe){let $t=await wl(ie,B,He.signal);if($t.type==="aborted")return;if($t.type==="error"){Un(D,L,$t.error,{flushSync:Te});return}else if($t.matches){if(ie=$t.matches,U=Du(ie,B),se(U))return}else{Un(D,L,Wn(404,{pathname:B}),{flushSync:Te});return}}he.set(D,ze);let dn=$,Ke=(await Yr("action",b,He,[U],ie,D))[U.route.id];if(He.signal.aborted){he.get(D)===ze&&he.delete(D);return}if(d.v7_fetcherPersist&&Be.has(D)){if(Oa(Ke)||cr(Ke)){sr(D,no(void 0));return}}else{if(Oa(Ke))if(he.delete(D),ee>dn){sr(D,no(void 0));return}else return ve.add(D),sr(D,Su(ue)),In(He,Ke,!1,{fetcherSubmission:ue,preventScrollReset:le});if(cr(Ke)){Un(D,L,Ke.error);return}}if(So(Ke))throw Wn(400,{type:"defer-action"});let It=b.navigation.location||b.location,kl=El(t.history,It,ze.signal),du=a||o,as=b.navigation.state!=="idle"?xa(du,b.navigation.location,l):b.matches;Le(as,"Didn't find any matches after fetcher action");let Ni=++$;te.set(D,Ni);let M1=Su(ue,Ke.data);b.fetchers.set(D,M1);let[hu,ma]=nw(t.history,b,as,ue,It,!1,d.v7_skipActionErrorRevalidation,ge,Ne,Me,Be,de,ve,du,l,[U.route.id,Ke]);ma.filter($t=>$t.key!==D).forEach($t=>{let Sl=$t.key,F3=b.fetchers.get(Sl),dN=Su(void 0,F3?F3.data:void 0);b.fetchers.set(Sl,dN),Ti(Sl),$t.controller&&he.set(Sl,$t.controller)}),Ye({fetchers:new Map(b.fetchers)});let R0=()=>ma.forEach($t=>Ti($t.key));ze.signal.addEventListener("abort",R0);let{loaderResults:_0,fetcherResults:qe}=await fa(b,as,hu,ma,kl);if(ze.signal.aborted)return;ze.signal.removeEventListener("abort",R0),te.delete(D),he.delete(D),ma.forEach($t=>he.delete($t.key));let Dt=Q0(_0);if(Dt)return In(kl,Dt.result,!1,{preventScrollReset:le});if(Dt=Q0(qe),Dt)return ve.add(Dt.key),In(kl,Dt.result,!1,{preventScrollReset:le});let{loaderData:xl,errors:fu}=aw(b,as,_0,void 0,ma,qe,je);if(b.fetchers.has(D)){let $t=no(Ke.data);b.fetchers.set(D,$t)}ae(Ni),b.navigation.state==="loading"&&Ni>ee?(Le(M,"Expected pending action"),_&&_.abort(),Ot(b.navigation.location,{matches:as,loaderData:xl,errors:fu,fetchers:new Map(b.fetchers)})):(Ye({errors:fu,loaderData:lw(b.loaderData,xl,as,fu),fetchers:new Map(b.fetchers)}),ge=!1)}async function ha(D,L,B,U,ie,fe,Te,le,ue){let se=b.fetchers.get(D);sr(D,Su(ue,se?se.data:void 0),{flushSync:Te});let pe=new AbortController,ze=El(t.history,B,pe.signal);if(fe){let Ke=await wl(ie,B,ze.signal);if(Ke.type==="aborted")return;if(Ke.type==="error"){Un(D,L,Ke.error,{flushSync:Te});return}else if(Ke.matches)ie=Ke.matches,U=Du(ie,B);else{Un(D,L,Wn(404,{pathname:B}),{flushSync:Te});return}}he.set(D,pe);let He=$,ct=(await Yr("loader",b,ze,[U],ie,D))[U.route.id];if(So(ct)&&(ct=await z2(ct,ze.signal,!0)||ct),he.get(D)===pe&&he.delete(D),!ze.signal.aborted){if(Be.has(D)){sr(D,no(void 0));return}if(Oa(ct))if(ee>He){sr(D,no(void 0));return}else{ve.add(D),await In(ze,ct,!1,{preventScrollReset:le});return}if(cr(ct)){Un(D,L,ct.error);return}Le(!So(ct),"Unhandled fetcher deferred data"),sr(D,no(ct.data))}}async function In(D,L,B,U){let{submission:ie,fetcherSubmission:fe,preventScrollReset:Te,replace:le}=U===void 0?{}:U;L.response.headers.has("X-Remix-Revalidate")&&(ge=!0);let ue=L.response.headers.get("Location");Le(ue,"Expected a Location header on the redirect Response"),ue=sw(ue,new URL(D.url),l);let se=Ad(b.location,ue,{_isRedirect:!0});if(n){let Ke=!1;if(L.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(P2.test(ue)){const It=t.history.createURL(ue);Ke=It.origin!==e.location.origin||Gc(It.pathname,l)==null}if(Ke){le?e.location.replace(ue):e.location.assign(ue);return}}_=null;let pe=le===!0||L.response.headers.has("X-Remix-Replace")?Vt.Replace:Vt.Push,{formMethod:ze,formAction:He,formEncType:dn}=b.navigation;!ie&&!fe&&ze&&He&&dn&&(ie=hw(b.navigation));let ct=ie||fe;if(hD.has(L.response.status)&&ct&&ti(ct.formMethod))await On(pe,se,{submission:yt({},ct,{formAction:ue}),preventScrollReset:Te||I,enableViewTransition:B?F:void 0});else{let Ke=ng(se,ie);await On(pe,se,{overrideNavigation:Ke,fetcherSubmission:fe,preventScrollReset:Te||I,enableViewTransition:B?F:void 0})}}async function Yr(D,L,B,U,ie,fe){let Te,le={};try{Te=await bD(c,D,L,B,U,ie,fe,s,i)}catch(ue){return U.forEach(se=>{le[se.route.id]={type:et.error,error:ue}}),le}for(let[ue,se]of Object.entries(Te))if(TD(se)){let pe=se.result;le[ue]={type:et.redirect,response:SD(pe,B,ue,ie,l,d.v7_relativeSplatPath)}}else le[ue]=await xD(se);return le}async function fa(D,L,B,U,ie){let fe=D.matches,Te=Yr("loader",D,ie,B,L,null),le=Promise.all(U.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let He=(await Yr("loader",D,El(t.history,pe.path,pe.controller.signal),[pe.match],pe.matches,pe.key))[pe.match.route.id];return{[pe.key]:He}}else return Promise.resolve({[pe.key]:{type:et.error,error:Wn(404,{pathname:pe.path})}})})),ue=await Te,se=(await le).reduce((pe,ze)=>Object.assign(pe,ze),{});return await Promise.all([ND(L,ue,ie.signal,fe,D.loaderData),OD(L,se,U)]),{loaderResults:ue,fetcherResults:se}}function Js(){ge=!0,Ne.push(...Mi()),de.forEach((D,L)=>{he.has(L)&&Me.add(L),Ti(L)})}function sr(D,L,B){B===void 0&&(B={}),b.fetchers.set(D,L),Ye({fetchers:new Map(b.fetchers)},{flushSync:(B&&B.flushSync)===!0})}function Un(D,L,B,U){U===void 0&&(U={});let ie=Sa(b.matches,L);yl(D),Ye({errors:{[ie.route.id]:B},fetchers:new Map(b.fetchers)},{flushSync:(U&&U.flushSync)===!0})}function O0(D){return d.v7_fetcherPersist&&(rt.set(D,(rt.get(D)||0)+1),Be.has(D)&&Be.delete(D)),b.fetchers.get(D)||fD}function yl(D){let L=b.fetchers.get(D);he.has(D)&&!(L&&L.state==="loading"&&te.has(D))&&Ti(D),de.delete(D),te.delete(D),ve.delete(D),Be.delete(D),Me.delete(D),b.fetchers.delete(D)}function T1(D){if(d.v7_fetcherPersist){let L=(rt.get(D)||0)-1;L<=0?(rt.delete(D),Be.add(D)):rt.set(D,L)}else yl(D);Ye({fetchers:new Map(b.fetchers)})}function Ti(D){let L=he.get(D);L&&(L.abort(),he.delete(D))}function I0(D){for(let L of D){let B=O0(L),U=no(B.data);b.fetchers.set(L,U)}}function j(){let D=[],L=!1;for(let B of ve){let U=b.fetchers.get(B);Le(U,"Expected fetcher: "+B),U.state==="loading"&&(ve.delete(B),D.push(B),L=!0)}return I0(D),L}function ae(D){let L=[];for(let[B,U]of te)if(U<D){let ie=b.fetchers.get(B);Le(ie,"Expected fetcher: "+B),ie.state==="loading"&&(Ti(B),te.delete(B),L.push(B))}return I0(L),L.length>0}function Se(D,L){let B=b.blockers.get(D)||xu;return Fe.get(D)!==L&&Fe.set(D,L),B}function We(D){b.blockers.delete(D),Fe.delete(D)}function _e(D,L){let B=b.blockers.get(D)||xu;Le(B.state==="unblocked"&&L.state==="blocked"||B.state==="blocked"&&L.state==="blocked"||B.state==="blocked"&&L.state==="proceeding"||B.state==="blocked"&&L.state==="unblocked"||B.state==="proceeding"&&L.state==="unblocked","Invalid blocker state transition: "+B.state+" -> "+L.state);let U=new Map(b.blockers);U.set(D,L),Ye({blockers:U})}function tn(D){let{currentLocation:L,nextLocation:B,historyAction:U}=D;if(Fe.size===0)return;Fe.size>1&&Cc(!1,"A router only supports one blocker at a time");let ie=Array.from(Fe.entries()),[fe,Te]=ie[ie.length-1],le=b.blockers.get(fe);if(!(le&&le.state==="proceeding")&&Te({currentLocation:L,nextLocation:B,historyAction:U}))return fe}function wn(D){let L=Wn(404,{pathname:D}),B=a||o,{matches:U,route:ie}=uw(B);return Mi(),{notFoundMatches:U,route:ie,error:L}}function Mi(D){let L=[];return je.forEach((B,U)=>{(!D||D(U))&&(B.cancel(),L.push(U),je.delete(U))}),L}function D0(D,L,B){if(p=D,w=L,g=B||null,!v&&b.navigation===tg){v=!0;let U=pa(b.location,b.matches);U!=null&&Ye({restoreScrollPosition:U})}return()=>{p=null,w=null,g=null}}function Ai(D,L){return g&&g(D,L.map(U=>UI(U,b.loaderData)))||D.key}function cu(D,L){if(p&&w){let B=Ai(D,L);p[B]=w()}}function pa(D,L){if(p){let B=Ai(D,L),U=p[B];if(typeof U=="number")return U}return null}function Xr(D,L,B){if(u)if(D){if(Object.keys(D[0].params).length>0)return{active:!0,matches:qh(L,B,l,!0)}}else return{active:!0,matches:qh(L,B,l,!0)||[]};return{active:!1,matches:null}}async function wl(D,L,B){if(!u)return{type:"success",matches:D};let U=D;for(;;){let ie=a==null,fe=a||o,Te=s;try{await u({path:L,matches:U,patch:(se,pe)=>{B.aborted||iw(se,pe,fe,Te,i)}})}catch(se){return{type:"error",error:se,partialMatches:U}}finally{ie&&!B.aborted&&(o=[...o])}if(B.aborted)return{type:"aborted"};let le=xa(fe,L,l);if(le)return{type:"success",matches:le};let ue=qh(fe,L,l,!0);if(!ue||U.length===ue.length&&U.every((se,pe)=>se.route.id===ue[pe].route.id))return{type:"success",matches:null};U=ue}}function uu(D){s={},a=Wf(D,i,void 0,s)}function bl(D,L){let B=a==null;iw(D,L,a||o,s,i),B&&(o=[...o],Ye({}))}return N={get basename(){return l},get future(){return d},get state(){return b},get routes(){return o},get window(){return e},initialize:vt,subscribe:Yt,enableScrollRestoration:D0,navigate:xi,fetch:Jr,revalidate:Si,createHref:D=>t.history.createHref(D),encodeLocation:D=>t.history.encodeLocation(D),getFetcher:O0,deleteFetcher:T1,dispose:Bt,getBlocker:Se,deleteBlocker:We,patchRoutes:bl,_internalFetchControllers:he,_internalActiveDeferreds:je,_internalSetRoutes:uu},N}function gD(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function lv(t,e,n,r,i,s,o,a){let l,c;if(o){l=[];for(let d of e)if(l.push(d),d.route.id===o){c=d;break}}else l=e,c=e[e.length-1];let u=Im(i||".",Om(l,s),Gc(t.pathname,n)||t.pathname,a==="path");if(i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&c){let d=B2(u.search);if(c.route.index&&!d)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!c.route.index&&d){let h=new URLSearchParams(u.search),f=h.getAll("index");h.delete("index"),f.filter(g=>g).forEach(g=>h.append("index",g));let p=h.toString();u.search=p?"?"+p:""}}return r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:Es([n,u.pathname])),Za(u)}function ew(t,e,n,r){if(!r||!gD(r))return{path:n};if(r.formMethod&&!AD(r.formMethod))return{path:n,error:Wn(405,{method:r.formMethod})};let i=()=>({path:n,error:Wn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=YS(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ti(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,p)=>{let[g,w]=p;return""+f+g+"="+w+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!ti(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Le(typeof FormData=="function","FormData is not available in this environment");let l,c;if(r.formData)l=uv(r.formData),c=r.formData;else if(r.body instanceof FormData)l=uv(r.body),c=r.body;else if(r.body instanceof URLSearchParams)l=r.body,c=ow(l);else if(r.body==null)l=new URLSearchParams,c=new FormData;else try{l=new URLSearchParams(r.body),c=ow(l)}catch{return i()}let u={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(ti(u.formMethod))return{path:n,submission:u};let d=na(n);return e&&d.search&&B2(d.search)&&l.append("index",""),d.search="?"+l,{path:Za(d),submission:u}}function tw(t,e,n){n===void 0&&(n=!1);let r=t.findIndex(i=>i.route.id===e);return r>=0?t.slice(0,n?r+1:r):t}function nw(t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,g){let w=g?cr(g[1])?g[1].error:g[1].data:void 0,v=t.createURL(e.location),k=t.createURL(i),E=n;s&&e.errors?E=tw(n,Object.keys(e.errors)[0],!0):g&&cr(g[1])&&(E=tw(n,g[0]));let S=g?g[1].statusCode:void 0,N=o&&S&&S>=400,b=E.filter((I,_)=>{let{route:F}=I;if(F.lazy)return!0;if(F.loader==null)return!1;if(s)return cv(F,e.loaderData,e.errors);if(vD(e.loaderData,e.matches[_],I)||l.some(oe=>oe===I.route.id))return!0;let G=e.matches[_],Q=I;return rw(I,yt({currentUrl:v,currentParams:G.params,nextUrl:k,nextParams:Q.params},r,{actionResult:w,actionStatus:S,defaultShouldRevalidate:N?!1:a||v.pathname+v.search===k.pathname+k.search||v.search!==k.search||GS(G,Q)}))}),M=[];return d.forEach((I,_)=>{if(s||!n.some(ge=>ge.route.id===I.routeId)||u.has(_))return;let F=xa(f,I.path,p);if(!F){M.push({key:_,routeId:I.routeId,path:I.path,matches:null,match:null,controller:null});return}let G=e.fetchers.get(_),Q=Du(F,I.path),oe=!1;h.has(_)?oe=!1:c.has(_)?(c.delete(_),oe=!0):G&&G.state!=="idle"&&G.data===void 0?oe=a:oe=rw(Q,yt({currentUrl:v,currentParams:e.matches[e.matches.length-1].params,nextUrl:k,nextParams:n[n.length-1].params},r,{actionResult:w,actionStatus:S,defaultShouldRevalidate:N?!1:a})),oe&&M.push({key:_,routeId:I.routeId,path:I.path,matches:F,match:Q,controller:new AbortController})}),[b,M]}function cv(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function vD(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function GS(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function rw(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function iw(t,e,n,r,i){var s;let o;if(t){let c=r[t];Le(c,"No route found to patch children into: routeId = "+t),c.children||(c.children=[]),o=c.children}else o=n;let a=e.filter(c=>!o.some(u=>JS(c,u))),l=Wf(a,i,[t||"_","patch",String(((s=o)==null?void 0:s.length)||"0")],r);o.push(...l)}function JS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(s=>JS(n,s))}):!1}async function yD(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Le(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Cc(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!$I.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,yt({},e(i),{lazy:void 0}))}async function wD(t){let{matches:e}=t,n=e.filter(i=>i.shouldLoad);return(await Promise.all(n.map(i=>i.resolve()))).reduce((i,s,o)=>Object.assign(i,{[n[o].route.id]:s}),{})}async function bD(t,e,n,r,i,s,o,a,l,c){let u=s.map(f=>f.route.lazy?yD(f.route,l,a):void 0),d=s.map((f,p)=>{let g=u[p],w=i.some(k=>k.route.id===f.route.id);return yt({},f,{shouldLoad:w,resolve:async k=>(k&&r.method==="GET"&&(f.route.lazy||f.route.loader)&&(w=!0),w?kD(e,r,f,g,k,c):Promise.resolve({type:et.data,result:void 0}))})}),h=await t({matches:d,request:r,params:s[0].params,fetcherKey:o,context:c});try{await Promise.all(u)}catch{}return h}async function kD(t,e,n,r,i,s){let o,a,l=c=>{let u,d=new Promise((p,g)=>u=g);a=()=>u(),e.signal.addEventListener("abort",a);let h=p=>typeof c!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+t+'" [routeId: '+n.route.id+"]"))):c({request:e,params:n.params,context:s},...p!==void 0?[p]:[]),f=(async()=>{try{return{type:"data",result:await(i?i(g=>h(g)):h())}}catch(p){return{type:"error",result:p}}})();return Promise.race([f,d])};try{let c=n.route[t];if(r)if(c){let u,[d]=await Promise.all([l(c).catch(h=>{u=h}),r]);if(u!==void 0)throw u;o=d}else if(await r,c=n.route[t],c)o=await l(c);else if(t==="action"){let u=new URL(e.url),d=u.pathname+u.search;throw Wn(405,{method:e.method,pathname:d,routeId:n.route.id})}else return{type:et.data,result:void 0};else if(c)o=await l(c);else{let u=new URL(e.url),d=u.pathname+u.search;throw Wn(404,{pathname:d})}Le(o.result!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(c){return{type:et.error,result:c}}finally{a&&e.signal.removeEventListener("abort",a)}return o}async function xD(t){let{result:e,type:n}=t;if(XS(e)){let c;try{let u=e.headers.get("Content-Type");u&&/\bapplication\/json\b/.test(u)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(u){return{type:et.error,error:u}}return n===et.error?{type:et.error,error:new qf(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:et.data,data:c,statusCode:e.status,headers:e.headers}}if(n===et.error){if(dw(e)){var r;if(e.data instanceof Error){var i;return{type:et.error,error:e.data,statusCode:(i=e.init)==null?void 0:i.status}}e=new qf(((r=e.init)==null?void 0:r.status)||500,void 0,e.data)}return{type:et.error,error:e,statusCode:Dm(e)?e.status:void 0}}if(MD(e)){var s,o;return{type:et.deferred,deferredData:e,statusCode:(s=e.init)==null?void 0:s.status,headers:((o=e.init)==null?void 0:o.headers)&&new Headers(e.init.headers)}}if(dw(e)){var a,l;return{type:et.data,data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}}return{type:et.data,data:e}}function SD(t,e,n,r,i,s){let o=t.headers.get("Location");if(Le(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!P2.test(o)){let a=r.slice(0,r.findIndex(l=>l.route.id===n)+1);o=lv(new URL(e.url),a,i,!0,o,s),t.headers.set("Location",o)}return t}function sw(t,e,n){if(P2.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),s=Gc(i.pathname,n)!=null;if(i.origin===e.origin&&s)return i.pathname+i.search+i.hash}return t}function El(t,e,n,r){let i=t.createURL(YS(e)).toString(),s={signal:n};if(r&&ti(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=uv(r.formData):s.body=r.formData}return new Request(i,s)}function uv(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function ow(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function CD(t,e,n,r,i){let s={},o=null,a,l=!1,c={},u=n&&cr(n[1])?n[1].error:void 0;return t.forEach(d=>{if(!(d.route.id in e))return;let h=d.route.id,f=e[h];if(Le(!Oa(f),"Cannot handle redirect results in processLoaderData"),cr(f)){let p=f.error;u!==void 0&&(p=u,u=void 0),o=o||{};{let g=Sa(t,h);o[g.route.id]==null&&(o[g.route.id]=p)}s[h]=void 0,l||(l=!0,a=Dm(f.error)?f.error.status:500),f.headers&&(c[h]=f.headers)}else So(f)?(r.set(h,f.deferredData),s[h]=f.deferredData.data,f.statusCode!=null&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers)):(s[h]=f.data,f.statusCode&&f.statusCode!==200&&!l&&(a=f.statusCode),f.headers&&(c[h]=f.headers))}),u!==void 0&&n&&(o={[n[0]]:u},s[n[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function aw(t,e,n,r,i,s,o){let{loaderData:a,errors:l}=CD(e,n,r,o);return i.forEach(c=>{let{key:u,match:d,controller:h}=c,f=s[u];if(Le(f,"Did not find corresponding fetcher result"),!(h&&h.signal.aborted))if(cr(f)){let p=Sa(t.matches,d==null?void 0:d.route.id);l&&l[p.route.id]||(l=yt({},l,{[p.route.id]:f.error})),t.fetchers.delete(u)}else if(Oa(f))Le(!1,"Unhandled fetcher revalidation redirect");else if(So(f))Le(!1,"Unhandled fetcher deferred data");else{let p=no(f.data);t.fetchers.set(u,p)}}),{loaderData:a,errors:l}}function lw(t,e,n,r){let i=yt({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function cw(t){return t?cr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function Sa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function uw(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Wn(t,e){let{pathname:n,routeId:r,method:i,type:s,message:o}=e===void 0?{}:e,a="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(a="Bad Request",i&&n&&r?l="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(a="Forbidden",l='Route "'+r+'" does not match URL "'+n+'"'):t===404?(a="Not Found",l='No route matches URL "'+n+'"'):t===405&&(a="Method Not Allowed",i&&n&&r?l="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new qf(t||500,a,new Error(l),!0)}function Q0(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Oa(i))return{key:r,result:i}}}function YS(t){let e=typeof t=="string"?na(t):t;return Za(yt({},e,{hash:""}))}function ED(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function TD(t){return XS(t.result)&&dD.has(t.result.status)}function So(t){return t.type===et.deferred}function cr(t){return t.type===et.error}function Oa(t){return(t&&t.type)===et.redirect}function dw(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function MD(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function XS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function AD(t){return uD.has(t.toLowerCase())}function ti(t){return lD.has(t.toLowerCase())}async function ND(t,e,n,r,i){let s=Object.entries(e);for(let o=0;o<s.length;o++){let[a,l]=s[o],c=t.find(h=>(h==null?void 0:h.route.id)===a);if(!c)continue;let u=r.find(h=>h.route.id===c.route.id),d=u!=null&&!GS(u,c)&&(i&&i[c.route.id])!==void 0;So(l)&&d&&await z2(l,n,!1).then(h=>{h&&(e[a]=h)})}}async function OD(t,e,n){for(let r=0;r<n.length;r++){let{key:i,routeId:s,controller:o}=n[r],a=e[i];t.find(c=>(c==null?void 0:c.route.id)===s)&&So(a)&&(Le(o,"Expected an AbortController for revalidating fetcher deferred result"),await z2(a,o.signal,!0).then(c=>{c&&(e[i]=c)}))}}async function z2(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:et.data,data:t.deferredData.unwrappedData}}catch(i){return{type:et.error,error:i}}return{type:et.data,data:t.deferredData.data}}}function B2(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Du(t,e){let n=typeof e=="string"?na(e).search:e.search;if(t[t.length-1].route.index&&B2(n||""))return t[t.length-1];let r=WS(t);return r[r.length-1]}function hw(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function ng(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ID(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Su(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function DD(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function no(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RD(t,e){try{let n=t.sessionStorage.getItem(KS);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function _D(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(KS,JSON.stringify(n))}catch(r){Cc(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(this,arguments)}const Rm=P.createContext(null),QS=P.createContext(null),ra=P.createContext(null),j2=P.createContext(null),Us=P.createContext({outlet:null,matches:[],isDataRoute:!1}),ZS=P.createContext(null);function LD(t,e){let{relative:n}=e===void 0?{}:e;Jc()||Le(!1);let{basename:r,navigator:i}=P.useContext(ra),{hash:s,pathname:o,search:a}=t9(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Es([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Jc(){return P.useContext(j2)!=null}function wi(){return Jc()||Le(!1),P.useContext(j2).location}function e9(t){P.useContext(ra).static||P.useLayoutEffect(t)}function xr(){let{isDataRoute:t}=P.useContext(Us);return t?KD():PD()}function PD(){Jc()||Le(!1);let t=P.useContext(Rm),{basename:e,future:n,navigator:r}=P.useContext(ra),{matches:i}=P.useContext(Us),{pathname:s}=wi(),o=JSON.stringify(Om(i,n.v7_relativeSplatPath)),a=P.useRef(!1);return e9(()=>{a.current=!0}),P.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let d=Im(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Es([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function Gf(){let{matches:t}=P.useContext(Us),e=t[t.length-1];return e?e.params:{}}function t9(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=P.useContext(ra),{matches:i}=P.useContext(Us),{pathname:s}=wi(),o=JSON.stringify(Om(i,r.v7_relativeSplatPath));return P.useMemo(()=>Im(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function zD(t,e,n,r){Jc()||Le(!1);let{navigator:i}=P.useContext(ra),{matches:s}=P.useContext(Us),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=wi(),u;u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let g=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(g.length).join("/")}let f=xa(t,{pathname:h});return $D(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},a,g.params),pathname:Es([l,i.encodeLocation?i.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?l:Es([l,i.encodeLocation?i.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n,r)}function BD(){let t=qD(),e=Dm(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,null)}const jD=P.createElement(BD,null);class FD extends P.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?P.createElement(Us.Provider,{value:this.props.routeContext},P.createElement(ZS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function HD(t){let{routeContext:e,match:n,children:r}=t,i=P.useContext(Rm);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),P.createElement(Us.Provider,{value:e},r)}function $D(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Le(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:h,errors:f}=n,p=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||p){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,p=!1,g=null,w=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||jD,l&&(c<0&&h===0?(p=!0,w=null):c===h&&(p=!0,w=d.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),k=()=>{let E;return f?E=g:p?E=w:d.route.Component?E=P.createElement(d.route.Component,null):d.route.element?E=d.route.element:E=u,P.createElement(HD,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:E})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?P.createElement(FD,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:k(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):k()},null)}var n9=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(n9||{}),Jf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Jf||{});function VD(t){let e=P.useContext(Rm);return e||Le(!1),e}function UD(t){let e=P.useContext(QS);return e||Le(!1),e}function WD(t){let e=P.useContext(Us);return e||Le(!1),e}function r9(t){let e=WD(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function qD(){var t;let e=P.useContext(ZS),n=UD(Jf.UseRouteError),r=r9(Jf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function KD(){let{router:t}=VD(n9.UseNavigateStable),e=r9(Jf.UseNavigateStable),n=P.useRef(!1);return e9(()=>{n.current=!0}),P.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Kf({fromRouteId:e},s)))},[t,e])}const fw={};function GD(t,e){fw[e]||(fw[e]=!0,console.warn(e))}const Tl=(t,e,n)=>GD(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function JD(t,e){t!=null&&t.v7_startTransition||Tl("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&(!e||!e.v7_relativeSplatPath)&&Tl("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath"),e&&(e.v7_fetcherPersist||Tl("v7_fetcherPersist","The persistence behavior of fetchers is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_fetcherpersist"),e.v7_normalizeFormMethod||Tl("v7_normalizeFormMethod","Casing of `formMethod` fields is being normalized to uppercase in v7","https://reactrouter.com/v6/upgrading/future#v7_normalizeformmethod"),e.v7_partialHydration||Tl("v7_partialHydration","`RouterProvider` hydration behavior is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_partialhydration"),e.v7_skipActionErrorRevalidation||Tl("v7_skipActionErrorRevalidation","The revalidation behavior after 4xx/5xx `action` responses is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_skipactionerrorrevalidation"))}function YD(t){let{to:e,replace:n,state:r,relative:i}=t;Jc()||Le(!1);let{future:s,static:o}=P.useContext(ra),{matches:a}=P.useContext(Us),{pathname:l}=wi(),c=xr(),u=Im(e,Om(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(u);return P.useEffect(()=>c(JSON.parse(d),{replace:n,state:r,relative:i}),[c,d,i,n,r]),null}function XD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Vt.Pop,navigator:s,static:o=!1,future:a}=t;Jc()&&Le(!1);let l=e.replace(/^\/*/,"/"),c=P.useMemo(()=>({basename:l,navigator:s,static:o,future:Kf({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=na(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,g=P.useMemo(()=>{let w=Gc(u,l);return w==null?null:{location:{pathname:w,search:d,hash:h,state:f,key:p},navigationType:i}},[l,u,d,h,f,p,i]);return g==null?null:P.createElement(ra.Provider,{value:c},P.createElement(j2.Provider,{children:n,value:g}))}new Promise(()=>{});function QD(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:P.createElement(t.Component),Component:void 0}),t.HydrateFallback&&Object.assign(e,{hydrateFallbackElement:P.createElement(t.HydrateFallback),HydrateFallback:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:P.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nd(){return Nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nd.apply(this,arguments)}function ZD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function eR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function tR(t,e){return t.button===0&&(!e||e==="_self")&&!eR(t)}const nR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],rR="6";try{window.__reactRouterVersion=rR}catch{}function iR(t,e){return mD({basename:void 0,future:Nd({},void 0,{v7_prependBasename:!0}),history:jI({window:void 0}),hydrationData:sR(),routes:t,mapRouteProperties:QD,dataStrategy:void 0,patchRoutesOnNavigation:void 0,window:void 0}).initialize()}function sR(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Nd({},e,{errors:oR(e.errors)})),e}function oR(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new qf(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const aR=P.createContext({isTransitioning:!1}),lR=P.createContext(new Map),cR="startTransition",pw=MN[cR],uR="flushSync",mw=BI[uR];function dR(t){pw?pw(t):t()}function Cu(t){mw?mw(t):t()}let hR=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function fR(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=P.useState(n.state),[o,a]=P.useState(),[l,c]=P.useState({isTransitioning:!1}),[u,d]=P.useState(),[h,f]=P.useState(),[p,g]=P.useState(),w=P.useRef(new Map),{v7_startTransition:v}=r||{},k=P.useCallback(I=>{v?dR(I):I()},[v]),E=P.useCallback((I,_)=>{let{deletedFetchers:F,flushSync:G,viewTransitionOpts:Q}=_;F.forEach(ge=>w.current.delete(ge)),I.fetchers.forEach((ge,Ne)=>{ge.data!==void 0&&w.current.set(Ne,ge.data)});let oe=n.window==null||n.window.document==null||typeof n.window.document.startViewTransition!="function";if(!Q||oe){G?Cu(()=>s(I)):k(()=>s(I));return}if(G){Cu(()=>{h&&(u&&u.resolve(),h.skipTransition()),c({isTransitioning:!0,flushSync:!0,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})});let ge=n.window.document.startViewTransition(()=>{Cu(()=>s(I))});ge.finished.finally(()=>{Cu(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})})}),Cu(()=>f(ge));return}h?(u&&u.resolve(),h.skipTransition(),g({state:I,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation})):(a(I),c({isTransitioning:!0,flushSync:!1,currentLocation:Q.currentLocation,nextLocation:Q.nextLocation}))},[n.window,h,u,w,k]);P.useLayoutEffect(()=>n.subscribe(E),[n,E]),P.useEffect(()=>{l.isTransitioning&&!l.flushSync&&d(new hR)},[l]),P.useEffect(()=>{if(u&&o&&n.window){let I=o,_=u.promise,F=n.window.document.startViewTransition(async()=>{k(()=>s(I)),await _});F.finished.finally(()=>{d(void 0),f(void 0),a(void 0),c({isTransitioning:!1})}),f(F)}},[k,o,u,n.window]),P.useEffect(()=>{u&&o&&i.location.key===o.location.key&&u.resolve()},[u,h,i.location,o]),P.useEffect(()=>{!l.isTransitioning&&p&&(a(p.state),c({isTransitioning:!0,flushSync:!1,currentLocation:p.currentLocation,nextLocation:p.nextLocation}),g(void 0))},[l.isTransitioning,p]),P.useEffect(()=>{},[]);let S=P.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:I=>n.navigate(I),push:(I,_,F)=>n.navigate(I,{state:_,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(I,_,F)=>n.navigate(I,{replace:!0,state:_,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),N=n.basename||"/",b=P.useMemo(()=>({router:n,navigator:S,static:!1,basename:N}),[n,S,N]),M=P.useMemo(()=>({v7_relativeSplatPath:n.future.v7_relativeSplatPath}),[n.future.v7_relativeSplatPath]);return P.useEffect(()=>JD(r,n.future),[r,n.future]),P.createElement(P.Fragment,null,P.createElement(Rm.Provider,{value:b},P.createElement(QS.Provider,{value:i},P.createElement(lR.Provider,{value:w.current},P.createElement(aR.Provider,{value:l},P.createElement(XD,{basename:N,location:i.location,navigationType:i.historyAction,navigator:S,future:M},i.initialized||n.future.v7_partialHydration?P.createElement(pR,{routes:n.routes,future:n.future,state:i}):e))))),null)}const pR=P.memo(mR);function mR(t){let{routes:e,future:n,state:r}=t;return zD(e,void 0,r,n)}const gR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i9=P.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,h=ZD(e,nR),{basename:f}=P.useContext(ra),p,g=!1;if(typeof c=="string"&&vR.test(c)&&(p=c,gR))try{let E=new URL(window.location.href),S=c.startsWith("//")?new URL(E.protocol+c):new URL(c),N=Gc(S.pathname,f);S.origin===E.origin&&N!=null?c=N+S.search+S.hash:g=!0}catch{}let w=LD(c,{relative:i}),v=yR(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:d});function k(E){r&&r(E),E.defaultPrevented||v(E)}return P.createElement("a",Nd({},h,{href:p||w,onClick:g||s?r:k,ref:n,target:l}))});var gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gw||(gw={}));var vw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(vw||(vw={}));function yR(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=xr(),c=wi(),u=t9(t,{relative:o});return P.useCallback(d=>{if(tR(d,n)){d.preventDefault();let h=r!==void 0?r:Za(c)===Za(u);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}var Xn=function(){return Xn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Xn.apply(this,arguments)};function F2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Yf(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var pt="-ms-",Ju="-moz-",Je="-webkit-",s9="comm",_m="rule",H2="decl",wR="@import",o9="@keyframes",bR="@layer",a9=Math.abs,$2=String.fromCharCode,dv=Object.assign;function kR(t,e){return sn(t,0)^45?(((e<<2^sn(t,0))<<2^sn(t,1))<<2^sn(t,2))<<2^sn(t,3):0}function l9(t){return t.trim()}function ps(t,e){return(t=e.exec(t))?t[0]:t}function Ie(t,e,n){return t.replace(e,n)}function Kh(t,e,n){return t.indexOf(e,n)}function sn(t,e){return t.charCodeAt(e)|0}function Ec(t,e,n){return t.slice(e,n)}function zi(t){return t.length}function c9(t){return t.length}function Ru(t,e){return e.push(t),t}function xR(t,e){return t.map(e).join("")}function yw(t,e){return t.filter(function(n){return!ps(n,e)})}var Lm=1,Tc=1,u9=0,$r=0,Ut=0,Yc="";function Pm(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:Lm,column:Tc,length:o,return:"",siblings:a}}function ro(t,e){return dv(Pm("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ml(t){for(;t.root;)t=ro(t.root,{children:[t]});Ru(t,t.siblings)}function SR(){return Ut}function CR(){return Ut=$r>0?sn(Yc,--$r):0,Tc--,Ut===10&&(Tc=1,Lm--),Ut}function ui(){return Ut=$r<u9?sn(Yc,$r++):0,Tc++,Ut===10&&(Tc=1,Lm++),Ut}function Ba(){return sn(Yc,$r)}function Gh(){return $r}function zm(t,e){return Ec(Yc,t,e)}function hv(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function ER(t){return Lm=Tc=1,u9=zi(Yc=t),$r=0,[]}function TR(t){return Yc="",t}function rg(t){return l9(zm($r-1,fv(t===91?t+2:t===40?t+1:t)))}function MR(t){for(;(Ut=Ba())&&Ut<33;)ui();return hv(t)>2||hv(Ut)>3?"":" "}function AR(t,e){for(;--e&&ui()&&!(Ut<48||Ut>102||Ut>57&&Ut<65||Ut>70&&Ut<97););return zm(t,Gh()+(e<6&&Ba()==32&&ui()==32))}function fv(t){for(;ui();)switch(Ut){case t:return $r;case 34:case 39:t!==34&&t!==39&&fv(Ut);break;case 40:t===41&&fv(t);break;case 92:ui();break}return $r}function NR(t,e){for(;ui()&&t+Ut!==57;)if(t+Ut===84&&Ba()===47)break;return"/*"+zm(e,$r-1)+"*"+$2(t===47?t:ui())}function OR(t){for(;!hv(Ba());)ui();return zm(t,$r)}function IR(t){return TR(Jh("",null,null,null,[""],t=ER(t),0,[0],t))}function Jh(t,e,n,r,i,s,o,a,l){for(var c=0,u=0,d=o,h=0,f=0,p=0,g=1,w=1,v=1,k=0,E="",S=i,N=s,b=r,M=E;w;)switch(p=k,k=ui()){case 40:if(p!=108&&sn(M,d-1)==58){Kh(M+=Ie(rg(k),"&","&\f"),"&\f",a9(c?a[c-1]:0))!=-1&&(v=-1);break}case 34:case 39:case 91:M+=rg(k);break;case 9:case 10:case 13:case 32:M+=MR(p);break;case 92:M+=AR(Gh()-1,7);continue;case 47:switch(Ba()){case 42:case 47:Ru(DR(NR(ui(),Gh()),e,n,l),l);break;default:M+="/"}break;case 123*g:a[c++]=zi(M)*v;case 125*g:case 59:case 0:switch(k){case 0:case 125:w=0;case 59+u:v==-1&&(M=Ie(M,/\f/g,"")),f>0&&zi(M)-d&&Ru(f>32?bw(M+";",r,n,d-1,l):bw(Ie(M," ","")+";",r,n,d-2,l),l);break;case 59:M+=";";default:if(Ru(b=ww(M,e,n,c,u,i,a,E,S=[],N=[],d,s),s),k===123)if(u===0)Jh(M,e,b,b,S,s,d,a,N);else switch(h===99&&sn(M,3)===110?100:h){case 100:case 108:case 109:case 115:Jh(t,b,b,r&&Ru(ww(t,b,b,0,0,i,a,E,i,S=[],d,N),N),i,N,d,a,r?S:N);break;default:Jh(M,b,b,b,[""],N,0,a,N)}}c=u=f=0,g=v=1,E=M="",d=o;break;case 58:d=1+zi(M),f=p;default:if(g<1){if(k==123)--g;else if(k==125&&g++==0&&CR()==125)continue}switch(M+=$2(k),k*g){case 38:v=u>0?1:(M+="\f",-1);break;case 44:a[c++]=(zi(M)-1)*v,v=1;break;case 64:Ba()===45&&(M+=rg(ui())),h=Ba(),u=d=zi(E=M+=OR(Gh())),k++;break;case 45:p===45&&zi(M)==2&&(g=0)}}return s}function ww(t,e,n,r,i,s,o,a,l,c,u,d){for(var h=i-1,f=i===0?s:[""],p=c9(f),g=0,w=0,v=0;g<r;++g)for(var k=0,E=Ec(t,h+1,h=a9(w=o[g])),S=t;k<p;++k)(S=l9(w>0?f[k]+" "+E:Ie(E,/&\f/g,f[k])))&&(l[v++]=S);return Pm(t,e,n,i===0?_m:a,l,c,u,d)}function DR(t,e,n,r){return Pm(t,e,n,s9,$2(SR()),Ec(t,2,-2),0,r)}function bw(t,e,n,r,i){return Pm(t,e,n,H2,Ec(t,0,r),Ec(t,r+1,-1),r,i)}function d9(t,e,n){switch(kR(t,e)){case 5103:return Je+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Je+t+t;case 4789:return Ju+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Je+t+Ju+t+pt+t+t;case 5936:switch(sn(t,e+11)){case 114:return Je+t+pt+Ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Je+t+pt+Ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Je+t+pt+Ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Je+t+pt+t+t;case 6165:return Je+t+pt+"flex-"+t+t;case 5187:return Je+t+Ie(t,/(\w+).+(:[^]+)/,Je+"box-$1$2"+pt+"flex-$1$2")+t;case 5443:return Je+t+pt+"flex-item-"+Ie(t,/flex-|-self/g,"")+(ps(t,/flex-|baseline/)?"":pt+"grid-row-"+Ie(t,/flex-|-self/g,""))+t;case 4675:return Je+t+pt+"flex-line-pack"+Ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return Je+t+pt+Ie(t,"shrink","negative")+t;case 5292:return Je+t+pt+Ie(t,"basis","preferred-size")+t;case 6060:return Je+"box-"+Ie(t,"-grow","")+Je+t+pt+Ie(t,"grow","positive")+t;case 4554:return Je+Ie(t,/([^-])(transform)/g,"$1"+Je+"$2")+t;case 6187:return Ie(Ie(Ie(t,/(zoom-|grab)/,Je+"$1"),/(image-set)/,Je+"$1"),t,"")+t;case 5495:case 3959:return Ie(t,/(image-set\([^]*)/,Je+"$1$`$1");case 4968:return Ie(Ie(t,/(.+:)(flex-)?(.*)/,Je+"box-pack:$3"+pt+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Je+t+t;case 4200:if(!ps(t,/flex-|baseline/))return pt+"grid-column-align"+Ec(t,e)+t;break;case 2592:case 3360:return pt+Ie(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ps(r.props,/grid-\w+-end/)})?~Kh(t+(n=n[e].value),"span",0)?t:pt+Ie(t,"-start","")+t+pt+"grid-row-span:"+(~Kh(n,"span",0)?ps(n,/\d+/):+ps(n,/\d+/)-+ps(t,/\d+/))+";":pt+Ie(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ps(r.props,/grid-\w+-start/)})?t:pt+Ie(Ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return Ie(t,/(.+)-inline(.+)/,Je+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zi(t)-1-e>6)switch(sn(t,e+1)){case 109:if(sn(t,e+4)!==45)break;case 102:return Ie(t,/(.+:)(.+)-([^]+)/,"$1"+Je+"$2-$3$1"+Ju+(sn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Kh(t,"stretch",0)?d9(Ie(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return Ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,c){return pt+i+":"+s+c+(o?pt+i+"-span:"+(a?l:+l-+s)+c:"")+t});case 4949:if(sn(t,e+6)===121)return Ie(t,":",":"+Je)+t;break;case 6444:switch(sn(t,sn(t,14)===45?18:11)){case 120:return Ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Je+(sn(t,14)===45?"inline-":"")+"box$3$1"+Je+"$2$3$1"+pt+"$2box$3")+t;case 100:return Ie(t,":",":"+pt)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Ie(t,"scroll-","scroll-snap-")+t}return t}function Xf(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function RR(t,e,n,r){switch(t.type){case bR:if(t.children.length)break;case wR:case H2:return t.return=t.return||t.value;case s9:return"";case o9:return t.return=t.value+"{"+Xf(t.children,r)+"}";case _m:if(!zi(t.value=t.props.join(",")))return""}return zi(n=Xf(t.children,r))?t.return=t.value+"{"+n+"}":""}function _R(t){var e=c9(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function LR(t){return function(e){e.root||(e=e.return)&&t(e)}}function PR(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case H2:t.return=d9(t.value,t.length,n);return;case o9:return Xf([ro(t,{value:Ie(t.value,"@","@"+Je)})],r);case _m:if(t.length)return xR(n=t.props,function(i){switch(ps(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ml(ro(t,{props:[Ie(i,/:(read-\w+)/,":"+Ju+"$1")]})),Ml(ro(t,{props:[i]})),dv(t,{props:yw(n,r)});break;case"::placeholder":Ml(ro(t,{props:[Ie(i,/:(plac\w+)/,":"+Je+"input-$1")]})),Ml(ro(t,{props:[Ie(i,/:(plac\w+)/,":"+Ju+"$1")]})),Ml(ro(t,{props:[Ie(i,/:(plac\w+)/,pt+"input-$1")]})),Ml(ro(t,{props:[i]})),dv(t,{props:yw(n,r)});break}return""})}}var zR={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},or={},Mc=typeof process<"u"&&or!==void 0&&(or.REACT_APP_SC_ATTR||or.SC_ATTR)||"data-styled",h9="active",f9="data-styled-version",Bm="6.1.13",V2=`/*!sc*/
`,Qf=typeof window<"u"&&"HTMLElement"in window,BR=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&or!==void 0&&or.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&or.REACT_APP_SC_DISABLE_SPEEDY!==""?or.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&or.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&or!==void 0&&or.SC_DISABLE_SPEEDY!==void 0&&or.SC_DISABLE_SPEEDY!==""&&or.SC_DISABLE_SPEEDY!=="false"&&or.SC_DISABLE_SPEEDY),jm=Object.freeze([]),Ac=Object.freeze({});function jR(t,e,n){return n===void 0&&(n=Ac),t.theme!==n.theme&&t.theme||e||n.theme}var p9=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),FR=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,HR=/(^-|-$)/g;function kw(t){return t.replace(FR,"-").replace(HR,"")}var $R=/(a)(d)/gi,Z0=52,xw=function(t){return String.fromCharCode(t+(t>25?39:97))};function pv(t){var e,n="";for(e=Math.abs(t);e>Z0;e=e/Z0|0)n=xw(e%Z0)+n;return(xw(e%Z0)+n).replace($R,"$1-$2")}var ig,m9=5381,Gl=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},g9=function(t){return Gl(m9,t)};function VR(t){return pv(g9(t)>>>0)}function UR(t){return t.displayName||t.name||"Component"}function sg(t){return typeof t=="string"&&!0}var v9=typeof Symbol=="function"&&Symbol.for,y9=v9?Symbol.for("react.memo"):60115,WR=v9?Symbol.for("react.forward_ref"):60112,qR={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KR={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},w9={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},GR=((ig={})[WR]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ig[y9]=w9,ig);function Sw(t){return("type"in(e=t)&&e.type.$$typeof)===y9?w9:"$$typeof"in t?GR[t.$$typeof]:qR;var e}var JR=Object.defineProperty,YR=Object.getOwnPropertyNames,Cw=Object.getOwnPropertySymbols,XR=Object.getOwnPropertyDescriptor,QR=Object.getPrototypeOf,Ew=Object.prototype;function b9(t,e,n){if(typeof e!="string"){if(Ew){var r=QR(e);r&&r!==Ew&&b9(t,r,n)}var i=YR(e);Cw&&(i=i.concat(Cw(e)));for(var s=Sw(t),o=Sw(e),a=0;a<i.length;++a){var l=i[a];if(!(l in KR||n&&n[l]||o&&l in o||s&&l in s)){var c=XR(e,l);try{JR(t,l,c)}catch{}}}}return t}function Nc(t){return typeof t=="function"}function U2(t){return typeof t=="object"&&"styledComponentId"in t}function Ia(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Tw(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Od(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function mv(t,e,n){if(n===void 0&&(n=!1),!n&&!Od(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=mv(t[r],e[r]);else if(Od(e))for(var r in e)t[r]=mv(t[r],e[r]);return t}function W2(t,e){Object.defineProperty(t,"toString",{value:e})}function d0(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var ZR=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw d0(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(V2);return n},t}(),Yh=new Map,Zf=new Map,Xh=1,eh=function(t){if(Yh.has(t))return Yh.get(t);for(;Zf.has(Xh);)Xh++;var e=Xh++;return Yh.set(t,e),Zf.set(e,t),e},e_=function(t,e){Xh=e+1,Yh.set(t,e),Zf.set(e,t)},t_="style[".concat(Mc,"][").concat(f9,'="').concat(Bm,'"]'),n_=new RegExp("^".concat(Mc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),r_=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},i_=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(V2),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(n_);if(l){var c=0|parseInt(l[1],10),u=l[2];c!==0&&(e_(u,c),r_(t,u,l[3]),t.getTag().insertRules(c,i)),i.length=0}else i.push(a)}}},Mw=function(t){for(var e=document.querySelectorAll(t_),n=0,r=e.length;n<r;n++){var i=e[n];i&&i.getAttribute(Mc)!==h9&&(i_(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function s_(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var k9=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(Mc,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(Mc,h9),r.setAttribute(f9,Bm);var o=s_();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},o_=function(){function t(e){this.element=k9(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw d0(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),a_=function(){function t(e){this.element=k9(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),l_=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),Aw=Qf,c_={isServer:!Qf,useCSSOMInjection:!BR},x9=function(){function t(e,n,r){e===void 0&&(e=Ac),n===void 0&&(n={});var i=this;this.options=Xn(Xn({},c_),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Qf&&Aw&&(Aw=!1,Mw(this)),W2(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",c=function(d){var h=function(v){return Zf.get(v)}(d);if(h===void 0)return"continue";var f=s.names.get(h),p=o.getGroup(d);if(f===void 0||!f.size||p.length===0)return"continue";var g="".concat(Mc,".g").concat(d,'[id="').concat(h,'"]'),w="";f!==void 0&&f.forEach(function(v){v.length>0&&(w+="".concat(v,","))}),l+="".concat(p).concat(g,'{content:"').concat(w,'"}').concat(V2)},u=0;u<a;u++)c(u);return l}(i)})}return t.registerId=function(e){return eh(e)},t.prototype.rehydrate=function(){!this.server&&Qf&&Mw(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Xn(Xn({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new l_(i):r?new o_(i):new a_(i)}(this.options),new ZR(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(eh(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(eh(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(eh(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),u_=/&/g,d_=/^\s*\/\/.*$/gm;function S9(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=S9(n.children,e)),n})}function h_(t){var e,n,r,i=Ac,s=i.options,o=s===void 0?Ac:s,a=i.plugins,l=a===void 0?jm:a,c=function(h,f,p){return p.startsWith(n)&&p.endsWith(n)&&p.replaceAll(n,"").length>0?".".concat(e):h},u=l.slice();u.push(function(h){h.type===_m&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(u_,n).replace(r,c))}),o.prefix&&u.push(PR),u.push(RR);var d=function(h,f,p,g){f===void 0&&(f=""),p===void 0&&(p=""),g===void 0&&(g="&"),e=g,n=f,r=new RegExp("\\".concat(n,"\\b"),"g");var w=h.replace(d_,""),v=IR(p||f?"".concat(p," ").concat(f," { ").concat(w," }"):w);o.namespace&&(v=S9(v,o.namespace));var k=[];return Xf(v,_R(u.concat(LR(function(E){return k.push(E)})))),k};return d.hash=l.length?l.reduce(function(h,f){return f.name||d0(15),Gl(h,f.name)},m9).toString():"",d}var f_=new x9,gv=h_(),C9=Tt.createContext({shouldForwardProp:void 0,styleSheet:f_,stylis:gv});C9.Consumer;Tt.createContext(void 0);function Nw(){return P.useContext(C9)}var p_=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=gv);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,W2(this,function(){throw d0(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=gv),this.name+e.hash},t}(),m_=function(t){return t>="A"&&t<="Z"};function Ow(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;m_(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var E9=function(t){return t==null||t===!1||t===""},T9=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!E9(s)&&(Array.isArray(s)&&s.isCss||Nc(s)?r.push("".concat(Ow(i),":"),s,";"):Od(s)?r.push.apply(r,Yf(Yf(["".concat(i," {")],T9(s),!1),["}"],!1)):r.push("".concat(Ow(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in zR||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function ja(t,e,n,r){if(E9(t))return[];if(U2(t))return[".".concat(t.styledComponentId)];if(Nc(t)){if(!Nc(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return ja(i,e,n,r)}var s;return t instanceof p_?n?(t.inject(n,r),[t.getName(r)]):[t]:Od(t)?T9(t):Array.isArray(t)?Array.prototype.concat.apply(jm,t.map(function(o){return ja(o,e,n,r)})):[t.toString()]}function g_(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Nc(n)&&!U2(n))return!1}return!0}var v_=g9(Bm),y_=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&g_(e),this.componentId=n,this.baseHash=Gl(v_,n),this.baseStyle=r,x9.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Ia(i,this.staticRulesId);else{var s=Tw(ja(this.rules,e,n,r)),o=pv(Gl(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Ia(i,o),this.staticRulesId=o}else{for(var l=Gl(this.baseHash,r.hash),c="",u=0;u<this.rules.length;u++){var d=this.rules[u];if(typeof d=="string")c+=d;else if(d){var h=Tw(ja(d,e,n,r));l=Gl(l,h+u),c+=h}}if(c){var f=pv(l>>>0);n.hasNameForId(this.componentId,f)||n.insertRules(this.componentId,f,r(c,".".concat(f),void 0,this.componentId)),i=Ia(i,f)}}return i},t}(),M9=Tt.createContext(void 0);M9.Consumer;var og={};function w_(t,e,n){var r=U2(t),i=t,s=!sg(t),o=e.attrs,a=o===void 0?jm:o,l=e.componentId,c=l===void 0?function(S,N){var b=typeof S!="string"?"sc":kw(S);og[b]=(og[b]||0)+1;var M="".concat(b,"-").concat(VR(Bm+b+og[b]));return N?"".concat(N,"-").concat(M):M}(e.displayName,e.parentComponentId):l,u=e.displayName,d=u===void 0?function(S){return sg(S)?"styled.".concat(S):"Styled(".concat(UR(S),")")}(t):u,h=e.displayName&&e.componentId?"".concat(kw(e.displayName),"-").concat(e.componentId):e.componentId||c,f=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,p=e.shouldForwardProp;if(r&&i.shouldForwardProp){var g=i.shouldForwardProp;if(e.shouldForwardProp){var w=e.shouldForwardProp;p=function(S,N){return g(S,N)&&w(S,N)}}else p=g}var v=new y_(n,h,r?i.componentStyle:void 0);function k(S,N){return function(b,M,I){var _=b.attrs,F=b.componentStyle,G=b.defaultProps,Q=b.foldedComponentIds,oe=b.styledComponentId,ge=b.target,Ne=Tt.useContext(M9),Me=Nw(),he=b.shouldForwardProp||Me.shouldForwardProp,$=jR(M,Ne,G)||Ac,ee=function(je,Fe,Ze){for(var vt,Bt=Xn(Xn({},Fe),{className:void 0,theme:Ze}),Yt=0;Yt<je.length;Yt+=1){var Ye=Nc(vt=je[Yt])?vt(Bt):vt;for(var Ot in Ye)Bt[Ot]=Ot==="className"?Ia(Bt[Ot],Ye[Ot]):Ot==="style"?Xn(Xn({},Bt[Ot]),Ye[Ot]):Ye[Ot]}return Fe.className&&(Bt.className=Ia(Bt.className,Fe.className)),Bt}(_,M,$),te=ee.as||ge,ve={};for(var de in ee)ee[de]===void 0||de[0]==="$"||de==="as"||de==="theme"&&ee.theme===$||(de==="forwardedAs"?ve.as=ee.forwardedAs:he&&!he(de,te)||(ve[de]=ee[de]));var rt=function(je,Fe){var Ze=Nw(),vt=je.generateAndInjectStyles(Fe,Ze.styleSheet,Ze.stylis);return vt}(F,ee),Be=Ia(Q,oe);return rt&&(Be+=" "+rt),ee.className&&(Be+=" "+ee.className),ve[sg(te)&&!p9.has(te)?"class":"className"]=Be,ve.ref=I,P.createElement(te,ve)}(E,S,N)}k.displayName=d;var E=Tt.forwardRef(k);return E.attrs=f,E.componentStyle=v,E.displayName=d,E.shouldForwardProp=p,E.foldedComponentIds=r?Ia(i.foldedComponentIds,i.styledComponentId):"",E.styledComponentId=h,E.target=r?i.target:t,Object.defineProperty(E,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=r?function(N){for(var b=[],M=1;M<arguments.length;M++)b[M-1]=arguments[M];for(var I=0,_=b;I<_.length;I++)mv(N,_[I],!0);return N}({},i.defaultProps,S):S}}),W2(E,function(){return".".concat(E.styledComponentId)}),s&&b9(E,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),E}function Iw(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var Dw=function(t){return Object.assign(t,{isCss:!0})};function b_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Nc(t)||Od(t))return Dw(ja(Iw(jm,Yf([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?ja(r):Dw(ja(Iw(r,e)))}function vv(t,e,n){if(n===void 0&&(n=Ac),!e)throw d0(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,b_.apply(void 0,Yf([i],s,!1)))};return r.attrs=function(i){return vv(t,e,Xn(Xn({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return vv(t,e,Xn(Xn({},n),i))},r}var A9=function(t){return vv(w_,t)},es=A9;p9.forEach(function(t){es[t]=A9(t)});const N9=es.div`
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 300px;
  padding: 50px 0px;
`,O9=es.h1`
  font-size: 42px;
  text-align: center;
`,I9=es.form`
  margin-top: 50px;
  margin-bottom: 10px;
  display: flex;
  flex-direction: column;
  gap: 10px;
  width: 100%;
`,Da=es.input`
  padding: 10px 0;
  padding-left: 10px;
  border-radius: 50px;
  border: 1px solid #777777;
  width: 98%;
  font-size: 16px;
  &[type="submit"] {
    cursor: pointer;
    width: 100%;
    &:hover {
      opacity: 0.8;
    }
  }
`,D9=es.span`
  font-weight: 600;
  color: tomato;
`,R9=es.span`
  margin-top: 20px;
  padding-left: 10px;
  a {
    color: #1d9bf0;
  }
`;var Rw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},k_=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},L9={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,o||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_9(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):k_(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||d==null)throw new x_;const h=s<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const p=c<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class x_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S_=function(t){const e=_9(t);return L9.encodeByteArray(e,!0)},P9=function(t){return S_(t).replace(/\./g,"")},z9=function(t){try{return L9.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_=()=>C_().__FIREBASE_DEFAULTS__,T_=()=>{if(typeof process>"u"||typeof Rw>"u")return;const t=Rw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},M_=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&z9(t[1]);return e&&JSON.parse(e)},q2=()=>{try{return E_()||T_()||M_()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A_=t=>{var e,n;return(n=(e=q2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},B9=()=>{var t;return(t=q2())===null||t===void 0?void 0:t.config},j9=t=>{var e;return(e=q2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function O_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zn())}function I_(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function D_(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function __(){const t=zn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function L_(){try{return typeof indexedDB=="object"}catch{return!1}}function P_(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z_,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,h0.prototype.create)}}class h0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?B_(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ts(i,a,r)}}function B_(t,e){return t.replace(j_,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const j_=/\{\$([^}]+)}/g;function F_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ep(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_w(s)&&_w(o)){if(!ep(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _w(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function _u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Lu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function H_(t,e){const n=new $_(t,e);return n.subscribe.bind(n)}class $_{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");V_(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ag),i.error===void 0&&(i.error=ag),i.complete===void 0&&(i.complete=ag);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V_(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ws(t){return t&&t._delegate?t._delegate:t}class Oc{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new N_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(q_(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:W_(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function W_(t){return t===ba?void 0:t}function q_(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new U_(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(it||(it={}));const G_={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},J_=it.INFO,Y_={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},X_=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y_[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class F9{constructor(e){this.name=e,this._logLevel=J_,this._logHandler=X_,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?G_[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const Q_=(t,e)=>e.some(n=>t instanceof n);let Lw,Pw;function Z_(){return Lw||(Lw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eL(){return Pw||(Pw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H9=new WeakMap,yv=new WeakMap,$9=new WeakMap,lg=new WeakMap,K2=new WeakMap;function tL(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&H9.set(n,t)}).catch(()=>{}),K2.set(e,t),e}function nL(t){if(yv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});yv.set(t,e)}let wv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$9.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rL(t){wv=t(wv)}function iL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cg(this),e,...n);return $9.set(r,e.sort?e.sort():[e]),Bo(r)}:eL().includes(t)?function(...e){return t.apply(cg(this),e),Bo(H9.get(this))}:function(...e){return Bo(t.apply(cg(this),e))}}function sL(t){return typeof t=="function"?iL(t):(t instanceof IDBTransaction&&nL(t),Q_(t,Z_())?new Proxy(t,wv):t)}function Bo(t){if(t instanceof IDBRequest)return tL(t);if(lg.has(t))return lg.get(t);const e=sL(t);return e!==t&&(lg.set(t,e),K2.set(e,t)),e}const cg=t=>K2.get(t);function oL(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bo(o.result),l.oldVersion,l.newVersion,Bo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const aL=["get","getKey","getAll","getAllKeys","count"],lL=["put","add","delete","clear"],ug=new Map;function zw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ug.get(e))return ug.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aL.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return ug.set(e,s),s}rL(t=>({...t,get:(e,n,r)=>zw(e,n)||t.get(e,n,r),has:(e,n)=>!!zw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bv="@firebase/app",Bw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new F9("@firebase/app"),dL="@firebase/app-compat",hL="@firebase/analytics-compat",fL="@firebase/analytics",pL="@firebase/app-check-compat",mL="@firebase/app-check",gL="@firebase/auth",vL="@firebase/auth-compat",yL="@firebase/database",wL="@firebase/data-connect",bL="@firebase/database-compat",kL="@firebase/functions",xL="@firebase/functions-compat",SL="@firebase/installations",CL="@firebase/installations-compat",EL="@firebase/messaging",TL="@firebase/messaging-compat",ML="@firebase/performance",AL="@firebase/performance-compat",NL="@firebase/remote-config",OL="@firebase/remote-config-compat",IL="@firebase/storage",DL="@firebase/storage-compat",RL="@firebase/firestore",_L="@firebase/vertexai",LL="@firebase/firestore-compat",PL="firebase",zL="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="[DEFAULT]",BL={[bv]:"fire-core",[dL]:"fire-core-compat",[fL]:"fire-analytics",[hL]:"fire-analytics-compat",[mL]:"fire-app-check",[pL]:"fire-app-check-compat",[gL]:"fire-auth",[vL]:"fire-auth-compat",[yL]:"fire-rtdb",[wL]:"fire-data-connect",[bL]:"fire-rtdb-compat",[kL]:"fire-fn",[xL]:"fire-fn-compat",[SL]:"fire-iid",[CL]:"fire-iid-compat",[EL]:"fire-fcm",[TL]:"fire-fcm-compat",[ML]:"fire-perf",[AL]:"fire-perf-compat",[NL]:"fire-rc",[OL]:"fire-rc-compat",[IL]:"fire-gcs",[DL]:"fire-gcs-compat",[RL]:"fire-fst",[LL]:"fire-fst-compat",[_L]:"fire-vertex","fire-js":"fire-js",[PL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=new Map,jL=new Map,xv=new Map;function jw(t,e){try{t.container.addComponent(e)}catch(n){Ps.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Id(t){const e=t.name;if(xv.has(e))return Ps.debug(`There were multiple attempts to register component ${e}.`),!1;xv.set(e,t);for(const n of tp.values())jw(n,t);for(const n of jL.values())jw(n,t);return!0}function V9(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Hi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},jo=new h0("app","Firebase",FL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw jo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=zL;function U9(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:kv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw jo.create("bad-app-name",{appName:String(i)});if(n||(n=B9()),!n)throw jo.create("no-options");const s=tp.get(i);if(s){if(ep(n,s.options)&&ep(r,s.config))return s;throw jo.create("duplicate-app",{appName:i})}const o=new K_(i);for(const l of xv.values())o.addComponent(l);const a=new HL(n,r,o);return tp.set(i,a),a}function $L(t=kv){const e=tp.get(t);if(!e&&t===kv&&B9())return U9();if(!e)throw jo.create("no-app",{appName:t});return e}function ic(t,e,n){var r;let i=(r=BL[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ps.warn(a.join(" "));return}Id(new Oc(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VL="firebase-heartbeat-database",UL=1,Dd="firebase-heartbeat-store";let dg=null;function W9(){return dg||(dg=oL(VL,UL,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dd)}catch(n){console.warn(n)}}}}).catch(t=>{throw jo.create("idb-open",{originalErrorMessage:t.message})})),dg}async function WL(t){try{const n=(await W9()).transaction(Dd),r=await n.objectStore(Dd).get(q9(t));return await n.done,r}catch(e){if(e instanceof ts)Ps.warn(e.message);else{const n=jo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ps.warn(n.message)}}}async function Fw(t,e){try{const r=(await W9()).transaction(Dd,"readwrite");await r.objectStore(Dd).put(e,q9(t)),await r.done}catch(n){if(n instanceof ts)Ps.warn(n.message);else{const r=jo.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ps.warn(r.message)}}}function q9(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL=1024,KL=30*24*60*60*1e3;class GL{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YL(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Hw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=KL}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ps.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Hw(),{heartbeatsToSend:r,unsentEntries:i}=JL(this._heartbeatsCache.heartbeats),s=P9(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ps.warn(n),""}}}function Hw(){return new Date().toISOString().substring(0,10)}function JL(t,e=qL){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$w(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$w(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L_()?P_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await WL(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $w(t){return P9(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(t){Id(new Oc("platform-logger",e=>new cL(e),"PRIVATE")),Id(new Oc("heartbeat",e=>new GL(e),"PRIVATE")),ic(bv,Bw,t),ic(bv,Bw,"esm2017"),ic("fire-js","")}XL("");function K9(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QL=K9,G9=new h0("auth","Firebase",K9());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np=new F9("@firebase/auth");function ZL(t,...e){np.logLevel<=it.WARN&&np.warn(`Auth (${p0}): ${t}`,...e)}function Qh(t,...e){np.logLevel<=it.ERROR&&np.error(`Auth (${p0}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw G2(t,...e)}function Ki(t,...e){return G2(t,...e)}function J9(t,e,n){const r=Object.assign(Object.assign({},QL()),{[e]:n});return new h0("auth","Firebase",r).create(e,{appName:t.name})}function Ts(t){return J9(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G2(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return G9.create(t,...e)}function Ee(t,e,...n){if(!t)throw G2(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Qh(e),new Error(e)}function zs(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function eP(){return Vw()==="http:"||Vw()==="https:"}function Vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(eP()||D_()||"connection"in navigator)?navigator.onLine:!0}function nP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n){this.shortDelay=e,this.longDelay=n,zs(n>e,"Short delay should be less than long delay!"),this.isMobile=O_()||R_()}get(){return tP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(t,e){zs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y9{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=new m0(3e4,6e4);function ia(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function qs(t,e,n,r,i={}){return X9(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=f0(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return I_()||(c.referrerPolicy="no-referrer"),Y9.fetch()(Q9(t,t.config.apiHost,n,a),c)})}async function X9(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},rP),e);try{const i=new oP(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw th(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw th(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw th(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw th(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw J9(t,u,c);mi(t,u)}}catch(i){if(i instanceof ts)throw i;mi(t,"network-request-failed",{message:String(i)})}}async function g0(t,e,n,r,i={}){const s=await qs(t,e,n,r,i);return"mfaPendingCredential"in s&&mi(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Q9(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?J2(t.config,i):`${t.config.apiScheme}://${i}`}function sP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class oP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),iP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function th(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ki(t,e,r);return i.customData._tokenResponse=n,i}function Uw(t){return t!==void 0&&t.enterprise!==void 0}class aP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return sP(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function lP(t,e){return qs(t,"GET","/v2/recaptchaConfig",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){return qs(t,"POST","/v1/accounts:delete",e)}async function Z9(t,e){return qs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uP(t,e=!1){const n=Ws(t),r=await n.getIdToken(e),i=Y2(r);Ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Yu(hg(i.auth_time)),issuedAtTime:Yu(hg(i.iat)),expirationTime:Yu(hg(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function hg(t){return Number(t)*1e3}function Y2(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const i=z9(n);return i?JSON.parse(i):(Qh("Failed to decode base64 JWT payload"),null)}catch(i){return Qh("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ww(t){const e=Y2(t);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&dP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yu(this.lastLoginAt),this.creationTime=Yu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ic(t,Z9(n,{idToken:r}));Ee(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?eC(s.providerUserInfo):[],a=pP(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Cv(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function fP(t){const e=Ws(t);await rp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pP(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eC(t){return t.map(e=>{var{providerId:n}=e,r=F2(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(t,e){const n=await X9(t,{},async()=>{const r=f0({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Q9(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Y9.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gP(t,e){return qs(t,"POST","/v2/accounts:revokeToken",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ww(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=Ww(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await mP(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new sc;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sc,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t,e){Ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ks{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=F2(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Cv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ic(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uP(this,e)}reload(){return fP(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ks(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await rp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Hi(this.auth.app))return Promise.reject(Ts(this.auth));const e=await this.getIdToken();return await Ic(this,cP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,k=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:S,isAnonymous:N,providerData:b,stsTokenManager:M}=n;Ee(E&&M,e,"internal-error");const I=sc.fromJSON(this.name,M);Ee(typeof E=="string",e,"internal-error"),Xs(d,e.name),Xs(h,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof N=="boolean",e,"internal-error"),Xs(f,e.name),Xs(p,e.name),Xs(g,e.name),Xs(w,e.name),Xs(v,e.name),Xs(k,e.name);const _=new ks({uid:E,auth:e,email:h,emailVerified:S,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:g,stsTokenManager:I,createdAt:v,lastLoginAt:k});return b&&Array.isArray(b)&&(_.providerData=b.map(F=>Object.assign({},F))),w&&(_._redirectEventId=w),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new sc;i.updateFromServerResponse(n);const s=new ks({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await rp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?eC(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new sc;a.updateFromIdToken(r);const l=new ks({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Cv(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=new Map;function xs(t){zs(t instanceof Function,"Expected a class definition");let e=qw.get(t);return e?(zs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}tC.type="NONE";const Kw=tC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(t,e,n){return`firebase:${t}:${e}:${n}`}class oc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Zh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Zh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ks._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new oc(xs(Kw),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||xs(Kw);const o=Zh(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=ks._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new oc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new oc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aC(e))return"Blackberry";if(lC(e))return"Webos";if(rC(e))return"Safari";if((e.includes("chrome/")||iC(e))&&!e.includes("edge/"))return"Chrome";if(oC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function nC(t=zn()){return/firefox\//i.test(t)}function rC(t=zn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iC(t=zn()){return/crios\//i.test(t)}function sC(t=zn()){return/iemobile/i.test(t)}function oC(t=zn()){return/android/i.test(t)}function aC(t=zn()){return/blackberry/i.test(t)}function lC(t=zn()){return/webos/i.test(t)}function X2(t=zn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vP(t=zn()){var e;return X2(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yP(){return __()&&document.documentMode===10}function cC(t=zn()){return X2(t)||oC(t)||lC(t)||aC(t)||/windows phone/i.test(t)||sC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(t,e=[]){let n;switch(t){case"Browser":n=Gw(zn());break;case"Worker":n=`${Gw(zn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${p0}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bP(t,e={}){return qs(t,"GET","/v2/passwordPolicy",ia(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=6;class xP{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:kP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jw(this),this.idTokenSubscription=new Jw(this),this.beforeStateQueue=new wP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G9,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=xs(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await oc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Z9(this,{idToken:e}),r=await ks._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Hi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await rp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=nP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Hi(this.app))return Promise.reject(Ts(this));const n=e?Ws(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Hi(this.app)?Promise.reject(Ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Hi(this.app)?Promise.reject(Ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bP(this),n=new xP(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new h0("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gP(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&xs(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await oc.create(this,[xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pl(t){return Ws(t)}class Jw{constructor(e){this.auth=e,this.observer=null,this.addObserver=H_(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CP(t){Fm=t}function dC(t){return Fm.loadJS(t)}function EP(){return Fm.recaptchaEnterpriseScript}function TP(){return Fm.gapiScript}function MP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class AP{constructor(){this.enterprise=new NP}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class NP{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const OP="recaptcha-enterprise",hC="NO_RECAPTCHA";class IP{constructor(e){this.type=OP,this.auth=pl(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{lP(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new aP(l);return s.tenantId==null?s._agentRecaptchaConfig=c:s._tenantRecaptchaConfigs[s.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;Uw(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(c=>{o(c)}).catch(()=>{o(hC)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new AP().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Uw(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EP();l.length!==0&&(l+=a),dC(l).then(()=>{i(a,s,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function Yw(t,e,n,r=!1,i=!1){const s=new IP(t);let o;if(i)o=hC;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,c=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ev(t,e,n,r,i){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await Yw(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await Yw(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t,e){const n=V9(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ep(s,e??{}))return i;mi(i,"already-initialized")}return n.initialize({options:e})}function RP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function _P(t,e,n){const r=pl(t);Ee(r._canInitEmulator,r,"emulator-config-failed"),Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=fC(e),{host:o,port:a}=LP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),PP()}function fC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LP(t){const e=fC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Xw(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Xw(o)}}}function Xw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}async function zP(t,e){return qs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e){return g0(t,"POST","/v1/accounts:signInWithPassword",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e){return g0(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}async function FP(t,e){return g0(t,"POST","/v1/accounts:signInWithEmailLink",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd extends Q2{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Rd(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Rd(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,n,"signInWithPassword",BP);case"emailLink":return jP(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,r,"signUpPassword",zP);case"emailLink":return FP(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e){return g0(t,"POST","/v1/accounts:signInWithIdp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="http://localhost";class el extends Q2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new el(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=F2(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new el(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ac(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ac(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ac(e,n)}buildRequest(){const e={requestUri:HP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=f0(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VP(t){const e=_u(Lu(t)).link,n=e?_u(Lu(e)).deep_link_id:null,r=_u(Lu(t)).deep_link_id;return(r?_u(Lu(r)).link:null)||r||n||e||t}class Z2{constructor(e){var n,r,i,s,o,a;const l=_u(Lu(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=$P((i=l.mode)!==null&&i!==void 0?i:null);Ee(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=VP(e);try{return new Z2(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.providerId=Xc.PROVIDER_ID}static credential(e,n){return Rd._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Z2.parseLink(n);return Ee(r,"argument-error"),Rd._fromEmailAndCode(e,r.code,r.tenantId)}}Xc.PROVIDER_ID="password";Xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0 extends pC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends v0{constructor(){super("facebook.com")}static credential(e){return el._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends v0{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return el._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return mo.credential(n,r)}catch{return null}}}mo.GOOGLE_SIGN_IN_METHOD="google.com";mo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends v0{constructor(){super("github.com")}static credential(e){return el._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends v0{constructor(){super("twitter.com")}static credential(e,n){return el._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return vo.credential(n,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UP(t,e){return g0(t,"POST","/v1/accounts:signUp",ia(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await ks._fromIdTokenResponse(e,r,i),o=Qw(r);return new tl({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Qw(r);return new tl({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Qw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip extends ts{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ip.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ip(e,n,r,i)}}function mC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ip._fromErrorAndOperation(t,s,e,r):s})}async function WP(t,e,n=!1){const r=await Ic(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qP(t,e,n=!1){const{auth:r}=t;if(Hi(r.app))return Promise.reject(Ts(r));const i="reauthenticate";try{const s=await Ic(t,mC(r,i,e,t),n);Ee(s.idToken,r,"internal-error");const o=Y2(s.idToken);Ee(o,r,"internal-error");const{sub:a}=o;return Ee(t.uid===a,r,"user-mismatch"),tl._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e,n=!1){if(Hi(t.app))return Promise.reject(Ts(t));const r="signIn",i=await mC(t,r,e),s=await tl._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function KP(t,e){return gC(pl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vC(t){const e=pl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GP(t,e,n){if(Hi(t.app))return Promise.reject(Ts(t));const r=pl(t),o=await Ev(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",UP).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&vC(t),l}),a=await tl._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function JP(t,e,n){return Hi(t.app)?Promise.reject(Ts(t)):KP(Ws(t),Xc.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&vC(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP(t,e){return qs(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Ws(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ic(r,YP(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function QP(t,e,n,r){return Ws(t).onIdTokenChanged(e,n,r)}function ZP(t,e,n){return Ws(t).beforeAuthStateChanged(e,n)}function sa(t,e,n,r){return Ws(t).onAuthStateChanged(e,n,r)}const sp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(sp,"1"),this.storage.removeItem(sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=1e3,tz=10;class wC extends yC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);yP()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},ez)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}wC.type="LOCAL";const nz=wC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC extends yC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bC.type="SESSION";const kC=bC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Hm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await rz(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e5(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=e5("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function sz(t){Gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function oz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function az(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lz(){return xC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="firebaseLocalStorageDb",cz=1,op="firebaseLocalStorage",CC="fbase_key";class y0{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function $m(t,e){return t.transaction([op],e?"readwrite":"readonly").objectStore(op)}function uz(){const t=indexedDB.deleteDatabase(SC);return new y0(t).toPromise()}function Tv(){const t=indexedDB.open(SC,cz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(op,{keyPath:CC})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(op)?e(r):(r.close(),await uz(),e(await Tv()))})})}async function Zw(t,e,n){const r=$m(t,!0).put({[CC]:e,value:n});return new y0(r).toPromise()}async function dz(t,e){const n=$m(t,!1).get(e),r=await new y0(n).toPromise();return r===void 0?null:r.value}function e7(t,e){const n=$m(t,!0).delete(e);return new y0(n).toPromise()}const hz=800,fz=3;class EC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hm._getInstance(lz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await oz(),!this.activeServiceWorker)return;this.sender=new iz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||az()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tv();return await Zw(e,sp,"1"),await e7(e,sp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Zw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>dz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>e7(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=$m(i,!1).getAll();return new y0(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EC.type="LOCAL";const pz=EC;new m0(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(t,e){return e?xs(e):(Ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5 extends Q2{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ac(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ac(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ac(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function gz(t){return gC(t.auth,new t5(t),t.bypassAuthState)}function vz(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),qP(n,new t5(t),t.bypassAuthState)}async function yz(t){const{auth:e,user:n}=t;return Ee(n,e,"internal-error"),WP(n,new t5(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return gz;case"linkViaPopup":case"linkViaRedirect":return yz;case"reauthViaPopup":case"reauthViaRedirect":return vz;default:mi(this.auth,"internal-error")}}resolve(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=new m0(2e3,1e4);class Jl extends TC{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Jl.currentPopupAction&&Jl.currentPopupAction.cancel(),Jl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const e=e5();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wz.get())};e()}}Jl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz="pendingRedirect",ef=new Map;class kz extends TC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ef.get(this.auth._key());if(!e){try{const r=await xz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ef.set(this.auth._key(),e)}return this.bypassAuthState||ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xz(t,e){const n=Ez(e),r=Cz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Sz(t,e){ef.set(t._key(),e)}function Cz(t){return xs(t._redirectPersistence)}function Ez(t){return Zh(bz,t.config.apiKey,t.name)}async function Tz(t,e,n=!1){if(Hi(t.app))return Promise.reject(Ts(t));const r=pl(t),i=mz(r,e),o=await new kz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mz=10*60*1e3;class Az{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Nz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MC(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Mz&&this.cachedEventUids.clear(),this.cachedEventUids.has(t7(e))}saveEventToCache(e){this.cachedEventUids.add(t7(e)),this.lastProcessedEventTime=Date.now()}}function t7(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Nz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oz(t,e={}){return qs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Dz=/^https?/;async function Rz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Oz(t);for(const n of e)try{if(_z(n))return}catch{}mi(t,"unauthorized-domain")}function _z(t){const e=Sv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Dz.test(n))return!1;if(Iz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lz=new m0(3e4,6e4);function n7(){const t=Gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Pz(t){return new Promise((e,n)=>{var r,i,s;function o(){n7(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n7(),n(Ki(t,"network-request-failed"))},timeout:Lz.get()})}if(!((i=(r=Gi().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Gi().gapi)===null||s===void 0)&&s.load)o();else{const a=MP("iframefcb");return Gi()[a]=()=>{gapi.load?o():n(Ki(t,"network-request-failed"))},dC(`${TP()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw tf=null,e})}let tf=null;function zz(t){return tf=tf||Pz(t),tf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bz=new m0(5e3,15e3),jz="__/auth/iframe",Fz="emulator/auth/iframe",Hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$z=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vz(t){const e=t.config;Ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?J2(e,Fz):`https://${t.config.authDomain}/${jz}`,r={apiKey:e.apiKey,appName:t.name,v:p0},i=$z.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${f0(r).slice(1)}`}async function Uz(t){const e=await zz(t),n=Gi().gapi;return Ee(n,t,"internal-error"),e.open({where:document.body,url:Vz(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hz,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ki(t,"network-request-failed"),a=Gi().setTimeout(()=>{s(o)},Bz.get());function l(){Gi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qz=500,Kz=600,Gz="_blank",Jz="http://localhost";class r7{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Yz(t,e,n,r=qz,i=Kz){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Wz),{width:r.toString(),height:i.toString(),top:s,left:o}),c=zn().toLowerCase();n&&(a=iC(c)?Gz:n),nC(c)&&(e=e||Jz,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(vP(c)&&a!=="_self")return Xz(e||"",a),new r7(null);const d=window.open(e||"",a,u);Ee(d,t,"popup-blocked");try{d.focus()}catch{}return new r7(d)}function Xz(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qz="__/auth/handler",Zz="emulator/auth/handler",eB=encodeURIComponent("fac");async function i7(t,e,n,r,i,s){Ee(t.config.authDomain,t,"auth-domain-config-required"),Ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:p0,eventId:i};if(e instanceof pC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",F_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries({}))o[u]=d}if(e instanceof v0){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${eB}=${encodeURIComponent(l)}`:"";return`${tB(t)}?${f0(a).slice(1)}${c}`}function tB({config:t}){return t.emulator?J2(t,Zz):`https://${t.authDomain}/${Qz}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class nB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kC,this._completeRedirectFn=Tz,this._overrideRedirectResult=Sz}async _openPopup(e,n,r,i){var s;zs((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await i7(e,n,r,Sv(),i);return Yz(e,o,e5())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await i7(e,n,r,Sv(),i);return sz(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(zs(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Uz(e),r=new Az(e);return n.register("authEvent",i=>(Ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[fg];o!==void 0&&n(!!o),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Rz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cC()||rC()||X2()}}const rB=nB;var s7="@firebase/auth",o7="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oB(t){Id(new Oc("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uC(t)},c=new SP(r,i,s,l);return RP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Id(new Oc("auth-internal",e=>{const n=pl(e.getProvider("auth").getImmediate());return(r=>new iB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ic(s7,o7,sB(t)),ic(s7,o7,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aB=5*60,lB=j9("authIdTokenMaxAge")||aB;let a7=null;const cB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>lB)return;const i=n==null?void 0:n.token;a7!==i&&(a7=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uB(t=$L()){const e=V9(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DP(t,{popupRedirectResolver:rB,persistence:[pz,nz,kC]}),r=j9("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=cB(s.toString());ZP(n,o,()=>o(n.currentUser)),QP(n,a=>o(a))}}const i=A_("auth");return i&&_P(n,`http://${i}`),n}function dB(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}CP({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",dB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oB("Browser");var hB="firebase",fB="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ic(hB,fB,"app");const pB={apiKey:"AIzaSyBJDxxFl-LiT_aGKYULn6gNvpNfIfrUvxA",authDomain:"notice-board-1fb34.firebaseapp.com",projectId:"notice-board-1fb34",storageBucket:"notice-board-1fb34.firebasestorage.app",messagingSenderId:"70906713459",appId:"1:70906713459:web:76603ec50da53c906f2106"},mB=U9(pB),Kt=uB(mB);function gB(){const t=xr(),[e,n]=P.useState(!1),[r,i]=P.useState(""),[s,o]=P.useState(""),[a,l]=P.useState(""),[c,u]=P.useState(""),d=f=>{const{target:{name:p,value:g}}=f;p==="name"?i(g):p==="email"?o(g):p==="password"&&l(g)},h=async f=>{if(f.preventDefault(),u(""),!(e||r===""||s===""||a===""))try{n(!0);const p=await GP(Kt,s,a);await XP(p.user,{displayName:r}),t("/")}catch(p){p instanceof ts&&u(p.message)}finally{n(!1)}};return x.jsxs(N9,{children:[x.jsx(O9,{children:"Create Account"}),x.jsxs(I9,{onSubmit:h,children:[x.jsx(Da,{onChange:d,name:"name",placeholder:"Name",type:"text",required:!0}),x.jsx(Da,{onChange:d,name:"email",placeholder:"Email",type:"text",required:!0}),x.jsx(Da,{onChange:d,name:"password",placeholder:"Password",type:"password",required:!0}),x.jsx(Da,{onChange:d,type:"submit",value:e?"Loading...":"Create Account"})]}),c!==""?x.jsx(D9,{children:c}):null,x.jsx(R9,{children:x.jsx(i9,{to:"/login",children:"Log in "})})]})}function vB(){const t=xr(),[e,n]=P.useState(!1),[r,i]=P.useState(""),[s,o]=P.useState(""),[a,l]=P.useState(""),c=d=>{const{target:{name:h,value:f}}=d;h==="email"?i(f):h==="password"&&o(f)},u=async d=>{if(d.preventDefault(),l(""),!(e||r===""||s===""))try{n(!0),await JP(Kt,r,s),t("/")}catch(h){h instanceof ts&&l(h.message)}finally{n(!1)}};return x.jsxs(N9,{children:[x.jsx(O9,{children:"Log in"}),x.jsxs(I9,{onSubmit:u,children:[x.jsx(Da,{onChange:c,name:"email",placeholder:"Email",type:"text",required:!0}),x.jsx(Da,{onChange:c,name:"password",placeholder:"Password",type:"password",required:!0}),x.jsx(Da,{onChange:c,type:"submit",value:e?"Loading...":"Log in"})]}),a!==""?x.jsx(D9,{children:a}):null,x.jsx(R9,{children:x.jsx(i9,{to:"/create-account",children:"Create Account "})})]})}function yB(){const[t,e]=P.useState(""),[n,r]=P.useState(!0),i=xr(),s=()=>{r(!n)},o=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),i("/login"))},a=()=>{i("/")},l=()=>{i("/regulation")},c=()=>{i("/free-notice")},u=()=>{i("/wiki")},d=()=>{i("/document")},h=()=>{i("/project-dashboard")},f=()=>{i("/design-automation")};return P.useEffect(()=>{const p=sa(Kt,g=>{g&&g.displayName?e(g.displayName):e("No user.")});return()=>p()},[]),x.jsxs(x.Fragment,{children:[n?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:a,children:"Home"}),x.jsx("button",{onClick:l,children:" "}),x.jsx("button",{onClick:c,children:""}),x.jsx("button",{onClick:u,children:"KMS (Wiki)"}),x.jsx("button",{onClick:d,children:"Document"}),x.jsx("button",{onClick:h,children:"Project Dashboard"}),x.jsx("button",{onClick:f,children:"Design Automation"})]}):"",x.jsx("div",{className:"main-content",children:x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:s,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:"Home"}),x.jsxs("span",{className:"name",children:[t," ,",x.jsx("br",{}),"."]}),x.jsx("button",{onClick:o,className:"log-out",children:"Log Out"})]})})]})}const wB=es.div`
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
`,bB=es.span`
  font-size: 24px;
`;function kB(){return x.jsx(wB,{children:x.jsx(bB,{children:"Loading..."})})}function xB(){let[t,e]=P.useState([]);const[n,r]=P.useState(""),[i,s]=P.useState(!0),o=wi(),a=o.pathname.startsWith("/")?o.pathname.slice(1):o.pathname,l=xr(),c=()=>{s(!i)},u=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),l("/login"))},d=b=>{l("/"+a+"/editor/"+b)},h=b=>{l("/"+a+"/viewer/"+b)},f=()=>{l("/")},p=()=>{l("/regulation")},g=()=>{l("/free-notice")},w=()=>{l("/wiki")},v=()=>{l("/document")},k=()=>{l("/project-dashboard")},E=()=>{l("/design-automation")},S=async b=>{try{t=await(await fetch(`${Tn}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:b})})).json(),e(t)}catch(M){console.error("Error sending data to server:",M)}},N=async(b,M)=>{if(confirm("Are you sure?")){try{t=await(await fetch(`${Tn}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,category:M})})).json(),e(t)}catch(_){console.error("Error sending data to server:",_)}S(M)}};return P.useEffect(()=>{S(a);const b=sa(Kt,M=>{M&&M.displayName?r(M.displayName):r("No user name info.")});return()=>b()},[]),x.jsxs(x.Fragment,{children:[i?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:f,children:"Home"}),x.jsx("button",{onClick:p,children:" "}),x.jsx("button",{onClick:g,children:""}),x.jsx("button",{onClick:w,children:"KMS (Wiki)"}),x.jsx("button",{onClick:v,children:"Document"}),x.jsx("button",{onClick:k,children:"Project Dashboard"}),x.jsx("button",{onClick:E,children:"Design Automation"})]}):"",x.jsxs("div",{className:"main-content",children:[x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:c,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:""}),x.jsxs("span",{className:"name",children:[n," ,",x.jsx("br",{}),"."]}),x.jsx("button",{onClick:()=>d(""),className:"new-page",children:"New Page"}),x.jsx("button",{onClick:u,className:"log-out",children:"Log Out"})]}),x.jsx("div",{className:"pages-head",children:x.jsxs("div",{className:"page-component-head",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"/"}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]})}),x.jsx("div",{className:"pages",children:t.length>0?t.map(b=>x.jsxs("div",{className:"page-component",children:[x.jsx("a",{onClick:()=>h(b._id),children:b.title}),x.jsxs("span",{children:[b.created_at?b.created_at:"-",x.jsx("br",{}),b.modified_at?b.modified_at:"-"]}),x.jsx("span",{children:b.name}),n===b.name?x.jsx("span",{onClick:()=>N(b._id,a),children:"Delete"}):x.jsx("span",{className:"none-mark",children:"-"})]},b._id)):x.jsx("p",{children:"None"})})]})]})}function Ii({children:t}){return Kt.currentUser===null?x.jsx(YD,{to:"/login"}):t}function fn(t){this.content=t}fn.prototype={constructor:fn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),s=r.content.slice();return i==-1?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new fn(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new fn(n)},addToStart:function(t,e){return new fn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new fn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),s=r.find(t);return i.splice(s==-1?i.length:s,0,e,n),new fn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=fn.from(t),t.size?new fn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=fn.from(t),t.size?new fn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=fn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};fn.from=function(t){if(t instanceof fn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new fn(e)};function AC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),s=e.child(r);if(i==s){n+=i.nodeSize;continue}if(!i.sameMarkup(s))return n;if(i.isText&&i.text!=s.text){for(let o=0;i.text[o]==s.text[o];o++)n++;return n}if(i.content.size||s.content.size){let o=AC(i.content,s.content,n+1);if(o!=null)return o}n+=i.nodeSize}}function NC(t,e,n,r){for(let i=t.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:n,b:r};let o=t.child(--i),a=e.child(--s),l=o.nodeSize;if(o==a){n-=l,r-=l;continue}if(!o.sameMarkup(a))return{a:n,b:r};if(o.isText&&o.text!=a.text){let c=0,u=Math.min(o.text.length,a.text.length);for(;c<u&&o.text[o.text.length-c-1]==a.text[a.text.length-c-1];)c++,n--,r--;return{a:n,b:r}}if(o.content.size||a.content.size){let c=NC(o.content,a.content,n-1,r-1);if(c)return c}n-=l,r-=l}}class H{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,s){for(let o=0,a=0;a<n;o++){let l=this.content[o],c=a+l.nodeSize;if(c>e&&r(l,i+a,s||null,o)!==!1&&l.content.size){let u=a+1;l.nodesBetween(Math.max(0,e-u),Math.min(l.content.size,n-u),r,i+u)}a=c}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let s="",o=!0;return this.nodesBetween(e,n,(a,l)=>{let c=a.isText?a.text.slice(Math.max(e,l)-l,n-l):a.isLeaf?i?typeof i=="function"?i(a):i:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&c||a.isTextblock)&&r&&(o?o=!1:s+=r),s+=c},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new H(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let s=0,o=0;o<n;s++){let a=this.content[s],l=o+a.nodeSize;l>e&&((o<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-o),Math.min(a.text.length,n-o)):a=a.cut(Math.max(0,e-o-1),Math.min(a.content.size,n-o-1))),r.push(a),i+=a.nodeSize),o=l}return new H(r,i)}cutByIndex(e,n){return e==n?H.empty:e==0&&n==this.content.length?this:new H(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),s=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new H(i,s)}addToStart(e){return new H([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new H(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return AC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return NC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return nh(0,e);if(e==this.size)return nh(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let s=this.child(r),o=i+s.nodeSize;if(o>=e)return o==e||n>0?nh(r+1,o):nh(r,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return H.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new H(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return H.empty;let n,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(n||(n=e.slice(0,i)),n[n.length-1]=s.withText(n[n.length-1].text+s.text)):n&&n.push(s)}return new H(n||e,r)}static from(e){if(!e)return H.empty;if(e instanceof H)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new H([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}H.empty=new H([],0);const pg={index:0,offset:0};function nh(t,e){return pg.index=t,pg.offset=e,pg}function ap(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!ap(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!ap(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let ot=class Mv{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))n||(n=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(s)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&ap(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);let i=r.create(n.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Mv.none;if(e instanceof Mv)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};ot.none=[];class lp extends Error{}class Y{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=IC(this.content,e+this.openStart,n);return r&&new Y(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Y(OC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Y.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Y(H.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(n||!s.type.spec.isolating);s=s.lastChild)i++;return new Y(e,r,i)}}Y.empty=new Y(H.empty,0,0);function OC(t,e,n){let{index:r,offset:i}=t.findIndex(e),s=t.maybeChild(r),{index:o,offset:a}=t.findIndex(n);if(i==e||s.isText){if(a!=n&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(r,s.copy(OC(s.content,e-i-1,n-i-1)))}function IC(t,e,n,r){let{index:i,offset:s}=t.findIndex(e),o=t.maybeChild(i);if(s==e||o.isText)return t.cut(0,e).append(n).append(t.cut(e));let a=IC(o.content,e-s-1,n);return a&&t.replaceChild(i,o.copy(a))}function SB(t,e,n){if(n.openStart>t.depth)throw new lp("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new lp("Inconsistent open depths");return DC(t,e,n,0)}function DC(t,e,n,r){let i=t.index(r),s=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let o=DC(t,e,n,r+1);return s.copy(s.content.replaceChild(i,o))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let o=t.parent,a=o.content;return Ha(o,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:o,end:a}=CB(n,t);return Ha(s,_C(t,o,a,e,r))}else return Ha(s,cp(t,e,r))}function RC(t,e){if(!e.type.compatibleContent(t.type))throw new lp("Cannot join "+e.type.name+" onto "+t.type.name)}function Av(t,e,n){let r=t.node(n);return RC(r,e.node(n)),r}function Fa(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Xu(t,e,n,r){let i=(e||t).node(n),s=0,o=e?e.index(n):i.childCount;t&&(s=t.index(n),t.depth>n?s++:t.textOffset&&(Fa(t.nodeAfter,r),s++));for(let a=s;a<o;a++)Fa(i.child(a),r);e&&e.depth==n&&e.textOffset&&Fa(e.nodeBefore,r)}function Ha(t,e){return t.type.checkContent(e),t.copy(e)}function _C(t,e,n,r,i){let s=t.depth>i&&Av(t,e,i+1),o=r.depth>i&&Av(n,r,i+1),a=[];return Xu(null,t,i,a),s&&o&&e.index(i)==n.index(i)?(RC(s,o),Fa(Ha(s,_C(t,e,n,r,i+1)),a)):(s&&Fa(Ha(s,cp(t,e,i+1)),a),Xu(e,n,i,a),o&&Fa(Ha(o,cp(n,r,i+1)),a)),Xu(r,null,i,a),new H(a)}function cp(t,e,n){let r=[];if(Xu(null,t,n,r),t.depth>n){let i=Av(t,e,n+1);Fa(Ha(i,cp(t,e,n+1)),r)}return Xu(e,null,n,r),new H(r)}function CB(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)i=e.node(s).copy(H.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class _d{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return ot.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let s=r.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!i||!s[o].isInSet(i.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ld(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,s=n;for(let o=e;;){let{index:a,offset:l}=o.content.findIndex(s),c=s-l;if(r.push(o,a,i+l),!c||(o=o.child(a),o.isText))break;s=c-1,i+=l+1}return new _d(n,r,s)}static resolveCached(e,n){let r=l7.get(e);if(r)for(let s=0;s<r.elts.length;s++){let o=r.elts[s];if(o.pos==n)return o}else l7.set(e,r=new EB);let i=r.elts[r.i]=_d.resolve(e,n);return r.i=(r.i+1)%TB,i}}class EB{constructor(){this.elts=[],this.i=0}}const TB=12,l7=new WeakMap;class Ld{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const MB=Object.create(null);let $a=class Nv{constructor(e,n,r,i=ot.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||H.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&ap(this.attrs,n||e.defaultAttrs||MB)&&ot.sameSet(this.marks,r||ot.none)}copy(e=null){return e==this.content?this:new Nv(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Nv(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Y.empty;let i=this.resolve(e),s=this.resolve(n),o=r?0:i.sharedDepth(n),a=i.start(o),c=i.node(o).content.cut(i.pos-a,s.pos-a);return new Y(c,i.depth-o,s.depth-o)}replace(e,n,r){return SB(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return _d.resolveCached(this,e)}resolveNoCache(e){return _d.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),LC(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=H.empty,i=0,s=r.childCount){let o=this.contentMatchAt(e).matchFragment(r,i,s),a=o&&o.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<s;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),o=s&&s.matchFragment(this.content,n);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=ot.none;for(let n=0;n<this.marks.length;n++){let r=this.marks[n];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!ot.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=H.fromJSON(e,n.content),s=e.nodeType(n.type).create(n.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};$a.prototype.text=void 0;let AB=class Ov extends $a{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):LC(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Ov(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Ov(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}};function LC(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class nl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new NB(e,n);if(r.next==null)return nl.empty;let i=PC(r);r.next&&r.err("Unexpected trailing text");let s=PB(LB(i));return zB(s,r),s}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let s=n;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function s(o,a){let l=o.matchFragment(e,r);if(l&&(!n||l.validEnd))return H.from(a.map(c=>c.createAndFill()));for(let c=0;c<o.next.length;c++){let{type:u,next:d}=o.next[c];if(!(u.isText||u.hasRequiredAttrs())&&i.indexOf(d)==-1){i.push(d);let h=s(d,a.concat(u));if(h)return h}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let o=[];for(let a=i;a.type;a=a.via)o.push(a.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:a,next:l}=s.next[o];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let o=0;o<r.next.length;o++)s+=(o?", ":"")+r.next[o].type.name+"->"+e.indexOf(r.next[o].next);return s}).join(`
`)}}nl.empty=new nl(!0);class NB{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function PC(t){let e=[];do e.push(OB(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function OB(t){let e=[];do e.push(IB(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function IB(t){let e=_B(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=DB(t,e);else break;return e}function c7(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function DB(t,e){let n=c7(t),r=n;return t.eat(",")&&(t.next!="}"?r=c7(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function RB(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let s in n){let o=n[s];o.isInGroup(e)&&i.push(o)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function _B(t){if(t.eat("(")){let e=PC(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=RB(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function LB(t){let e=[[]];return i(s(t,0),n()),e;function n(){return e.push([])-1}function r(o,a,l){let c={term:l,to:a};return e[o].push(c),c}function i(o,a){o.forEach(l=>l.to=a)}function s(o,a){if(o.type=="choice")return o.exprs.reduce((l,c)=>l.concat(s(c,a)),[]);if(o.type=="seq")for(let l=0;;l++){let c=s(o.exprs[l],a);if(l==o.exprs.length-1)return c;i(c,a=n())}else if(o.type=="star"){let l=n();return r(a,l),i(s(o.expr,l),l),[r(l)]}else if(o.type=="plus"){let l=n();return i(s(o.expr,a),l),i(s(o.expr,l),l),[r(l)]}else{if(o.type=="opt")return[r(a)].concat(s(o.expr,a));if(o.type=="range"){let l=a;for(let c=0;c<o.min;c++){let u=n();i(s(o.expr,l),u),l=u}if(o.max==-1)i(s(o.expr,l),l);else for(let c=o.min;c<o.max;c++){let u=n();r(l,u),i(s(o.expr,l),u),l=u}return[r(l)]}else{if(o.type=="name")return[r(a,void 0,o.value)];throw new Error("Unknown expr type")}}}}function zC(t,e){return e-t}function u7(t,e){let n=[];return r(e),n.sort(zC);function r(i){let s=t[i];if(s.length==1&&!s[0].term)return r(s[0].to);n.push(i);for(let o=0;o<s.length;o++){let{term:a,to:l}=s[o];!a&&n.indexOf(l)==-1&&r(l)}}}function PB(t){let e=Object.create(null);return n(u7(t,0));function n(r){let i=[];r.forEach(o=>{t[o].forEach(({term:a,to:l})=>{if(!a)return;let c;for(let u=0;u<i.length;u++)i[u][0]==a&&(c=i[u][1]);u7(t,l).forEach(u=>{c||i.push([a,c=[]]),c.indexOf(u)==-1&&c.push(u)})})});let s=e[r.join(",")]=new nl(r.indexOf(t.length-1)>-1);for(let o=0;o<i.length;o++){let a=i[o][1].sort(zC);s.next.push({type:i[o][0],next:e[a.join(",")]||n(a)})}return s}}function zB(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],s=!i.validEnd,o=[];for(let a=0;a<i.next.length;a++){let{type:l,next:c}=i.next[a];o.push(l.name),s&&!(l.isText||l.hasRequiredAttrs())&&(s=!1),r.indexOf(c)==-1&&r.push(c)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function BC(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function jC(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let s=t[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function FC(t,e,n,r){for(let i in e)if(!(i in t))throw new RangeError(`Unsupported attribute ${i} for ${n} of type ${i}`);for(let i in t){let s=t[i];s.validate&&s.validate(e[i])}}function HC(t,e){let n=Object.create(null);if(e)for(let r in e)n[r]=new jB(t,r,e[r]);return n}let d7=class $C{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=HC(e,r.attrs),this.defaultAttrs=BC(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==nl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:jC(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new $a(this,this.computeAttrs(e),H.from(n),ot.setFrom(r))}createChecked(e=null,n,r){return n=H.from(n),this.checkContent(n),new $a(this,this.computeAttrs(e),n,ot.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=H.from(n),n.size){let o=this.contentMatch.fillBefore(n);if(!o)return null;n=o.append(n)}let i=this.contentMatch.matchFragment(n),s=i&&i.fillBefore(H.empty,!0);return s?new $a(this,e,n.append(s),ot.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){FC(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:ot.none:e}static compile(e,n){let r=Object.create(null);e.forEach((s,o)=>r[s]=new $C(s,n,o));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function BB(t,e,n){let r=n.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${t}, got ${s}`)}}class jB{constructor(e,n,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?BB(e,n,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class Vm{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=HC(e,i.attrs),this.excluded=null;let s=BC(this.attrs);this.instance=s?new ot(this,s):null}create(e=null){return!e&&this.instance?this.instance:new ot(this,jC(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((s,o)=>r[s]=new Vm(s,i++,n,o)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){FC(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class VC{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=fn.from(e.nodes),n.marks=fn.from(e.marks||{}),this.nodes=d7.compile(this.spec.nodes,this),this.marks=Vm.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],o=s.spec.content||"",a=s.spec.marks;if(s.contentMatch=r[o]||(r[o]=nl.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=a=="_"?null:a?h7(this,a.split(" ")):a==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:h7(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof d7){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new AB(r,r.defaultAttrs,e,ot.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return $a.fromJSON(this,e)}markFromJSON(e){return ot.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function h7(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],s=t.marks[i],o=s;if(s)n.push(s);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(o=l)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}function FB(t){return t.tag!=null}function HB(t){return t.style!=null}let Qu=class Iv{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let r=this.matchedStyles=[];n.forEach(i=>{if(FB(i))this.tags.push(i);else if(HB(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new p7(this,n,!1);return r.addAll(e,ot.none,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new p7(this,n,!0);return r.addAll(e,ot.none,n.from,n.to),Y.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(UB(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||n.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,n,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let o=this.styles[s],a=o.style;if(!(a.indexOf(e)!=0||o.context&&!r.matchesContext(o.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(o.getAttrs){let l=o.getAttrs(n);if(l===!1)continue;o.attrs=l||void 0}return o}}}static schemaRules(e){let n=[];function r(i){let s=i.priority==null?50:i.priority,o=0;for(;o<n.length;o++){let a=n[o];if((a.priority==null?50:a.priority)<s)break}n.splice(o,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(o=>{r(o=m7(o)),o.mark||o.ignore||o.clearMark||(o.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(o=>{r(o=m7(o)),o.node||o.ignore||o.mark||(o.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Iv(e,Iv.schemaRules(e)))}};const UC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$B={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},WC={ol:!0,ul:!0},up=1,dp=2,Zu=4;function f7(t,e,n){return e!=null?(e?up:0)|(e==="full"?dp:0):t&&t.whitespace=="pre"?up|dp:n&~Zu}class rh{constructor(e,n,r,i,s,o){this.type=e,this.attrs=n,this.marks=r,this.solid=i,this.options=o,this.content=[],this.activeMarks=ot.none,this.match=s||(o&Zu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(H.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&up)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let n=H.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(H.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!UC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class p7{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,s,o=f7(null,n.preserveWhitespace,0)|(r?Zu:0);i?s=new rh(i.type,i.attrs,ot.none,!0,n.topMatch||i.type.contentMatch,o):r?s=new rh(null,null,ot.none,!0,null,o):s=new rh(e.schema.topNodeType,null,ot.none,!0,null,o),this.nodes=[s],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let r=e.nodeValue,i=this.top;if(i.options&dp||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(i.options&up)i.options&dp?r=r.replace(/\r\n?/g,`
`):r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let s=i.content[i.content.length-1],o=e.previousSibling;(!s||o&&o.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(r=r.slice(1))}r&&this.insertNode(this.parser.schema.text(r),n),this.findInText(e)}else this.findInside(e)}addElement(e,n,r){let i=e.nodeName.toLowerCase(),s;WC.hasOwnProperty(i)&&this.parser.normalizeLists&&VB(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,r));if(o?o.ignore:$B.hasOwnProperty(i))this.findInside(e),this.ignoreFallback(e,n);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let a,l=this.top,c=this.needsBlock;if(UC.hasOwnProperty(i))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),a=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);return}let u=o&&o.skip?n:this.readStyles(e,n);u&&this.addAll(e,u),a&&this.sync(l),this.needsBlock=c}else{let a=this.readStyles(e,n);a&&this.addElementByRule(e,o,a,o.consuming===!1?s:void 0)}}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n)}readStyles(e,n){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],o=r.getPropertyValue(s);if(o)for(let a=void 0;;){let l=this.parser.matchStyle(s,o,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(c=>!l.clearMark(c)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(e,n,r,i){let s,o;if(n.node)if(o=this.parser.schema.nodes[n.node],o.isLeaf)this.insertNode(o.create(n.attrs),r)||this.leafFallback(e,r);else{let l=this.enter(o,n.attrs||null,r,n.preserveWhitespace);l&&(s=!0,r=l)}else{let l=this.parser.schema.marks[n.mark];r=r.concat(l.create(n.attrs))}let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l,r));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l,r),this.findAround(e,l,!1)}s&&this.sync(a)&&this.open--}addAll(e,n,r,i){let s=r||0;for(let o=r?e.childNodes[r]:e.firstChild,a=i==null?null:e.childNodes[i];o!=a;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,n);this.findAtPoint(e,s)}findPlace(e,n){let r,i;for(let s=this.open;s>=0;s--){let o=this.nodes[s],a=o.findWrapping(e);if(a&&(!r||r.length>a.length)&&(r=a,i=o,!a.length)||o.solid)break}if(!r)return null;this.sync(i);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(e,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(n=this.enterInner(i,null,n))}let r=this.findPlace(e,n);if(r){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let s=ot.none;for(let o of r.concat(e.marks))(i.type?i.type.allowsMarkType(o.type):g7(o.type,e.type))&&(s=o.addToSet(s));return i.content.push(e.mark(s)),!0}return!1}enter(e,n,r,i){let s=this.findPlace(e.create(n),r);return s&&(s=this.enterInner(e,n,r,!0,i)),s}enterInner(e,n,r,i=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let a=f7(e,s,o.options);o.options&Zu&&o.content.length==0&&(a|=Zu);let l=ot.none;return r=r.filter(c=>(o.type?o.type.allowsMarkType(c.type):g7(c.type,e))?(l=c.addToSet(l),!1):!0),this.nodes.push(new rh(e,n,l,i,null,a)),this.open++,r}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),o=(a,l)=>{for(;a>=0;a--){let c=n[a];if(c==""){if(a==n.length-1||a==0)continue;for(;l>=s;l--)if(o(a-1,l))return!0;return!1}else{let u=l>0||l==0&&i?this.nodes[l].type:r&&l>=s?r.node(l-s).type:null;if(!u||u.name!=c&&!u.isInGroup(c))return!1;l--}}return!0};return o(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}}function VB(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&WC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function UB(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function m7(t){let e={};for(let n in t)e[n]=t[n];return e}function g7(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let s=[],o=a=>{s.push(a);for(let l=0;l<a.edgeCount;l++){let{type:c,next:u}=a.edge(l);if(c==e||s.indexOf(u)<0&&o(u))return!0}};if(o(i.contentMatch))return!0}}class ml{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=mg(n).createDocumentFragment());let i=r,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let a=0,l=0;for(;a<s.length&&l<o.marks.length;){let c=o.marks[l];if(!this.marks[c.type.name]){l++;continue}if(!c.eq(s[a][0])||c.type.spec.spanning===!1)break;a++,l++}for(;a<s.length;)i=s.pop()[1];for(;l<o.marks.length;){let c=o.marks[l++],u=this.serializeMark(c,o.isInline,n);u&&(s.push([c,i]),i.appendChild(u.dom),i=u.contentDOM||u.dom)}}i.appendChild(this.serializeNodeInner(o,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=nf(mg(n),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,n);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&nf(mg(r),i(e,n),null,e.attrs)}static renderSpec(e,n,r=null,i){return nf(e,n,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new ml(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=v7(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return v7(e.marks)}}function v7(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function mg(t){return t.document||window.document}const y7=new WeakMap;function WB(t){let e=y7.get(t);return e===void 0&&y7.set(t,e=qB(t)),e}function qB(t){let e=null;function n(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)n(r[i]);else for(let i in r)n(r[i])}return n(t),e}function nf(t,e,n,r){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=WB(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=i.indexOf(" ");o>0&&(n=i.slice(0,o),i=i.slice(o+1));let a,l=n?t.createElementNS(n,i):t.createElement(i),c=e[1],u=1;if(c&&typeof c=="object"&&c.nodeType==null&&!Array.isArray(c)){u=2;for(let d in c)if(c[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),c[d]):l.setAttribute(d,c[d])}}for(let d=u;d<e.length;d++){let h=e[d];if(h===0){if(d<e.length-1||d>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:f,contentDOM:p}=nf(t,h,n,r);if(l.appendChild(f),p){if(a)throw new RangeError("Multiple content holes");a=p}}}return{dom:l,contentDOM:a}}const qC=65535,KC=Math.pow(2,16);function KB(t,e){return t+e*KC}function w7(t){return t&qC}function GB(t){return(t-(t&qC))/KC}const GC=1,JC=2,rf=4,YC=8;class Dv{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&YC)>0}get deletedBefore(){return(this.delInfo&(GC|rf))>0}get deletedAfter(){return(this.delInfo&(JC|rf))>0}get deletedAcross(){return(this.delInfo&rf)>0}}class dr{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&dr.empty)return dr.empty}recover(e){let n=0,r=w7(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+GB(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let c=this.ranges[a+s],u=this.ranges[a+o],d=l+c;if(e<=d){let h=c?e==l?-1:e==d?1:n:n,f=l+i+(h<0?0:u);if(r)return f;let p=e==(n<0?l:d)?null:KB(a/3,e-l),g=e==l?JC:e==d?GC:rf;return(n<0?e!=l:e!=d)&&(g|=YC),new Dv(f,g,p)}i+=u-c}return r?e+i:new Dv(e+i,0,null)}touches(e,n){let r=0,i=w7(n),s=this.inverted?2:1,o=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let c=this.ranges[a+s],u=l+c;if(e<=u&&a==i*3)return!0;r+=this.ranges[a+o]-c}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let o=this.ranges[i],a=o-(this.inverted?s:0),l=o+(this.inverted?0:s),c=this.ranges[i+n],u=this.ranges[i+r];e(a,a+c,l,l+u),s+=u-c}}invert(){return new dr(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?dr.empty:new dr(e<0?[0,-e,0]:[0,0,e])}}dr.empty=new dr([]);class lc{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new lc(this.maps,this.mirror,e,n)}copy(){return new lc(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new lc;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let s=this.from;s<this.to;s++){let o=this.maps[s],a=o.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(s);if(l!=null&&l>s&&l<this.to){s=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new Dv(e,i,null)}}const gg=Object.create(null);class Nn{getMap(){return dr.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=gg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in gg)throw new RangeError("Duplicate use of step JSON ID "+e);return gg[e]=n,n.prototype.jsonID=e,n}}class qt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new qt(e,null)}static fail(e){return new qt(null,e)}static fromReplace(e,n,r,i){try{return qt.ok(e.replace(n,r,i))}catch(s){if(s instanceof lp)return qt.fail(s.message);throw s}}}function n5(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let s=t.child(i);s.content.size&&(s=s.copy(n5(s.content,e,s))),s.isInline&&(s=e(s,n,i)),r.push(s)}return H.fromArray(r)}class Co extends Nn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new Y(n5(n.content,(o,a)=>!o.isAtom||!a.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),i),n.openStart,n.openEnd);return qt.fromReplace(e,this.from,this.to,s)}invert(){return new $i(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Co(n.pos,r.pos,this.mark)}merge(e){return e instanceof Co&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Co(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Co(n.from,n.to,e.markFromJSON(n.mark))}}Nn.jsonID("addMark",Co);class $i extends Nn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Y(n5(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return qt.fromReplace(e,this.from,this.to,r)}invert(){return new Co(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new $i(n.pos,r.pos,this.mark)}merge(e){return e instanceof $i&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $i(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new $i(n.from,n.to,e.markFromJSON(n.mark))}}Nn.jsonID("removeMark",$i);class Eo extends Nn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return qt.fromReplace(e,this.pos,this.pos+1,new Y(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Eo(this.pos,n.marks[i]);return new Eo(this.pos,this.mark)}}return new Dc(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Eo(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Eo(n.pos,e.markFromJSON(n.mark))}}Nn.jsonID("addNodeMark",Eo);class Dc extends Nn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return qt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return qt.fromReplace(e,this.pos,this.pos+1,new Y(H.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Eo(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Dc(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Dc(n.pos,e.markFromJSON(n.mark))}}Nn.jsonID("removeNodeMark",Dc);class on extends Nn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Rv(e,this.from,this.to)?qt.fail("Structure replace would overwrite content"):qt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new dr([this.from,this.to-this.from,this.slice.size])}invert(e){return new on(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new on(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof on)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Y.empty:new Y(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new on(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Y.empty:new Y(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new on(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new on(n.from,n.to,Y.fromJSON(e,n.slice),!!n.structure)}}Nn.jsonID("replace",on);class ln extends Nn{constructor(e,n,r,i,s,o,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=o,this.structure=a}apply(e){if(this.structure&&(Rv(e,this.from,this.gapFrom)||Rv(e,this.gapTo,this.to)))return qt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return qt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?qt.fromReplace(e,this.from,this.to,r):qt.fail("Content does not fit in gap")}getMap(){return new dr([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new ln(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||s>r.pos?null:new ln(n.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ln(n.from,n.to,n.gapFrom,n.gapTo,Y.fromJSON(e,n.slice),n.insert,!!n.structure)}}Nn.jsonID("replaceAround",ln);function Rv(t,e,n){let r=t.resolve(e),i=n-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let o=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,i--}}return!1}function JB(t,e,n,r){let i=[],s=[],o,a;t.doc.nodesBetween(e,n,(l,c,u)=>{if(!l.isInline)return;let d=l.marks;if(!r.isInSet(d)&&u.type.allowsMarkType(r.type)){let h=Math.max(c,e),f=Math.min(c+l.nodeSize,n),p=r.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(p)||(o&&o.to==h&&o.mark.eq(d[g])?o.to=f:i.push(o=new $i(h,f,d[g])));a&&a.to==h?a.to=f:s.push(a=new Co(h,f,r))}}),i.forEach(l=>t.step(l)),s.forEach(l=>t.step(l))}function YB(t,e,n,r){let i=[],s=0;t.doc.nodesBetween(e,n,(o,a)=>{if(!o.isInline)return;s++;let l=null;if(r instanceof Vm){let c=o.marks,u;for(;u=r.isInSet(c);)(l||(l=[])).push(u),c=u.removeFromSet(c)}else r?r.isInSet(o.marks)&&(l=[r]):l=o.marks;if(l&&l.length){let c=Math.min(a+o.nodeSize,n);for(let u=0;u<l.length;u++){let d=l[u],h;for(let f=0;f<i.length;f++){let p=i[f];p.step==s-1&&d.eq(i[f].style)&&(h=p)}h?(h.to=c,h.step=s):i.push({style:d,from:Math.max(a,e),to:c,step:s})}}}),i.forEach(o=>t.step(new $i(o.from,o.to,o.style)))}function r5(t,e,n,r=n.contentMatch,i=!0){let s=t.doc.nodeAt(e),o=[],a=e+1;for(let l=0;l<s.childCount;l++){let c=s.child(l),u=a+c.nodeSize,d=r.matchType(c.type);if(!d)o.push(new on(a,u,Y.empty));else{r=d;for(let h=0;h<c.marks.length;h++)n.allowsMarkType(c.marks[h].type)||t.step(new $i(a,u,c.marks[h]));if(i&&c.isText&&n.whitespace!="pre"){let h,f=/\r?\n|\r/g,p;for(;h=f.exec(c.text);)p||(p=new Y(H.from(n.schema.text(" ",n.allowedMarks(c.marks))),0,0)),o.push(new on(a+h.index,a+h.index+h[0].length,p))}}a=u}if(!r.validEnd){let l=r.fillBefore(H.empty,!0);t.replace(a,a,new Y(l,0,0))}for(let l=o.length-1;l>=0;l--)t.step(o[l])}function XB(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Qc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),s=t.$from.index(r),o=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(s,o,n))return r;if(r==0||i.type.spec.isolating||!XB(i,s,o))break}return null}function QB(t,e,n){let{$from:r,$to:i,depth:s}=e,o=r.before(s+1),a=i.after(s+1),l=o,c=a,u=H.empty,d=0;for(let p=s,g=!1;p>n;p--)g||r.index(p)>0?(g=!0,u=H.from(r.node(p).copy(u)),d++):l--;let h=H.empty,f=0;for(let p=s,g=!1;p>n;p--)g||i.after(p+1)<i.end(p)?(g=!0,h=H.from(i.node(p).copy(h)),f++):c++;t.step(new ln(l,c,o,a,new Y(u.append(h),d,f),u.size-d,!0))}function i5(t,e,n=null,r=t){let i=ZB(t,e),s=i&&ej(r,e);return s?i.map(b7).concat({type:e,attrs:n}).concat(s.map(b7)):null}function b7(t){return{type:t,attrs:null}}function ZB(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.contentMatchAt(r).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return n.canReplaceWith(r,i,o)?s:null}function ej(t,e){let{parent:n,startIndex:r,endIndex:i}=t,s=n.child(r),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let l=(o.length?o[o.length-1]:e).contentMatch;for(let c=r;l&&c<i;c++)l=l.matchType(n.child(c).type);return!l||!l.validEnd?null:o}function tj(t,e,n){let r=H.empty;for(let o=n.length-1;o>=0;o--){if(r.size){let a=n[o].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=H.from(n[o].type.create(n[o].attrs,r))}let i=e.start,s=e.end;t.step(new ln(i,s,i,s,new Y(r,0,0),n.length,!0))}function nj(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,n,(o,a)=>{let l=typeof i=="function"?i(o):i;if(o.isTextblock&&!o.hasMarkup(r,l)&&rj(t.doc,t.mapping.slice(s).map(a),r)){let c=null;if(r.schema.linebreakReplacement){let f=r.whitespace=="pre",p=!!r.contentMatch.matchType(r.schema.linebreakReplacement);f&&!p?c=!1:!f&&p&&(c=!0)}c===!1&&QC(t,o,a,s),r5(t,t.mapping.slice(s).map(a,1),r,void 0,c===null);let u=t.mapping.slice(s),d=u.map(a,1),h=u.map(a+o.nodeSize,1);return t.step(new ln(d,h,d+1,h-1,new Y(H.from(r.create(l,null,o.marks)),0,0),1,!0)),c===!0&&XC(t,o,a,s),!1}})}function XC(t,e,n,r){e.forEach((i,s)=>{if(i.isText){let o,a=/\r?\n|\r/g;for(;o=a.exec(i.text);){let l=t.mapping.slice(r).map(n+1+s+o.index);t.replaceWith(l,l+1,e.type.schema.linebreakReplacement.create())}}})}function QC(t,e,n,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let o=t.mapping.slice(r).map(n+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function rj(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function ij(t,e,n,r,i){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");n||(n=s.type);let o=n.create(r,null,i||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!n.validContent(s.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new ln(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new Y(H.from(o),0,0),1,!0))}function cc(t,e,n=1,r){let i=t.resolve(e),s=i.depth-n,o=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!o.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let c=i.depth-1,u=n-2;c>s;c--,u--){let d=i.node(c),h=i.index(c);if(d.type.spec.isolating)return!1;let f=d.content.cutByIndex(h,d.childCount),p=r&&r[u+1];p&&(f=f.replaceChild(0,p.type.create(p.attrs)));let g=r&&r[u]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(f))return!1}let a=i.indexAfter(s),l=r&&r[0];return i.node(s).canReplaceWith(a,a,l?l.type:i.node(s+1).type)}function sj(t,e,n=1,r){let i=t.doc.resolve(e),s=H.empty,o=H.empty;for(let a=i.depth,l=i.depth-n,c=n-1;a>l;a--,c--){s=H.from(i.node(a).copy(s));let u=r&&r[c];o=H.from(u?u.type.create(u.attrs,o):i.node(a).copy(o))}t.step(new on(e,e,new Y(s.append(o),n,n),!0))}function oa(t,e){let n=t.resolve(e),r=n.index();return ZC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function oj(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:r}=t.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),o=s.type==r?t.type.schema.nodes.text:s.type;if(n=n.matchType(o),!n||!t.type.allowsMarks(s.marks))return!1}return n.validEnd}function ZC(t,e){return!!(t&&e&&!t.isLeaf&&oj(t,e))}function Um(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let s,o,a=r.index(i);if(i==r.depth?(s=r.nodeBefore,o=r.nodeAfter):n>0?(s=r.node(i+1),a++,o=r.node(i).maybeChild(a)):(s=r.node(i).maybeChild(a-1),o=r.node(i+1)),s&&!s.isTextblock&&ZC(s,o)&&r.node(i).canReplace(a,a+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function aj(t,e,n){let r=null,{linebreakReplacement:i}=t.doc.type.schema,s=t.doc.resolve(e-n),o=s.node().type;if(i&&o.inlineContent){let u=o.whitespace=="pre",d=!!o.contentMatch.matchType(i);u&&!d?r=!1:!u&&d&&(r=!0)}let a=t.steps.length;if(r===!1){let u=t.doc.resolve(e+n);QC(t,u.node(),u.before(),a)}o.inlineContent&&r5(t,e+n-1,o,s.node().contentMatchAt(s.index()),r==null);let l=t.mapping.slice(a),c=l.map(e-n);if(t.step(new on(c,l.map(e+n,-1),Y.empty,!0)),r===!0){let u=t.doc.resolve(c);XC(t,u.node(),u.before(),t.steps.length)}return t}function lj(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,n))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,n))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function eE(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let s=0;s<n.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(n.openStart==0&&n.size?2:1);s++)for(let o=r.depth;o>=0;o--){let a=o==r.depth?0:r.pos<=(r.start(o+1)+r.end(o+1))/2?-1:1,l=r.index(o)+(a>0?1:0),c=r.node(o),u=!1;if(s==1)u=c.canReplace(l,l,i);else{let d=c.contentMatchAt(l).findWrapping(i.firstChild.type);u=d&&c.canReplaceWith(l,l,d[0])}if(u)return a==0?r.pos:a<0?r.before(o+1):r.after(o+1)}return null}function Wm(t,e,n=e,r=Y.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),s=t.resolve(n);return tE(i,s,r)?new on(e,n,r):new cj(i,s,r).fit()}function tE(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class cj{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=H.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=H.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let c=this.findFittable();c?this.placeNodes(c):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,o=r.depth,a=i.depth;for(;o&&a&&s.childCount==1;)s=s.firstChild.content,o--,a--;let l=new Y(s,o,a);return e>-1?new ln(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new on(r.pos,i.pos,l):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=n.firstChild;if(n.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}n=s.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=vg(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let o=i.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:c}=this.frontier[a],u,d=null;if(n==1&&(o?c.matchType(o.type)||(d=c.fillBefore(H.from(o),!1)):s&&l.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:a,parent:s,inject:d};if(n==2&&o&&(u=c.findWrapping(o.type)))return{sliceDepth:r,frontierDepth:a,parent:s,wrap:u};if(s&&c.matchType(s.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=vg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Y(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=vg(e,n);if(i.childCount<=1&&n>0){let s=e.size-n<=n+i.size;this.unplaced=new Y(Pu(e,n-1,1),n-1,s?n-1:r)}else this.unplaced=new Y(Pu(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:s}){for(;this.depth>n;)this.closeFrontierNode();if(s)for(let g=0;g<s.length;g++)this.openFrontierNode(s[g]);let o=this.unplaced,a=r?r.content:o.content,l=o.openStart-e,c=0,u=[],{match:d,type:h}=this.frontier[n];if(i){for(let g=0;g<i.childCount;g++)u.push(i.child(g));d=d.matchFragment(i)}let f=a.size+e-(o.content.size-o.openEnd);for(;c<a.childCount;){let g=a.child(c),w=d.matchType(g.type);if(!w)break;c++,(c>1||l==0||g.content.size)&&(d=w,u.push(nE(g.mark(h.allowedMarks(g.marks)),c==1?l:0,c==a.childCount?f:-1)))}let p=c==a.childCount;p||(f=-1),this.placed=zu(this.placed,n,H.from(u)),this.frontier[n].match=d,p&&f<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,w=a;g<f;g++){let v=w.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),w=v.content}this.unplaced=p?e==0?Y.empty:new Y(Pu(o.content,e-1,1),e-1,f<0?o.openEnd:e-1):new Y(Pu(o.content,e,c),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!yg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],s=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),o=yg(e,n,i,r,s);if(o){for(let a=n-1;a>=0;a--){let{match:l,type:c}=this.frontier[a],u=yg(e,a,c,l,!0);if(!u||u.childCount)continue e}return{depth:n,fit:o,move:s?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=zu(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=zu(this.placed,this.depth,H.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(H.empty,!0);n.childCount&&(this.placed=zu(this.placed,this.frontier.length,n))}}function Pu(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Pu(t.firstChild.content,e-1,n)))}function zu(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(zu(t.lastChild.content,e-1,n)))}function vg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function nE(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,nE(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(H.empty,!0)))),t.copy(r)}function yg(t,e,n,r,i){let s=t.node(e),o=i?t.indexAfter(e):t.index(e);if(o==s.childCount&&!n.compatibleContent(s.type))return null;let a=r.fillBefore(s.content,!0,o);return a&&!uj(n,s.content,o)?a:null}function uj(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function dj(t){return t.spec.defining||t.spec.definingForContent}function hj(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),s=t.doc.resolve(n);if(tE(i,s,r))return t.step(new on(e,n,r));let o=iE(i,t.doc.resolve(n));o[o.length-1]==0&&o.pop();let a=-(i.depth+1);o.unshift(a);for(let h=i.depth,f=i.pos-1;h>0;h--,f--){let p=i.node(h).type.spec;if(p.defining||p.definingAsContext||p.isolating)break;o.indexOf(h)>-1?a=h:i.before(h)==f&&o.splice(1,0,-h)}let l=o.indexOf(a),c=[],u=r.openStart;for(let h=r.content,f=0;;f++){let p=h.firstChild;if(c.push(p),f==r.openStart)break;h=p.content}for(let h=u-1;h>=0;h--){let f=c[h],p=dj(f.type);if(p&&!f.sameMarkup(i.node(Math.abs(a)-1)))u=h;else if(p||!f.type.isTextblock)break}for(let h=r.openStart;h>=0;h--){let f=(h+u+1)%(r.openStart+1),p=c[f];if(p)for(let g=0;g<o.length;g++){let w=o[(g+l)%o.length],v=!0;w<0&&(v=!1,w=-w);let k=i.node(w-1),E=i.index(w-1);if(k.canReplaceWith(E,E,p.type,p.marks))return t.replace(i.before(w),v?s.after(w):n,new Y(rE(r.content,0,r.openStart,f),f,r.openEnd))}}let d=t.steps.length;for(let h=o.length-1;h>=0&&(t.replace(e,n,r),!(t.steps.length>d));h--){let f=o[h];f<0||(e=i.before(f),n=s.after(f))}}function rE(t,e,n,r,i){if(e<n){let s=t.firstChild;t=t.replaceChild(0,s.copy(rE(s.content,e+1,n,r,s)))}if(e>r){let s=i.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(H.empty,!0))}return t}function fj(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=lj(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Y(H.from(r),0,0))}function pj(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),s=iE(r,i);for(let o=0;o<s.length;o++){let a=s[o],l=o==s.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let o=1;o<=r.depth&&o<=i.depth;o++)if(e-r.start(o)==r.depth-o&&n>r.end(o)&&i.end(o)-n!=i.depth-o&&r.start(o-1)==i.start(o-1)&&r.node(o-1).canReplace(r.index(o-1),i.index(o-1)))return t.delete(r.before(o),n);t.delete(e,n)}function iE(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let s=t.start(i);if(s<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&n.push(i)}return n}class uc extends Nn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return qt.fail("No node at attribute step's position");let r=Object.create(null);for(let s in n.attrs)r[s]=n.attrs[s];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return qt.fromReplace(e,this.pos,this.pos+1,new Y(H.from(i),0,n.isLeaf?0:1))}getMap(){return dr.empty}invert(e){return new uc(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new uc(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new uc(n.pos,n.attr,n.value)}}Nn.jsonID("attr",uc);class Pd extends Nn{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let i in e.attrs)n[i]=e.attrs[i];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return qt.ok(r)}getMap(){return dr.empty}invert(e){return new Pd(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Pd(n.attr,n.value)}}Nn.jsonID("docAttr",Pd);let Rc=class extends Error{};Rc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Rc.prototype=Object.create(Error.prototype);Rc.prototype.constructor=Rc;Rc.prototype.name="TransformError";class s5{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new lc}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Rc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Y.empty){let i=Wm(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Y(H.from(r),0,0))}delete(e,n){return this.replace(e,n,Y.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return hj(this,e,n,r),this}replaceRangeWith(e,n,r){return fj(this,e,n,r),this}deleteRange(e,n){return pj(this,e,n),this}lift(e,n){return QB(this,e,n),this}join(e,n=1){return aj(this,e,n),this}wrap(e,n){return tj(this,e,n),this}setBlockType(e,n=e,r,i=null){return nj(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return ij(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new uc(e,n,r)),this}setDocAttribute(e,n){return this.step(new Pd(e,n)),this}addNodeMark(e,n){return this.step(new Eo(e,n)),this}removeNodeMark(e,n){if(!(n instanceof ot)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Dc(e,n)),this}split(e,n=1,r){return sj(this,e,n,r),this}addMark(e,n,r){return JB(this,e,n,r),this}removeMark(e,n,r){return YB(this,e,n,r),this}clearIncompatible(e,n,r){return r5(this,e,n,r),this}}const wg=Object.create(null);class we{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new o5(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Y.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let s=e.steps.length,o=this.ranges;for(let a=0;a<o.length;a++){let{$from:l,$to:c}=o[a],u=e.mapping.slice(s);e.replaceRange(u.map(l.pos),u.map(c.pos),a?Y.empty:n),a==0&&S7(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:o,$to:a}=i[s],l=e.mapping.slice(r),c=l.map(o.pos),u=l.map(a.pos);s?e.deleteRange(c,u):(e.replaceRangeWith(c,u,n),S7(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new me(e):Dl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let o=n<0?Dl(e.node(0),e.node(s),e.before(s+1),e.index(s),n,r):Dl(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,n,r);if(o)return o}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new di(e.node(0))}static atStart(e){return Dl(e,e,0,0,1)||new di(e)}static atEnd(e){return Dl(e,e,e.content.size,e.childCount,-1)||new di(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=wg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in wg)throw new RangeError("Duplicate use of selection JSON ID "+e);return wg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}we.prototype.visible=!0;class o5{constructor(e,n){this.$from=e,this.$to=n}}let k7=!1;function x7(t){!k7&&!t.parent.inlineContent&&(k7=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends we{constructor(e,n=e){x7(e),x7(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return we.near(r);let i=e.resolve(n.map(this.anchor));return new me(i.parent.inlineContent?i:r,r)}replace(e,n=Y.empty){if(super.replace(e,n),n==Y.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qm(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let s=we.findFrom(n,r,!0)||we.findFrom(n,-r,!0);if(s)n=s.$head;else return we.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(we.findFrom(e,-r,!0)||we.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new me(e,n)}}we.jsonID("text",me);class qm{constructor(e,n){this.anchor=e,this.head=n}map(e){return new qm(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class be extends we{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),s=e.resolve(i);return r?we.near(s):new be(s)}content(){return new Y(H.from(this.node),0,0)}eq(e){return e instanceof be&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new a5(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new be(e.resolve(n.anchor))}static create(e,n){return new be(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}be.prototype.visible=!1;we.jsonID("node",be);class a5{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new qm(r,r):new a5(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&be.isSelectable(r)?new be(n):we.near(n)}}class di extends we{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Y.empty){if(n==Y.empty){e.delete(0,e.doc.content.size);let r=we.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new di(e)}map(e){return new di(e)}eq(e){return e instanceof di}getBookmark(){return mj}}we.jsonID("all",di);const mj={map(){return this},resolve(t){return new di(t)}};function Dl(t,e,n,r,i,s=!1){if(e.inlineContent)return me.create(t,n);for(let o=r-(i>0?0:1);i>0?o<e.childCount:o>=0;o+=i){let a=e.child(o);if(a.isAtom){if(!s&&be.isSelectable(a))return be.create(t,n-(i<0?a.nodeSize:0))}else{let l=Dl(t,a,n+i,i<0?a.childCount:0,i,s);if(l)return l}n+=a.nodeSize*i}return null}function S7(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof on||i instanceof ln))return;let s=t.mapping.maps[r],o;s.forEach((a,l,c,u)=>{o==null&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const C7=1,ih=2,E7=4;let gj=class extends s5{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|C7)&~ih,this.storedMarks=null,this}get selectionSet(){return(this.updated&C7)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ih,this}ensureMarks(e){return ot.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ih)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~ih,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||ot.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let s=this.storedMarks;if(!s){let o=this.doc.resolve(n);s=r==n?o.marks():o.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,s)),this.selection.empty||this.setSelection(we.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=E7,this}get scrolledIntoView(){return(this.updated&E7)>0}};function T7(t,e){return!e||!t?t:t.bind(e)}class Bu{constructor(e,n,r){this.name=e,this.init=T7(n.init,r),this.apply=T7(n.apply,r)}}const vj=[new Bu("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Bu("selection",{init(t,e){return t.selection||we.atStart(e.doc)},apply(t){return t.selection}}),new Bu("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Bu("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class bg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=vj.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Bu(r.key,r.spec.state,r))})}}class Yl{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let a=this.config.plugins[o];if(a.spec.appendTransaction){let l=i?i[o].n:0,c=i?i[o].state:this,u=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,c,r);if(u&&r.filterTransaction(u,o)){if(u.setMeta("appendedTransaction",e),!i){i=[];for(let d=0;d<this.config.plugins.length;d++)i.push(d<o?{state:r,n:n.length}:{state:this,n:0})}n.push(u),r=r.applyInner(u),s=!0}i&&(i[o]={state:r,n:n.length})}}if(!s)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Yl(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];n[s.name]=s.apply(e,this[s.name],this,n)}return n}get tr(){return new gj(this)}static create(e){let n=new bg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Yl(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new bg(this.schema,e.plugins),r=n.fields,i=new Yl(n);for(let s=0;s<r.length;s++){let o=r[s].name;i[o]=this.hasOwnProperty(o)?this[o]:r[s].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(n[r]=s.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new bg(e.schema,e.plugins),s=new Yl(i);return i.fields.forEach(o=>{if(o.name=="doc")s.doc=$a.fromJSON(e.schema,n.doc);else if(o.name=="selection")s.selection=we.fromJSON(s.doc,n.selection);else if(o.name=="storedMarks")n.storedMarks&&(s.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],c=l.spec.state;if(l.key==o.name&&c&&c.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){s[o.name]=c.fromJSON.call(l,e,n[a],s);return}}s[o.name]=o.init(e,s)}}),s}}function sE(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=sE(i,e,{})),n[r]=i}return n}class nt{constructor(e){this.spec=e,this.props={},e.props&&sE(e.props,this,this.props),this.key=e.key?e.key.key:oE("plugin")}getState(e){return e[this.key]}}const kg=Object.create(null);function oE(t){return t in kg?t+"$"+ ++kg[t]:(kg[t]=0,t+"$")}class lt{constructor(e="key"){this.key=oE(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const pn=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},zd=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _v=null;const ms=function(t,e,n){let r=_v||(_v=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},yj=function(){_v=null},rl=function(t,e,n,r){return n&&(M7(t,e,n,r,-1)||M7(t,e,n,r,1))},wj=/^(img|br|input|textarea|hr)$/i;function M7(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ir(t))){let s=t.parentNode;if(!s||s.nodeType!=1||w0(t)||wj.test(t.nodeName)||t.contentEditable=="false")return!1;e=pn(t)+(i<0?0:1),t=s}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Ir(t):0}else return!1}}function Ir(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function bj(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=Ir(t)}else if(t.parentNode&&!w0(t))e=pn(t),t=t.parentNode;else return null}}function kj(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!w0(t))e=pn(t)+1,t=t.parentNode;else return null}}function xj(t,e,n){for(let r=e==0,i=e==Ir(t);r||i;){if(t==n)return!0;let s=pn(t);if(t=t.parentNode,!t)return!1;r=r&&s==0,i=i&&s==Ir(t)}}function w0(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Km=function(t){return t.focusNode&&rl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Ca(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Sj(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Cj(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:Math.min(Ir(r.offsetNode),r.offset)}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:Math.min(Ir(r.startContainer),r.startOffset)}}}const Yi=typeof navigator<"u"?navigator:null,A7=typeof document<"u"?document:null,aa=Yi&&Yi.userAgent||"",Lv=/Edge\/(\d+)/.exec(aa),aE=/MSIE \d/.exec(aa),Pv=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(aa),tr=!!(aE||Pv||Lv),Fo=aE?document.documentMode:Pv?+Pv[1]:Lv?+Lv[1]:0,gi=!tr&&/gecko\/(\d+)/i.test(aa);gi&&+(/Firefox\/(\d+)/.exec(aa)||[0,0])[1];const zv=!tr&&/Chrome\/(\d+)/.exec(aa),Cn=!!zv,lE=zv?+zv[1]:0,Bn=!tr&&!!Yi&&/Apple Computer/.test(Yi.vendor),_c=Bn&&(/Mobile\/\w+/.test(aa)||!!Yi&&Yi.maxTouchPoints>2),Ar=_c||(Yi?/Mac/.test(Yi.platform):!1),Ej=Yi?/Win/.test(Yi.platform):!1,ii=/Android \d/.test(aa),b0=!!A7&&"webkitFontSmoothing"in A7.documentElement.style,Tj=b0?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Mj(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ls(t,e){return typeof t=="number"?t:t[e]}function Aj(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function N7(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=n||t.dom;o;o=zd(o)){if(o.nodeType!=1)continue;let a=o,l=a==s.body,c=l?Mj(s):Aj(a),u=0,d=0;if(e.top<c.top+ls(r,"top")?d=-(c.top-e.top+ls(i,"top")):e.bottom>c.bottom-ls(r,"bottom")&&(d=e.bottom-e.top>c.bottom-c.top?e.top+ls(i,"top")-c.top:e.bottom-c.bottom+ls(i,"bottom")),e.left<c.left+ls(r,"left")?u=-(c.left-e.left+ls(i,"left")):e.right>c.right-ls(r,"right")&&(u=e.right-c.right+ls(i,"right")),u||d)if(l)s.defaultView.scrollBy(u,d);else{let h=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),u&&(a.scrollLeft+=u);let p=a.scrollLeft-h,g=a.scrollTop-f;e={left:e.left-p,top:e.top-g,right:e.right-p,bottom:e.bottom-g}}if(l||/^(fixed|sticky)$/.test(getComputedStyle(o).position))break}}function Nj(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,o=n+1;o<Math.min(innerHeight,e.bottom);o+=5){let a=t.root.elementFromPoint(s,o);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:cE(t.dom)}}function cE(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=zd(r));return e}function Oj({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;uE(n,r==0?0:r-e)}function uE(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:s}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let Al=null;function Ij(t){if(t.setActive)return t.setActive();if(Al)return t.focus(Al);let e=cE(t);t.focus(Al==null?{get preventScroll(){return Al={preventScroll:!0},!0}}:void 0),Al||(Al=!1,uE(e,0))}function dE(t,e){let n,r=2e8,i,s=0,o=e.top,a=e.top,l,c;for(let u=t.firstChild,d=0;u;u=u.nextSibling,d++){let h;if(u.nodeType==1)h=u.getClientRects();else if(u.nodeType==3)h=ms(u).getClientRects();else continue;for(let f=0;f<h.length;f++){let p=h[f];if(p.top<=o&&p.bottom>=a){o=Math.max(p.bottom,o),a=Math.min(p.top,a);let g=p.left>e.left?p.left-e.left:p.right<e.left?e.left-p.right:0;if(g<r){n=u,r=g,i=g&&n.nodeType==3?{left:p.right<e.left?p.right:p.left,top:e.top}:e,u.nodeType==1&&g&&(s=d+(e.left>=(p.left+p.right)/2?1:0));continue}}else p.top>e.top&&!l&&p.left<=e.left&&p.right>=e.left&&(l=u,c={left:Math.max(p.left,Math.min(p.right,e.left)),top:p.top});!n&&(e.left>=p.right&&e.top>=p.top||e.left>=p.left&&e.top>=p.bottom)&&(s=d+1)}}return!n&&l&&(n=l,i=c,r=0),n&&n.nodeType==3?Dj(n,i):!n||r&&n.nodeType==1?{node:t,offset:s}:dE(n,i)}function Dj(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let s=io(r,1);if(s.top!=s.bottom&&l5(e,s))return{node:t,offset:i+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function l5(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Rj(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function _j(t,e,n){let{node:r,offset:i}=dE(e,n),s=-1;if(r.nodeType==1&&!r.firstChild){let o=r.getBoundingClientRect();s=o.left!=o.right&&n.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(r,i,s)}function Lj(t,e,n,r){let i=-1;for(let s=e,o=!1;s!=t.dom;){let a=t.docView.nearestDesc(s,!0);if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)){let l=a.dom.getBoundingClientRect();if(a.node.isBlock&&a.parent&&(!o&&l.left>r.left||l.top>r.top?i=a.posBefore:(!o&&l.right<r.left||l.bottom<r.top)&&(i=a.posAfter),o=!0),!a.contentDOM&&i<0&&!a.node.isText)return(a.node.isBlock?r.top<(l.top+l.bottom)/2:r.left<(l.left+l.right)/2)?a.posBefore:a.posAfter}s=a.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function hE(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),s=i;;){let o=t.childNodes[s];if(o.nodeType==1){let a=o.getClientRects();for(let l=0;l<a.length;l++){let c=a[l];if(l5(e,c))return hE(o,e,c)}}if((s=(s+1)%r)==i)break}return t}function Pj(t,e){let n=t.dom.ownerDocument,r,i=0,s=Cj(n,e.left,e.top);s&&({node:r,offset:i}=s);let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),a;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let c=t.dom.getBoundingClientRect();if(!l5(e,c)||(o=hE(t.dom,e,c),!o))return null}if(Bn)for(let c=o;r&&c;c=zd(c))c.draggable&&(r=void 0);if(o=Rj(o,e),r){if(gi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],d;u.nodeName=="IMG"&&(d=u.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}let c;b0&&i&&r.nodeType==1&&(c=r.childNodes[i-1]).nodeType==1&&c.contentEditable=="false"&&c.getBoundingClientRect().top>=e.top&&i--,r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?a=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(a=Lj(t,r,i,e))}a==null&&(a=_j(t,o,e));let l=t.docView.nearestDesc(o,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function O7(t){return t.top<t.bottom||t.left<t.right}function io(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(O7(r))return r}return Array.prototype.find.call(n,O7)||t.getBoundingClientRect()}const zj=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function fE(t,e,n){let{node:r,offset:i,atom:s}=t.docView.domFromPos(e,n<0?-1:1),o=b0||gi;if(r.nodeType==3)if(o&&(zj.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=io(ms(r,i,i),n);if(gi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let c=io(ms(r,i-1,i-1),-1);if(c.top==l.top){let u=io(ms(r,i,i+1),-1);if(u.top!=l.top)return Eu(u,u.left<c.left)}}return l}else{let l=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==r.nodeValue.length?(l--,u=1):n<0?l--:c++,Eu(io(ms(r,l,c),u),u<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(n<0||i==Ir(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return xg(l.getBoundingClientRect(),!1)}if(s==null&&i<Ir(r)){let l=r.childNodes[i];if(l.nodeType==1)return xg(l.getBoundingClientRect(),!0)}return xg(r.getBoundingClientRect(),n>=0)}if(s==null&&i&&(n<0||i==Ir(r))){let l=r.childNodes[i-1],c=l.nodeType==3?ms(l,Ir(l)-(o?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(c)return Eu(io(c,1),!1)}if(s==null&&i<Ir(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let c=l?l.nodeType==3?ms(l,0,o?0:1):l.nodeType==1?l:null:null;if(c)return Eu(io(c,-1),!0)}return Eu(io(r.nodeType==3?ms(r):r,-n),n>=0)}function Eu(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function xg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function pE(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function Bj(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return pE(t,e,()=>{let{node:s}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(s,!0);if(!a)break;if(a.node.isBlock){s=a.contentDOM||a.dom;break}s=a.dom.parentNode}let o=fE(t,i.pos,1);for(let a=s.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=ms(a,0,a.nodeValue.length).getClientRects();else continue;for(let c=0;c<l.length;c++){let u=l[c];if(u.bottom>u.top+1&&(n=="up"?o.top-u.top>(u.bottom-o.top)*2:u.bottom-o.bottom>(o.bottom-u.top)*2))return!1}}return!0})}const jj=/[\u0590-\u08ac]/;function Fj(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,o=i==r.parent.content.size,a=t.domSelection();return a?!jj.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?s:o:pE(t,e,()=>{let{focusNode:l,focusOffset:c,anchorNode:u,anchorOffset:d}=t.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let f=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:p,focusOffset:g}=t.domSelectionRange(),w=p&&!f.contains(p.nodeType==1?p:p.parentNode)||l==p&&c==g;try{a.collapse(u,d),l&&(l!=u||c!=d)&&a.extend&&a.extend(l,c)}catch{}return h!=null&&(a.caretBidiLevel=h),w}):r.pos==r.start()||r.pos==r.end()}let I7=null,D7=null,R7=!1;function Hj(t,e,n){return I7==e&&D7==n?R7:(I7=e,D7=n,R7=n=="up"||n=="down"?Bj(t,e,n):Fj(t,e,n))}const zr=0,_7=1,Ra=2,Xi=3;class k0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=zr,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,o;if(e==this.contentDOM)s=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>pn(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),o;if(s&&(!n||s.node))if(r&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))r=!1;else return s}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.size;if(a>e||o instanceof gE){i=e-s;break}s=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof mE&&s.side>=0;r--);if(n<=0){let s,o=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,o=!1);return s&&n&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,n):{node:this.contentDOM,offset:s?pn(s.dom)+1:0}}else{let s,o=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,n):{node:this.contentDOM,offset:s?pn(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let o=r,a=0;;a++){let l=this.children[a],c=o+l.size;if(i==-1&&e<=c){let u=o+l.border;if(e>=u&&n<=c-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,u);e=o;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){i=pn(h.dom)+1;break}e-=h.size}i==-1&&(i=0)}if(i>-1&&(c>n||a==this.children.length-1)){n=c;for(let u=a+1;u<this.children.length;u++){let d=this.children[u];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){s=pn(d.dom);break}n+=d.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=c}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let s=Math.min(e,n),o=Math.max(e,n);for(let h=0,f=0;h<this.children.length;h++){let p=this.children[h],g=f+p.size;if(s>f&&o<g)return p.setSelection(e-f-p.border,n-f-p.border,r,i);f=g}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),c=r.getSelection(),u=!1;if((gi||Bn)&&e==n){let{node:h,offset:f}=a;if(h.nodeType==3){if(u=!!(f&&h.nodeValue[f-1]==`
`),u&&f==h.nodeValue.length)for(let p=h,g;p;p=p.parentNode){if(g=p.nextSibling){g.nodeName=="BR"&&(a=l={node:g.parentNode,offset:pn(g)+1});break}let w=p.pmViewDesc;if(w&&w.node&&w.node.isBlock)break}}else{let p=h.childNodes[f-1];u=p&&(p.nodeName=="BR"||p.contentEditable=="false")}}if(gi&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let h=c.focusNode.childNodes[c.focusOffset];h&&h.contentEditable=="false"&&(i=!0)}if(!(i||u&&Bn)&&rl(a.node,a.offset,c.anchorNode,c.anchorOffset)&&rl(l.node,l.offset,c.focusNode,c.focusOffset))return;let d=!1;if((c.extend||e==n)&&!u){c.collapse(a.node,a.offset);try{e!=n&&c.extend(l.node,l.offset),d=!0}catch{}}if(!d){if(e>n){let f=a;a=l,l=f}let h=document.createRange();h.setEnd(l.node,l.offset),h.setStart(a.node,a.offset),c.removeAllRanges(),c.addRange(h)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],o=r+s.size;if(r==o?e<=o&&n>=r:e<o&&n>r){let a=r+s.border,l=o-s.border;if(e>=a&&n<=l){this.dirty=e==r||n==o?Ra:_7,e==a&&n==l&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Xi:s.markDirty(e-a,n-a);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Ra:Xi}r=o}this.dirty=Ra}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ra:_7;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}isText(e){return!1}}class mE extends k0{constructor(e,n,r,i){let s,o=n.type.toDOM;if(typeof o=="function"&&(o=o(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!n.type.spec.raw){if(o.nodeType!=1){let a=document.createElement("span");a.appendChild(o),o=a}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=n,this.widget=n,s=this}matchesWidget(e){return this.dirty==zr&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class $j extends k0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class il extends k0{constructor(e,n,r,i,s){super(e,[],r,i),this.mark=n,this.spec=s}static create(e,n,r,i){let s=i.nodeViews[n.type.name],o=s&&s(n,i,r);return(!o||!o.dom)&&(o=ml.renderSpec(document,n.type.spec.toDOM(n,r),null,n.attrs)),new il(e,n,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&Xi||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Xi&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=zr){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=zr}}slice(e,n,r){let i=il.create(this.parent,this.mark,!0,r),s=this.children,o=this.size;n<o&&(s=jv(s,n,o,r)),e>0&&(s=jv(s,0,e,r));for(let a=0;a<s.length;a++)s[a].parent=i;return i.children=s,i}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Ho extends k0{constructor(e,n,r,i,s,o,a,l,c){super(e,[],s,o),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a}static create(e,n,r,i,s,o){let a=s.nodeViews[n.type.name],l,c=a&&a(n,s,()=>{if(!l)return o;if(l.parent)return l.parent.posBeforeChild(l)},r,i),u=c&&c.dom,d=c&&c.contentDOM;if(n.isText){if(!u)u=document.createTextNode(n.text);else if(u.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else u||({dom:u,contentDOM:d}=ml.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&u.nodeName!="BR"&&(u.hasAttribute("contenteditable")||(u.contentEditable="false"),n.type.spec.draggable&&(u.draggable=!0));let h=u;return u=wE(u,r,n),c?l=new Vj(e,n,r,i,u,d||null,h,c,s,o+1):n.isText?new Gm(e,n,r,i,u,h,s):new Ho(e,n,r,i,u,d||null,h,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>H.empty)}return e}matchesNode(e,n,r){return this.dirty==zr&&e.eq(this.node)&&hp(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,s=e.composing?this.localCompositionInfo(e,n):null,o=s&&s.pos>-1?s:null,a=s&&s.pos<0,l=new Wj(this,o&&o.node,e);Gj(this.node,this.innerDeco,(c,u,d)=>{c.spec.marks?l.syncToMarks(c.spec.marks,r,e):c.type.side>=0&&!d&&l.syncToMarks(u==this.node.childCount?ot.none:this.node.child(u).marks,r,e),l.placeWidget(c,e,i)},(c,u,d,h)=>{l.syncToMarks(c.marks,r,e);let f;l.findNodeMatch(c,u,d,h)||a&&e.state.selection.from>i&&e.state.selection.to<i+c.nodeSize&&(f=l.findIndexWithChild(s.node))>-1&&l.updateNodeAt(c,u,d,f,e)||l.updateNextNode(c,u,d,e,h,i)||l.addNode(c,u,d,e,i),i+=c.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ra)&&(o&&this.protectLocalComposition(e,o),vE(this.contentDOM,this.children,e),_c&&Jj(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||i>n+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,a=Yj(this.node.content,o,r-n,i-n);return a<0?null:{node:s,pos:a,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let s=n;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new $j(this,s,n,i);e.input.compositionNodes.push(o),this.children=jv(this.children,r,r+i.length,e,o)}update(e,n,r,i){return this.dirty==Xi||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=zr}updateOuterDeco(e){if(hp(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=yE(this.dom,this.nodeDOM,Bv(this.outerDeco,this.node,n),Bv(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function L7(t,e,n,r,i){wE(r,e,t);let s=new Ho(void 0,t,e,n,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class Gm extends Ho{constructor(e,n,r,i,s,o,a){super(e,n,r,i,s,null,o,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Xi||this.dirty!=zr&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=zr||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=zr,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),s=document.createTextNode(i.text);return new Gm(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Xi)}get domAtom(){return!1}isText(e){return this.node.text==e}}class gE extends k0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==zr&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Vj extends Ho{constructor(e,n,r,i,s,o,a,l,c,u){super(e,n,r,i,s,o,a,c,u),this.spec=l}update(e,n,r,i){if(this.dirty==Xi)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,n,r);return s&&this.updateInner(e,n,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function vE(t,e,n){let r=t.firstChild,i=!1;for(let s=0;s<e.length;s++){let o=e[s],a=o.dom;if(a.parentNode==t){for(;a!=r;)r=P7(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(o instanceof il){let l=r?r.previousSibling:t.lastChild;vE(o.contentDOM,o.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=P7(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const ed=function(t){t&&(this.nodeName=t)};ed.prototype=Object.create(null);const _a=[new ed];function Bv(t,e,n){if(t.length==0)return _a;let r=n?_a[0]:new ed,i=[r];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&i.push(r=new ed(o.nodeName));for(let a in o){let l=o[a];l!=null&&(n&&i.length==1&&i.push(r=new ed(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function yE(t,e,n,r){if(n==_a&&r==_a)return e;let i=e;for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(s){let l;a&&a.nodeName==o.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==o.nodeName||(l=document.createElement(o.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=_a[0]),i=l}Uj(i,a||_a[0],o)}return i}function Uj(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&t.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&t.classList.add(i[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function wE(t,e,n){return yE(t,t,_a,Bv(e,n,t.nodeType!=1))}function hp(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function P7(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Wj{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=qj(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;i<o&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=zr,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let c=this.top.children[l];if(c.matchesMark(e[s])&&!this.isLocked(c.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=il.create(this.top,e[s],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,s++}}findNodeMatch(e,n,r,i){let s=-1,o;if(i>=this.preMatch.index&&(o=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&o.matchesNode(e,n,r))s=this.top.children.indexOf(o,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let c=this.top.children[a];if(c.matchesNode(e,n,r)&&!this.preMatch.matched.has(c)){s=a;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,n,r,i,s){let o=this.top.children[i];return o.dirty==Xi&&o.dom==o.contentDOM&&(o.dirty=Ra),o.update(e,n,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,s,o){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof Ho){let c=this.preMatch.matched.get(l);if(c!=null&&c!=s)return!1;let u=l.dom,d,h=this.isLocked(u)&&!(e.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==e.text&&l.dirty!=Xi&&hp(n,l.outerDeco));if(!h&&l.update(e,n,r,i))return this.destroyBetween(this.index,a),l.dom!=u&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,e,n,r,i,o)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ra,d.updateChildren(i,o+1),d.dirty=zr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,i,s,o){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!hp(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let a=Ho.create(this.top,n,r,i,s,o);if(a.contentDOM){a.children=e.children,e.children=[];for(let l of a.children)l.parent=a}return e.destroy(),a}addNode(e,n,r,i,s){let o=Ho.create(this.top,e,n,r,i,s);o.contentDOM&&o.updateChildren(i,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new mE(this.top,e,n,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof il;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Gm)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bn||Cn)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gE(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function qj(t,e){let n=e,r=n.children.length,i=t.childCount,s=new Map,o=[];e:for(;i>0;){let a;for(;;)if(r){let c=n.children[r-1];if(c instanceof il)n=c,r=c.children.length;else{a=c,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=t.child(i-1))break;--i,s.set(a,i),o.push(a)}}return{index:i,matched:s,matches:o.reverse()}}function Kj(t,e){return t.type.side-e.type.side}function Gj(t,e,n,r){let i=e.locals(t),s=0;if(i.length==0){for(let c=0;c<t.childCount;c++){let u=t.child(c);r(u,i,e.forChild(s,u),c),s+=u.nodeSize}return}let o=0,a=[],l=null;for(let c=0;;){let u,d;for(;o<i.length&&i[o].to==s;){let w=i[o++];w.widget&&(u?(d||(d=[u])).push(w):u=w)}if(u)if(d){d.sort(Kj);for(let w=0;w<d.length;w++)n(d[w],c,!!l)}else n(u,c,!!l);let h,f;if(l)f=-1,h=l,l=null;else if(c<t.childCount)f=c,h=t.child(c++);else break;for(let w=0;w<a.length;w++)a[w].to<=s&&a.splice(w--,1);for(;o<i.length&&i[o].from<=s&&i[o].to>s;)a.push(i[o++]);let p=s+h.nodeSize;if(h.isText){let w=p;o<i.length&&i[o].from<w&&(w=i[o].from);for(let v=0;v<a.length;v++)a[v].to<w&&(w=a[v].to);w<p&&(l=h.cut(w-s),h=h.cut(0,w-s),p=w,f=-1)}else for(;o<i.length&&i[o].to<p;)o++;let g=h.isInline&&!h.isLeaf?a.filter(w=>!w.inline):a.slice();r(h,g,e.forChild(s,h),f),s=p}}function Jj(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Yj(t,e,n,r){for(let i=0,s=0;i<t.childCount&&s<=r;){let o=t.child(i++),a=s;if(s+=o.nodeSize,!o.isText)continue;let l=o.text;for(;i<t.childCount;){let c=t.child(i++);if(s+=c.nodeSize,!c.isText)break;l+=c.text}if(s>=n){if(s>=r&&l.slice(r-e.length-a,r-a)==e)return r-e.length;let c=a<r?l.lastIndexOf(e,r-a-1):-1;if(c>=0&&c+e.length+a>=n)return a+c;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function jv(t,e,n,r,i){let s=[];for(let o=0,a=0;o<t.length;o++){let l=t[o],c=a,u=a+=l.size;c>=n||u<=e?s.push(l):(c<e&&s.push(l.slice(0,e-c,r)),i&&(s.push(i),i=void 0),u>n&&s.push(l.slice(n-c,l.size,r)))}return s}function c5(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),s=i&&i.size==0,o=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(o<0)return null;let a=r.resolve(o),l,c;if(Km(n)){for(l=o;i&&!i.node;)i=i.parent;let d=i.node;if(i&&d.isAtom&&be.isSelectable(d)&&i.parent&&!(d.isInline&&xj(n.focusNode,n.focusOffset,i.dom))){let h=i.posBefore;c=new be(o==h?a:r.resolve(h))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=o,h=o;for(let f=0;f<n.rangeCount;f++){let p=n.getRangeAt(f);d=Math.min(d,t.docView.posFromDOM(p.startContainer,p.startOffset,1)),h=Math.max(h,t.docView.posFromDOM(p.endContainer,p.endOffset,-1))}if(d<0)return null;[l,o]=h==t.state.selection.anchor?[h,d]:[d,h],a=r.resolve(o)}else l=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let u=r.resolve(l);if(!c){let d=e=="pointer"||t.state.selection.head<a.pos&&!s?1:-1;c=u5(t,u,a,d)}return c}function bE(t){return t.editable?t.hasFocus():xE(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ms(t,e=!1){let n=t.state.selection;if(kE(t,n),!!bE(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Cn){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&rl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Qj(t);else{let{anchor:r,head:i}=n,s,o;z7&&!(n instanceof me)&&(n.$from.parent.inlineContent||(s=B7(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(o=B7(t,n.to))),t.docView.setSelection(r,i,t.root,e),z7&&(s&&j7(s),o&&j7(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Xj(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const z7=Bn||Cn&&lE<63;function B7(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,s=r?n.childNodes[r-1]:null;if(Bn&&i&&i.contentEditable=="false")return Sg(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Sg(i);if(s)return Sg(s)}}function Sg(t){return t.contentEditable="true",Bn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function j7(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Xj(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!bE(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Qj(t){let e=t.domSelection(),n=document.createRange();if(!e)return;let r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setStart(r.parentNode,pn(r)+1):n.setStart(r,0),n.collapse(!0),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&tr&&Fo<=11&&(r.disabled=!0,r.disabled=!1)}function kE(t,e){if(e instanceof be){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(F7(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else F7(t)}function F7(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function u5(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||me.between(e,n,r)}function H7(t){return t.editable&&!t.hasFocus()?!1:xE(t)}function xE(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Zj(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return rl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Fv(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&we.findFrom(s,e)}function lo(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function $7(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return lo(t,new me(r.$anchor,o))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let i=Fv(t.state,e);return i&&i instanceof be?lo(t,i):!1}else if(!(Ar&&n.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,o;if(!s||s.isText)return!1;let a=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(o=t.docView.descAt(a))&&!o.contentDOM?be.isSelectable(s)?lo(t,new be(e<0?t.state.doc.resolve(i.pos-s.nodeSize):i)):b0?lo(t,new me(t.state.doc.resolve(e<0?a:a+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof be&&r.node.isInline)return lo(t,new me(e>0?r.$to:r.$from));{let i=Fv(t.state,e);return i?lo(t,i):!1}}}function fp(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function td(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Nl(t,e){return e<0?eF(t):tF(t)}function eF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,s,o=!1;for(gi&&n.nodeType==1&&r<fp(n)&&td(n.childNodes[r],-1)&&(o=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(td(a,-1))i=n,s=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(SE(n))break;{let a=n.previousSibling;for(;a&&td(a,-1);)i=n.parentNode,s=pn(a),a=a.previousSibling;if(a)n=a,r=fp(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}o?Hv(t,n,r):i&&Hv(t,i,s)}function tF(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=fp(n),s,o;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(td(a,1))s=n,o=++r;else break}else{if(SE(n))break;{let a=n.nextSibling;for(;a&&td(a,1);)s=a.parentNode,o=pn(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=fp(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}s&&Hv(t,s,o)}function SE(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function nF(t,e){for(;t&&e==t.childNodes.length&&!w0(t);)e=pn(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function rF(t,e){for(;t&&!e&&!w0(t);)e=pn(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function Hv(t,e,n){if(e.nodeType!=3){let s,o;(o=nF(e,n))?(e=o,n=0):(s=rF(e,n))&&(e=s,n=s.nodeValue.length)}let r=t.domSelection();if(!r)return;if(Km(r)){let s=document.createRange();s.setEnd(e,n),s.setStart(e,n),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Ms(t)},50)}function V7(t,e){let n=t.state.doc.resolve(e);if(!(Cn||Ej)&&n.parent.inlineContent){let i=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>i.top&&o<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function U7(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||Ar&&n.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=Fv(t.state,e);if(o&&o instanceof be)return lo(t,o)}if(!i.parent.inlineContent){let o=e<0?i:s,a=r instanceof di?we.near(o,e):we.findFrom(o,e);return a?lo(t,a):!1}return!1}function W7(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(n.pos-s.nodeSize,n.pos):o.delete(n.pos,n.pos+s.nodeSize),t.dispatch(o),!0}return!1}function q7(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function iF(t){if(!Bn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;q7(t,r,"true"),setTimeout(()=>q7(t,r,"false"),20)}return!1}function sF(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function oF(t,e){let n=e.keyCode,r=sF(e);if(n==8||Ar&&n==72&&r=="c")return W7(t,-1)||Nl(t,-1);if(n==46&&!e.shiftKey||Ar&&n==68&&r=="c")return W7(t,1)||Nl(t,1);if(n==13||n==27)return!0;if(n==37||Ar&&n==66&&r=="c"){let i=n==37?V7(t,t.state.selection.from)=="ltr"?-1:1:-1;return $7(t,i,r)||Nl(t,i)}else if(n==39||Ar&&n==70&&r=="c"){let i=n==39?V7(t,t.state.selection.from)=="ltr"?1:-1:1;return $7(t,i,r)||Nl(t,i)}else{if(n==38||Ar&&n==80&&r=="c")return U7(t,-1,r)||Nl(t,-1);if(n==40||Ar&&n==78&&r=="c")return iF(t)||U7(t,1,r)||Nl(t,1);if(r==(Ar?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function CE(t,e){t.someProp("transformCopied",f=>{e=f(e,t)});let n=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let f=r.firstChild;n.push(f.type.name,f.attrs!=f.type.defaultAttrs?f.attrs:null),r=f.content}let o=t.someProp("clipboardSerializer")||ml.fromSchema(t.state.schema),a=OE(),l=a.createElement("div");l.appendChild(o.serializeFragment(r,{document:a}));let c=l.firstChild,u,d=0;for(;c&&c.nodeType==1&&(u=NE[c.nodeName.toLowerCase()]);){for(let f=u.length-1;f>=0;f--){let p=a.createElement(u[f]);for(;l.firstChild;)p.appendChild(l.firstChild);l.appendChild(p),d++}c=l.firstChild}c&&c.nodeType==1&&c.setAttribute("data-pm-slice",`${i} ${s}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=t.someProp("clipboardTextSerializer",f=>f(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:h,slice:e}}function EE(t,e,n,r,i){let s=i.parent.type.spec.code,o,a;if(!n&&!e)return null;let l=e&&(r||s||!n);if(l){if(t.someProp("transformPastedText",h=>{e=h(e,s||r,t)}),s)return e?new Y(H.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Y.empty;let d=t.someProp("clipboardTextParser",h=>h(e,i,r,t));if(d)a=d;else{let h=i.marks(),{schema:f}=t.state,p=ml.fromSchema(f);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(g=>{let w=o.appendChild(document.createElement("p"));g&&w.appendChild(p.serializeNode(f.text(g,h)))})}}else t.someProp("transformPastedHTML",d=>{n=d(n,t)}),o=uF(n),b0&&dF(o);let c=o&&o.querySelector("[data-pm-slice]"),u=c&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(c.getAttribute("data-pm-slice")||"");if(u&&u[3])for(let d=+u[3];d>0;d--){let h=o.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;o=h}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Qu.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(l||u),context:i,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!aF.test(h.parentNode.nodeName)?{ignore:!0}:null}})),u)a=hF(K7(a,+u[1],+u[2]),u[4]);else if(a=Y.maxOpen(lF(a.content,i),!0),a.openStart||a.openEnd){let d=0,h=0;for(let f=a.content.firstChild;d<a.openStart&&!f.type.spec.isolating;d++,f=f.firstChild);for(let f=a.content.lastChild;h<a.openEnd&&!f.type.spec.isolating;h++,f=f.lastChild);a=K7(a,d,h)}return t.someProp("transformPasted",d=>{a=d(a,t)}),a}const aF=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function lF(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),s,o=[];if(t.forEach(a=>{if(!o)return;let l=i.findWrapping(a.type),c;if(!l)return o=null;if(c=o.length&&s.length&&ME(l,s,a,o[o.length-1],0))o[o.length-1]=c;else{o.length&&(o[o.length-1]=AE(o[o.length-1],s.length));let u=TE(a,l);o.push(u),i=i.matchType(u.type),s=l}}),o)return H.from(o)}return t}function TE(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,H.from(t));return t}function ME(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let s=ME(t,e,n,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(H.from(TE(n,t,i+1))))}}function AE(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,AE(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(H.empty,!0);return t.copy(n.append(r))}function $v(t,e,n,r,i,s){let o=e<0?t.firstChild:t.lastChild,a=o.content;return t.childCount>1&&(s=0),i<r-1&&(a=$v(a,e,n,r,i+1,s)),i>=n&&(a=e<0?o.contentMatchAt(0).fillBefore(a,s<=i).append(a):a.append(o.contentMatchAt(o.childCount).fillBefore(H.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(a))}function K7(t,e,n){return e<t.openStart&&(t=new Y($v(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Y($v(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const NE={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let G7=null;function OE(){return G7||(G7=document.implementation.createHTMLDocument("title"))}let Cg=null;function cF(t){let e=window.trustedTypes;return e?(Cg||(Cg=e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),Cg.createHTML(t)):t}function uF(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=OE().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&NE[r[1].toLowerCase()])&&(t=i.map(s=>"<"+s+">").join("")+t+i.map(s=>"</"+s+">").reverse().join("")),n.innerHTML=cF(t),i)for(let s=0;s<i.length;s++)n=n.querySelector(i[s])||n;return n}function dF(t){let e=t.querySelectorAll(Cn?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function hF(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:s,openEnd:o}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=H.from(l.create(r[a+1],i)),s++,o++}return new Y(i,s,o)}const jn={},Fn={},fF={touchstart:!0,touchmove:!0};class pF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function mF(t){for(let e in jn){let n=jn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{vF(t,r)&&!d5(t,r)&&(t.editable||!(r.type in Fn))&&n(t,r)},fF[e]?{passive:!0}:void 0)}Bn&&t.dom.addEventListener("input",()=>null),Vv(t)}function To(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function gF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Vv(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>d5(t,r))})}function d5(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function vF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yF(t,e){!d5(t,e)&&jn[e.type]&&(t.editable||!(e.type in Fn))&&jn[e.type](t,e)}Fn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!DE(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(ii&&Cn&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),_c&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,Ca(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||oF(t,n)?n.preventDefault():To(t,"key")};Fn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Fn.keypress=(t,e)=>{let n=e;if(DE(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Ar&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",s=>s(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Jm(t){return{left:t.clientX,top:t.clientY}}function wF(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function h5(t,e,n,r,i){if(r==-1)return!1;let s=t.state.doc.resolve(r);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,a=>o>s.depth?a(t,n,s.nodeAfter,s.before(o),i,!0):a(t,n,s.node(o),s.before(o),i,!1)))return!0;return!1}function dc(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function bF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&be.isSelectable(r)?(dc(t,new be(n)),!0):!1}function kF(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof be&&(r=n.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let a=o>s.depth?s.nodeAfter:s.node(o);if(be.isSelectable(a)){r&&n.$from.depth>0&&o>=n.$from.depth&&s.before(n.$from.depth+1)==n.$from.pos?i=s.before(n.$from.depth):i=s.before(o);break}}return i!=null?(dc(t,be.create(t.state.doc,i)),!0):!1}function xF(t,e,n,r,i){return h5(t,"handleClickOn",e,n,r)||t.someProp("handleClick",s=>s(t,e,r))||(i?kF(t,n):bF(t,n))}function SF(t,e,n,r){return h5(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function CF(t,e,n,r){return h5(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||EF(t,n,r)}function EF(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(dc(t,me.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let o=s>i.depth?i.nodeAfter:i.node(s),a=i.before(s);if(o.inlineContent)dc(t,me.create(r,a+1,a+1+o.content.size));else if(be.isSelectable(o))dc(t,be.create(r,a));else continue;return!0}}function f5(t){return pp(t)}const IE=Ar?"metaKey":"ctrlKey";jn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=f5(t),i=Date.now(),s="singleClick";i-t.input.lastClick.time<500&&wF(n,t.input.lastClick)&&!n[IE]&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:s};let o=t.posAtCoords(Jm(n));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new TF(t,o,n,!!r)):(s=="doubleClick"?SF:CF)(t,o.pos,o.inside,n)?n.preventDefault():To(t,"pointer"))};class TF{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[IE],this.allowDefault=r.shiftKey;let s,o;if(n.inside>-1)s=e.state.doc.nodeAt(n.inside),o=n.inside;else{let u=e.state.doc.resolve(n.pos);s=u.parent,o=u.depth?u.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:c}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||c instanceof be&&c.from<=o&&c.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),To(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ms(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Jm(e))),this.updateAllowDefault(e),this.allowDefault||!n?To(this.view,"pointer"):xF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bn&&this.mightDrag&&!this.mightDrag.node.isAtom||Cn&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(dc(this.view,we.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):To(this.view,"pointer")}move(e){this.updateAllowDefault(e),To(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}jn.touchstart=t=>{t.input.lastTouch=Date.now(),f5(t),To(t,"pointer")};jn.touchmove=t=>{t.input.lastTouch=Date.now(),To(t,"pointer")};jn.contextmenu=t=>f5(t);function DE(t,e){return t.composing?!0:Bn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const MF=ii?5e3:-1;Fn.compositionstart=Fn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof me&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),pp(t,!0),t.markCursor=null;else if(pp(t,!e.selection.empty),gi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let o=s<0?i.lastChild:i.childNodes[s-1];if(!o)break;if(o.nodeType==3){let a=t.domSelection();a&&a.collapse(o,o.nodeValue.length);break}else i=o,s=-1}}t.input.composing=!0}RE(t,MF)};Fn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,RE(t,20))};function RE(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>pp(t),e))}function _E(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=NF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function AF(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=bj(e.focusNode,e.focusOffset),r=kj(e.focusNode,e.focusOffset);if(n&&r&&n!=r){let i=r.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(n==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(t.input.compositionNode==r){let o=n.pmViewDesc;if(!(!o||!o.isText(n.nodeValue)))return r}}return n||r}function NF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function pp(t,e=!1){if(!(ii&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_E(t),e||t.docView&&t.docView.dirty){let n=c5(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!t.state.selection.empty?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function OF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Bd=tr&&Fo<15||_c&&Tj<604;jn.copy=Fn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let s=Bd?null:n.clipboardData,o=r.content(),{dom:a,text:l}=CE(t,o);s?(n.preventDefault(),s.clearData(),s.setData("text/html",a.innerHTML),s.setData("text/plain",l)):OF(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function IF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function DF(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?jd(t,r.value,null,i,e):jd(t,r.textContent,r.innerHTML,i,e)},50)}function jd(t,e,n,r,i){let s=EE(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",l=>l(t,i,s||Y.empty)))return!0;if(!s)return!1;let o=IF(s),a=o?t.state.tr.replaceSelectionWith(o,r):t.state.tr.replaceSelection(s);return t.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function LE(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Fn.paste=(t,e)=>{let n=e;if(t.composing&&!ii)return;let r=Bd?null:n.clipboardData,i=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&jd(t,LE(r),r.getData("text/html"),i,n)?n.preventDefault():DF(t,n)};class PE{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const zE=Ar?"altKey":"ctrlKey";jn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,s=i.empty?null:t.posAtCoords(Jm(n)),o;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof be?i.to-1:i.to))){if(r&&r.mightDrag)o=be.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=t.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=t.docView&&(o=be.create(t.state.doc,d.posBefore))}}let a=(o||t.state.selection).content(),{dom:l,text:c,slice:u}=CE(t,a);(!n.dataTransfer.files.length||!Cn||lE>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(Bd?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",Bd||n.dataTransfer.setData("text/plain",c),t.dragging=new PE(u,!n[zE],o)};jn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Fn.dragover=Fn.dragenter=(t,e)=>e.preventDefault();Fn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Jm(n));if(!i)return;let s=t.state.doc.resolve(i.pos),o=r&&r.slice;o?t.someProp("transformPasted",p=>{o=p(o,t)}):o=EE(t,LE(n.dataTransfer),Bd?null:n.dataTransfer.getData("text/html"),!1,s);let a=!!(r&&!n[zE]);if(t.someProp("handleDrop",p=>p(t,n,o||Y.empty,a))){n.preventDefault();return}if(!o)return;n.preventDefault();let l=o?eE(t.state.doc,s.pos,o):s.pos;l==null&&(l=s.pos);let c=t.state.tr;if(a){let{node:p}=r;p?p.replace(c):c.deleteSelection()}let u=c.mapping.map(l),d=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,h=c.doc;if(d?c.replaceRangeWith(u,u,o.content.firstChild):c.replaceRange(u,u,o),c.doc.eq(h))return;let f=c.doc.resolve(u);if(d&&be.isSelectable(o.content.firstChild)&&f.nodeAfter&&f.nodeAfter.sameMarkup(o.content.firstChild))c.setSelection(new be(f));else{let p=c.mapping.map(l);c.mapping.maps[c.mapping.maps.length-1].forEach((g,w,v,k)=>p=k),c.setSelection(u5(t,f,c.doc.resolve(p)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))};jn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ms(t)},20))};jn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};jn.beforeinput=(t,e)=>{if(Cn&&ii&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Ca(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Fn)jn[t]=Fn[t];function Fd(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class mp{constructor(e,n){this.toDOM=e,this.spec=n||Va,this.side=this.spec.side||0}map(e,n,r,i){let{pos:s,deleted:o}=e.mapResult(n.from+i,this.side<0?-1:1);return o?null:new Zt(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof mp&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Fd(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class $o{constructor(e,n){this.attrs=e,this.spec=n||Va}map(e,n,r,i){let s=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,o=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=o?null:new Zt(s,o,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof $o&&Fd(this.attrs,e.attrs)&&Fd(this.spec,e.spec)}static is(e){return e.type instanceof $o}destroy(){}}class p5{constructor(e,n){this.attrs=e,this.spec=n||Va}map(e,n,r,i){let s=e.mapResult(n.from+i,1);if(s.deleted)return null;let o=e.mapResult(n.to+i,-1);return o.deleted||o.pos<=s.pos?null:new Zt(s.pos-r,o.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),s;return i==n.from&&!(s=e.child(r)).isText&&i+s.nodeSize==n.to}eq(e){return this==e||e instanceof p5&&Fd(this.attrs,e.attrs)&&Fd(this.spec,e.spec)}destroy(){}}class Zt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Zt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Zt(e,e,new mp(n,r))}static inline(e,n,r,i){return new Zt(e,n,new $o(r,i))}static node(e,n,r,i){return new Zt(e,n,new p5(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof $o}get widget(){return this.type instanceof mp}}const Rl=[],Va={};class tt{constructor(e,n){this.local=e.length?e:Rl,this.children=n.length?n:Rl}static create(e,n){return n.length?gp(n,e,0,Va):xn}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,s){for(let o=0;o<this.local.length;o++){let a=this.local[o];a.from<=n&&a.to>=e&&(!s||s(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<n&&this.children[o+1]>e){let a=this.children[o]+1;this.children[o+2].findInner(e-a,n-a,r,i+a,s)}}map(e,n,r){return this==xn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Va)}mapInner(e,n,r,i,s){let o;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(o||(o=[])).push(l):s.onRemove&&s.onRemove(this.local[a].spec)}return this.children.length?RF(this.children,o||[],e,n,r,i,s):o?new tt(o.sort(Ua),Rl):xn}add(e,n){return n.length?this==xn?tt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,s=0;e.forEach((a,l)=>{let c=l+r,u;if(u=jE(n,a,c)){for(i||(i=this.children.slice());s<i.length&&i[s]<l;)s+=3;i[s]==l?i[s+2]=i[s+2].addInner(a,u,c+1):i.splice(s,0,l,l+a.nodeSize,gp(u,a,c+1,Va)),s+=3}});let o=BE(s?FE(n):n,-r);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||o.splice(a--,1);return new tt(o.length?this.local.concat(o).sort(Ua):this.local,i||this.children)}remove(e){return e.length==0||this==xn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let o,a=r[s]+n,l=r[s+1]+n;for(let u=0,d;u<e.length;u++)(d=e[u])&&d.from>a&&d.to<l&&(e[u]=null,(o||(o=[])).push(d));if(!o)continue;r==this.children&&(r=this.children.slice());let c=r[s+2].removeInner(o,a+1);c!=xn?r[s+2]=c:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let a=0;a<i.length;a++)i[a].eq(o,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new tt(i,r):xn}forChild(e,n){if(this==xn)return this;if(n.isLeaf)return tt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let s=e+1,o=s+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<o&&l.to>s&&l.type instanceof $o){let c=Math.max(s,l.from)-s,u=Math.min(o,l.to)-s;c<u&&(i||(i=[])).push(l.copy(c,u))}}if(i){let a=new tt(i.sort(Ua),Rl);return r?new yo([a,r]):a}return r||xn}eq(e){if(this==e)return!0;if(!(e instanceof tt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return m5(this.localsInner(e))}localsInner(e){if(this==xn)return Rl;if(e.inlineContent||!this.local.some($o.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof $o||n.push(this.local[r]);return n}forEachSet(e){e(this)}}tt.empty=new tt([],[]);tt.removeOverlap=m5;const xn=tt.empty;class yo{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,Va));return yo.from(r)}forChild(e,n){if(n.isLeaf)return tt.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,n);s!=xn&&(s instanceof yo?r=r.concat(s.members):r.push(s))}return yo.from(r)}eq(e){if(!(e instanceof yo)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!n)n=s;else{r&&(n=n.slice(),r=!1);for(let o=0;o<s.length;o++)n.push(s[o])}}return n?m5(r?n:n.sort(Ua)):Rl}static from(e){switch(e.length){case 0:return xn;case 1:return e[0];default:return new yo(e.every(n=>n instanceof tt)?e:e.reduce((n,r)=>n.concat(r instanceof tt?r:r.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function RF(t,e,n,r,i,s,o){let a=t.slice();for(let c=0,u=s;c<n.maps.length;c++){let d=0;n.maps[c].forEach((h,f,p,g)=>{let w=g-p-(f-h);for(let v=0;v<a.length;v+=3){let k=a[v+1];if(k<0||h>k+u-d)continue;let E=a[v]+u-d;f>=E?a[v+1]=h<=E?-2:-1:h>=u&&w&&(a[v]+=w,a[v+1]+=w)}d+=w}),u=n.maps[c].map(u,-1)}let l=!1;for(let c=0;c<a.length;c+=3)if(a[c+1]<0){if(a[c+1]==-2){l=!0,a[c+1]=-1;continue}let u=n.map(t[c]+s),d=u-i;if(d<0||d>=r.content.size){l=!0;continue}let h=n.map(t[c+1]+s,-1),f=h-i,{index:p,offset:g}=r.content.findIndex(d),w=r.maybeChild(p);if(w&&g==d&&g+w.nodeSize==f){let v=a[c+2].mapInner(n,w,u+1,t[c]+s+1,o);v!=xn?(a[c]=d,a[c+1]=f,a[c+2]=v):(a[c+1]=-2,l=!0)}else l=!0}if(l){let c=_F(a,t,e,n,i,s,o),u=gp(c,r,0,o);e=u.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<u.children.length;d+=3){let f=u.children[d];for(;h<a.length&&a[h]<f;)h+=3;a.splice(h,0,u.children[d],u.children[d+1],u.children[d+2])}}return new tt(e.sort(Ua),a)}function BE(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new Zt(i.from+e,i.to+e,i.type))}return n}function _F(t,e,n,r,i,s,o){function a(l,c){for(let u=0;u<l.local.length;u++){let d=l.local[u].map(r,i,c);d?n.push(d):o.onRemove&&o.onRemove(l.local[u].spec)}for(let u=0;u<l.children.length;u+=3)a(l.children[u+2],l.children[u]+c+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+s+1);return n}function jE(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>n&&o.to<r&&((i||(i=[])).push(o),t[s]=null);return i}function FE(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function gp(t,e,n,r){let i=[],s=!1;e.forEach((a,l)=>{let c=jE(t,a,l+n);if(c){s=!0;let u=gp(c,a,n+l+1,r);u!=xn&&i.push(l,l+a.nodeSize,u)}});let o=BE(s?FE(t):t,-n).sort(Ua);for(let a=0;a<o.length;a++)o[a].type.valid(e,o[a])||(r.onRemove&&r.onRemove(o[a].spec),o.splice(a--,1));return o.length||i.length?new tt(o,i):xn}function Ua(t,e){return t.from-e.from||t.to-e.to}function m5(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==t&&(e=t.slice()),e[i]=s.copy(s.from,r.to),J7(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,s.from),J7(e,i,r.copy(s.from,r.to)));break}}}return e}function J7(t,e,n){for(;e<t.length&&Ua(n,t[e])>0;)e++;t.splice(e,0,n)}function Eg(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=xn&&e.push(r)}),t.cursorWrapper&&e.push(tt.create(t.state.doc,[t.cursorWrapper.deco])),yo.from(e)}const LF={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},PF=tr&&Fo<=11;class zF{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class BF{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zF,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);tr&&Fo<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),PF&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,LF)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(H7(this.view)){if(this.suppressingSelectionUpdates)return Ms(this.view);if(tr&&Fo<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&rl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let s=e.focusNode;s;s=zd(s))n.add(s);for(let s=e.anchorNode;s;s=zd(s))if(n.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&H7(e)&&!this.ignoreSelectionChange(r),s=-1,o=-1,a=!1,l=[];if(e.editable)for(let u=0;u<n.length;u++){let d=this.registerMutation(n[u],l);d&&(s=s<0?d.from:Math.min(d.from,s),o=o<0?d.to:Math.max(d.to,o),d.typeOver&&(a=!0))}if(gi&&l.length){let u=l.filter(d=>d.nodeName=="BR");if(u.length==2){let[d,h]=u;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of u){let f=h.parentNode;f&&f.nodeName=="LI"&&(!d||HF(e,d)!=f)&&h.remove()}}}let c=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Km(r)&&(c=c5(e))&&c.eq(we.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ms(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,o),jF(e)),this.handleDOMChange(s,o,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Ms(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let u=0;u<e.addedNodes.length;u++){let d=e.addedNodes[u];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(tr&&Fo<=11&&e.addedNodes.length)for(let u=0;u<e.addedNodes.length;u++){let{previousSibling:d,nextSibling:h}=e.addedNodes[u];(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(i=d),(!h||Array.prototype.indexOf.call(e.addedNodes,h)<0)&&(s=h)}let o=i&&i.parentNode==e.target?pn(i)+1:0,a=r.localPosFromDOM(e.target,o,-1),l=s&&s.parentNode==e.target?pn(s):e.target.childNodes.length,c=r.localPosFromDOM(e.target,l,1);return{from:a,to:c}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Y7=new WeakMap,X7=!1;function jF(t){if(!Y7.has(t)&&(Y7.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gi,X7)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),X7=!0}}function Q7(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return rl(o.node,o.offset,i,s)&&([n,r,i,s]=[i,s,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}}function FF(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return Q7(t,i)}let n;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",r,!0),n?Q7(t,n):null}function HF(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let r=t.docView.nearestDesc(n,!0);if(r&&r.node.isBlock)return n}return null}function $F(t,e,n){let{node:r,fromOffset:i,toOffset:s,from:o,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),c,u=l.anchorNode;if(u&&t.dom.contains(u.nodeType==1?u:u.parentNode)&&(c=[{node:u,offset:l.anchorOffset}],Km(l)||c.push({node:l.focusNode,offset:l.focusOffset})),Cn&&t.input.lastKeyCode===8)for(let w=s;w>i;w--){let v=r.childNodes[w-1],k=v.pmViewDesc;if(v.nodeName=="BR"&&!k){s=w;break}if(!k||k.size)break}let d=t.state.doc,h=t.someProp("domParser")||Qu.fromSchema(t.state.schema),f=d.resolve(o),p=null,g=h.parse(r,{topNode:f.parent,topMatch:f.parent.contentMatchAt(f.index()),topOpen:!0,from:i,to:s,preserveWhitespace:f.parent.type.whitespace=="pre"?"full":!0,findPositions:c,ruleFromNode:VF,context:f});if(c&&c[0].pos!=null){let w=c[0].pos,v=c[1]&&c[1].pos;v==null&&(v=w),p={anchor:w+o,head:v+o}}return{doc:g,sel:p,from:o,to:a}}function VF(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Bn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const UF=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function WF(t,e,n,r,i){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let _=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,F=c5(t,_);if(F&&!t.state.selection.eq(F)){if(Cn&&ii&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",Q=>Q(t,Ca(13,"Enter"))))return;let G=t.state.tr.setSelection(F);_=="pointer"?G.setMeta("pointer",!0):_=="key"&&G.scrollIntoView(),s&&G.setMeta("composition",s),t.dispatch(G)}return}let o=t.state.doc.resolve(e),a=o.sharedDepth(n);e=o.before(a+1),n=t.state.doc.resolve(n).after(a+1);let l=t.state.selection,c=$F(t,e,n),u=t.state.doc,d=u.slice(c.from,c.to),h,f;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(h=t.state.selection.to,f="end"):(h=t.state.selection.from,f="start"),t.input.lastKeyCode=null;let p=GF(d.content,c.doc.content,c.from,h,f);if(p&&t.input.domChangeCount++,(_c&&t.input.lastIOSEnter>Date.now()-225||ii)&&i.some(_=>_.nodeType==1&&!UF.test(_.nodeName))&&(!p||p.endA>=p.endB)&&t.someProp("handleKeyDown",_=>_(t,Ca(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!p)if(r&&l instanceof me&&!l.empty&&l.$head.sameParent(l.$anchor)&&!t.composing&&!(c.sel&&c.sel.anchor!=c.sel.head))p={start:l.from,endA:l.to,endB:l.to};else{if(c.sel){let _=Z7(t,t.state.doc,c.sel);if(_&&!_.eq(t.state.selection)){let F=t.state.tr.setSelection(_);s&&F.setMeta("composition",s),t.dispatch(F)}}return}t.state.selection.from<t.state.selection.to&&p.start==p.endB&&t.state.selection instanceof me&&(p.start>t.state.selection.from&&p.start<=t.state.selection.from+2&&t.state.selection.from>=c.from?p.start=t.state.selection.from:p.endA<t.state.selection.to&&p.endA>=t.state.selection.to-2&&t.state.selection.to<=c.to&&(p.endB+=t.state.selection.to-p.endA,p.endA=t.state.selection.to)),tr&&Fo<=11&&p.endB==p.start+1&&p.endA==p.start&&p.start>c.from&&c.doc.textBetween(p.start-c.from-1,p.start-c.from+1)==" "&&(p.start--,p.endA--,p.endB--);let g=c.doc.resolveNoCache(p.start-c.from),w=c.doc.resolveNoCache(p.endB-c.from),v=u.resolve(p.start),k=g.sameParent(w)&&g.parent.inlineContent&&v.end()>=p.endA,E;if((_c&&t.input.lastIOSEnter>Date.now()-225&&(!k||i.some(_=>_.nodeName=="DIV"||_.nodeName=="P"))||!k&&g.pos<c.doc.content.size&&!g.sameParent(w)&&(E=we.findFrom(c.doc.resolve(g.pos+1),1,!0))&&E.head==w.pos)&&t.someProp("handleKeyDown",_=>_(t,Ca(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>p.start&&KF(u,p.start,p.endA,g,w)&&t.someProp("handleKeyDown",_=>_(t,Ca(8,"Backspace")))){ii&&Cn&&t.domObserver.suppressSelectionUpdates();return}Cn&&ii&&p.endB==p.start&&(t.input.lastAndroidDelete=Date.now()),ii&&!k&&g.start()!=w.start()&&w.parentOffset==0&&g.depth==w.depth&&c.sel&&c.sel.anchor==c.sel.head&&c.sel.head==p.endA&&(p.endB-=2,w=c.doc.resolveNoCache(p.endB-c.from),setTimeout(()=>{t.someProp("handleKeyDown",function(_){return _(t,Ca(13,"Enter"))})},20));let S=p.start,N=p.endA,b,M,I;if(k){if(g.pos==w.pos)tr&&Fo<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ms(t),20)),b=t.state.tr.delete(S,N),M=u.resolve(p.start).marksAcross(u.resolve(p.endA));else if(p.endA==p.endB&&(I=qF(g.parent.content.cut(g.parentOffset,w.parentOffset),v.parent.content.cut(v.parentOffset,p.endA-v.start()))))b=t.state.tr,I.type=="add"?b.addMark(S,N,I.mark):b.removeMark(S,N,I.mark);else if(g.parent.child(g.index()).isText&&g.index()==w.index()-(w.textOffset?0:1)){let _=g.parent.textBetween(g.parentOffset,w.parentOffset);if(t.someProp("handleTextInput",F=>F(t,S,N,_)))return;b=t.state.tr.insertText(_,S,N)}}if(b||(b=t.state.tr.replace(S,N,c.doc.slice(p.start-c.from,p.endB-c.from))),c.sel){let _=Z7(t,b.doc,c.sel);_&&!(Cn&&ii&&t.composing&&_.empty&&(p.start!=p.endB||t.input.lastAndroidDelete<Date.now()-100)&&(_.head==S||_.head==b.mapping.map(N)-1)||tr&&_.empty&&_.head==S)&&b.setSelection(_)}M&&b.ensureMarks(M),s&&b.setMeta("composition",s),t.dispatch(b.scrollIntoView())}function Z7(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:u5(t,e.resolve(n.anchor),e.resolve(n.head))}function qF(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,s=r,o,a,l;for(let u=0;u<r.length;u++)i=r[u].removeFromSet(i);for(let u=0;u<n.length;u++)s=n[u].removeFromSet(s);if(i.length==1&&s.length==0)a=i[0],o="add",l=u=>u.mark(a.addToSet(u.marks));else if(i.length==0&&s.length==1)a=s[0],o="remove",l=u=>u.mark(a.removeFromSet(u.marks));else return null;let c=[];for(let u=0;u<e.childCount;u++)c.push(l(e.child(u)));if(H.from(c).eq(t))return{mark:a,type:o}}function KF(t,e,n,r,i){if(n-e<=i.pos-r.pos||Tg(r,!0,!1)<i.pos)return!1;let s=t.resolve(e);if(!r.parent.isTextblock){let a=s.nodeAfter;return a!=null&&n==e+a.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(Tg(s,!0,!0));return!o.parent.isTextblock||o.pos>n||Tg(o,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(o.parent.content)}function Tg(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let s=t.node(r).maybeChild(t.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function GF(t,e,n,r,i){let s=t.findDiffStart(e,n);if(s==null)return null;let{a:o,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,s-Math.min(o,a));r-=o+l-s}if(o<s&&t.size<e.size){let l=r<=s&&r>=o?s-r:0;s-=l,s&&s<e.size&&eb(e.textBetween(s-1,s+1))&&(s+=l?1:-1),a=s+(a-o),o=s}else if(a<s){let l=r<=s&&r>=a?s-r:0;s-=l,s&&s<t.size&&eb(t.textBetween(s-1,s+1))&&(s+=l?1:-1),o=s+(o-a),a=s}return{start:s,endA:o,endB:a}}function eb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class JF{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new pF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(sb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=rb(this),nb(this),this.nodeViews=ib(this),this.docView=L7(this.state.doc,tb(this),Eg(this),this.dom,this),this.domObserver=new BF(this,(r,i,s,o)=>WF(this,r,i,s,o)),this.domObserver.start(),mF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Vv(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(sb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let i=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(_E(this),o=!0),this.state=e;let a=i.plugins!=e.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let f=ib(this);XF(f,this.nodeViews)&&(this.nodeViews=f,s=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&Vv(this),this.editable=rb(this),nb(this);let l=Eg(this),c=tb(this),u=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",d=s||!this.docView.matchesNode(e.doc,c,l);(d||!e.selection.eq(i.selection))&&(o=!0);let h=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&Nj(this);if(o){this.domObserver.stop();let f=d&&(tr||Cn)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&YF(i.selection,e.selection);if(d){let p=Cn?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=AF(this)),(s||!this.docView.update(e.doc,c,l,this))&&(this.docView.updateOuterDeco(c),this.docView.destroy(),this.docView=L7(e.doc,c,l,this.dom,this)),p&&!this.trackWrites&&(f=!0)}f||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Zj(this))?Ms(this,f):(kE(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():h&&Oj(h)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof be){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&N7(this,n.getBoundingClientRect(),e)}else N7(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-n.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new PE(e.slice,e.move,i<0?void 0:be.create(this.state.doc,i))}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let o=0;o<this.directPlugins.length;o++){let a=this.directPlugins[o].props[e];if(a!=null&&(i=n?n(a):a))return i}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let a=s[o].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(tr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&Ij(this.dom),Ms(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Pj(this,e)}coordsAtPos(e,n=1){return fE(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return Hj(this,n||this.state,e)}pasteHTML(e,n){return jd(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return jd(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(gF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Eg(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,yj())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){let e=this.domSelection();return e?Bn&&this.root.nodeType===11&&Sj(this.dom.ownerDocument)==this.dom&&FF(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}function tb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Zt.node(0,t.state.doc.content.size,e)]}function nb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Zt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function rb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function YF(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ib(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function XF(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function sb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Wo={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},vp={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},QF=typeof navigator<"u"&&/Mac/.test(navigator.platform),ZF=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var mn=0;mn<10;mn++)Wo[48+mn]=Wo[96+mn]=String(mn);for(var mn=1;mn<=24;mn++)Wo[mn+111]="F"+mn;for(var mn=65;mn<=90;mn++)Wo[mn]=String.fromCharCode(mn+32),vp[mn]=String.fromCharCode(mn);for(var Mg in Wo)vp.hasOwnProperty(Mg)||(vp[Mg]=Wo[Mg]);function eH(t){var e=QF&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ZF&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?vp:Wo)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const tH=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function nH(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))tH?o=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),o&&(n="Meta-"+n),s&&(n="Shift-"+n),n}function rH(t){let e=Object.create(null);for(let n in t)e[nH(n)]=t[n];return e}function Ag(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function iH(t){return new nt({props:{handleKeyDown:g5(t)}})}function g5(t){let e=rH(t);return function(n,r){let i=eH(r),s,o=e[Ag(i,r)];if(o&&o(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let a=e[Ag(i,r,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=Wo[r.keyCode])&&s!=i){let a=e[Ag(s,r)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const sH=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function HE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const oH=(t,e,n)=>{let r=HE(t,n);if(!r)return!1;let i=v5(r);if(!i){let o=r.blockRange(),a=o&&Qc(o);return a==null?!1:(e&&e(t.tr.lift(o,a).scrollIntoView()),!0)}let s=i.nodeBefore;if(WE(t,i,e,-1))return!0;if(r.parent.content.size==0&&(Lc(s,"end")||be.isSelectable(s)))for(let o=r.depth;;o--){let a=Wm(t.doc,r.before(o),r.after(o),Y.empty);if(a&&a.slice.size<a.to-a.from){if(e){let l=t.tr.step(a);l.setSelection(Lc(s,"end")?we.findFrom(l.doc.resolve(l.mapping.map(i.pos,-1)),-1):be.create(l.doc,i.pos-s.nodeSize)),e(l.scrollIntoView())}return!0}if(o==1||r.node(o-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},aH=(t,e,n)=>{let r=HE(t,n);if(!r)return!1;let i=v5(r);return i?$E(t,i,e):!1},lH=(t,e,n)=>{let r=VE(t,n);if(!r)return!1;let i=y5(r);return i?$E(t,i,e):!1};function $E(t,e,n){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let u=i.lastChild;if(!u)return!1;i=u}let o=e.nodeAfter,a=o,l=e.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let u=a.firstChild;if(!u)return!1;a=u}let c=Wm(t.doc,s,l,Y.empty);if(!c||c.from!=s||c instanceof on&&c.slice.size>=l-s)return!1;if(n){let u=t.tr.step(c);u.setSelection(me.create(u.doc,s)),n(u.scrollIntoView())}return!0}function Lc(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const cH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;s=v5(r)}let o=s&&s.nodeBefore;return!o||!be.isSelectable(o)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function v5(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function VE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const uH=(t,e,n)=>{let r=VE(t,n);if(!r)return!1;let i=y5(r);if(!i)return!1;let s=i.nodeAfter;if(WE(t,i,e,1))return!0;if(r.parent.content.size==0&&(Lc(s,"start")||be.isSelectable(s))){let o=Wm(t.doc,r.before(),r.after(),Y.empty);if(o&&o.slice.size<o.to-o.from){if(e){let a=t.tr.step(o);a.setSelection(Lc(s,"start")?we.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):be.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},dH=(t,e,n)=>{let{$head:r,empty:i}=t.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;s=y5(r)}let o=s&&s.nodeAfter;return!o||!be.isSelectable(o)?!1:(e&&e(t.tr.setSelection(be.create(t.doc,s.pos)).scrollIntoView()),!0)};function y5(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const hH=(t,e)=>{let n=t.selection,r=n instanceof be,i;if(r){if(n.node.isTextblock||!oa(t.doc,n.from))return!1;i=n.from}else if(i=Um(t.doc,n.from,-1),i==null)return!1;if(e){let s=t.tr.join(i);r&&s.setSelection(be.create(s.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},fH=(t,e)=>{let n=t.selection,r;if(n instanceof be){if(n.node.isTextblock||!oa(t.doc,n.to))return!1;r=n.to}else if(r=Um(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},pH=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),s=i&&Qc(i);return s==null?!1:(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)},mH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function UE(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const gH=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),s=n.indexAfter(-1),o=UE(i.contentMatchAt(s));if(!o||!i.canReplaceWith(s,s,o))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,o.createAndFill());l.setSelection(we.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},vH=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof di||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=UE(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(o,s.createAndFill());a.setSelection(me.create(a.doc,o+1)),e(a.scrollIntoView())}return!0},yH=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let s=n.before();if(cc(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Qc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},wH=(t,e)=>{let{$from:n,to:r}=t.selection,i,s=n.sharedDepth(r);return s==0?!1:(i=n.before(s),e&&e(t.tr.setSelection(be.create(t.doc,i))),!0)};function bH(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||oa(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function WE(t,e,n,r){let i=e.nodeBefore,s=e.nodeAfter,o,a,l=i.type.spec.isolating||s.type.spec.isolating;if(!l&&bH(t,e,n))return!0;let c=!l&&e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(a=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&a.matchType(o[0]||s.type).validEnd){if(n){let f=e.pos+s.nodeSize,p=H.empty;for(let v=o.length-1;v>=0;v--)p=H.from(o[v].create(null,p));p=H.from(i.copy(p));let g=t.tr.step(new ln(e.pos-1,f,e.pos,f,new Y(p,1,0),o.length,!0)),w=g.doc.resolve(f+2*o.length);w.nodeAfter&&w.nodeAfter.type==i.type&&oa(g.doc,w.pos)&&g.join(w.pos),n(g.scrollIntoView())}return!0}let u=s.type.spec.isolating||r>0&&l?null:we.findFrom(e,1),d=u&&u.$from.blockRange(u.$to),h=d&&Qc(d);if(h!=null&&h>=e.depth)return n&&n(t.tr.lift(d,h).scrollIntoView()),!0;if(c&&Lc(s,"start",!0)&&Lc(i,"end")){let f=i,p=[];for(;p.push(f),!f.isTextblock;)f=f.lastChild;let g=s,w=1;for(;!g.isTextblock;g=g.firstChild)w++;if(f.canReplace(f.childCount,f.childCount,g.content)){if(n){let v=H.empty;for(let E=p.length-1;E>=0;E--)v=H.from(p[E].copy(v));let k=t.tr.step(new ln(e.pos-p.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new Y(v,p.length,0),0,!0));n(k.scrollIntoView())}return!0}}return!1}function qE(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?i.start(s):i.end(s)))),!0):!1}}const kH=qE(-1),xH=qE(1);function SH(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=o&&i5(o,t,e);return a?(r&&r(n.tr.wrap(o,a).scrollIntoView()),!0):!1}}function ob(t,e=null){return function(n,r){let i=!1;for(let s=0;s<n.selection.ranges.length&&!i;s++){let{$from:{pos:o},$to:{pos:a}}=n.selection.ranges[s];n.doc.nodesBetween(o,a,(l,c)=>{if(i)return!1;if(!(!l.isTextblock||l.hasMarkup(t,e)))if(l.type==t)i=!0;else{let u=n.doc.resolve(c),d=u.index();i=u.parent.canReplaceWith(d,d+1,t)}})}if(!i)return!1;if(r){let s=n.tr;for(let o=0;o<n.selection.ranges.length;o++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[o];s.setBlockType(a,l,t,e)}r(s.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function CH(t,e=null){return function(n,r){let{$from:i,$to:s}=n.selection,o=i.blockRange(s),a=!1,l=o;if(!o)return!1;if(o.depth>=2&&i.node(o.depth-1).type.compatibleContent(t)&&o.startIndex==0){if(i.index(o.depth-1)==0)return!1;let u=n.doc.resolve(o.start-2);l=new Ld(u,u,o.depth),o.endIndex<o.parent.childCount&&(o=new Ld(i,n.doc.resolve(s.end(o.depth)),o.depth)),a=!0}let c=i5(l,t,e,o);return c?(r&&r(EH(n.tr,o,c,a,t).scrollIntoView()),!0):!1}}function EH(t,e,n,r,i){let s=H.empty;for(let u=n.length-1;u>=0;u--)s=H.from(n[u].type.create(n[u].attrs,s));t.step(new ln(e.start-(r?2:0),e.end,e.start,e.end,new Y(s,0,0),n.length,!0));let o=0;for(let u=0;u<n.length;u++)n[u].type==i&&(o=u+1);let a=n.length-o,l=e.start+n.length-(r?2:0),c=e.parent;for(let u=e.startIndex,d=e.endIndex,h=!0;u<d;u++,h=!1)!h&&cc(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=c.child(u).nodeSize;return t}function TH(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,o=>o.childCount>0&&o.firstChild.type==t);return s?n?r.node(s.depth-1).type==t?MH(e,n,t,s):AH(e,n,s):!0:!1}}function MH(t,e,n,r){let i=t.tr,s=r.end,o=r.$to.end(r.depth);s<o&&(i.step(new ln(s-1,o,s,o,new Y(H.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ld(i.doc.resolve(r.$from.pos),i.doc.resolve(o),r.depth));const a=Qc(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(s,-1)-1;return oa(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function AH(t,e,n){let r=t.tr,i=n.parent;for(let f=n.end,p=n.endIndex-1,g=n.startIndex;p>g;p--)f-=i.child(p).nodeSize,r.delete(f-1,f+1);let s=r.doc.resolve(n.start),o=s.nodeAfter;if(r.mapping.map(n.end)!=n.start+s.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,c=s.node(-1),u=s.index(-1);if(!c.canReplace(u+(a?0:1),u+1,o.content.append(l?H.empty:H.from(i))))return!1;let d=s.pos,h=d+o.nodeSize;return r.step(new ln(d-(a?1:0),h+(l?1:0),d+1,h-1,new Y((a?H.empty:H.from(i.copy(H.empty))).append(l?H.empty:H.from(i.copy(H.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}function NH(t){return function(e,n){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,c=>c.childCount>0&&c.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let a=s.parent,l=a.child(o-1);if(l.type!=t)return!1;if(n){let c=l.lastChild&&l.lastChild.type==a.type,u=H.from(c?t.create():null),d=new Y(H.from(t.create(null,H.from(a.type.create(null,u)))),c?3:1,0),h=s.start,f=s.end;n(e.tr.step(new ln(h-(c?3:1),f,h,f,d,1,!0)).scrollIntoView())}return!0}}function Ym(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:s}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,s=n.storedMarks,n}}}class Xm{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:s}=r,o=this.buildProps(s);return Object.fromEntries(Object.entries(e).map(([a,l])=>[a,(...u)=>{const d=l(...u)(o);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(s),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a=[],l=!!e,c=e||s.tr,u=()=>(!l&&n&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&o.dispatch(c),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(r).map(([h,f])=>[h,(...g)=>{const w=this.buildProps(c,n),v=f(...g)(w);return a.push(v),d}])),run:u};return d}createCan(e){const{rawCommands:n,state:r}=this,i=!1,s=e||r.tr,o=this.buildProps(s,i);return{...Object.fromEntries(Object.entries(n).map(([l,c])=>[l,(...u)=>c(...u)({...o,dispatch:void 0})])),chain:()=>this.createChain(s,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:s}=this,{view:o}=i,a={tr:e,editor:i,view:o,state:Ym({state:s,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(a)]))}};return a}}class OH{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function ce(t,e,n){return t.config[e]===void 0&&t.parent?ce(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?ce(t.parent,e,n):null}):t.config[e]}function Qm(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function KE(t){const e=[],{nodeExtensions:n,markExtensions:r}=Qm(t),i=[...n,...r],s={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage,extensions:i},l=ce(o,"addGlobalAttributes",a);if(!l)return;l().forEach(u=>{u.types.forEach(d=>{Object.entries(u.attributes).forEach(([h,f])=>{e.push({type:d,name:h,attribute:{...s,...f}})})})})}),i.forEach(o=>{const a={name:o.name,options:o.options,storage:o.storage},l=ce(o,"addAttributes",a);if(!l)return;const c=l();Object.entries(c).forEach(([u,d])=>{const h={...s,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,e.push({type:o.name,name:u,attribute:h})})}),e}function un(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Ge(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const a=s?s.split(" "):[],l=r[i]?r[i].split(" "):[],c=a.filter(u=>!l.includes(u));r[i]=[...l,...c].join(" ")}else if(i==="style"){const a=s?s.split(";").map(u=>u.trim()).filter(Boolean):[],l=r[i]?r[i].split(";").map(u=>u.trim()).filter(Boolean):[],c=new Map;l.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),a.forEach(u=>{const[d,h]=u.split(":").map(f=>f.trim());c.set(d,h)}),r[i]=Array.from(c.entries()).map(([u,d])=>`${u}: ${d}`).join("; ")}else r[i]=s}),r},{})}function Uv(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Ge(n,r),{})}function GE(t){return typeof t=="function"}function De(t,e=void 0,...n){return GE(t)?e?t.bind(e)(...n):t(...n):t}function IH(t={}){return Object.keys(t).length===0&&t.constructor===Object}function DH(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function ab(t,e){return"style"in t?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((s,o)=>{const a=o.attribute.parseHTML?o.attribute.parseHTML(n):DH(n.getAttribute(o.name));return a==null?s:{...s,[o.name]:a}},{});return{...r,...i}}}}function lb(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&IH(n)?!1:n!=null))}function RH(t,e){var n;const r=KE(t),{nodeExtensions:i,markExtensions:s}=Qm(t),o=(n=i.find(c=>ce(c,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(i.map(c=>{const u=r.filter(v=>v.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((v,k)=>{const E=ce(k,"extendNodeSchema",d);return{...v,...E?E(c):{}}},{}),f=lb({...h,content:De(ce(c,"content",d)),marks:De(ce(c,"marks",d)),group:De(ce(c,"group",d)),inline:De(ce(c,"inline",d)),atom:De(ce(c,"atom",d)),selectable:De(ce(c,"selectable",d)),draggable:De(ce(c,"draggable",d)),code:De(ce(c,"code",d)),whitespace:De(ce(c,"whitespace",d)),defining:De(ce(c,"defining",d)),isolating:De(ce(c,"isolating",d)),attrs:Object.fromEntries(u.map(v=>{var k;return[v.name,{default:(k=v==null?void 0:v.attribute)===null||k===void 0?void 0:k.default}]}))}),p=De(ce(c,"parseHTML",d));p&&(f.parseDOM=p.map(v=>ab(v,u)));const g=ce(c,"renderHTML",d);g&&(f.toDOM=v=>g({node:v,HTMLAttributes:Uv(v,u)}));const w=ce(c,"renderText",d);return w&&(f.toText=w),[c.name,f]})),l=Object.fromEntries(s.map(c=>{const u=r.filter(w=>w.type===c.name),d={name:c.name,options:c.options,storage:c.storage,editor:e},h=t.reduce((w,v)=>{const k=ce(v,"extendMarkSchema",d);return{...w,...k?k(c):{}}},{}),f=lb({...h,inclusive:De(ce(c,"inclusive",d)),excludes:De(ce(c,"excludes",d)),group:De(ce(c,"group",d)),spanning:De(ce(c,"spanning",d)),code:De(ce(c,"code",d)),attrs:Object.fromEntries(u.map(w=>{var v;return[w.name,{default:(v=w==null?void 0:w.attribute)===null||v===void 0?void 0:v.default}]}))}),p=De(ce(c,"parseHTML",d));p&&(f.parseDOM=p.map(w=>ab(w,u)));const g=ce(c,"renderHTML",d);return g&&(f.toDOM=w=>g({mark:w,HTMLAttributes:Uv(w,u)})),[c.name,f]}));return new VC({topNode:o,nodes:a,marks:l})}function Ng(t,e){return e.nodes[t]||e.marks[t]||null}function cb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const _H=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,s,o,a)=>{var l,c;const u=((c=(l=i.type.spec).toText)===null||c===void 0?void 0:c.call(l,{node:i,pos:s,parent:o,index:a}))||i.textContent||"%leaf%";n+=i.isAtom&&!i.isText?u:u.slice(0,Math.max(0,r-s))}),n};function w5(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Zm{constructor(e){this.find=e.find,this.handler=e.handler}}const LH=(t,e)=>{if(w5(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function sh(t){var e;const{editor:n,from:r,to:i,text:s,rules:o,plugin:a}=t,{view:l}=n;if(l.composing)return!1;const c=l.state.doc.resolve(r);if(c.parent.type.spec.code||!((e=c.nodeBefore||c.nodeAfter)===null||e===void 0)&&e.marks.find(h=>h.type.spec.code))return!1;let u=!1;const d=_H(c)+s;return o.forEach(h=>{if(u)return;const f=LH(d,h.find);if(!f)return;const p=l.state.tr,g=Ym({state:l.state,transaction:p}),w={from:r-(f[0].length-s.length),to:i},{commands:v,chain:k,can:E}=new Xm({editor:n,state:g});h.handler({state:g,range:w,match:f,commands:v,chain:k,can:E})===null||!p.steps.length||(p.setMeta(a,{transform:p,from:r,to:i,text:s}),l.dispatch(p),u=!0)}),u}function PH(t){const{editor:e,rules:n}=t,r=new nt({state:{init(){return null},apply(i,s){const o=i.getMeta(r);if(o)return o;const a=i.getMeta("applyInputRules");return!!a&&setTimeout(()=>{const{from:c,text:u}=a,d=c+u.length;sh({editor:e,from:c,to:d,text:u,rules:n,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,o,a){return sh({editor:e,from:s,to:o,text:a,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&sh({editor:e,from:s.pos,to:s.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:o}=i.state.selection;return o?sh({editor:e,from:o.pos,to:o.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function zH(t){return Object.prototype.toString.call(t).slice(8,-1)}function oh(t){return zH(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function e1(t,e){const n={...t};return oh(t)&&oh(e)&&Object.keys(e).forEach(r=>{oh(e[r])&&oh(t[r])?n[r]=e1(t[r],e[r]):n[r]=e[r]}),n}class vi{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ce(this,"addOptions",{name:this.name}))),this.storage=De(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new vi(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>e1(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new vi(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ce(n,"addOptions",{name:n.name})),n.storage=De(ce(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const o=i.marks();if(!!!o.find(c=>(c==null?void 0:c.type.name)===n.name))return!1;const l=o.find(c=>(c==null?void 0:c.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}function BH(t){return typeof t=="number"}class jH{constructor(e){this.find=e.find,this.handler=e.handler}}const FH=(t,e,n)=>{if(w5(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=t,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function HH(t){const{editor:e,state:n,from:r,to:i,rule:s,pasteEvent:o,dropEvent:a}=t,{commands:l,chain:c,can:u}=new Xm({editor:e,state:n}),d=[];return n.doc.nodesBetween(r,i,(f,p)=>{if(!f.isTextblock||f.type.spec.code)return;const g=Math.max(r,p),w=Math.min(i,p+f.content.size),v=f.textBetween(g-p,w-p,void 0,"");FH(v,s.find,o).forEach(E=>{if(E.index===void 0)return;const S=g+E.index+1,N=S+E[0].length,b={from:n.tr.mapping.map(S),to:n.tr.mapping.map(N)},M=s.handler({state:n,range:b,match:E,commands:l,chain:c,can:u,pasteEvent:o,dropEvent:a});d.push(M)})}),d.every(f=>f!==null)}const $H=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)===null||e===void 0||e.setData("text/html",t),n};function VH(t){const{editor:e,rules:n}=t;let r=null,i=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a=typeof DragEvent<"u"?new DragEvent("drop"):null;const l=({state:u,from:d,to:h,rule:f,pasteEvt:p})=>{const g=u.tr,w=Ym({state:u,transaction:g});if(!(!HH({editor:e,state:w,from:Math.max(d-1,0),to:h.b-1,rule:f,pasteEvent:p,dropEvent:a})||!g.steps.length))return a=typeof DragEvent<"u"?new DragEvent("drop"):null,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g};return n.map(u=>new nt({view(d){const h=f=>{var p;r=!((p=d.dom.parentElement)===null||p===void 0)&&p.contains(f.target)?d.dom.parentElement:null};return window.addEventListener("dragstart",h),{destroy(){window.removeEventListener("dragstart",h)}}},props:{handleDOMEvents:{drop:(d,h)=>(s=r===d.dom.parentElement,a=h,!1),paste:(d,h)=>{var f;const p=(f=h.clipboardData)===null||f===void 0?void 0:f.getData("text/html");return o=h,i=!!(p!=null&&p.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,f)=>{const p=d[0],g=p.getMeta("uiEvent")==="paste"&&!i,w=p.getMeta("uiEvent")==="drop"&&!s,v=p.getMeta("applyPasteRules"),k=!!v;if(!g&&!w&&!k)return;if(k){const{from:N,text:b}=v,M=N+b.length,I=$H(b);return l({rule:u,state:f,from:N,to:{b:M},pasteEvt:I})}const E=h.doc.content.findDiffStart(f.doc.content),S=h.doc.content.findDiffEnd(f.doc.content);if(!(!BH(E)||!S||E===S.b))return l({rule:u,state:f,from:E,to:S,pasteEvt:o})}}))}function UH(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return Array.from(new Set(e))}class Xl{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Xl.resolve(e),this.schema=RH(this.extensions,n),this.setupExtensions()}static resolve(e){const n=Xl.sort(Xl.flatten(e)),r=UH(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=ce(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const s=ce(r,"priority")||100,o=ce(i,"priority")||100;return s>o?-1:s<o?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ng(n.name,this.schema)},i=ce(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Xl.sort([...this.extensions].reverse()),r=[],i=[],s=n.map(o=>{const a={name:o.name,options:o.options,storage:o.storage,editor:e,type:Ng(o.name,this.schema)},l=[],c=ce(o,"addKeyboardShortcuts",a);let u={};if(o.type==="mark"&&ce(o,"exitable",a)&&(u.ArrowRight=()=>vi.handleExit({editor:e,mark:o})),c){const g=Object.fromEntries(Object.entries(c()).map(([w,v])=>[w,()=>v({editor:e})]));u={...u,...g}}const d=iH(u);l.push(d);const h=ce(o,"addInputRules",a);cb(o,e.options.enableInputRules)&&h&&r.push(...h());const f=ce(o,"addPasteRules",a);cb(o,e.options.enablePasteRules)&&f&&i.push(...f());const p=ce(o,"addProseMirrorPlugins",a);if(p){const g=p();l.push(...g)}return l}).flat();return[PH({editor:e,rules:r}),...VH({editor:e,rules:i}),...s]}get attributes(){return KE(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Qm(this.extensions);return Object.fromEntries(n.filter(r=>!!ce(r,"addNodeView")).map(r=>{const i=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:r.storage,editor:e,type:un(r.name,this.schema)},o=ce(r,"addNodeView",s);if(!o)return[];const a=(l,c,u,d,h)=>{const f=Uv(l,i);return o()({node:l,view:c,getPos:u,decorations:d,innerDecorations:h,editor:e,extension:r,HTMLAttributes:f})};return[r.name,a]}))}setupExtensions(){this.extensions.forEach(e=>{var n;this.editor.extensionStorage[e.name]=e.storage;const r={name:e.name,options:e.options,storage:e.storage,editor:this.editor,type:Ng(e.name,this.schema)};e.type==="mark"&&(!((n=De(ce(e,"keepOnSplit",r)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(e.name);const i=ce(e,"onBeforeCreate",r),s=ce(e,"onCreate",r),o=ce(e,"onUpdate",r),a=ce(e,"onSelectionUpdate",r),l=ce(e,"onTransaction",r),c=ce(e,"onFocus",r),u=ce(e,"onBlur",r),d=ce(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),o&&this.editor.on("update",o),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),c&&this.editor.on("focus",c),u&&this.editor.on("blur",u),d&&this.editor.on("destroy",d)})}}class zt{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ce(this,"addOptions",{name:this.name}))),this.storage=De(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new zt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>e1(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new zt({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ce(n,"addOptions",{name:n.name})),n.storage=De(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function JE(t,e,n){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:o={}}=n||{};let a="";return t.nodesBetween(r,i,(l,c,u,d)=>{var h;l.isBlock&&c>r&&(a+=s);const f=o==null?void 0:o[l.type.name];if(f)return u&&(a+=f({node:l,pos:c,parent:u,index:d,range:e})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(r,c)-c,i-c))}),a}function YE(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const WH=zt.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new nt({key:new lt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:s}=i,o=Math.min(...s.map(u=>u.$from.pos)),a=Math.max(...s.map(u=>u.$to.pos)),l=YE(n);return JE(r,{from:o,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),qH=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),KH=(t=!1)=>({commands:e})=>e.setContent("",t),GH=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(a,l)=>{if(a.type.isText)return;const{doc:c,mapping:u}=e,d=c.resolve(u.map(l)),h=c.resolve(u.map(l+a.nodeSize)),f=d.blockRange(h);if(!f)return;const p=Qc(f);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());e.setNodeMarkup(f.start,g)}(p||p===0)&&e.lift(f,p)})}),!0},JH=t=>e=>t(e),YH=()=>({state:t,dispatch:e})=>vH(t,e),XH=(t,e)=>({editor:n,tr:r})=>{const{state:i}=n,s=i.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const o=r.mapping.map(e);return r.insert(o,s.content),r.setSelection(new me(r.doc.resolve(o-1))),!0},QH=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const a=i.before(s),l=i.after(s);t.delete(a,l).scrollIntoView()}return!0}return!1},ZH=t=>({tr:e,state:n,dispatch:r})=>{const i=un(t,n.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===i){if(r){const l=s.before(o),c=s.after(o);e.delete(l,c).scrollIntoView()}return!0}return!1},e$=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},t$=()=>({state:t,dispatch:e})=>sH(t,e),n$=()=>({commands:t})=>t.keyboardShortcut("Enter"),r$=()=>({state:t,dispatch:e})=>gH(t,e);function yp(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:w5(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Wv(t,e,n={}){return t.find(r=>r.type===e&&yp(r.attrs,n))}function i$(t,e,n={}){return!!Wv(t,e,n)}function b5(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if((!r.node||!r.node.marks.some(c=>c.type===e))&&(r=t.parent.childBefore(t.parentOffset)),!r.node||!r.node.marks.some(c=>c.type===e))return;const i=Wv([...r.node.marks],e,n);if(!i)return;let s=r.index,o=t.start()+r.offset,a=s+1,l=o+r.node.nodeSize;for(Wv([...r.node.marks],e,n);s>0&&i.isInSet(t.parent.child(s-1).marks);)s-=1,o-=t.parent.child(s).nodeSize;for(;a<t.parent.childCount&&i$([...t.parent.child(a).marks],e,n);)l+=t.parent.child(a).nodeSize,a+=1;return{from:o,to:l}}function la(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const s$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const s=la(t,r.schema),{doc:o,selection:a}=n,{$from:l,from:c,to:u}=a;if(i){const d=b5(l,s,e);if(d&&d.from<=c&&d.to>=u){const h=me.create(o,d.from,d.to);n.setSelection(h)}}return!0},o$=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function k5(t){return t instanceof me}function Ss(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function XE(t,e=null){if(!e)return null;const n=we.atStart(t),r=we.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,s=r.to;return e==="all"?me.create(t,Ss(0,i,s),Ss(t.content.size,i,s)):me.create(t,Ss(e,i,s),Ss(e,i,s))}function x5(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const a$=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{x5()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!k5(n.state.selection))return o(),!0;const a=XE(i.doc,t)||n.state.selection,l=n.state.selection.eq(a);return s&&(l||i.setSelection(a),l&&i.storedMarks&&i.setStoredMarks(i.storedMarks),o()),!0},l$=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),c$=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),QE=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&QE(r)}return t};function ah(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return QE(n)}function wp(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,i=typeof t=="string";if(r)try{if(Array.isArray(t)&&t.length>0)return H.fromArray(t.map(a=>e.nodeFromJSON(a)));const o=e.nodeFromJSON(t);return n.errorOnInvalidContent&&o.check(),o}catch(s){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),wp("",e,n)}if(i){if(n.errorOnInvalidContent){let o=!1,a="";const l=new VC({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:c=>(o=!0,a=typeof c=="string"?c:c.outerHTML,null)}]}})});if(n.slice?Qu.fromSchema(l).parseSlice(ah(t),n.parseOptions):Qu.fromSchema(l).parse(ah(t),n.parseOptions),n.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const s=Qu.fromSchema(e);return n.slice?s.parseSlice(ah(t),n.parseOptions).content:s.parse(ah(t),n.parseOptions)}return wp("",e,n)}function u$(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof on||i instanceof ln))return;const s=t.mapping.maps[r];let o=0;s.forEach((a,l,c,u)=>{o===0&&(o=u)}),t.setSelection(we.near(t.doc.resolve(o),n))}const d$=t=>!("type"in t),h$=(t,e,n)=>({tr:r,dispatch:i,editor:s})=>{var o;if(i){n={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;try{a=wp(e,s.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions},errorOnInvalidContent:(o=n.errorOnInvalidContent)!==null&&o!==void 0?o:s.options.enableContentCheck})}catch(p){return s.emit("contentError",{editor:s,error:p,disableCollaboration:()=>{s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}}),!1}let{from:l,to:c}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},u=!0,d=!0;if((d$(a)?a:[a]).forEach(p=>{p.check(),u=u?p.isText&&p.marks.length===0:!1,d=d?p.isBlock:!1}),l===c&&d){const{parent:p}=r.doc.resolve(l);p.isTextblock&&!p.type.spec.code&&!p.childCount&&(l-=1,c+=1)}let f;u?(Array.isArray(e)?f=e.map(p=>p.text||"").join(""):typeof e=="object"&&e&&e.text?f=e.text:f=e,r.insertText(f,l,c)):(f=a,r.replaceWith(l,c,f)),n.updateSelection&&u$(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:l,text:f}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:l,text:f})}return!0},f$=()=>({state:t,dispatch:e})=>hH(t,e),p$=()=>({state:t,dispatch:e})=>fH(t,e),m$=()=>({state:t,dispatch:e})=>oH(t,e),g$=()=>({state:t,dispatch:e})=>uH(t,e),v$=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Um(t.doc,t.selection.$from.pos,-1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},y$=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Um(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},w$=()=>({state:t,dispatch:e})=>aH(t,e),b$=()=>({state:t,dispatch:e})=>lH(t,e);function ZE(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function k$(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,s,o;for(let a=0;a<e.length-1;a+=1){const l=e[a];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))s=!0;else if(/^mod$/i.test(l))x5()||ZE()?o=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),o&&(n=`Meta-${n}`),s&&(n=`Shift-${n}`),n}const x$=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const s=k$(t).split(/-(?!$)/),o=s.find(c=>!["Alt","Ctrl","Meta","Shift"].includes(c)),a=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),l=e.captureTransaction(()=>{n.someProp("handleKeyDown",c=>c(n,a))});return l==null||l.steps.forEach(c=>{const u=c.map(r.mapping);u&&i&&r.maybeStep(u)}),!0};function Hd(t,e,n={}){const{from:r,to:i,empty:s}=t.selection,o=e?un(e,t.schema):null,a=[];t.doc.nodesBetween(r,i,(d,h)=>{if(d.isText)return;const f=Math.max(r,h),p=Math.min(i,h+d.nodeSize);a.push({node:d,from:f,to:p})});const l=i-r,c=a.filter(d=>o?o.name===d.node.type.name:!0).filter(d=>yp(d.node.attrs,n,{strict:!1}));return s?!!c.length:c.reduce((d,h)=>d+h.to-h.from,0)>=l}const S$=(t,e={})=>({state:n,dispatch:r})=>{const i=un(t,n.schema);return Hd(n,i,e)?pH(n,r):!1},C$=()=>({state:t,dispatch:e})=>yH(t,e),E$=t=>({state:e,dispatch:n})=>{const r=un(t,e.schema);return TH(r)(e,n)},T$=()=>({state:t,dispatch:e})=>mH(t,e);function t1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function ub(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const M$=(t,e)=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=t1(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=un(t,r.schema)),a==="mark"&&(o=la(t,r.schema)),i&&n.selection.ranges.forEach(l=>{r.doc.nodesBetween(l.$from.pos,l.$to.pos,(c,u)=>{s&&s===c.type&&n.setNodeMarkup(u,void 0,ub(c.attrs,e)),o&&c.marks.length&&c.marks.forEach(d=>{o===d.type&&n.addMark(u,u+c.nodeSize,o.create(ub(d.attrs,e)))})})}),!0):!1},A$=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),N$=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),O$=()=>({state:t,dispatch:e})=>cH(t,e),I$=()=>({state:t,dispatch:e})=>dH(t,e),D$=()=>({state:t,dispatch:e})=>wH(t,e),R$=()=>({state:t,dispatch:e})=>xH(t,e),_$=()=>({state:t,dispatch:e})=>kH(t,e);function qv(t,e,n={},r={}){return wp(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:r.errorOnInvalidContent})}const L$=(t,e=!1,n={},r={})=>({editor:i,tr:s,dispatch:o,commands:a})=>{var l,c;const{doc:u}=s;if(n.preserveWhitespace!=="full"){const d=qv(t,i.schema,n,{errorOnInvalidContent:(l=r.errorOnInvalidContent)!==null&&l!==void 0?l:i.options.enableContentCheck});return o&&s.replaceWith(0,u.content.size,d).setMeta("preventUpdate",!e),!0}return o&&s.setMeta("preventUpdate",!e),a.insertContentAt({from:0,to:u.content.size},t,{parseOptions:n,errorOnInvalidContent:(c=r.errorOnInvalidContent)!==null&&c!==void 0?c:i.options.enableContentCheck})};function eT(t,e){const n=la(e,t.schema),{from:r,to:i,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,l=>{o.push(...l.marks)});const a=o.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function P$(t,e){const n=new s5(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function S5(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function sf(t,e){const n=[];return t.descendants((r,i)=>{e(r)&&n.push({node:r,pos:i})}),n}function z$(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,s)=>{n(i)&&r.push({node:i,pos:s})}),r}function tT(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Zc(t){return e=>tT(e.$from,t)}function B$(t,e){const n=ml.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function j$(t,e){const n={from:0,to:t.content.size};return JE(t,n,e)}function F$(t,e){const n=un(e,t.schema),{from:r,to:i}=t.selection,s=[];t.doc.nodesBetween(r,i,a=>{s.push(a)});const o=s.reverse().find(a=>a.type.name===n.name);return o?{...o.attrs}:{}}function nT(t,e){const n=t1(typeof e=="string"?e:e.name,t.schema);return n==="node"?F$(t,e):n==="mark"?eT(t,e):{}}function H$(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function $$(t){const e=H$(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,o)=>o!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function V$(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,s)=>{const o=[];if(i.ranges.length)i.forEach((a,l)=>{o.push({from:a,to:l})});else{const{from:a,to:l}=n[s];if(a===void 0||l===void 0)return;o.push({from:a,to:l})}o.forEach(({from:a,to:l})=>{const c=e.slice(s).map(a,-1),u=e.slice(s).map(l),d=e.invert().map(c,-1),h=e.invert().map(u);r.push({oldRange:{from:d,to:h},newRange:{from:c,to:u}})})}),$$(r)}function C5(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const s=n.resolve(t),o=b5(s,i.type);o&&r.push({mark:i,...o})}):n.nodesBetween(t,e,(i,s)=>{!i||(i==null?void 0:i.nodeSize)===void 0||r.push(...i.marks.map(o=>({from:s,to:s+i.nodeSize,mark:o})))}),r}function of(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}function Kv(t,e,n={}){const{empty:r,ranges:i}=t.selection,s=e?la(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(d=>s?s.name===d.type.name:!0).find(d=>yp(d.attrs,n,{strict:!1}));let o=0;const a=[];if(i.forEach(({$from:d,$to:h})=>{const f=d.pos,p=h.pos;t.doc.nodesBetween(f,p,(g,w)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(f,w),k=Math.min(p,w+g.nodeSize),E=k-v;o+=E,a.push(...g.marks.map(S=>({mark:S,from:v,to:k})))})}),o===0)return!1;const l=a.filter(d=>s?s.name===d.mark.type.name:!0).filter(d=>yp(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),c=a.filter(d=>s?d.mark.type!==s&&d.mark.type.excludes(s):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+c:l)>=o}function rT(t,e,n={}){if(!e)return Hd(t,null,n)||Kv(t,null,n);const r=t1(e,t.schema);return r==="node"?Hd(t,e,n):r==="mark"?Kv(t,e,n):!1}function db(t,e){const{nodeExtensions:n}=Qm(e),r=n.find(o=>o.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=De(ce(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function n1(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var r;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((r=t.text)!==null&&r!==void 0?r:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let i=!0;return t.content.forEach(s=>{i!==!1&&(n1(s,{ignoreWhitespace:n,checkChildren:e})||(i=!1))}),i}return!1}function iT(t){return t instanceof be}function U$(t,e,n){const i=t.state.doc.content.size,s=Ss(e,0,i),o=Ss(n,0,i),a=t.coordsAtPos(s),l=t.coordsAtPos(o,-1),c=Math.min(a.top,l.top),u=Math.max(a.bottom,l.bottom),d=Math.min(a.left,l.left),h=Math.max(a.right,l.right),f=h-d,p=u-c,v={top:c,bottom:u,left:d,right:h,width:f,height:p,x:d,y:c};return{...v,toJSON:()=>v}}function W$(t,e,n){var r;const{selection:i}=e;let s=null;if(k5(i)&&(s=i.$cursor),s){const a=(r=t.storedMarks)!==null&&r!==void 0?r:s.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:o}=i;return o.some(({$from:a,$to:l})=>{let c=a.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(a.pos,l.pos,(u,d,h)=>{if(c)return!1;if(u.isInline){const f=!h||h.type.allowsMarkType(n),p=!!n.isInSet(u.marks)||!u.marks.some(g=>g.type.excludes(n));c=f&&p}return!c}),c})}const q$=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:s}=n,{empty:o,ranges:a}=s,l=la(t,r.schema);if(i)if(o){const c=eT(r,l);n.addStoredMark(l.create({...c,...e}))}else a.forEach(c=>{const u=c.$from.pos,d=c.$to.pos;r.doc.nodesBetween(u,d,(h,f)=>{const p=Math.max(f,u),g=Math.min(f+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&n.addMark(p,g,l.create({...v.attrs,...e}))}):n.addMark(p,g,l.create(e))})});return W$(r,n,l)},K$=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),G$=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const s=un(t,n.schema);return s.isTextblock?i().command(({commands:o})=>ob(s,e)(n)?!0:o.clearNodes()).command(({state:o})=>ob(s,e)(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},J$=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Ss(t,0,r.content.size),s=be.create(r,i);e.setSelection(s)}return!0},Y$=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:s}=typeof t=="number"?{from:t,to:t}:t,o=me.atStart(r).from,a=me.atEnd(r).to,l=Ss(i,o,a),c=Ss(s,o,a),u=me.create(r,l,c);e.setSelection(u)}return!0},X$=t=>({state:e,dispatch:n})=>{const r=un(t,e.schema);return NH(r)(e,n)};function hb(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const Q$=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:s,doc:o}=e,{$from:a,$to:l}=s,c=i.extensionManager.attributes,u=of(c,a.node().type.name,a.node().attrs);if(s instanceof be&&s.node.isBlock)return!a.parentOffset||!cc(o,a.pos)?!1:(r&&(t&&hb(n,i.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:S5(a.node(-1).contentMatchAt(a.indexAfter(-1)));let f=d&&h?[{type:h,attrs:u}]:void 0,p=cc(e.doc,e.mapping.map(a.pos),1,f);if(!f&&!p&&cc(e.doc,e.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(p=!0,f=h?[{type:h,attrs:u}]:void 0),r){if(p&&(s instanceof me&&e.deleteSelection(),e.split(e.mapping.map(a.pos),1,f),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=e.mapping.map(a.before()),w=e.doc.resolve(g);a.node(-1).canReplaceWith(w.index(),w.index()+1,h)&&e.setNodeMarkup(e.mapping.map(a.before()),h)}t&&hb(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return p},Z$=(t,e={})=>({tr:n,state:r,dispatch:i,editor:s})=>{var o;const a=un(t,r.schema),{$from:l,$to:c}=r.selection,u=r.selection.node;if(u&&u.isBlock||l.depth<2||!l.sameParent(c))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=s.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(i){let v=H.empty;const k=l.index(-1)?1:l.index(-2)?2:3;for(let I=l.depth-k;I>=l.depth-3;I-=1)v=H.from(l.node(I).copy(v));const E=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,S={...of(h,l.node().type.name,l.node().attrs),...e},N=((o=a.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(S))||void 0;v=v.append(H.from(a.createAndFill(null,N)||void 0));const b=l.before(l.depth-(k-1));n.replace(b,l.after(-E),new Y(v,4-k,0));let M=-1;n.doc.nodesBetween(b,n.doc.content.size,(I,_)=>{if(M>-1)return!1;I.isTextblock&&I.content.size===0&&(M=_+1)}),M>-1&&n.setSelection(me.near(n.doc.resolve(M))),n.scrollIntoView()}return!0}const f=c.pos===l.end()?d.contentMatchAt(0).defaultType:null,p={...of(h,d.type.name,d.attrs),...e},g={...of(h,l.node().type.name,l.node().attrs),...e};n.delete(l.pos,c.pos);const w=f?[{type:a,attrs:p},{type:f,attrs:g}]:[{type:a,attrs:p}];if(!cc(n.doc,l.pos,2))return!1;if(i){const{selection:v,storedMarks:k}=r,{splittableMarks:E}=s.extensionManager,S=k||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,w).scrollIntoView(),!S||!i)return!0;const N=S.filter(b=>E.includes(b.type.name));n.ensureMarks(N)}return!0},Og=(t,e)=>{const n=Zc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&oa(t.doc,n.pos)&&t.join(n.pos),!0},Ig=(t,e)=>{const n=Zc(o=>o.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&oa(t.doc,r)&&t.join(r),!0},eV=(t,e,n,r={})=>({editor:i,tr:s,state:o,dispatch:a,chain:l,commands:c,can:u})=>{const{extensions:d,splittableMarks:h}=i.extensionManager,f=un(t,o.schema),p=un(e,o.schema),{selection:g,storedMarks:w}=o,{$from:v,$to:k}=g,E=v.blockRange(k),S=w||g.$to.parentOffset&&g.$from.marks();if(!E)return!1;const N=Zc(b=>db(b.type.name,d))(g);if(E.depth>=1&&N&&E.depth-N.depth<=1){if(N.node.type===f)return c.liftListItem(p);if(db(N.node.type.name,d)&&f.validContent(N.node.content)&&a)return l().command(()=>(s.setNodeMarkup(N.pos,f),!0)).command(()=>Og(s,f)).command(()=>Ig(s,f)).run()}return!n||!S||!a?l().command(()=>u().wrapInList(f,r)?!0:c.clearNodes()).wrapInList(f,r).command(()=>Og(s,f)).command(()=>Ig(s,f)).run():l().command(()=>{const b=u().wrapInList(f,r),M=S.filter(I=>h.includes(I.type.name));return s.ensureMarks(M),b?!0:c.clearNodes()}).wrapInList(f,r).command(()=>Og(s,f)).command(()=>Ig(s,f)).run()},tV=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=n,o=la(t,r.schema);return Kv(r,o,e)?i.unsetMark(o,{extendEmptyMarkRange:s}):i.setMark(o,e)},nV=(t,e,n={})=>({state:r,commands:i})=>{const s=un(t,r.schema),o=un(e,r.schema),a=Hd(r,s,n);let l;return r.selection.$anchor.sameParent(r.selection.$head)&&(l=r.selection.$anchor.parent.attrs),a?i.setNode(o,l):i.setNode(s,{...l,...n})},rV=(t,e={})=>({state:n,commands:r})=>{const i=un(t,n.schema);return Hd(n,i,e)?r.lift(i):r.wrapIn(i,e)},iV=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let s;if(i.spec.isInputRules&&(s=i.getState(t))){if(e){const o=t.tr,a=s.transform;for(let l=a.steps.length-1;l>=0;l-=1)o.step(a.steps[l].invert(a.docs[l]));if(s.text){const l=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,l))}else o.delete(s.from,s.to)}return!0}}return!1},sV=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},oV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:a}=n,l=la(t,r.schema),{$from:c,empty:u,ranges:d}=a;if(!i)return!0;if(u&&o){let{from:h,to:f}=a;const p=(s=c.marks().find(w=>w.type===l))===null||s===void 0?void 0:s.attrs,g=b5(c,l,p);g&&(h=g.from,f=g.to),n.removeMark(h,f,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},aV=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let s=null,o=null;const a=t1(typeof t=="string"?t:t.name,r.schema);return a?(a==="node"&&(s=un(t,r.schema)),a==="mark"&&(o=la(t,r.schema)),i&&n.selection.ranges.forEach(l=>{const c=l.$from.pos,u=l.$to.pos;r.doc.nodesBetween(c,u,(d,h)=>{s&&s===d.type&&n.setNodeMarkup(h,void 0,{...d.attrs,...e}),o&&d.marks.length&&d.marks.forEach(f=>{if(o===f.type){const p=Math.max(h,c),g=Math.min(h+d.nodeSize,u);n.addMark(p,g,o.create({...f.attrs,...e}))}})})}),!0):!1},lV=(t,e={})=>({state:n,dispatch:r})=>{const i=un(t,n.schema);return SH(i,e)(n,r)},cV=(t,e={})=>({state:n,dispatch:r})=>{const i=un(t,n.schema);return CH(i,e)(n,r)};var uV=Object.freeze({__proto__:null,blur:qH,clearContent:KH,clearNodes:GH,command:JH,createParagraphNear:YH,cut:XH,deleteCurrentNode:QH,deleteNode:ZH,deleteRange:e$,deleteSelection:t$,enter:n$,exitCode:r$,extendMarkRange:s$,first:o$,focus:a$,forEach:l$,insertContent:c$,insertContentAt:h$,joinBackward:m$,joinDown:p$,joinForward:g$,joinItemBackward:v$,joinItemForward:y$,joinTextblockBackward:w$,joinTextblockForward:b$,joinUp:f$,keyboardShortcut:x$,lift:S$,liftEmptyBlock:C$,liftListItem:E$,newlineInCode:T$,resetAttributes:M$,scrollIntoView:A$,selectAll:N$,selectNodeBackward:O$,selectNodeForward:I$,selectParentNode:D$,selectTextblockEnd:R$,selectTextblockStart:_$,setContent:L$,setMark:q$,setMeta:K$,setNode:G$,setNodeSelection:J$,setTextSelection:Y$,sinkListItem:X$,splitBlock:Q$,splitListItem:Z$,toggleList:eV,toggleMark:tV,toggleNode:nV,toggleWrap:rV,undoInputRule:iV,unsetAllMarks:sV,unsetMark:oV,updateAttributes:aV,wrapIn:lV,wrapInList:cV});const dV=zt.create({name:"commands",addCommands(){return{...uV}}}),hV=zt.create({name:"drop",addProseMirrorPlugins(){return[new nt({key:new lt("tiptapDrop"),props:{handleDrop:(t,e,n,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:r})}}})]}}),fV=zt.create({name:"editable",addProseMirrorPlugins(){return[new nt({key:new lt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),pV=zt.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new nt({key:new lt("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),mV=zt.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:a})=>{const{selection:l,doc:c}=a,{empty:u,$anchor:d}=l,{pos:h,parent:f}=d,p=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=p.parent.type.spec.isolating,w=d.pos-d.parentOffset,v=g&&p.parent.childCount===1?w===d.pos:we.atStart(c).from===h;return!u||!f.type.isTextblock||f.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return x5()||ZE()?s:i},addProseMirrorPlugins(){return[new nt({key:new lt("clearDocument"),appendTransaction:(t,e,n)=>{const r=t.some(g=>g.docChanged)&&!e.doc.eq(n.doc),i=t.some(g=>g.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:o,to:a}=e.selection,l=we.atStart(e.doc).from,c=we.atEnd(e.doc).to;if(s||!(o===l&&a===c)||!n1(n.doc))return;const h=n.tr,f=Ym({state:n,transaction:h}),{commands:p}=new Xm({editor:this.editor,state:f});if(p.clearNodes(),!!h.steps.length)return h}})]}}),gV=zt.create({name:"paste",addProseMirrorPlugins(){return[new nt({key:new lt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),vV=zt.create({name:"tabindex",addProseMirrorPlugins(){return[new nt({key:new lt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Ea{get name(){return this.node.type.name}constructor(e,n,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=n,this.currentNode=i}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!==null&&e!==void 0?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:n,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Ea(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Ea(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Ea(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,r)=>{const i=n.isBlock&&!n.isTextblock,s=n.isAtom&&!n.isText,o=this.pos+r+(s?0:1),a=this.resolvedPos.doc.resolve(o);if(!i&&a.depth<=this.depth)return;const l=new Ea(a,this.editor,i,i?n:null);i&&(l.actualDepth=this.depth+1),e.push(new Ea(a,this.editor,i,i?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(n).length>0){const s=i.node.attrs,o=Object.keys(n);for(let a=0;a<o.length;a+=1){const l=o[a];if(s[l]!==n[l])break}}else r=i;i=i.parent}return r}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(n);return this.children.forEach(o=>{r&&i.length>0||(o.node.type.name===e&&s.every(l=>n[l]===o.node.attrs[l])&&i.push(o),!(r&&i.length>0)&&(i=i.concat(o.querySelectorAll(e,n,r))))}),i}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}}const yV=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function wV(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i),i}let bV=class extends OH{constructor(e={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:r,moved:i})=>this.options.onDrop(n,r,i)),this.on("paste",({event:n,slice:r})=>this.options.onPaste(n,r)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=wV(yV,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=GE(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}unregisterPlugin(e){if(this.isDestroyed)return;const n=this.state.plugins;let r=n;if([].concat(e).forEach(s=>{const o=typeof s=="string"?`${s}$`:s.key;r=n.filter(a=>!a.key.startsWith(o))}),n.length===r.length)return;const i=this.state.reconfigure({plugins:r});return this.view.updateState(i),i}createExtensionManager(){var e,n;const i=[...this.options.enableCoreExtensions?[fV,WH.configure({blockSeparator:(n=(e=this.options.coreExtensionOptions)===null||e===void 0?void 0:e.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),dV,pV,mV,vV,hV,gV].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new Xl(i,this)}createCommandManager(){this.commandManager=new Xm({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){let e;try{e=qv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(o=>o.name!=="collaboration"),this.createExtensionManager()}}),e=qv(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const n=XE(e,this.options.autofocus);this.view=new JF(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Yl.create({doc:e,selection:n||void 0})}),this.view.dom.setAttribute("role","textbox"),this.view.dom.getAttribute("aria-label")||this.view.dom.setAttribute("aria-label","Rich-Text Editor");const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(o=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(o)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:e,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),s=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),s&&this.emit("blur",{editor:this,event:s.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return nT(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return rT(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return B$(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return j$(this.state.doc,{blockSeparator:n,textSerializers:{...YE(this.schema),...r}})}get isEmpty(){return n1(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const e=this.view.dom;e&&e.editor&&delete e.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}$node(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelector(e,n))||null}$nodes(e,n){var r;return((r=this.$doc)===null||r===void 0?void 0:r.querySelectorAll(e,n))||null}$pos(e){const n=this.state.doc.resolve(e);return new Ea(n,this)}get $doc(){return this.$pos(0)}};function sl(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,o=r[r.length-1],a=r[0];if(o){const l=a.search(/\S/),c=n.from+a.indexOf(o),u=c+o.length;if(C5(n.from,n.to,e.doc).filter(f=>f.mark.type.excluded.find(g=>g===t.type&&g!==f.mark.type)).filter(f=>f.to>c).length)return null;u<n.to&&s.delete(u,n.to),c>n.from&&s.delete(n.from+l,c);const h=n.from+l+o.length;s.addMark(n.from+l,h,t.type.create(i||{})),s.removeStoredMark(t.type)}}})}function sT(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=De(t.getAttributes,void 0,r)||{},{tr:s}=e,o=n.from;let a=n.to;const l=t.type.create(i);if(r[1]){const c=r[0].lastIndexOf(r[1]);let u=o+c;u>a?u=a:a=u+r[1].length;const d=r[0][r[0].length-1];s.insertText(d,o+r[0].length-1),s.replaceWith(u,a,l)}else if(r[0]){const c=t.type.isInline?o:o-1;s.insert(c,t.type.create(i)).delete(s.mapping.map(o),s.mapping.map(a))}s.scrollIntoView()}})}function Gv(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),s=De(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,s)}})}function Pc(t){return new Zm({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const s=De(t.getAttributes,void 0,r)||{},o=e.tr.delete(n.from,n.to),l=o.doc.resolve(n.from).blockRange(),c=l&&i5(l,t.type,s);if(!c)return null;if(o.wrap(l,c),t.keepMarks&&t.editor){const{selection:d,storedMarks:h}=e,{splittableMarks:f}=t.editor.extensionManager,p=h||d.$to.parentOffset&&d.$from.marks();if(p){const g=p.filter(w=>f.includes(w.type.name));o.ensureMarks(g)}}if(t.keepAttributes){const d=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(d,s).run()}const u=o.doc.resolve(n.from-1).nodeBefore;u&&u.type===t.type&&oa(o.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,u))&&o.join(n.from-1)}})}class kt{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=De(ce(this,"addOptions",{name:this.name}))),this.storage=De(ce(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new kt(e)}configure(e={}){const n=this.extend({...this.config,addOptions:()=>e1(this.options,e)});return n.name=this.name,n.parent=this.parent,n}extend(e={}){const n=new kt(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=De(ce(n,"addOptions",{name:n.name})),n.storage=De(ce(n,"addStorage",{name:n.name,options:n.options})),n}}function qo(t){return new jH({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:i})=>{const s=De(t.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:o}=e,a=r[r.length-1],l=r[0];let c=n.to;if(a){const u=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(C5(n.from,n.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>d).length)return null;h<n.to&&o.delete(h,n.to),d>n.from&&o.delete(n.from+u,d),c=n.from+u+a.length,o.addMark(n.from+u,c,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var nr="top",Vr="bottom",Ur="right",rr="left",E5="auto",x0=[nr,Vr,Ur,rr],zc="start",$d="end",kV="clippingParents",oT="viewport",Tu="popper",xV="reference",fb=x0.reduce(function(t,e){return t.concat([e+"-"+zc,e+"-"+$d])},[]),aT=[].concat(x0,[E5]).reduce(function(t,e){return t.concat([e,e+"-"+zc,e+"-"+$d])},[]),SV="beforeRead",CV="read",EV="afterRead",TV="beforeMain",MV="main",AV="afterMain",NV="beforeWrite",OV="write",IV="afterWrite",DV=[SV,CV,EV,TV,MV,AV,NV,OV,IV];function Qi(t){return t?(t.nodeName||"").toLowerCase():null}function yr(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ol(t){var e=yr(t).Element;return t instanceof e||t instanceof Element}function Br(t){var e=yr(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function T5(t){if(typeof ShadowRoot>"u")return!1;var e=yr(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function RV(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},s=e.elements[n];!Br(s)||!Qi(s)||(Object.assign(s.style,r),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function _V(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],s=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=o.reduce(function(l,c){return l[c]="",l},{});!Br(i)||!Qi(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(l){i.removeAttribute(l)}))})}}const lT={name:"applyStyles",enabled:!0,phase:"write",fn:RV,effect:_V,requires:["computeStyles"]};function Ji(t){return t.split("-")[0]}var Wa=Math.max,bp=Math.min,Bc=Math.round;function Jv(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function cT(){return!/^((?!chrome|android).)*safari/i.test(Jv())}function jc(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&Br(t)&&(i=t.offsetWidth>0&&Bc(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Bc(r.height)/t.offsetHeight||1);var o=ol(t)?yr(t):window,a=o.visualViewport,l=!cT()&&n,c=(r.left+(l&&a?a.offsetLeft:0))/i,u=(r.top+(l&&a?a.offsetTop:0))/s,d=r.width/i,h=r.height/s;return{width:d,height:h,top:u,right:c+d,bottom:u+h,left:c,x:c,y:u}}function M5(t){var e=jc(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function uT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&T5(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Bs(t){return yr(t).getComputedStyle(t)}function LV(t){return["table","td","th"].indexOf(Qi(t))>=0}function ca(t){return((ol(t)?t.ownerDocument:t.document)||window.document).documentElement}function r1(t){return Qi(t)==="html"?t:t.assignedSlot||t.parentNode||(T5(t)?t.host:null)||ca(t)}function pb(t){return!Br(t)||Bs(t).position==="fixed"?null:t.offsetParent}function PV(t){var e=/firefox/i.test(Jv()),n=/Trident/i.test(Jv());if(n&&Br(t)){var r=Bs(t);if(r.position==="fixed")return null}var i=r1(t);for(T5(i)&&(i=i.host);Br(i)&&["html","body"].indexOf(Qi(i))<0;){var s=Bs(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function S0(t){for(var e=yr(t),n=pb(t);n&&LV(n)&&Bs(n).position==="static";)n=pb(n);return n&&(Qi(n)==="html"||Qi(n)==="body"&&Bs(n).position==="static")?e:n||PV(t)||e}function A5(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function nd(t,e,n){return Wa(t,bp(e,n))}function zV(t,e,n){var r=nd(t,e,n);return r>n?n:r}function dT(){return{top:0,right:0,bottom:0,left:0}}function hT(t){return Object.assign({},dT(),t)}function fT(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var BV=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,hT(typeof e!="number"?e:fT(e,x0))};function jV(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=Ji(n.placement),l=A5(a),c=[rr,Ur].indexOf(a)>=0,u=c?"height":"width";if(!(!s||!o)){var d=BV(i.padding,n),h=M5(s),f=l==="y"?nr:rr,p=l==="y"?Vr:Ur,g=n.rects.reference[u]+n.rects.reference[l]-o[l]-n.rects.popper[u],w=o[l]-n.rects.reference[l],v=S0(s),k=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,E=g/2-w/2,S=d[f],N=k-h[u]-d[p],b=k/2-h[u]/2+E,M=nd(S,b,N),I=l;n.modifiersData[r]=(e={},e[I]=M,e.centerOffset=M-b,e)}}function FV(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||uT(e.elements.popper,i)&&(e.elements.arrow=i))}const HV={name:"arrow",enabled:!0,phase:"main",fn:jV,effect:FV,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fc(t){return t.split("-")[1]}var $V={top:"auto",right:"auto",bottom:"auto",left:"auto"};function VV(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Bc(n*i)/i||0,y:Bc(r*i)/i||0}}function mb(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,d=t.isFixed,h=o.x,f=h===void 0?0:h,p=o.y,g=p===void 0?0:p,w=typeof u=="function"?u({x:f,y:g}):{x:f,y:g};f=w.x,g=w.y;var v=o.hasOwnProperty("x"),k=o.hasOwnProperty("y"),E=rr,S=nr,N=window;if(c){var b=S0(n),M="clientHeight",I="clientWidth";if(b===yr(n)&&(b=ca(n),Bs(b).position!=="static"&&a==="absolute"&&(M="scrollHeight",I="scrollWidth")),b=b,i===nr||(i===rr||i===Ur)&&s===$d){S=Vr;var _=d&&b===N&&N.visualViewport?N.visualViewport.height:b[M];g-=_-r.height,g*=l?1:-1}if(i===rr||(i===nr||i===Vr)&&s===$d){E=Ur;var F=d&&b===N&&N.visualViewport?N.visualViewport.width:b[I];f-=F-r.width,f*=l?1:-1}}var G=Object.assign({position:a},c&&$V),Q=u===!0?VV({x:f,y:g},yr(n)):{x:f,y:g};if(f=Q.x,g=Q.y,l){var oe;return Object.assign({},G,(oe={},oe[S]=k?"0":"",oe[E]=v?"0":"",oe.transform=(N.devicePixelRatio||1)<=1?"translate("+f+"px, "+g+"px)":"translate3d("+f+"px, "+g+"px, 0)",oe))}return Object.assign({},G,(e={},e[S]=k?g+"px":"",e[E]=v?f+"px":"",e.transform="",e))}function UV(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,c={placement:Ji(e.placement),variation:Fc(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,mb(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,mb(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const WV={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:UV,data:{}};var lh={passive:!0};function qV(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=yr(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&c.forEach(function(u){u.addEventListener("scroll",n.update,lh)}),a&&l.addEventListener("resize",n.update,lh),function(){s&&c.forEach(function(u){u.removeEventListener("scroll",n.update,lh)}),a&&l.removeEventListener("resize",n.update,lh)}}const KV={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:qV,data:{}};var GV={left:"right",right:"left",bottom:"top",top:"bottom"};function af(t){return t.replace(/left|right|bottom|top/g,function(e){return GV[e]})}var JV={start:"end",end:"start"};function gb(t){return t.replace(/start|end/g,function(e){return JV[e]})}function N5(t){var e=yr(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function O5(t){return jc(ca(t)).left+N5(t).scrollLeft}function YV(t,e){var n=yr(t),r=ca(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var c=cT();(c||!c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+O5(t),y:l}}function XV(t){var e,n=ca(t),r=N5(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Wa(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Wa(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+O5(t),l=-r.scrollTop;return Bs(i||n).direction==="rtl"&&(a+=Wa(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function I5(t){var e=Bs(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function pT(t){return["html","body","#document"].indexOf(Qi(t))>=0?t.ownerDocument.body:Br(t)&&I5(t)?t:pT(r1(t))}function rd(t,e){var n;e===void 0&&(e=[]);var r=pT(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=yr(r),o=i?[s].concat(s.visualViewport||[],I5(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(rd(r1(o)))}function Yv(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function QV(t,e){var n=jc(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function vb(t,e,n){return e===oT?Yv(YV(t,n)):ol(e)?QV(e,n):Yv(XV(ca(t)))}function ZV(t){var e=rd(r1(t)),n=["absolute","fixed"].indexOf(Bs(t).position)>=0,r=n&&Br(t)?S0(t):t;return ol(r)?e.filter(function(i){return ol(i)&&uT(i,r)&&Qi(i)!=="body"}):[]}function eU(t,e,n,r){var i=e==="clippingParents"?ZV(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,c){var u=vb(t,c,r);return l.top=Wa(u.top,l.top),l.right=bp(u.right,l.right),l.bottom=bp(u.bottom,l.bottom),l.left=Wa(u.left,l.left),l},vb(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function mT(t){var e=t.reference,n=t.element,r=t.placement,i=r?Ji(r):null,s=r?Fc(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case nr:l={x:o,y:e.y-n.height};break;case Vr:l={x:o,y:e.y+e.height};break;case Ur:l={x:e.x+e.width,y:a};break;case rr:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var c=i?A5(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(s){case zc:l[c]=l[c]-(e[u]/2-n[u]/2);break;case $d:l[c]=l[c]+(e[u]/2-n[u]/2);break}}return l}function Vd(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?kV:a,c=n.rootBoundary,u=c===void 0?oT:c,d=n.elementContext,h=d===void 0?Tu:d,f=n.altBoundary,p=f===void 0?!1:f,g=n.padding,w=g===void 0?0:g,v=hT(typeof w!="number"?w:fT(w,x0)),k=h===Tu?xV:Tu,E=t.rects.popper,S=t.elements[p?k:h],N=eU(ol(S)?S:S.contextElement||ca(t.elements.popper),l,u,o),b=jc(t.elements.reference),M=mT({reference:b,element:E,strategy:"absolute",placement:i}),I=Yv(Object.assign({},E,M)),_=h===Tu?I:b,F={top:N.top-_.top+v.top,bottom:_.bottom-N.bottom+v.bottom,left:N.left-_.left+v.left,right:_.right-N.right+v.right},G=t.modifiersData.offset;if(h===Tu&&G){var Q=G[i];Object.keys(F).forEach(function(oe){var ge=[Ur,Vr].indexOf(oe)>=0?1:-1,Ne=[nr,Vr].indexOf(oe)>=0?"y":"x";F[oe]+=Q[Ne]*ge})}return F}function tU(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,c=l===void 0?aT:l,u=Fc(r),d=u?a?fb:fb.filter(function(p){return Fc(p)===u}):x0,h=d.filter(function(p){return c.indexOf(p)>=0});h.length===0&&(h=d);var f=h.reduce(function(p,g){return p[g]=Vd(t,{placement:g,boundary:i,rootBoundary:s,padding:o})[Ji(g)],p},{});return Object.keys(f).sort(function(p,g){return f[p]-f[g]})}function nU(t){if(Ji(t)===E5)return[];var e=af(t);return[gb(t),e,gb(e)]}function rU(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,c=n.padding,u=n.boundary,d=n.rootBoundary,h=n.altBoundary,f=n.flipVariations,p=f===void 0?!0:f,g=n.allowedAutoPlacements,w=e.options.placement,v=Ji(w),k=v===w,E=l||(k||!p?[af(w)]:nU(w)),S=[w].concat(E).reduce(function(Be,je){return Be.concat(Ji(je)===E5?tU(e,{placement:je,boundary:u,rootBoundary:d,padding:c,flipVariations:p,allowedAutoPlacements:g}):je)},[]),N=e.rects.reference,b=e.rects.popper,M=new Map,I=!0,_=S[0],F=0;F<S.length;F++){var G=S[F],Q=Ji(G),oe=Fc(G)===zc,ge=[nr,Vr].indexOf(Q)>=0,Ne=ge?"width":"height",Me=Vd(e,{placement:G,boundary:u,rootBoundary:d,altBoundary:h,padding:c}),he=ge?oe?Ur:rr:oe?Vr:nr;N[Ne]>b[Ne]&&(he=af(he));var $=af(he),ee=[];if(s&&ee.push(Me[Q]<=0),a&&ee.push(Me[he]<=0,Me[$]<=0),ee.every(function(Be){return Be})){_=G,I=!1;break}M.set(G,ee)}if(I)for(var te=p?3:1,ve=function(je){var Fe=S.find(function(Ze){var vt=M.get(Ze);if(vt)return vt.slice(0,je).every(function(Bt){return Bt})});if(Fe)return _=Fe,"break"},de=te;de>0;de--){var rt=ve(de);if(rt==="break")break}e.placement!==_&&(e.modifiersData[r]._skip=!0,e.placement=_,e.reset=!0)}}const iU={name:"flip",enabled:!0,phase:"main",fn:rU,requiresIfExists:["offset"],data:{_skip:!1}};function yb(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function wb(t){return[nr,Ur,Vr,rr].some(function(e){return t[e]>=0})}function sU(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=Vd(e,{elementContext:"reference"}),a=Vd(e,{altBoundary:!0}),l=yb(o,r),c=yb(a,i,s),u=wb(l),d=wb(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const oU={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:sU};function aU(t,e,n){var r=Ji(t),i=[rr,nr].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[rr,Ur].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function lU(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=aT.reduce(function(u,d){return u[d]=aU(d,e.rects,s),u},{}),a=o[e.placement],l=a.x,c=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[r]=o}const cU={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:lU};function uU(t){var e=t.state,n=t.name;e.modifiersData[n]=mT({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const dU={name:"popperOffsets",enabled:!0,phase:"read",fn:uU,data:{}};function hU(t){return t==="x"?"y":"x"}function fU(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,c=n.rootBoundary,u=n.altBoundary,d=n.padding,h=n.tether,f=h===void 0?!0:h,p=n.tetherOffset,g=p===void 0?0:p,w=Vd(e,{boundary:l,rootBoundary:c,padding:d,altBoundary:u}),v=Ji(e.placement),k=Fc(e.placement),E=!k,S=A5(v),N=hU(S),b=e.modifiersData.popperOffsets,M=e.rects.reference,I=e.rects.popper,_=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,F=typeof _=="number"?{mainAxis:_,altAxis:_}:Object.assign({mainAxis:0,altAxis:0},_),G=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,Q={x:0,y:0};if(b){if(s){var oe,ge=S==="y"?nr:rr,Ne=S==="y"?Vr:Ur,Me=S==="y"?"height":"width",he=b[S],$=he+w[ge],ee=he-w[Ne],te=f?-I[Me]/2:0,ve=k===zc?M[Me]:I[Me],de=k===zc?-I[Me]:-M[Me],rt=e.elements.arrow,Be=f&&rt?M5(rt):{width:0,height:0},je=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:dT(),Fe=je[ge],Ze=je[Ne],vt=nd(0,M[Me],Be[Me]),Bt=E?M[Me]/2-te-vt-Fe-F.mainAxis:ve-vt-Fe-F.mainAxis,Yt=E?-M[Me]/2+te+vt+Ze+F.mainAxis:de+vt+Ze+F.mainAxis,Ye=e.elements.arrow&&S0(e.elements.arrow),Ot=Ye?S==="y"?Ye.clientTop||0:Ye.clientLeft||0:0,xi=(oe=G==null?void 0:G[S])!=null?oe:0,Si=he+Bt-xi-Ot,On=he+Yt-xi,Ci=nd(f?bp($,Si):$,he,f?Wa(ee,On):ee);b[S]=Ci,Q[S]=Ci-he}if(a){var Kr,Cr=S==="x"?nr:rr,Gr=S==="x"?Vr:Ur,Jr=b[N],Ei=N==="y"?"height":"width",ha=Jr+w[Cr],In=Jr-w[Gr],Yr=[nr,rr].indexOf(v)!==-1,fa=(Kr=G==null?void 0:G[N])!=null?Kr:0,Js=Yr?ha:Jr-M[Ei]-I[Ei]-fa+F.altAxis,sr=Yr?Jr+M[Ei]+I[Ei]-fa-F.altAxis:In,Un=f&&Yr?zV(Js,Jr,sr):nd(f?Js:ha,Jr,f?sr:In);b[N]=Un,Q[N]=Un-Jr}e.modifiersData[r]=Q}}const pU={name:"preventOverflow",enabled:!0,phase:"main",fn:fU,requiresIfExists:["offset"]};function mU(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function gU(t){return t===yr(t)||!Br(t)?N5(t):mU(t)}function vU(t){var e=t.getBoundingClientRect(),n=Bc(e.width)/t.offsetWidth||1,r=Bc(e.height)/t.offsetHeight||1;return n!==1||r!==1}function yU(t,e,n){n===void 0&&(n=!1);var r=Br(e),i=Br(e)&&vU(e),s=ca(e),o=jc(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Qi(e)!=="body"||I5(s))&&(a=gU(e)),Br(e)?(l=jc(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=O5(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function wU(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function bU(t){var e=wU(t);return DV.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function kU(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function xU(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var bb={placement:"bottom",modifiers:[],strategy:"absolute"};function kb(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function SU(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?bb:i;return function(a,l,c){c===void 0&&(c=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},bb,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,f={state:u,setOptions:function(v){var k=typeof v=="function"?v(u.options):v;g(),u.options=Object.assign({},s,u.options,k),u.scrollParents={reference:ol(a)?rd(a):a.contextElement?rd(a.contextElement):[],popper:rd(l)};var E=bU(xU([].concat(r,u.options.modifiers)));return u.orderedModifiers=E.filter(function(S){return S.enabled}),p(),f.update()},forceUpdate:function(){if(!h){var v=u.elements,k=v.reference,E=v.popper;if(kb(k,E)){u.rects={reference:yU(k,S0(E),u.options.strategy==="fixed"),popper:M5(E)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(F){return u.modifiersData[F.name]=Object.assign({},F.data)});for(var S=0;S<u.orderedModifiers.length;S++){if(u.reset===!0){u.reset=!1,S=-1;continue}var N=u.orderedModifiers[S],b=N.fn,M=N.options,I=M===void 0?{}:M,_=N.name;typeof b=="function"&&(u=b({state:u,options:I,name:_,instance:f})||u)}}}},update:kU(function(){return new Promise(function(w){f.forceUpdate(),w(u)})}),destroy:function(){g(),h=!0}};if(!kb(a,l))return f;f.setOptions(c).then(function(w){!h&&c.onFirstUpdate&&c.onFirstUpdate(w)});function p(){u.orderedModifiers.forEach(function(w){var v=w.name,k=w.options,E=k===void 0?{}:k,S=w.effect;if(typeof S=="function"){var N=S({state:u,name:v,instance:f,options:E}),b=function(){};d.push(N||b)}})}function g(){d.forEach(function(w){return w()}),d=[]}return f}}var CU=[KV,dU,WV,lT,cU,iU,pU,HV,oU],EU=SU({defaultModifiers:CU}),TU="tippy-box",gT="tippy-content",MU="tippy-backdrop",vT="tippy-arrow",yT="tippy-svg-arrow",ka={passive:!0,capture:!0},wT=function(){return document.body};function Dg(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function D5(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function bT(t,e){return typeof t=="function"?t.apply(void 0,e):t}function xb(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function AU(t){return t.split(/\s+/).filter(Boolean)}function _l(t){return[].concat(t)}function Sb(t,e){t.indexOf(e)===-1&&t.push(e)}function NU(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function OU(t){return t.split("-")[0]}function kp(t){return[].slice.call(t)}function Cb(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function id(){return document.createElement("div")}function i1(t){return["Element","Fragment"].some(function(e){return D5(t,e)})}function IU(t){return D5(t,"NodeList")}function DU(t){return D5(t,"MouseEvent")}function RU(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function _U(t){return i1(t)?[t]:IU(t)?kp(t):Array.isArray(t)?t:kp(document.querySelectorAll(t))}function Rg(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function Eb(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function LU(t){var e,n=_l(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function PU(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var s=i.popperRect,o=i.popperState,a=i.props,l=a.interactiveBorder,c=OU(o.placement),u=o.modifiersData.offset;if(!u)return!0;var d=c==="bottom"?u.top.y:0,h=c==="top"?u.bottom.y:0,f=c==="right"?u.left.x:0,p=c==="left"?u.right.x:0,g=s.top-r+d>l,w=r-s.bottom-h>l,v=s.left-n+f>l,k=n-s.right-p>l;return g||w||v||k})}function _g(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function Tb(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var Bi={isTouch:!1},Mb=0;function zU(){Bi.isTouch||(Bi.isTouch=!0,window.performance&&document.addEventListener("mousemove",kT))}function kT(){var t=performance.now();t-Mb<20&&(Bi.isTouch=!1,document.removeEventListener("mousemove",kT)),Mb=t}function BU(){var t=document.activeElement;if(RU(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function jU(){document.addEventListener("touchstart",zU,ka),window.addEventListener("blur",BU)}var FU=typeof window<"u"&&typeof document<"u",HU=FU?!!window.msCrypto:!1,$U={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},VU={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},ai=Object.assign({appendTo:wT,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},$U,VU),UU=Object.keys(ai),WU=function(e){var n=Object.keys(e);n.forEach(function(r){ai[r]=e[r]})};function xT(t){var e=t.plugins||[],n=e.reduce(function(r,i){var s=i.name,o=i.defaultValue;if(s){var a;r[s]=t[s]!==void 0?t[s]:(a=ai[s])!=null?a:o}return r},{});return Object.assign({},t,n)}function qU(t,e){var n=e?Object.keys(xT(Object.assign({},ai,{plugins:e}))):UU,r=n.reduce(function(i,s){var o=(t.getAttribute("data-tippy-"+s)||"").trim();if(!o)return i;if(s==="content")i[s]=o;else try{i[s]=JSON.parse(o)}catch{i[s]=o}return i},{});return r}function Ab(t,e){var n=Object.assign({},e,{content:bT(e.content,[t])},e.ignoreAttributes?{}:qU(t,e.plugins));return n.aria=Object.assign({},ai.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var KU=function(){return"innerHTML"};function Xv(t,e){t[KU()]=e}function Nb(t){var e=id();return t===!0?e.className=vT:(e.className=yT,i1(t)?e.appendChild(t):Xv(e,t)),e}function Ob(t,e){i1(e.content)?(Xv(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Xv(t,e.content):t.textContent=e.content)}function Qv(t){var e=t.firstElementChild,n=kp(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(gT)}),arrow:n.find(function(r){return r.classList.contains(vT)||r.classList.contains(yT)}),backdrop:n.find(function(r){return r.classList.contains(MU)})}}function ST(t){var e=id(),n=id();n.className=TU,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=id();r.className=gT,r.setAttribute("data-state","hidden"),Ob(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(s,o){var a=Qv(e),l=a.box,c=a.content,u=a.arrow;o.theme?l.setAttribute("data-theme",o.theme):l.removeAttribute("data-theme"),typeof o.animation=="string"?l.setAttribute("data-animation",o.animation):l.removeAttribute("data-animation"),o.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?l.setAttribute("role",o.role):l.removeAttribute("role"),(s.content!==o.content||s.allowHTML!==o.allowHTML)&&Ob(c,t.props),o.arrow?u?s.arrow!==o.arrow&&(l.removeChild(u),l.appendChild(Nb(o.arrow))):l.appendChild(Nb(o.arrow)):u&&l.removeChild(u)}return{popper:e,onUpdate:i}}ST.$$tippy=!0;var GU=1,ch=[],Lg=[];function JU(t,e){var n=Ab(t,Object.assign({},ai,xT(Cb(e)))),r,i,s,o=!1,a=!1,l=!1,c=!1,u,d,h,f=[],p=xb(Si,n.interactiveDebounce),g,w=GU++,v=null,k=NU(n.plugins),E={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},S={id:w,reference:t,popper:id(),popperInstance:v,props:n,state:E,plugins:k,clearDelayTimeouts:Js,setProps:sr,setContent:Un,show:O0,hide:yl,hideWithInteractivity:T1,enable:Yr,disable:fa,unmount:Ti,destroy:I0};if(!n.render)return S;var N=n.render(S),b=N.popper,M=N.onUpdate;b.setAttribute("data-tippy-root",""),b.id="tippy-"+S.id,S.popper=b,t._tippy=S,b._tippy=S;var I=k.map(function(j){return j.fn(S)}),_=t.hasAttribute("aria-expanded");return Ye(),te(),he(),$("onCreate",[S]),n.showOnCreate&&ha(),b.addEventListener("mouseenter",function(){S.props.interactive&&S.state.isVisible&&S.clearDelayTimeouts()}),b.addEventListener("mouseleave",function(){S.props.interactive&&S.props.trigger.indexOf("mouseenter")>=0&&ge().addEventListener("mousemove",p)}),S;function F(){var j=S.props.touch;return Array.isArray(j)?j:[j,0]}function G(){return F()[0]==="hold"}function Q(){var j;return!!((j=S.props.render)!=null&&j.$$tippy)}function oe(){return g||t}function ge(){var j=oe().parentNode;return j?LU(j):document}function Ne(){return Qv(b)}function Me(j){return S.state.isMounted&&!S.state.isVisible||Bi.isTouch||u&&u.type==="focus"?0:Dg(S.props.delay,j?0:1,ai.delay)}function he(j){j===void 0&&(j=!1),b.style.pointerEvents=S.props.interactive&&!j?"":"none",b.style.zIndex=""+S.props.zIndex}function $(j,ae,Se){if(Se===void 0&&(Se=!0),I.forEach(function(_e){_e[j]&&_e[j].apply(_e,ae)}),Se){var We;(We=S.props)[j].apply(We,ae)}}function ee(){var j=S.props.aria;if(j.content){var ae="aria-"+j.content,Se=b.id,We=_l(S.props.triggerTarget||t);We.forEach(function(_e){var tn=_e.getAttribute(ae);if(S.state.isVisible)_e.setAttribute(ae,tn?tn+" "+Se:Se);else{var wn=tn&&tn.replace(Se,"").trim();wn?_e.setAttribute(ae,wn):_e.removeAttribute(ae)}})}}function te(){if(!(_||!S.props.aria.expanded)){var j=_l(S.props.triggerTarget||t);j.forEach(function(ae){S.props.interactive?ae.setAttribute("aria-expanded",S.state.isVisible&&ae===oe()?"true":"false"):ae.removeAttribute("aria-expanded")})}}function ve(){ge().removeEventListener("mousemove",p),ch=ch.filter(function(j){return j!==p})}function de(j){if(!(Bi.isTouch&&(l||j.type==="mousedown"))){var ae=j.composedPath&&j.composedPath()[0]||j.target;if(!(S.props.interactive&&Tb(b,ae))){if(_l(S.props.triggerTarget||t).some(function(Se){return Tb(Se,ae)})){if(Bi.isTouch||S.state.isVisible&&S.props.trigger.indexOf("click")>=0)return}else $("onClickOutside",[S,j]);S.props.hideOnClick===!0&&(S.clearDelayTimeouts(),S.hide(),a=!0,setTimeout(function(){a=!1}),S.state.isMounted||Fe())}}}function rt(){l=!0}function Be(){l=!1}function je(){var j=ge();j.addEventListener("mousedown",de,!0),j.addEventListener("touchend",de,ka),j.addEventListener("touchstart",Be,ka),j.addEventListener("touchmove",rt,ka)}function Fe(){var j=ge();j.removeEventListener("mousedown",de,!0),j.removeEventListener("touchend",de,ka),j.removeEventListener("touchstart",Be,ka),j.removeEventListener("touchmove",rt,ka)}function Ze(j,ae){Bt(j,function(){!S.state.isVisible&&b.parentNode&&b.parentNode.contains(b)&&ae()})}function vt(j,ae){Bt(j,ae)}function Bt(j,ae){var Se=Ne().box;function We(_e){_e.target===Se&&(_g(Se,"remove",We),ae())}if(j===0)return ae();_g(Se,"remove",d),_g(Se,"add",We),d=We}function Yt(j,ae,Se){Se===void 0&&(Se=!1);var We=_l(S.props.triggerTarget||t);We.forEach(function(_e){_e.addEventListener(j,ae,Se),f.push({node:_e,eventType:j,handler:ae,options:Se})})}function Ye(){G()&&(Yt("touchstart",xi,{passive:!0}),Yt("touchend",On,{passive:!0})),AU(S.props.trigger).forEach(function(j){if(j!=="manual")switch(Yt(j,xi),j){case"mouseenter":Yt("mouseleave",On);break;case"focus":Yt(HU?"focusout":"blur",Ci);break;case"focusin":Yt("focusout",Ci);break}})}function Ot(){f.forEach(function(j){var ae=j.node,Se=j.eventType,We=j.handler,_e=j.options;ae.removeEventListener(Se,We,_e)}),f=[]}function xi(j){var ae,Se=!1;if(!(!S.state.isEnabled||Kr(j)||a)){var We=((ae=u)==null?void 0:ae.type)==="focus";u=j,g=j.currentTarget,te(),!S.state.isVisible&&DU(j)&&ch.forEach(function(_e){return _e(j)}),j.type==="click"&&(S.props.trigger.indexOf("mouseenter")<0||o)&&S.props.hideOnClick!==!1&&S.state.isVisible?Se=!0:ha(j),j.type==="click"&&(o=!Se),Se&&!We&&In(j)}}function Si(j){var ae=j.target,Se=oe().contains(ae)||b.contains(ae);if(!(j.type==="mousemove"&&Se)){var We=Ei().concat(b).map(function(_e){var tn,wn=_e._tippy,Mi=(tn=wn.popperInstance)==null?void 0:tn.state;return Mi?{popperRect:_e.getBoundingClientRect(),popperState:Mi,props:n}:null}).filter(Boolean);PU(We,j)&&(ve(),In(j))}}function On(j){var ae=Kr(j)||S.props.trigger.indexOf("click")>=0&&o;if(!ae){if(S.props.interactive){S.hideWithInteractivity(j);return}In(j)}}function Ci(j){S.props.trigger.indexOf("focusin")<0&&j.target!==oe()||S.props.interactive&&j.relatedTarget&&b.contains(j.relatedTarget)||In(j)}function Kr(j){return Bi.isTouch?G()!==j.type.indexOf("touch")>=0:!1}function Cr(){Gr();var j=S.props,ae=j.popperOptions,Se=j.placement,We=j.offset,_e=j.getReferenceClientRect,tn=j.moveTransition,wn=Q()?Qv(b).arrow:null,Mi=_e?{getBoundingClientRect:_e,contextElement:_e.contextElement||oe()}:t,D0={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(pa){var Xr=pa.state;if(Q()){var wl=Ne(),uu=wl.box;["placement","reference-hidden","escaped"].forEach(function(bl){bl==="placement"?uu.setAttribute("data-placement",Xr.placement):Xr.attributes.popper["data-popper-"+bl]?uu.setAttribute("data-"+bl,""):uu.removeAttribute("data-"+bl)}),Xr.attributes.popper={}}}},Ai=[{name:"offset",options:{offset:We}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!tn}},D0];Q()&&wn&&Ai.push({name:"arrow",options:{element:wn,padding:3}}),Ai.push.apply(Ai,(ae==null?void 0:ae.modifiers)||[]),S.popperInstance=EU(Mi,b,Object.assign({},ae,{placement:Se,onFirstUpdate:h,modifiers:Ai}))}function Gr(){S.popperInstance&&(S.popperInstance.destroy(),S.popperInstance=null)}function Jr(){var j=S.props.appendTo,ae,Se=oe();S.props.interactive&&j===wT||j==="parent"?ae=Se.parentNode:ae=bT(j,[Se]),ae.contains(b)||ae.appendChild(b),S.state.isMounted=!0,Cr()}function Ei(){return kp(b.querySelectorAll("[data-tippy-root]"))}function ha(j){S.clearDelayTimeouts(),j&&$("onTrigger",[S,j]),je();var ae=Me(!0),Se=F(),We=Se[0],_e=Se[1];Bi.isTouch&&We==="hold"&&_e&&(ae=_e),ae?r=setTimeout(function(){S.show()},ae):S.show()}function In(j){if(S.clearDelayTimeouts(),$("onUntrigger",[S,j]),!S.state.isVisible){Fe();return}if(!(S.props.trigger.indexOf("mouseenter")>=0&&S.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(j.type)>=0&&o)){var ae=Me(!1);ae?i=setTimeout(function(){S.state.isVisible&&S.hide()},ae):s=requestAnimationFrame(function(){S.hide()})}}function Yr(){S.state.isEnabled=!0}function fa(){S.hide(),S.state.isEnabled=!1}function Js(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(s)}function sr(j){if(!S.state.isDestroyed){$("onBeforeUpdate",[S,j]),Ot();var ae=S.props,Se=Ab(t,Object.assign({},ae,Cb(j),{ignoreAttributes:!0}));S.props=Se,Ye(),ae.interactiveDebounce!==Se.interactiveDebounce&&(ve(),p=xb(Si,Se.interactiveDebounce)),ae.triggerTarget&&!Se.triggerTarget?_l(ae.triggerTarget).forEach(function(We){We.removeAttribute("aria-expanded")}):Se.triggerTarget&&t.removeAttribute("aria-expanded"),te(),he(),M&&M(ae,Se),S.popperInstance&&(Cr(),Ei().forEach(function(We){requestAnimationFrame(We._tippy.popperInstance.forceUpdate)})),$("onAfterUpdate",[S,j])}}function Un(j){S.setProps({content:j})}function O0(){var j=S.state.isVisible,ae=S.state.isDestroyed,Se=!S.state.isEnabled,We=Bi.isTouch&&!S.props.touch,_e=Dg(S.props.duration,0,ai.duration);if(!(j||ae||Se||We)&&!oe().hasAttribute("disabled")&&($("onShow",[S],!1),S.props.onShow(S)!==!1)){if(S.state.isVisible=!0,Q()&&(b.style.visibility="visible"),he(),je(),S.state.isMounted||(b.style.transition="none"),Q()){var tn=Ne(),wn=tn.box,Mi=tn.content;Rg([wn,Mi],0)}h=function(){var Ai;if(!(!S.state.isVisible||c)){if(c=!0,b.offsetHeight,b.style.transition=S.props.moveTransition,Q()&&S.props.animation){var cu=Ne(),pa=cu.box,Xr=cu.content;Rg([pa,Xr],_e),Eb([pa,Xr],"visible")}ee(),te(),Sb(Lg,S),(Ai=S.popperInstance)==null||Ai.forceUpdate(),$("onMount",[S]),S.props.animation&&Q()&&vt(_e,function(){S.state.isShown=!0,$("onShown",[S])})}},Jr()}}function yl(){var j=!S.state.isVisible,ae=S.state.isDestroyed,Se=!S.state.isEnabled,We=Dg(S.props.duration,1,ai.duration);if(!(j||ae||Se)&&($("onHide",[S],!1),S.props.onHide(S)!==!1)){if(S.state.isVisible=!1,S.state.isShown=!1,c=!1,o=!1,Q()&&(b.style.visibility="hidden"),ve(),Fe(),he(!0),Q()){var _e=Ne(),tn=_e.box,wn=_e.content;S.props.animation&&(Rg([tn,wn],We),Eb([tn,wn],"hidden"))}ee(),te(),S.props.animation?Q()&&Ze(We,S.unmount):S.unmount()}}function T1(j){ge().addEventListener("mousemove",p),Sb(ch,p),p(j)}function Ti(){S.state.isVisible&&S.hide(),S.state.isMounted&&(Gr(),Ei().forEach(function(j){j._tippy.unmount()}),b.parentNode&&b.parentNode.removeChild(b),Lg=Lg.filter(function(j){return j!==S}),S.state.isMounted=!1,$("onHidden",[S]))}function I0(){S.state.isDestroyed||(S.clearDelayTimeouts(),S.unmount(),Ot(),delete t._tippy,S.state.isDestroyed=!0,$("onDestroy",[S]))}}function eu(t,e){e===void 0&&(e={});var n=ai.plugins.concat(e.plugins||[]);jU();var r=Object.assign({},e,{plugins:n}),i=_U(t),s=i.reduce(function(o,a){var l=a&&JU(a,r);return l&&o.push(l),o},[]);return i1(t)?s[0]:s}eu.defaultProps=ai;eu.setDefaultProps=WU;eu.currentInput=Bi;Object.assign({},lT,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});eu.setDefaultProps({render:ST});class YU{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:s=250,shouldShow:o}){this.preventHide=!1,this.shouldShow=({view:a,state:l,from:c,to:u})=>{const{doc:d,selection:h}=l,{empty:f}=h,p=!d.textBetween(c,u).length&&k5(l.selection),g=this.element.contains(document.activeElement);return!(!(a.hasFocus()||g)||f||p||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:a})=>{var l;if(this.preventHide){this.preventHide=!1;return}a!=null&&a.relatedTarget&&(!((l=this.element.parentNode)===null||l===void 0)&&l.contains(a.relatedTarget))||this.hide()},this.tippyBlurHandler=a=>{this.blurHandler({event:a})},this.handleDebouncedUpdate=(a,l)=>{const c=!(l!=null&&l.selection.eq(a.state.selection)),u=!(l!=null&&l.doc.eq(a.state.doc));!c&&!u||(this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(a,c,u,l)},this.updateDelay))},this.updateHandler=(a,l,c,u)=>{var d,h,f;const{state:p,composing:g}=a,{selection:w}=p;if(g||!l&&!c)return;this.createTooltip();const{ranges:k}=w,E=Math.min(...k.map(b=>b.$from.pos)),S=Math.max(...k.map(b=>b.$to.pos));if(!((d=this.shouldShow)===null||d===void 0?void 0:d.call(this,{editor:this.editor,view:a,state:p,oldState:u,from:E,to:S}))){this.hide();return}(h=this.tippy)===null||h===void 0||h.setProps({getReferenceClientRect:((f=this.tippyOptions)===null||f===void 0?void 0:f.getReferenceClientRect)||(()=>{if(iT(p.selection)){let b=a.nodeDOM(E);const M=b.dataset.nodeViewWrapper?b:b.querySelector("[data-node-view-wrapper]");if(M&&(b=M.firstChild),b)return b.getBoundingClientRect()}return U$(a,E,S)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=s,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=eu(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.from!==r.selection.to;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}const s=!(n!=null&&n.selection.eq(e.state.selection)),o=!(n!=null&&n.doc.eq(e.state.doc));this.updateHandler(e,s,o,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const CT=t=>new nt({key:typeof t.pluginKey=="string"?new lt(t.pluginKey):t.pluginKey,view:e=>new YU({view:e,...t})});zt.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[CT({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function XU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ET={exports:{}},Pg={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function QU(){if(Ib)return Pg;Ib=1;var t=Tt;function e(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function a(d,h){var f=h(),p=r({inst:{value:f,getSnapshot:h}}),g=p[0].inst,w=p[1];return s(function(){g.value=f,g.getSnapshot=h,l(g)&&w({inst:g})},[d,f,h]),i(function(){return l(g)&&w({inst:g}),d(function(){l(g)&&w({inst:g})})},[d]),o(f),f}function l(d){var h=d.getSnapshot;d=d.value;try{var f=h();return!n(d,f)}catch{return!0}}function c(d,h){return h()}var u=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?c:a;return Pg.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:u,Pg}ET.exports=QU();var R5=ET.exports;const ZU=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},eW=({contentComponent:t})=>{const e=R5.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return Tt.createElement(Tt.Fragment,null,Object.values(e))};function tW(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,r){e={...e,[n]:HS.createPortal(r.reactElement,r.element,n)},t.forEach(i=>i())},removeRenderer(n){const r={...e};delete r[n],e=r,t.forEach(i=>i())}}}class nW extends Tt.Component{constructor(e){var n;super(e),this.editorContentRef=Tt.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!(!((n=e.editor)===null||n===void 0)&&n.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const e=this.props.editor;if(e&&!e.isDestroyed&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=tW(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){const e=this.props.editor;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return Tt.createElement(Tt.Fragment,null,Tt.createElement("div",{ref:ZU(n,this.editorContentRef),...r}),(e==null?void 0:e.contentComponent)&&Tt.createElement(eW,{contentComponent:e.contentComponent}))}}const rW=P.forwardRef((t,e)=>{const n=Tt.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Tt.createElement(nW,{key:n,innerRef:e,...t})}),TT=Tt.memo(rW);var iW=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;for(i of e.entries())if(!t(i[1],n.get(i[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(i of e.entries())if(!n.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(e[i]!==n[i])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n},sW=XU(iW),MT={exports:{}},zg={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function oW(){if(Db)return zg;Db=1;var t=Tt,e=R5;function n(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,a=t.useMemo,l=t.useDebugValue;return zg.useSyncExternalStoreWithSelector=function(c,u,d,h,f){var p=s(null);if(p.current===null){var g={hasValue:!1,value:null};p.current=g}else g=p.current;p=a(function(){function v(b){if(!k){if(k=!0,E=b,b=h(b),f!==void 0&&g.hasValue){var M=g.value;if(f(M,b))return S=M}return S=b}if(M=S,r(E,b))return M;var I=h(b);return f!==void 0&&f(M,I)?M:(E=b,S=I)}var k=!1,E,S,N=d===void 0?null:d;return[function(){return v(u())},N===null?void 0:function(){return v(N())}]},[u,d,h,f]);var w=i(c,p[0],p[1]);return o(function(){g.hasValue=!0,g.value=w},[w]),l(w),w},zg}MT.exports=oW();var aW=MT.exports;class lW{constructor(e){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=e,this.lastSnapshot={editor:e,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(e){return this.subscribers.add(e),()=>{this.subscribers.delete(e)}}watch(e){if(this.editor=e,this.editor){const n=()=>{this.transactionNumber+=1,this.subscribers.forEach(i=>i())},r=this.editor;return r.on("transaction",n),()=>{r.off("transaction",n)}}}}function cW(t){var e;const[n]=P.useState(()=>new lW(t.editor)),r=aW.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!==null&&e!==void 0?e:sW);return P.useEffect(()=>n.watch(t.editor),[t.editor,n]),P.useDebugValue(r),r}const uW=!1,Zv=typeof window>"u",dW=Zv||!!(typeof window<"u"&&window.next);class hW{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){if(this.options.current.immediatelyRender===void 0)return Zv||dW?null:this.createEditor();if(this.options.current.immediatelyRender&&Zv&&uW)throw new Error("Tiptap Error: SSR has been detected, and `immediatelyRender` has been set to `true` this is an unsupported configuration that may result in errors, explicitly set `immediatelyRender` to `false` to avoid hydration mismatches.");return this.options.current.immediatelyRender?this.createEditor():null}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)===null||s===void 0?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)===null||s===void 0?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)===null||s===void 0?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)===null||s===void 0?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)===null||s===void 0?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)===null||s===void 0?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)===null||s===void 0?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)===null||s===void 0?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)===null||s===void 0?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)===null||s===void 0?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)===null||s===void 0?void 0:s.call(i,...r)}};return new bV(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}}function AT(t={},e=[]){const n=P.useRef(t);n.current=t;const[r]=P.useState(()=>new hW(n)),i=R5.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return P.useDebugValue(i),P.useEffect(r.onRender(e)),cW({editor:i,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1?null:t.immediatelyRender&&s===0?0:s+1}),i}const NT=P.createContext({editor:null});NT.Consumer;const fW=()=>P.useContext(NT),pW=t=>{const[e,n]=P.useState(null),{editor:r}=fW();return P.useEffect(()=>{var i;if(!e||!((i=t.editor)===null||i===void 0)&&i.isDestroyed||r!=null&&r.isDestroyed)return;const{pluginKey:s="bubbleMenu",editor:o,tippyOptions:a={},updateDelay:l,shouldShow:c=null}=t,u=o||r;if(!u){console.warn("BubbleMenu component is not rendered inside of an editor component or does not have editor prop.");return}const d=CT({updateDelay:l,editor:u,element:e,pluginKey:s,shouldShow:c,tippyOptions:a});return u.registerPlugin(d),()=>{u.unregisterPlugin(s)}},[t.editor,r,e]),Tt.createElement("div",{ref:n,className:t.className,style:{visibility:"hidden"}},t.children)},mW=P.createContext({onDragStart:void 0}),gW=()=>P.useContext(mW);Tt.forwardRef((t,e)=>{const{onDragStart:n}=gW(),r=t.as||"div";return Tt.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});const vW=/^\s*>\s$/,_5=kt.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Pc({find:vW,type:this.type})]}}),yW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,wW=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,bW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,kW=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,L5=vi.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[sl({find:yW,type:this.type}),sl({find:bW,type:this.type})]},addPasteRules(){return[qo({find:wW,type:this.type}),qo({find:kW,type:this.type})]}}),xW="listItem",Rb="textStyle",_b=/^\s*([-+*])\s$/,P5=kt.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(xW,this.editor.getAttributes(Rb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Pc({find:_b,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Pc({find:_b,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Rb),editor:this.editor})),[t]}}),SW=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))$/,CW=/(?:^|\s)(`(?!\s+`)((?:[^`]+))`(?!\s+`))/g,z5=vi.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[sl({find:SW,type:this.type})]},addPasteRules(){return[qo({find:CW,type:this.type})]}}),EW=/^```([a-z]+)?[\s\n]$/,TW=/^~~~([a-z]+)?[\s\n]$/,B5=kt.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,s=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(o=>o.startsWith(n)).map(o=>o.replace(n,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ge(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,o=r.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:a})=>(a.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:s}=n;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const a=i.after();return a===void 0?!1:r.nodeAt(a)?t.commands.command(({tr:c})=>(c.setSelection(we.near(r.resolve(a))),!0)):t.commands.exitCode()}}},addInputRules(){return[Gv({find:EW,type:this.type,getAttributes:t=>({language:t[1]})}),Gv({find:TW,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new nt({key:new lt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i==null?void 0:i.mode;if(!n||!s)return!1;const{tr:o,schema:a}=t.state,l=a.text(n.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},l)),o.selection.$from.parent.type!==this.type&&o.setSelection(me.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),j5=kt.create({name:"doc",topNode:!0,content:"block+"});function MW(t={}){return new nt({view(e){return new AW(e,t)}})}class AW{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=o=>{this[i](o)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let a=e.nodeBefore,l=e.nodeAfter;if(a||l){let c=this.editorView.nodeDOM(this.cursorPos-(a?a.nodeSize:0));if(c){let u=c.getBoundingClientRect(),d=a?u.bottom:u.top;a&&l&&(d=(d+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:u.left,right:u.right,top:d-this.width/2,bottom:d+this.width/2}}}}if(!r){let a=this.editorView.coordsAtPos(this.cursorPos);r={left:a.left-this.width/2,right:a.left+this.width/2,top:a.top,bottom:a.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let s,o;if(!i||i==document.body&&getComputedStyle(i).position=="static")s=-pageXOffset,o=-pageYOffset;else{let a=i.getBoundingClientRect();s=a.left-i.scrollLeft,o=a.top-i.scrollTop}this.element.style.left=r.left-s+"px",this.element.style.top=r.top-o+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!s){let o=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=eE(this.editorView.state.doc,o,this.editorView.dragging.slice);a!=null&&(o=a)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const F5=zt.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[MW(this.options)]}});class wt extends we{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return wt.valid(r)?new wt(r):we.near(r)}content(){return Y.empty}eq(e){return e instanceof wt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new wt(e.resolve(n.pos))}getBookmark(){return new H5(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!NW(e)||!OW(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&wt.valid(e))return e;let i=e.pos,s=null;for(let o=e.depth;;o--){let a=e.node(o);if(n>0?e.indexAfter(o)<a.childCount:e.index(o)>0){s=a.child(n>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;i+=n;let l=e.doc.resolve(i);if(wt.valid(l))return l}for(;;){let o=n>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!be.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*n),r=!1;continue e}break}s=o,i+=n;let a=e.doc.resolve(i);if(wt.valid(a))return a}return null}}}wt.prototype.visible=!1;wt.findFrom=wt.findGapCursorFrom;we.jsonID("gapcursor",wt);class H5{constructor(e){this.pos=e}map(e){return new H5(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return wt.valid(n)?new wt(n):we.near(n)}}function NW(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function OW(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function IW(){return new nt({props:{decorations:LW,createSelectionBetween(t,e,n){return e.pos==n.pos&&wt.valid(n)?new wt(n):null},handleClick:RW,handleKeyDown:DW,handleDOMEvents:{beforeinput:_W}}})}const DW=g5({ArrowLeft:uh("horiz",-1),ArrowRight:uh("horiz",1),ArrowUp:uh("vert",-1),ArrowDown:uh("vert",1)});function uh(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let o=r.selection,a=e>0?o.$to:o.$from,l=o.empty;if(o instanceof me){if(!s.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let c=wt.findGapCursorFrom(a,e,l);return c?(i&&i(r.tr.setSelection(new wt(c))),!0):!1}}function RW(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!wt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&be.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new wt(r))),!0)}function _W(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof wt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=H.empty;for(let o=r.length-1;o>=0;o--)i=H.from(r[o].createAndFill(null,i));let s=t.state.tr.replace(n.pos,n.pos,new Y(i,0,0));return s.setSelection(me.near(s.doc.resolve(n.pos+1))),t.dispatch(s),!1}function LW(t){if(!(t.selection instanceof wt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",tt.create(t.doc,[Zt.widget(t.selection.head,e,{key:"gapcursor"})])}const PW=zt.create({name:"gapCursor",addProseMirrorPlugins(){return[IW()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=De(ce(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),zW=kt.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ge(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:s}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:a}=r.extensionManager,l=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:c,dispatch:u})=>{if(u&&l&&o){const d=l.filter(h=>a.includes(h.type.name));c.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),$5=kt.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ge(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Gv({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var xp=200,cn=function(){};cn.prototype.append=function(e){return e.length?(e=cn.from(e),!this.length&&e||e.length<xp&&this.leafAppend(e)||this.length<xp&&e.leafPrepend(this)||this.appendInner(e)):this};cn.prototype.prepend=function(e){return e.length?cn.from(e).append(this):this};cn.prototype.appendInner=function(e){return new BW(this,e)};cn.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?cn.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};cn.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};cn.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};cn.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,o){return i.push(e(s,o))},n,r),i};cn.from=function(e){return e instanceof cn?e:e&&e.length?new OT(e):cn.empty};var OT=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,o,a){for(var l=s;l<o;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,o,a){for(var l=s-1;l>=o;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=xp)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=xp)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(cn);cn.empty=new OT([]);var BW=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,o){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(s,a),o)===!1||s>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,s)-a,o+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,o){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(s,a)-a,o+a)===!1||s<a&&this.left.forEachInvertedInner(r,Math.min(i,a),s,o)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(cn);const jW=500;class si{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;n&&(i=this.remapping(r,this.items.length),s=i.maps.length);let o=e.tr,a,l,c=[],u=[];return this.items.forEach((d,h)=>{if(!d.step){i||(i=this.remapping(r,h+1),s=i.maps.length),s--,u.push(d);return}if(i){u.push(new Qs(d.map));let f=d.step.map(i.slice(s)),p;f&&o.maybeStep(f).doc&&(p=o.mapping.maps[o.mapping.maps.length-1],c.push(new Qs(p,void 0,void 0,c.length+u.length))),s--,p&&i.appendMap(p,s)}else o.maybeStep(d.step);if(d.selection)return a=i?d.selection.map(i.slice(s)):d.selection,l=new si(this.items.slice(0,r).append(u.reverse().concat(c)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:o,selection:a}}addTransform(e,n,r,i){let s=[],o=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let u=0;u<e.steps.length;u++){let d=e.steps[u].invert(e.docs[u]),h=new Qs(e.mapping.maps[u],d,n),f;(f=l&&l.merge(h))&&(h=f,u?s.pop():a=a.slice(0,a.length-1)),s.push(h),n&&(o++,n=void 0),i||(l=h)}let c=o-r.depth;return c>HW&&(a=FW(a,c),o-=c),new si(a.append(s),o)}remapping(e,n){let r=new lc;return this.items.forEach((i,s)=>{let o=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,o)},e,n),r}addMaps(e){return this.eventCount==0?this:new si(this.items.append(e.map(n=>new Qs(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),s=e.mapping,o=e.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},i);let l=n;this.items.forEach(h=>{let f=s.getMirror(--l);if(f==null)return;o=Math.min(o,f);let p=s.maps[f];if(h.step){let g=e.steps[f].invert(e.docs[f]),w=h.selection&&h.selection.map(s.slice(l+1,f));w&&a++,r.push(new Qs(p,g,w))}else r.push(new Qs(p))},i);let c=[];for(let h=n;h<o;h++)c.push(new Qs(s.maps[h]));let u=this.items.slice(0,i).append(c).append(r),d=new si(u,a);return d.emptyItemCount()>jW&&(d=d.compress(this.items.length-r.length)),d}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],s=0;return this.items.forEach((o,a)=>{if(a>=e)i.push(o),o.selection&&s++;else if(o.step){let l=o.step.map(n.slice(r)),c=l&&l.getMap();if(r--,c&&n.appendMap(c,r),l){let u=o.selection&&o.selection.map(n.slice(r));u&&s++;let d=new Qs(c.invert(),l,u),h,f=i.length-1;(h=i.length&&i[f].merge(d))?i[f]=h:i.push(d)}}else o.map&&r--},this.items.length,0),new si(cn.from(i.reverse()),s)}}si.empty=new si(cn.empty,0);function FW(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}let Qs=class IT{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new IT(n.getMap().invert(),n,this.selection)}}};class co{constructor(e,n,r,i,s){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const HW=20;function $W(t,e,n,r){let i=n.getMeta(qa),s;if(i)return i.historyState;n.getMeta(WW)&&(t=new co(t.done,t.undone,null,0,-1));let o=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(o&&o.getMeta(qa))return o.getMeta(qa).redo?new co(t.done.addTransform(n,void 0,r,lf(e)),t.undone,Lb(n.mapping.maps),t.prevTime,t.prevComposition):new co(t.done,t.undone.addTransform(n,void 0,r,lf(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=t.prevTime==0||!o&&t.prevComposition!=a&&(t.prevTime<(n.time||0)-r.newGroupDelay||!VW(n,t.prevRanges)),c=o?Bg(t.prevRanges,n.mapping):Lb(n.mapping.maps);return new co(t.done.addTransform(n,l?e.selection.getBookmark():void 0,r,lf(e)),si.empty,c,n.time,a??t.prevComposition)}else return(s=n.getMeta("rebased"))?new co(t.done.rebased(n,s),t.undone.rebased(n,s),Bg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new co(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Bg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function VW(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(n=!0)}),n}function Lb(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((r,i,s,o)=>e.push(s,o));return e}function Bg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),s=e.map(t[r+1],-1);i<=s&&n.push(i,s)}return n}function UW(t,e,n){let r=lf(e),i=qa.get(e).spec.config,s=(n?t.undone:t.done).popEvent(e,r);if(!s)return null;let o=s.selection.resolve(s.transform.doc),a=(n?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),l=new co(n?a:s.remaining,n?s.remaining:a,null,0,-1);return s.transform.setSelection(o).setMeta(qa,{redo:n,historyState:l})}let jg=!1,Pb=null;function lf(t){let e=t.plugins;if(Pb!=e){jg=!1,Pb=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){jg=!0;break}}return jg}const qa=new lt("history"),WW=new lt("closeHistory");function qW(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new nt({key:qa,state:{init(){return new co(si.empty,si.empty,null,0,-1)},apply(e,n,r){return $W(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?RT:r=="historyRedo"?_T:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}function DT(t,e){return(n,r)=>{let i=qa.getState(n);if(!i||(t?i.undone:i.done).eventCount==0)return!1;if(r){let s=UW(i,n,t);s&&r(e?s.scrollIntoView():s)}return!0}}const RT=DT(!1,!0),_T=DT(!0,!0),KW=zt.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>RT(t,e),redo:()=>({state:t,dispatch:e})=>_T(t,e)}},addProseMirrorPlugins(){return[qW(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),V5=kt.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ge(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{const{selection:n}=e,{$from:r,$to:i}=n,s=t();return r.parentOffset===0?s.insertContentAt({from:Math.max(r.pos-1,0),to:i.pos},{type:this.name}):iT(n)?s.insertContentAt(i.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({tr:o,dispatch:a})=>{var l;if(a){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(me.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(be.create(o.doc,c.pos)):o.setSelection(me.create(o.doc,c.pos));else{const d=(l=c.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(o.insert(u,d),o.setSelection(me.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[sT({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),GW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,JW=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,YW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,XW=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,U5=vi.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[sl({find:GW,type:this.type}),sl({find:YW,type:this.type})]},addPasteRules(){return[qo({find:JW,type:this.type}),qo({find:XW,type:this.type})]}}),W5=kt.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ge(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),QW="listItem",zb="textStyle",Bb=/^(\d+)\.\s$/,q5=kt.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:void 0,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Ge(this.options.HTMLAttributes,n),0]:["ol",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(QW,this.editor.getAttributes(zb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Pc({find:Bb,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Pc({find:Bb,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(zb)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),ZW=kt.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),eq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,tq=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,K5=vi.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[sl({find:eq,type:this.type})]},addPasteRules(){return[qo({find:tq,type:this.type})]}}),nq=kt.create({name:"text",group:"inline"}),LT=zt.create({name:"starterKit",addExtensions(){var t,e,n,r,i,s,o,a,l,c,u,d,h,f,p,g,w,v;const k=[];return this.options.bold!==!1&&k.push(L5.configure((t=this.options)===null||t===void 0?void 0:t.bold)),this.options.blockquote!==!1&&k.push(_5.configure((e=this.options)===null||e===void 0?void 0:e.blockquote)),this.options.bulletList!==!1&&k.push(P5.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&k.push(z5.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&k.push(B5.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&k.push(j5.configure((s=this.options)===null||s===void 0?void 0:s.document)),this.options.dropcursor!==!1&&k.push(F5.configure((o=this.options)===null||o===void 0?void 0:o.dropcursor)),this.options.gapcursor!==!1&&k.push(PW.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&k.push(zW.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&k.push($5.configure((c=this.options)===null||c===void 0?void 0:c.heading)),this.options.history!==!1&&k.push(KW.configure((u=this.options)===null||u===void 0?void 0:u.history)),this.options.horizontalRule!==!1&&k.push(V5.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&k.push(U5.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&k.push(W5.configure((f=this.options)===null||f===void 0?void 0:f.listItem)),this.options.orderedList!==!1&&k.push(q5.configure((p=this.options)===null||p===void 0?void 0:p.orderedList)),this.options.paragraph!==!1&&k.push(ZW.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&k.push(K5.configure((w=this.options)===null||w===void 0?void 0:w.strike)),this.options.text!==!1&&k.push(nq.configure((v=this.options)===null||v===void 0?void 0:v.text)),k}});var ey,ty;if(typeof WeakMap<"u"){let t=new WeakMap;ey=e=>t.get(e),ty=(e,n)=>(t.set(e,n),n)}else{const t=[];let n=0;ey=r=>{for(let i=0;i<t.length;i+=2)if(t[i]==r)return t[i+1]},ty=(r,i)=>(n==10&&(n=0),t[n++]=r,t[n++]=i)}var Pt=class{constructor(t,e,n,r){this.width=t,this.height=e,this.map=n,this.problems=r}findCell(t){for(let e=0;e<this.map.length;e++){const n=this.map[e];if(n!=t)continue;const r=e%this.width,i=e/this.width|0;let s=r+1,o=i+1;for(let a=1;s<this.width&&this.map[e+a]==n;a++)s++;for(let a=1;o<this.height&&this.map[e+this.width*a]==n;a++)o++;return{left:r,top:i,right:s,bottom:o}}throw new RangeError(`No cell with offset ${t} found`)}colCount(t){for(let e=0;e<this.map.length;e++)if(this.map[e]==t)return e%this.width;throw new RangeError(`No cell with offset ${t} found`)}nextCell(t,e,n){const{left:r,right:i,top:s,bottom:o}=this.findCell(t);return e=="horiz"?(n<0?r==0:i==this.width)?null:this.map[s*this.width+(n<0?r-1:i)]:(n<0?s==0:o==this.height)?null:this.map[r+this.width*(n<0?s-1:o)]}rectBetween(t,e){const{left:n,right:r,top:i,bottom:s}=this.findCell(t),{left:o,right:a,top:l,bottom:c}=this.findCell(e);return{left:Math.min(n,o),top:Math.min(i,l),right:Math.max(r,a),bottom:Math.max(s,c)}}cellsInRect(t){const e=[],n={};for(let r=t.top;r<t.bottom;r++)for(let i=t.left;i<t.right;i++){const s=r*this.width+i,o=this.map[s];n[o]||(n[o]=!0,!(i==t.left&&i&&this.map[s-1]==o||r==t.top&&r&&this.map[s-this.width]==o)&&e.push(o))}return e}positionAt(t,e,n){for(let r=0,i=0;;r++){const s=i+n.child(r).nodeSize;if(r==t){let o=e+t*this.width;const a=(t+1)*this.width;for(;o<a&&this.map[o]<i;)o++;return o==a?s-1:this.map[o]}i=s}}static get(t){return ey(t)||ty(t,rq(t))}};function rq(t){if(t.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+t.type.name);const e=iq(t),n=t.childCount,r=[];let i=0,s=null;const o=[];for(let c=0,u=e*n;c<u;c++)r[c]=0;for(let c=0,u=0;c<n;c++){const d=t.child(c);u++;for(let p=0;;p++){for(;i<r.length&&r[i]!=0;)i++;if(p==d.childCount)break;const g=d.child(p),{colspan:w,rowspan:v,colwidth:k}=g.attrs;for(let E=0;E<v;E++){if(E+c>=n){(s||(s=[])).push({type:"overlong_rowspan",pos:u,n:v-E});break}const S=i+E*e;for(let N=0;N<w;N++){r[S+N]==0?r[S+N]=u:(s||(s=[])).push({type:"collision",row:c,pos:u,n:w-N});const b=k&&k[N];if(b){const M=(S+N)%e*2,I=o[M];I==null||I!=b&&o[M+1]==1?(o[M]=b,o[M+1]=1):I==b&&o[M+1]++}}}i+=w,u+=g.nodeSize}const h=(c+1)*e;let f=0;for(;i<h;)r[i++]==0&&f++;f&&(s||(s=[])).push({type:"missing",row:c,n:f}),u++}const a=new Pt(e,n,r,s);let l=!1;for(let c=0;!l&&c<o.length;c+=2)o[c]!=null&&o[c+1]<n&&(l=!0);return l&&sq(a,o,t),a}function iq(t){let e=-1,n=!1;for(let r=0;r<t.childCount;r++){const i=t.child(r);let s=0;if(n)for(let o=0;o<r;o++){const a=t.child(o);for(let l=0;l<a.childCount;l++){const c=a.child(l);o+c.attrs.rowspan>r&&(s+=c.attrs.colspan)}}for(let o=0;o<i.childCount;o++){const a=i.child(o);s+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}e==-1?e=s:e!=s&&(e=Math.max(e,s))}return e}function sq(t,e,n){t.problems||(t.problems=[]);const r={};for(let i=0;i<t.map.length;i++){const s=t.map[i];if(r[s])continue;r[s]=!0;const o=n.nodeAt(s);if(!o)throw new RangeError(`No cell with offset ${s} found`);let a=null;const l=o.attrs;for(let c=0;c<l.colspan;c++){const u=(i+c)%t.width,d=e[u*2];d!=null&&(!l.colwidth||l.colwidth[c]!=d)&&((a||(a=oq(l)))[c]=d)}a&&t.problems.unshift({type:"colwidth mismatch",pos:s,colwidth:a})}}function oq(t){if(t.colwidth)return t.colwidth.slice();const e=[];for(let n=0;n<t.colspan;n++)e.push(0);return e}function An(t){let e=t.cached.tableNodeTypes;if(!e){e=t.cached.tableNodeTypes={};for(const n in t.nodes){const r=t.nodes[n],i=r.spec.tableRole;i&&(e[i]=r)}}return e}var wo=new lt("selectingCells");function tu(t){for(let e=t.depth-1;e>0;e--)if(t.node(e).type.spec.tableRole=="row")return t.node(0).resolve(t.before(e+1));return null}function aq(t){for(let e=t.depth;e>0;e--){const n=t.node(e).type.spec.tableRole;if(n==="cell"||n==="header_cell")return t.node(e)}return null}function bi(t){const e=t.selection.$head;for(let n=e.depth;n>0;n--)if(e.node(n).type.spec.tableRole=="row")return!0;return!1}function s1(t){const e=t.selection;if("$anchorCell"in e&&e.$anchorCell)return e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell;if("node"in e&&e.node&&e.node.type.spec.tableRole=="cell")return e.$anchor;const n=tu(e.$head)||lq(e.$head);if(n)return n;throw new RangeError(`No cell found around position ${e.head}`)}function lq(t){for(let e=t.nodeAfter,n=t.pos;e;e=e.firstChild,n++){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n)}for(let e=t.nodeBefore,n=t.pos;e;e=e.lastChild,n--){const r=e.type.spec.tableRole;if(r=="cell"||r=="header_cell")return t.doc.resolve(n-e.nodeSize)}}function ny(t){return t.parent.type.spec.tableRole=="row"&&!!t.nodeAfter}function cq(t){return t.node(0).resolve(t.pos+t.nodeAfter.nodeSize)}function G5(t,e){return t.depth==e.depth&&t.pos>=e.start(-1)&&t.pos<=e.end(-1)}function PT(t,e,n){const r=t.node(-1),i=Pt.get(r),s=t.start(-1),o=i.nextCell(t.pos-s,e,n);return o==null?null:t.node(0).resolve(s+o)}function al(t,e,n=1){const r={...t,colspan:t.colspan-n};return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(e,n),r.colwidth.some(i=>i>0)||(r.colwidth=null)),r}function zT(t,e,n=1){const r={...t,colspan:t.colspan+n};if(r.colwidth){r.colwidth=r.colwidth.slice();for(let i=0;i<n;i++)r.colwidth.splice(e,0,0)}return r}function uq(t,e,n){const r=An(e.type.schema).header_cell;for(let i=0;i<t.height;i++)if(e.nodeAt(t.map[n+i*t.width]).type!=r)return!1;return!0}var dt=class ds extends we{constructor(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.rectBetween(e.pos-s,n.pos-s),a=e.node(0),l=i.cellsInRect(o).filter(u=>u!=n.pos-s);l.unshift(n.pos-s);const c=l.map(u=>{const d=r.nodeAt(u);if(!d)throw RangeError(`No cell with offset ${u} found`);const h=s+u+1;return new o5(a.resolve(h),a.resolve(h+d.content.size))});super(c[0].$from,c[0].$to,c),this.$anchorCell=e,this.$headCell=n}map(e,n){const r=e.resolve(n.map(this.$anchorCell.pos)),i=e.resolve(n.map(this.$headCell.pos));if(ny(r)&&ny(i)&&G5(r,i)){const s=this.$anchorCell.node(-1)!=r.node(-1);return s&&this.isRowSelection()?ds.rowSelection(r,i):s&&this.isColSelection()?ds.colSelection(r,i):new ds(r,i)}return me.between(r,i)}content(){const e=this.$anchorCell.node(-1),n=Pt.get(e),r=this.$anchorCell.start(-1),i=n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r),s={},o=[];for(let l=i.top;l<i.bottom;l++){const c=[];for(let u=l*n.width+i.left,d=i.left;d<i.right;d++,u++){const h=n.map[u];if(s[h])continue;s[h]=!0;const f=n.findCell(h);let p=e.nodeAt(h);if(!p)throw RangeError(`No cell with offset ${h} found`);const g=i.left-f.left,w=f.right-i.right;if(g>0||w>0){let v=p.attrs;if(g>0&&(v=al(v,0,g)),w>0&&(v=al(v,v.colspan-w,w)),f.left<i.left){if(p=p.type.createAndFill(v),!p)throw RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else p=p.type.create(v,p.content)}if(f.top<i.top||f.bottom>i.bottom){const v={...p.attrs,rowspan:Math.min(f.bottom,i.bottom)-Math.max(f.top,i.top)};f.top<i.top?p=p.type.createAndFill(v):p=p.type.create(v,p.content)}c.push(p)}o.push(e.child(l).copy(H.from(c)))}const a=this.isColSelection()&&this.isRowSelection()?e:o;return new Y(H.from(a),1,1)}replace(e,n=Y.empty){const r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){const{$from:a,$to:l}=i[o],c=e.mapping.slice(r);e.replace(c.map(a.pos),c.map(l.pos),o?Y.empty:n)}const s=we.findFrom(e.doc.resolve(e.mapping.slice(r).map(this.to)),-1);s&&e.setSelection(s)}replaceWith(e,n){this.replace(e,new Y(H.from(n),0,0))}forEachCell(e){const n=this.$anchorCell.node(-1),r=Pt.get(n),i=this.$anchorCell.start(-1),s=r.cellsInRect(r.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i));for(let o=0;o<s.length;o++)e(n.nodeAt(s[o]),i+s[o])}isColSelection(){const e=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(e,n)>0)return!1;const r=e+this.$anchorCell.nodeAfter.attrs.rowspan,i=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(r,i)==this.$headCell.node(-1).childCount}static colSelection(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.top<=a.top?(o.top>0&&(e=l.resolve(s+i.map[o.left])),a.bottom<i.height&&(n=l.resolve(s+i.map[i.width*(i.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(s+i.map[a.left])),o.bottom<i.height&&(e=l.resolve(s+i.map[i.width*(i.height-1)+o.right-1]))),new ds(e,n)}isRowSelection(){const e=this.$anchorCell.node(-1),n=Pt.get(e),r=this.$anchorCell.start(-1),i=n.colCount(this.$anchorCell.pos-r),s=n.colCount(this.$headCell.pos-r);if(Math.min(i,s)>0)return!1;const o=i+this.$anchorCell.nodeAfter.attrs.colspan,a=s+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,a)==n.width}eq(e){return e instanceof ds&&e.$anchorCell.pos==this.$anchorCell.pos&&e.$headCell.pos==this.$headCell.pos}static rowSelection(e,n=e){const r=e.node(-1),i=Pt.get(r),s=e.start(-1),o=i.findCell(e.pos-s),a=i.findCell(n.pos-s),l=e.node(0);return o.left<=a.left?(o.left>0&&(e=l.resolve(s+i.map[o.top*i.width])),a.right<i.width&&(n=l.resolve(s+i.map[i.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(s+i.map[a.top*i.width])),o.right<i.width&&(e=l.resolve(s+i.map[i.width*(o.top+1)-1]))),new ds(e,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(e,n){return new ds(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){return new ds(e.resolve(n),e.resolve(r))}getBookmark(){return new dq(this.$anchorCell.pos,this.$headCell.pos)}};dt.prototype.visible=!1;we.jsonID("cell",dt);var dq=class BT{constructor(e,n){this.anchor=e,this.head=n}map(e){return new BT(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&r.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&r.index()<r.parent.childCount&&G5(n,r)?new dt(n,r):we.near(r,1)}};function hq(t){if(!(t.selection instanceof dt))return null;const e=[];return t.selection.forEachCell((n,r)=>{e.push(Zt.node(r,r+n.nodeSize,{class:"selectedCell"}))}),tt.create(t.doc,e)}function fq({$from:t,$to:e}){if(t.pos==e.pos||t.pos<e.pos-6)return!1;let n=t.pos,r=e.pos,i=t.depth;for(;i>=0&&!(t.after(i+1)<t.end(i));i--,n++);for(let s=e.depth;s>=0&&!(e.before(s+1)>e.start(s));s--,r--);return n==r&&/row|table/.test(t.node(i).type.spec.tableRole)}function pq({$from:t,$to:e}){let n,r;for(let i=t.depth;i>0;i--){const s=t.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){n=s;break}}for(let i=e.depth;i>0;i--){const s=e.node(i);if(s.type.spec.tableRole==="cell"||s.type.spec.tableRole==="header_cell"){r=s;break}}return n!==r&&e.parentOffset===0}function mq(t,e,n){const r=(e||t).selection,i=(e||t).doc;let s,o;if(r instanceof be&&(o=r.node.type.spec.tableRole)){if(o=="cell"||o=="header_cell")s=dt.create(i,r.from);else if(o=="row"){const a=i.resolve(r.from+1);s=dt.rowSelection(a,a)}else if(!n){const a=Pt.get(r.node),l=r.from+1,c=l+a.map[a.width*a.height-1];s=dt.create(i,l+1,c)}}else r instanceof me&&fq(r)?s=me.create(i,r.from):r instanceof me&&pq(r)&&(s=me.create(i,r.$from.start(),r.$from.end()));return s&&(e||(e=t.tr)).setSelection(s),e}var gq=new lt("fix-tables");function jT(t,e,n,r){const i=t.childCount,s=e.childCount;e:for(let o=0,a=0;o<s;o++){const l=e.child(o);for(let c=a,u=Math.min(i,o+3);c<u;c++)if(t.child(c)==l){a=c+1,n+=l.nodeSize;continue e}r(l,n),a<i&&t.child(a).sameMarkup(l)?jT(t.child(a),l,n+1,r):l.nodesBetween(0,l.content.size,r,n+1),n+=l.nodeSize}}function FT(t,e){let n;const r=(i,s)=>{i.type.spec.tableRole=="table"&&(n=vq(t,i,s,n))};return e?e.doc!=t.doc&&jT(e.doc,t.doc,0,r):t.doc.descendants(r),n}function vq(t,e,n,r){const i=Pt.get(e);if(!i.problems)return r;r||(r=t.tr);const s=[];for(let l=0;l<i.height;l++)s.push(0);for(let l=0;l<i.problems.length;l++){const c=i.problems[l];if(c.type=="collision"){const u=e.nodeAt(c.pos);if(!u)continue;const d=u.attrs;for(let h=0;h<d.rowspan;h++)s[c.row+h]+=c.n;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,al(d,d.colspan-c.n,c.n))}else if(c.type=="missing")s[c.row]+=c.n;else if(c.type=="overlong_rowspan"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,rowspan:u.attrs.rowspan-c.n})}else if(c.type=="colwidth mismatch"){const u=e.nodeAt(c.pos);if(!u)continue;r.setNodeMarkup(r.mapping.map(n+1+c.pos),null,{...u.attrs,colwidth:c.colwidth})}}let o,a;for(let l=0;l<s.length;l++)s[l]&&(o==null&&(o=l),a=l);for(let l=0,c=n+1;l<i.height;l++){const u=e.child(l),d=c+u.nodeSize,h=s[l];if(h>0){let f="cell";u.firstChild&&(f=u.firstChild.type.spec.tableRole);const p=[];for(let w=0;w<h;w++){const v=An(t.schema)[f].createAndFill();v&&p.push(v)}const g=(l==0||o==l-1)&&a==l?c+1:d-1;r.insert(r.mapping.map(g),p)}c=d}return r.setMeta(gq,{fixTables:!0})}function ns(t){const e=t.selection,n=s1(t),r=n.node(-1),i=n.start(-1),s=Pt.get(r);return{...e instanceof dt?s.rectBetween(e.$anchorCell.pos-i,e.$headCell.pos-i):s.findCell(n.pos-i),tableStart:i,map:s,table:r}}function HT(t,{map:e,tableStart:n,table:r},i){let s=i>0?-1:0;uq(e,r,i+s)&&(s=i==0||i==e.width?null:0);for(let o=0;o<e.height;o++){const a=o*e.width+i;if(i>0&&i<e.width&&e.map[a-1]==e.map[a]){const l=e.map[a],c=r.nodeAt(l);t.setNodeMarkup(t.mapping.map(n+l),null,zT(c.attrs,i-e.colCount(l))),o+=c.attrs.rowspan-1}else{const l=s==null?An(r.type.schema).cell:r.nodeAt(e.map[a+s]).type,c=e.positionAt(o,i,r);t.insert(t.mapping.map(n+c),l.createAndFill())}}return t}function yq(t,e){if(!bi(t))return!1;if(e){const n=ns(t);e(HT(t.tr,n,n.left))}return!0}function wq(t,e){if(!bi(t))return!1;if(e){const n=ns(t);e(HT(t.tr,n,n.right))}return!0}function bq(t,{map:e,table:n,tableStart:r},i){const s=t.mapping.maps.length;for(let o=0;o<e.height;){const a=o*e.width+i,l=e.map[a],c=n.nodeAt(l),u=c.attrs;if(i>0&&e.map[a-1]==l||i<e.width-1&&e.map[a+1]==l)t.setNodeMarkup(t.mapping.slice(s).map(r+l),null,al(u,i-e.colCount(l)));else{const d=t.mapping.slice(s).map(r+l);t.delete(d,d+c.nodeSize)}o+=u.rowspan}}function kq(t,e){if(!bi(t))return!1;if(e){const n=ns(t),r=t.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let i=n.right-1;bq(r,n,i),i!=n.left;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Pt.get(s)}e(r)}return!0}function xq(t,e,n){var r;const i=An(e.type.schema).header_cell;for(let s=0;s<t.width;s++)if(((r=e.nodeAt(t.map[s+n*t.width]))==null?void 0:r.type)!=i)return!1;return!0}function $T(t,{map:e,tableStart:n,table:r},i){var s;let o=n;for(let c=0;c<i;c++)o+=r.child(c).nodeSize;const a=[];let l=i>0?-1:0;xq(e,r,i+l)&&(l=i==0||i==e.height?null:0);for(let c=0,u=e.width*i;c<e.width;c++,u++)if(i>0&&i<e.height&&e.map[u]==e.map[u-e.width]){const d=e.map[u],h=r.nodeAt(d).attrs;t.setNodeMarkup(n+d,null,{...h,rowspan:h.rowspan+1}),c+=h.colspan-1}else{const d=l==null?An(r.type.schema).cell:(s=r.nodeAt(e.map[u+l*e.width]))==null?void 0:s.type,h=d==null?void 0:d.createAndFill();h&&a.push(h)}return t.insert(o,An(r.type.schema).row.create(null,a)),t}function Sq(t,e){if(!bi(t))return!1;if(e){const n=ns(t);e($T(t.tr,n,n.top))}return!0}function Cq(t,e){if(!bi(t))return!1;if(e){const n=ns(t);e($T(t.tr,n,n.bottom))}return!0}function Eq(t,{map:e,table:n,tableStart:r},i){let s=0;for(let c=0;c<i;c++)s+=n.child(c).nodeSize;const o=s+n.child(i).nodeSize,a=t.mapping.maps.length;t.delete(s+r,o+r);const l=new Set;for(let c=0,u=i*e.width;c<e.width;c++,u++){const d=e.map[u];if(!l.has(d)){if(l.add(d),i>0&&d==e.map[u-e.width]){const h=n.nodeAt(d).attrs;t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...h,rowspan:h.rowspan-1}),c+=h.colspan-1}else if(i<e.height&&d==e.map[u+e.width]){const h=n.nodeAt(d),f=h.attrs,p=h.type.create({...f,rowspan:h.attrs.rowspan-1},h.content),g=e.positionAt(i+1,c,n);t.insert(t.mapping.slice(a).map(r+g),p),c+=f.colspan-1}}}}function Tq(t,e){if(!bi(t))return!1;if(e){const n=ns(t),r=t.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let i=n.bottom-1;Eq(r,n,i),i!=n.top;i--){const s=n.tableStart?r.doc.nodeAt(n.tableStart-1):r.doc;if(!s)throw RangeError("No table found");n.table=s,n.map=Pt.get(n.table)}e(r)}return!0}function jb(t){const e=t.content;return e.childCount==1&&e.child(0).isTextblock&&e.child(0).childCount==0}function Mq({width:t,height:e,map:n},r){let i=r.top*t+r.left,s=i,o=(r.bottom-1)*t+r.left,a=i+(r.right-r.left-1);for(let l=r.top;l<r.bottom;l++){if(r.left>0&&n[s]==n[s-1]||r.right<t&&n[a]==n[a+1])return!0;s+=t,a+=t}for(let l=r.left;l<r.right;l++){if(r.top>0&&n[i]==n[i-t]||r.bottom<e&&n[o]==n[o+t])return!0;i++,o++}return!1}function Fb(t,e){const n=t.selection;if(!(n instanceof dt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const r=ns(t),{map:i}=r;if(Mq(i,r))return!1;if(e){const s=t.tr,o={};let a=H.empty,l,c;for(let u=r.top;u<r.bottom;u++)for(let d=r.left;d<r.right;d++){const h=i.map[u*i.width+d],f=r.table.nodeAt(h);if(!(o[h]||!f))if(o[h]=!0,l==null)l=h,c=f;else{jb(f)||(a=a.append(f.content));const p=s.mapping.map(h+r.tableStart);s.delete(p,p+f.nodeSize)}}if(l==null||c==null)return!0;if(s.setNodeMarkup(l+r.tableStart,null,{...zT(c.attrs,c.attrs.colspan,r.right-r.left-c.attrs.colspan),rowspan:r.bottom-r.top}),a.size){const u=l+1+c.content.size,d=jb(c)?l+1:u;s.replaceWith(d+r.tableStart,u+r.tableStart,a)}s.setSelection(new dt(s.doc.resolve(l+r.tableStart))),e(s)}return!0}function Hb(t,e){const n=An(t.schema);return Aq(({node:r})=>n[r.type.spec.tableRole])(t,e)}function Aq(t){return(e,n)=>{var r;const i=e.selection;let s,o;if(i instanceof dt){if(i.$anchorCell.pos!=i.$headCell.pos)return!1;s=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(s=aq(i.$from),!s)return!1;o=(r=tu(i.$from))==null?void 0:r.pos}if(s==null||o==null||s.attrs.colspan==1&&s.attrs.rowspan==1)return!1;if(n){let a=s.attrs;const l=[],c=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const u=ns(e),d=e.tr;for(let f=0;f<u.right-u.left;f++)l.push(c?{...a,colwidth:c&&c[f]?[c[f]]:null}:a);let h;for(let f=u.top;f<u.bottom;f++){let p=u.map.positionAt(f,u.left,u.table);f==u.top&&(p+=s.nodeSize);for(let g=u.left,w=0;g<u.right;g++,w++)g==u.left&&f==u.top||d.insert(h=d.mapping.map(p+u.tableStart,1),t({node:s,row:f,col:g}).createAndFill(l[w]))}d.setNodeMarkup(o,t({node:s,row:u.top,col:u.left}),l[0]),i instanceof dt&&d.setSelection(new dt(d.doc.resolve(i.$anchorCell.pos),h?d.doc.resolve(h):void 0)),n(d)}return!0}}function Nq(t,e){return function(n,r){if(!bi(n))return!1;const i=s1(n);if(i.nodeAfter.attrs[t]===e)return!1;if(r){const s=n.tr;n.selection instanceof dt?n.selection.forEachCell((o,a)=>{o.attrs[t]!==e&&s.setNodeMarkup(a,null,{...o.attrs,[t]:e})}):s.setNodeMarkup(i.pos,null,{...i.nodeAfter.attrs,[t]:e}),r(s)}return!0}}function Oq(t){return function(e,n){if(!bi(e))return!1;if(n){const r=An(e.schema),i=ns(e),s=e.tr,o=i.map.cellsInRect(t=="column"?{left:i.left,top:0,right:i.right,bottom:i.map.height}:t=="row"?{left:0,top:i.top,right:i.map.width,bottom:i.bottom}:i),a=o.map(l=>i.table.nodeAt(l));for(let l=0;l<o.length;l++)a[l].type==r.header_cell&&s.setNodeMarkup(i.tableStart+o[l],r.cell,a[l].attrs);if(s.steps.length==0)for(let l=0;l<o.length;l++)s.setNodeMarkup(i.tableStart+o[l],r.header_cell,a[l].attrs);n(s)}return!0}}function $b(t,e,n){const r=e.map.cellsInRect({left:0,top:0,right:t=="row"?e.map.width:1,bottom:t=="column"?e.map.height:1});for(let i=0;i<r.length;i++){const s=e.table.nodeAt(r[i]);if(s&&s.type!==n.header_cell)return!1}return!0}function Ud(t,e){return e=e||{useDeprecatedLogic:!1},e.useDeprecatedLogic?Oq(t):function(n,r){if(!bi(n))return!1;if(r){const i=An(n.schema),s=ns(n),o=n.tr,a=$b("row",s,i),l=$b("column",s,i),u=(t==="column"?a:t==="row"?l:!1)?1:0,d=t=="column"?{left:0,top:u,right:1,bottom:s.map.height}:t=="row"?{left:u,top:0,right:s.map.width,bottom:1}:s,h=t=="column"?l?i.cell:i.header_cell:t=="row"?a?i.cell:i.header_cell:i.cell;s.map.cellsInRect(d).forEach(f=>{const p=f+s.tableStart,g=o.doc.nodeAt(p);g&&o.setNodeMarkup(p,h,g.attrs)}),r(o)}return!0}}Ud("row",{useDeprecatedLogic:!0});Ud("column",{useDeprecatedLogic:!0});var Iq=Ud("cell",{useDeprecatedLogic:!0});function Dq(t,e){if(e<0){const n=t.nodeBefore;if(n)return t.pos-n.nodeSize;for(let r=t.index(-1)-1,i=t.before();r>=0;r--){const s=t.node(-1).child(r),o=s.lastChild;if(o)return i-1-o.nodeSize;i-=s.nodeSize}}else{if(t.index()<t.parent.childCount-1)return t.pos+t.nodeAfter.nodeSize;const n=t.node(-1);for(let r=t.indexAfter(-1),i=t.after();r<n.childCount;r++){const s=n.child(r);if(s.childCount)return i+1;i+=s.nodeSize}}return null}function Vb(t){return function(e,n){if(!bi(e))return!1;const r=Dq(s1(e),t);if(r==null)return!1;if(n){const i=e.doc.resolve(r);n(e.tr.setSelection(me.between(i,cq(i))).scrollIntoView())}return!0}}function Rq(t,e){const n=t.selection.$anchor;for(let r=n.depth;r>0;r--)if(n.node(r).type.spec.tableRole=="table")return e&&e(t.tr.delete(n.before(r),n.after(r)).scrollIntoView()),!0;return!1}function dh(t,e){const n=t.selection;if(!(n instanceof dt))return!1;if(e){const r=t.tr,i=An(t.schema).cell.createAndFill().content;n.forEachCell((s,o)=>{s.content.eq(i)||r.replace(r.mapping.map(o+1),r.mapping.map(o+s.nodeSize-1),new Y(i,0,0))}),r.docChanged&&e(r)}return!0}function _q(t){if(!t.size)return null;let{content:e,openStart:n,openEnd:r}=t;for(;e.childCount==1&&(n>0&&r>0||e.child(0).type.spec.tableRole=="table");)n--,r--,e=e.child(0).content;const i=e.child(0),s=i.type.spec.tableRole,o=i.type.schema,a=[];if(s=="row")for(let l=0;l<e.childCount;l++){let c=e.child(l).content;const u=l?0:Math.max(0,n-1),d=l<e.childCount-1?0:Math.max(0,r-1);(u||d)&&(c=ry(An(o).row,new Y(c,u,d)).content),a.push(c)}else if(s=="cell"||s=="header_cell")a.push(n||r?ry(An(o).row,new Y(e,n,r)).content:e);else return null;return Lq(o,a)}function Lq(t,e){const n=[];for(let i=0;i<e.length;i++){const s=e[i];for(let o=s.childCount-1;o>=0;o--){const{rowspan:a,colspan:l}=s.child(o).attrs;for(let c=i;c<i+a;c++)n[c]=(n[c]||0)+l}}let r=0;for(let i=0;i<n.length;i++)r=Math.max(r,n[i]);for(let i=0;i<n.length;i++)if(i>=e.length&&e.push(H.empty),n[i]<r){const s=An(t).cell.createAndFill(),o=[];for(let a=n[i];a<r;a++)o.push(s);e[i]=e[i].append(H.from(o))}return{height:e.length,width:r,rows:e}}function ry(t,e){const n=t.createAndFill();return new s5(n).replace(0,n.content.size,e).doc}function Pq({width:t,height:e,rows:n},r,i){if(t!=r){const s=[],o=[];for(let a=0;a<n.length;a++){const l=n[a],c=[];for(let u=s[a]||0,d=0;u<r;d++){let h=l.child(d%l.childCount);u+h.attrs.colspan>r&&(h=h.type.createChecked(al(h.attrs,h.attrs.colspan,u+h.attrs.colspan-r),h.content)),c.push(h),u+=h.attrs.colspan;for(let f=1;f<h.attrs.rowspan;f++)s[a+f]=(s[a+f]||0)+h.attrs.colspan}o.push(H.from(c))}n=o,t=r}if(e!=i){const s=[];for(let o=0,a=0;o<i;o++,a++){const l=[],c=n[a%e];for(let u=0;u<c.childCount;u++){let d=c.child(u);o+d.attrs.rowspan>i&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,i-d.attrs.rowspan)},d.content)),l.push(d)}s.push(H.from(l))}n=s,e=i}return{width:t,height:e,rows:n}}function zq(t,e,n,r,i,s,o){const a=t.doc.type.schema,l=An(a);let c,u;if(i>e.width)for(let d=0,h=0;d<e.height;d++){const f=n.child(d);h+=f.nodeSize;const p=[];let g;f.lastChild==null||f.lastChild.type==l.cell?g=c||(c=l.cell.createAndFill()):g=u||(u=l.header_cell.createAndFill());for(let w=e.width;w<i;w++)p.push(g);t.insert(t.mapping.slice(o).map(h-1+r),p)}if(s>e.height){const d=[];for(let p=0,g=(e.height-1)*e.width;p<Math.max(e.width,i);p++){const w=p>=e.width?!1:n.nodeAt(e.map[g+p]).type==l.header_cell;d.push(w?u||(u=l.header_cell.createAndFill()):c||(c=l.cell.createAndFill()))}const h=l.row.create(null,H.from(d)),f=[];for(let p=e.height;p<s;p++)f.push(h);t.insert(t.mapping.slice(o).map(r+n.nodeSize-2),f)}return!!(c||u)}function Ub(t,e,n,r,i,s,o,a){if(o==0||o==e.height)return!1;let l=!1;for(let c=i;c<s;c++){const u=o*e.width+c,d=e.map[u];if(e.map[u-e.width]==d){l=!0;const h=n.nodeAt(d),{top:f,left:p}=e.findCell(d);t.setNodeMarkup(t.mapping.slice(a).map(d+r),null,{...h.attrs,rowspan:o-f}),t.insert(t.mapping.slice(a).map(e.positionAt(o,p,n)),h.type.createAndFill({...h.attrs,rowspan:f+h.attrs.rowspan-o})),c+=h.attrs.colspan-1}}return l}function Wb(t,e,n,r,i,s,o,a){if(o==0||o==e.width)return!1;let l=!1;for(let c=i;c<s;c++){const u=c*e.width+o,d=e.map[u];if(e.map[u-1]==d){l=!0;const h=n.nodeAt(d),f=e.colCount(d),p=t.mapping.slice(a).map(d+r);t.setNodeMarkup(p,null,al(h.attrs,o-f,h.attrs.colspan-(o-f))),t.insert(p+h.nodeSize,h.type.createAndFill(al(h.attrs,0,o-f))),c+=h.attrs.rowspan-1}}return l}function qb(t,e,n,r,i){let s=n?t.doc.nodeAt(n-1):t.doc;if(!s)throw new Error("No table found");let o=Pt.get(s);const{top:a,left:l}=r,c=l+i.width,u=a+i.height,d=t.tr;let h=0;function f(){if(s=n?d.doc.nodeAt(n-1):d.doc,!s)throw new Error("No table found");o=Pt.get(s),h=d.mapping.maps.length}zq(d,o,s,n,c,u,h)&&f(),Ub(d,o,s,n,l,c,a,h)&&f(),Ub(d,o,s,n,l,c,u,h)&&f(),Wb(d,o,s,n,a,u,l,h)&&f(),Wb(d,o,s,n,a,u,c,h)&&f();for(let p=a;p<u;p++){const g=o.positionAt(p,l,s),w=o.positionAt(p,c,s);d.replace(d.mapping.slice(h).map(g+n),d.mapping.slice(h).map(w+n),new Y(i.rows[p-a],0,0))}f(),d.setSelection(new dt(d.doc.resolve(n+o.positionAt(a,l,s)),d.doc.resolve(n+o.positionAt(u-1,c-1,s)))),e(d)}var Bq=g5({ArrowLeft:hh("horiz",-1),ArrowRight:hh("horiz",1),ArrowUp:hh("vert",-1),ArrowDown:hh("vert",1),"Shift-ArrowLeft":fh("horiz",-1),"Shift-ArrowRight":fh("horiz",1),"Shift-ArrowUp":fh("vert",-1),"Shift-ArrowDown":fh("vert",1),Backspace:dh,"Mod-Backspace":dh,Delete:dh,"Mod-Delete":dh});function cf(t,e,n){return n.eq(t.selection)?!1:(e&&e(t.tr.setSelection(n).scrollIntoView()),!0)}function hh(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;if(s instanceof dt)return cf(n,r,we.near(s.$headCell,e));if(t!="horiz"&&!s.empty)return!1;const o=VT(i,t,e);if(o==null)return!1;if(t=="horiz")return cf(n,r,we.near(n.doc.resolve(s.head+e),e));{const a=n.doc.resolve(o),l=PT(a,t,e);let c;return l?c=we.near(l,1):e<0?c=we.near(n.doc.resolve(a.before(-1)),-1):c=we.near(n.doc.resolve(a.after(-1)),1),cf(n,r,c)}}}function fh(t,e){return(n,r,i)=>{if(!i)return!1;const s=n.selection;let o;if(s instanceof dt)o=s;else{const l=VT(i,t,e);if(l==null)return!1;o=new dt(n.doc.resolve(l))}const a=PT(o.$headCell,t,e);return a?cf(n,r,new dt(o.$anchorCell,a)):!1}}function jq(t,e){const n=t.state.doc,r=tu(n.resolve(e));return r?(t.dispatch(t.state.tr.setSelection(new dt(r))),!0):!1}function Fq(t,e,n){if(!bi(t.state))return!1;let r=_q(n);const i=t.state.selection;if(i instanceof dt){r||(r={width:1,height:1,rows:[H.from(ry(An(t.state.schema).cell,n))]});const s=i.$anchorCell.node(-1),o=i.$anchorCell.start(-1),a=Pt.get(s).rectBetween(i.$anchorCell.pos-o,i.$headCell.pos-o);return r=Pq(r,a.right-a.left,a.bottom-a.top),qb(t.state,t.dispatch,o,a,r),!0}else if(r){const s=s1(t.state),o=s.start(-1);return qb(t.state,t.dispatch,o,Pt.get(s.node(-1)).findCell(s.pos-o),r),!0}else return!1}function Hq(t,e){var n;if(e.ctrlKey||e.metaKey)return;const r=Kb(t,e.target);let i;if(e.shiftKey&&t.state.selection instanceof dt)s(t.state.selection.$anchorCell,e),e.preventDefault();else if(e.shiftKey&&r&&(i=tu(t.state.selection.$anchor))!=null&&((n=Fg(t,e))==null?void 0:n.pos)!=i.pos)s(i,e),e.preventDefault();else if(!r)return;function s(l,c){let u=Fg(t,c);const d=wo.getState(t.state)==null;if(!u||!G5(l,u))if(d)u=l;else return;const h=new dt(l,u);if(d||!t.state.selection.eq(h)){const f=t.state.tr.setSelection(h);d&&f.setMeta(wo,l.pos),t.dispatch(f)}}function o(){t.root.removeEventListener("mouseup",o),t.root.removeEventListener("dragstart",o),t.root.removeEventListener("mousemove",a),wo.getState(t.state)!=null&&t.dispatch(t.state.tr.setMeta(wo,-1))}function a(l){const c=l,u=wo.getState(t.state);let d;if(u!=null)d=t.state.doc.resolve(u);else if(Kb(t,c.target)!=r&&(d=Fg(t,e),!d))return o();d&&s(d,c)}t.root.addEventListener("mouseup",o),t.root.addEventListener("dragstart",o),t.root.addEventListener("mousemove",a)}function VT(t,e,n){if(!(t.state.selection instanceof me))return null;const{$head:r}=t.state.selection;for(let i=r.depth-1;i>=0;i--){const s=r.node(i);if((n<0?r.index(i):r.indexAfter(i))!=(n<0?0:s.childCount))return null;if(s.type.spec.tableRole=="cell"||s.type.spec.tableRole=="header_cell"){const a=r.before(i),l=e=="vert"?n>0?"down":"up":n>0?"right":"left";return t.endOfTextblock(l)?a:null}}return null}function Kb(t,e){for(;e&&e!=t.dom;e=e.parentNode)if(e.nodeName=="TD"||e.nodeName=="TH")return e;return null}function Fg(t,e){const n=t.posAtCoords({left:e.clientX,top:e.clientY});return n&&n?tu(t.state.doc.resolve(n.pos)):null}var $q=class{constructor(e,n){this.node=e,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),iy(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!=this.node.type?!1:(this.node=e,iy(e,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(e){return e.type=="attributes"&&(e.target==this.table||this.colgroup.contains(e.target))}};function iy(t,e,n,r,i,s){var o;let a=0,l=!0,c=e.firstChild;const u=t.firstChild;if(u){for(let d=0,h=0;d<u.childCount;d++){const{colspan:f,colwidth:p}=u.child(d).attrs;for(let g=0;g<f;g++,h++){const w=i==h?s:p&&p[g],v=w?w+"px":"";if(a+=w||r,w||(l=!1),c)c.style.width!=v&&(c.style.width=v),c=c.nextSibling;else{const k=document.createElement("col");k.style.width=v,e.appendChild(k)}}}for(;c;){const d=c.nextSibling;(o=c.parentNode)==null||o.removeChild(c),c=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var hr=new lt("tableColumnResizing");function Vq({handleWidth:t=5,cellMinWidth:e=25,defaultCellMinWidth:n=100,View:r=$q,lastColumnResizable:i=!0}={}){const s=new nt({key:hr,state:{init(o,a){var l,c;const u=(c=(l=s.spec)==null?void 0:l.props)==null?void 0:c.nodeViews,d=An(a.schema).table.name;return r&&u&&(u[d]=(h,f)=>new r(h,n,f)),new Uq(-1,!1)},apply(o,a){return a.apply(o)}},props:{attributes:o=>{const a=hr.getState(o);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(o,a)=>{Wq(o,a,t,i)},mouseleave:o=>{qq(o)},mousedown:(o,a)=>{Kq(o,a,e,n)}},decorations:o=>{const a=hr.getState(o);if(a&&a.activeHandle>-1)return Qq(o,a.activeHandle)},nodeViews:{}}});return s}var Uq=class uf{constructor(e,n){this.activeHandle=e,this.dragging=n}apply(e){const n=this,r=e.getMeta(hr);if(r&&r.setHandle!=null)return new uf(r.setHandle,!1);if(r&&r.setDragging!==void 0)return new uf(n.activeHandle,r.setDragging);if(n.activeHandle>-1&&e.docChanged){let i=e.mapping.map(n.activeHandle,-1);return ny(e.doc.resolve(i))||(i=-1),new uf(i,n.dragging)}return n}};function Wq(t,e,n,r){const i=hr.getState(t.state);if(i&&!i.dragging){const s=Jq(e.target);let o=-1;if(s){const{left:a,right:l}=s.getBoundingClientRect();e.clientX-a<=n?o=Gb(t,e,"left",n):l-e.clientX<=n&&(o=Gb(t,e,"right",n))}if(o!=i.activeHandle){if(!r&&o!==-1){const a=t.state.doc.resolve(o),l=a.node(-1),c=Pt.get(l),u=a.start(-1);if(c.colCount(a.pos-u)+a.nodeAfter.attrs.colspan-1==c.width-1)return}UT(t,o)}}}function qq(t){const e=hr.getState(t.state);e&&e.activeHandle>-1&&!e.dragging&&UT(t,-1)}function Kq(t,e,n,r){var i;const s=(i=t.dom.ownerDocument.defaultView)!=null?i:window,o=hr.getState(t.state);if(!o||o.activeHandle==-1||o.dragging)return!1;const a=t.state.doc.nodeAt(o.activeHandle),l=Gq(t,o.activeHandle,a.attrs);t.dispatch(t.state.tr.setMeta(hr,{setDragging:{startX:e.clientX,startWidth:l}}));function c(d){s.removeEventListener("mouseup",c),s.removeEventListener("mousemove",u);const h=hr.getState(t.state);h!=null&&h.dragging&&(Yq(t,h.activeHandle,Jb(h.dragging,d,n)),t.dispatch(t.state.tr.setMeta(hr,{setDragging:null})))}function u(d){if(!d.which)return c(d);const h=hr.getState(t.state);if(h&&h.dragging){const f=Jb(h.dragging,d,n);Yb(t,h.activeHandle,f,r)}}return Yb(t,o.activeHandle,l,r),s.addEventListener("mouseup",c),s.addEventListener("mousemove",u),e.preventDefault(),!0}function Gq(t,e,{colspan:n,colwidth:r}){const i=r&&r[r.length-1];if(i)return i;const s=t.domAtPos(e);let a=s.node.childNodes[s.offset].offsetWidth,l=n;if(r)for(let c=0;c<n;c++)r[c]&&(a-=r[c],l--);return a/l}function Jq(t){for(;t&&t.nodeName!="TD"&&t.nodeName!="TH";)t=t.classList&&t.classList.contains("ProseMirror")?null:t.parentNode;return t}function Gb(t,e,n,r){const i=n=="right"?-r:r,s=t.posAtCoords({left:e.clientX+i,top:e.clientY});if(!s)return-1;const{pos:o}=s,a=tu(t.state.doc.resolve(o));if(!a)return-1;if(n=="right")return a.pos;const l=Pt.get(a.node(-1)),c=a.start(-1),u=l.map.indexOf(a.pos-c);return u%l.width==0?-1:c+l.map[u-1]}function Jb(t,e,n){const r=e.clientX-t.startX;return Math.max(n,t.startWidth+r)}function UT(t,e){t.dispatch(t.state.tr.setMeta(hr,{setHandle:e}))}function Yq(t,e,n){const r=t.state.doc.resolve(e),i=r.node(-1),s=Pt.get(i),o=r.start(-1),a=s.colCount(r.pos-o)+r.nodeAfter.attrs.colspan-1,l=t.state.tr;for(let c=0;c<s.height;c++){const u=c*s.width+a;if(c&&s.map[u]==s.map[u-s.width])continue;const d=s.map[u],h=i.nodeAt(d).attrs,f=h.colspan==1?0:a-s.colCount(d);if(h.colwidth&&h.colwidth[f]==n)continue;const p=h.colwidth?h.colwidth.slice():Xq(h.colspan);p[f]=n,l.setNodeMarkup(o+d,null,{...h,colwidth:p})}l.docChanged&&t.dispatch(l)}function Yb(t,e,n,r){const i=t.state.doc.resolve(e),s=i.node(-1),o=i.start(-1),a=Pt.get(s).colCount(i.pos-o)+i.nodeAfter.attrs.colspan-1;let l=t.domAtPos(i.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&iy(s,l.firstChild,l,r,a,n)}function Xq(t){return Array(t).fill(0)}function Qq(t,e){var n;const r=[],i=t.doc.resolve(e),s=i.node(-1);if(!s)return tt.empty;const o=Pt.get(s),a=i.start(-1),l=o.colCount(i.pos-a)+i.nodeAfter.attrs.colspan-1;for(let c=0;c<o.height;c++){const u=l+c*o.width;if((l==o.width-1||o.map[u]!=o.map[u+1])&&(c==0||o.map[u]!=o.map[u-o.width])){const d=o.map[u],h=a+d+s.nodeAt(d).nodeSize-1,f=document.createElement("div");f.className="column-resize-handle",(n=hr.getState(t))!=null&&n.dragging&&r.push(Zt.node(a+d,a+d+s.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),r.push(Zt.widget(h,f))}}return tt.create(t.doc,r)}function Zq({allowTableNodeSelection:t=!1}={}){return new nt({key:wo,state:{init(){return null},apply(e,n){const r=e.getMeta(wo);if(r!=null)return r==-1?null:r;if(n==null||!e.docChanged)return n;const{deleted:i,pos:s}=e.mapping.mapResult(n);return i?null:s}},props:{decorations:hq,handleDOMEvents:{mousedown:Hq},createSelectionBetween(e){return wo.getState(e.state)!=null?e.state.selection:null},handleTripleClick:jq,handleKeyDown:Bq,handlePaste:Fq},appendTransaction(e,n,r){return mq(r,FT(r,n),t)}})}function Xb(t,e,n,r,i,s){let o=0,a=!0,l=e.firstChild;const c=t.firstChild;for(let u=0,d=0;u<c.childCount;u+=1){const{colspan:h,colwidth:f}=c.child(u).attrs;for(let p=0;p<h;p+=1,d+=1){const g=i===d?s:f&&f[p],w=g?`${g}px`:"";o+=g||r,g||(a=!1),l?(l.style.width!==w&&(l.style.width=w),l=l.nextSibling):e.appendChild(document.createElement("col")).style.width=w}}for(;l;){const u=l.nextSibling;l.parentNode.removeChild(l),l=u}a?(n.style.width=`${o}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${o}px`)}class eK{constructor(e,n){this.node=e,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),Xb(e,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(e){return e.type!==this.node.type?!1:(this.node=e,Xb(e,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(e){return e.type==="attributes"&&(e.target===this.table||this.colgroup.contains(e.target))}}function tK(t,e,n,r){let i=0,s=!0;const o=[],a=t.firstChild;if(!a)return{};for(let d=0,h=0;d<a.childCount;d+=1){const{colspan:f,colwidth:p}=a.child(d).attrs;for(let g=0;g<f;g+=1,h+=1){const w=n===h?r:p&&p[g],v=w?`${w}px`:"";i+=w||e,w||(s=!1),o.push(["col",v?{style:`width: ${v}`}:{}])}}const l=s?`${i}px`:"",c=s?"":`${i}px`;return{colgroup:["colgroup",{},...o],tableWidth:l,tableMinWidth:c}}function Qb(t,e){return t.createAndFill()}function nK(t){if(t.cached.tableNodeTypes)return t.cached.tableNodeTypes;const e={};return Object.keys(t.nodes).forEach(n=>{const r=t.nodes[n];r.spec.tableRole&&(e[r.spec.tableRole]=r)}),t.cached.tableNodeTypes=e,e}function rK(t,e,n,r,i){const s=nK(t),o=[],a=[];for(let c=0;c<n;c+=1){const u=Qb(s.cell);if(u&&a.push(u),r){const d=Qb(s.header_cell);d&&o.push(d)}}const l=[];for(let c=0;c<e;c+=1)l.push(s.row.createChecked(null,r&&c===0?o:a));return s.table.createChecked(null,l)}function iK(t){return t instanceof dt}const ph=({editor:t})=>{const{selection:e}=t.state;if(!iK(e))return!1;let n=0;const r=tT(e.ranges[0].$from,s=>s.type.name==="table");return r==null||r.node.descendants(s=>{if(s.type.name==="table")return!1;["tableCell","tableHeader"].includes(s.type.name)&&(n+=1)}),n===e.ranges.length?(t.commands.deleteTable(),!0):!1},WT=kt.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:eK,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:t,HTMLAttributes:e}){const{colgroup:n,tableWidth:r,tableMinWidth:i}=tK(t,this.options.cellMinWidth);return["table",Ge(this.options.HTMLAttributes,e,{style:r?`width: ${r}`:`min-width: ${i}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:t=3,cols:e=3,withHeaderRow:n=!0}={})=>({tr:r,dispatch:i,editor:s})=>{const o=rK(s.schema,t,e,n);if(i){const a=r.selection.from+1;r.replaceSelectionWith(o).scrollIntoView().setSelection(me.near(r.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:t,dispatch:e})=>yq(t,e),addColumnAfter:()=>({state:t,dispatch:e})=>wq(t,e),deleteColumn:()=>({state:t,dispatch:e})=>kq(t,e),addRowBefore:()=>({state:t,dispatch:e})=>Sq(t,e),addRowAfter:()=>({state:t,dispatch:e})=>Cq(t,e),deleteRow:()=>({state:t,dispatch:e})=>Tq(t,e),deleteTable:()=>({state:t,dispatch:e})=>Rq(t,e),mergeCells:()=>({state:t,dispatch:e})=>Fb(t,e),splitCell:()=>({state:t,dispatch:e})=>Hb(t,e),toggleHeaderColumn:()=>({state:t,dispatch:e})=>Ud("column")(t,e),toggleHeaderRow:()=>({state:t,dispatch:e})=>Ud("row")(t,e),toggleHeaderCell:()=>({state:t,dispatch:e})=>Iq(t,e),mergeOrSplit:()=>({state:t,dispatch:e})=>Fb(t,e)?!0:Hb(t,e),setCellAttribute:(t,e)=>({state:n,dispatch:r})=>Nq(t,e)(n,r),goToNextCell:()=>({state:t,dispatch:e})=>Vb(1)(t,e),goToPreviousCell:()=>({state:t,dispatch:e})=>Vb(-1)(t,e),fixTables:()=>({state:t,dispatch:e})=>(e&&FT(t),!0),setCellSelection:t=>({tr:e,dispatch:n})=>{if(n){const r=dt.create(e.doc,t.anchorCell,t.headCell);e.setSelection(r)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:ph,"Mod-Backspace":ph,Delete:ph,"Mod-Delete":ph}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[Vq({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],Zq({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(t){const e={name:t.name,options:t.options,storage:t.storage};return{tableRole:De(ce(t,"tableRole",e))}}}),qT=kt.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:t}){return["td",Ge(this.options.HTMLAttributes,t),0]}}),KT=kt.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:t=>{const e=t.getAttribute("colwidth");return e?e.split(",").map(r=>parseInt(r,10)):null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:t}){return["th",Ge(this.options.HTMLAttributes,t),0]}}),GT=kt.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:t}){return["tr",Ge(this.options.HTMLAttributes,t),0]}}),sK=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,oK=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,JT=vi.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[sl({find:sK,type:this.type})]},addPasteRules(){return[qo({find:oK,type:this.type})]}}),aK="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",lK="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Hc=(t,e)=>{for(const n in e)t[n]=e[n];return t},sy="numeric",oy="ascii",ay="alpha",df="asciinumeric",mh="alphanumeric",ly="domain",YT="emoji",cK="scheme",uK="slashscheme",Zb="whitespace";function dK(t,e){return t in e||(e[t]=[]),e[t]}function La(t,e,n){e[sy]&&(e[df]=!0,e[mh]=!0),e[oy]&&(e[df]=!0,e[ay]=!0),e[df]&&(e[mh]=!0),e[ay]&&(e[mh]=!0),e[mh]&&(e[ly]=!0),e[YT]&&(e[ly]=!0);for(const r in e){const i=dK(r,n);i.indexOf(t)<0&&i.push(t)}}function hK(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function Gn(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}Gn.groups={};Gn.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(t))return s}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let i=0;i<t.length;i++)this.tt(t[i],e,n,r)},tr(t,e,n,r){r=r||Gn.groups;let i;return e&&e.j?i=e:(i=new Gn(e),n&&r&&La(e,n,r)),this.jr.push([t,i]),i},ts(t,e,n,r){let i=this;const s=t.length;if(!s)return i;for(let o=0;o<s-1;o++)i=i.tt(t[o]);return i.tt(t[s-1],e,n,r)},tt(t,e,n,r){r=r||Gn.groups;const i=this;if(e&&e.j)return i.j[t]=e,e;const s=e;let o,a=i.go(t);if(a?(o=new Gn,Hc(o.j,a.j),o.jr.push.apply(o.jr,a.jr),o.jd=a.jd,o.t=a.t):o=new Gn,s){if(r)if(o.t&&typeof o.t=="string"){const l=Hc(hK(o.t,r),n);La(s,l,r)}else n&&La(s,n,r);o.t=s}return i.j[t]=o,o}};const Oe=(t,e,n,r,i)=>t.ta(e,n,r,i),Er=(t,e,n,r,i)=>t.tr(e,n,r,i),e8=(t,e,n,r,i)=>t.ts(e,n,r,i),X=(t,e,n,r,i)=>t.tt(e,n,r,i),hs="WORD",cy="UWORD",Wd="LOCALHOST",uy="TLD",dy="UTLD",hf="SCHEME",Ll="SLASH_SCHEME",J5="NUM",XT="WS",Y5="NL",sd="OPENBRACE",od="CLOSEBRACE",Sp="OPENBRACKET",Cp="CLOSEBRACKET",Ep="OPENPAREN",Tp="CLOSEPAREN",Mp="OPENANGLEBRACKET",Ap="CLOSEANGLEBRACKET",Np="FULLWIDTHLEFTPAREN",Op="FULLWIDTHRIGHTPAREN",Ip="LEFTCORNERBRACKET",Dp="RIGHTCORNERBRACKET",Rp="LEFTWHITECORNERBRACKET",_p="RIGHTWHITECORNERBRACKET",Lp="FULLWIDTHLESSTHAN",Pp="FULLWIDTHGREATERTHAN",zp="AMPERSAND",Bp="APOSTROPHE",jp="ASTERISK",uo="AT",Fp="BACKSLASH",Hp="BACKTICK",$p="CARET",bo="COLON",X5="COMMA",Vp="DOLLAR",_i="DOT",Up="EQUALS",Q5="EXCLAMATION",Li="HYPHEN",Wp="PERCENT",qp="PIPE",Kp="PLUS",Gp="POUND",Jp="QUERY",Z5="QUOTE",e3="SEMI",Pi="SLASH",ad="TILDE",Yp="UNDERSCORE",QT="EMOJI",Xp="SYM";var ZT=Object.freeze({__proto__:null,WORD:hs,UWORD:cy,LOCALHOST:Wd,TLD:uy,UTLD:dy,SCHEME:hf,SLASH_SCHEME:Ll,NUM:J5,WS:XT,NL:Y5,OPENBRACE:sd,CLOSEBRACE:od,OPENBRACKET:Sp,CLOSEBRACKET:Cp,OPENPAREN:Ep,CLOSEPAREN:Tp,OPENANGLEBRACKET:Mp,CLOSEANGLEBRACKET:Ap,FULLWIDTHLEFTPAREN:Np,FULLWIDTHRIGHTPAREN:Op,LEFTCORNERBRACKET:Ip,RIGHTCORNERBRACKET:Dp,LEFTWHITECORNERBRACKET:Rp,RIGHTWHITECORNERBRACKET:_p,FULLWIDTHLESSTHAN:Lp,FULLWIDTHGREATERTHAN:Pp,AMPERSAND:zp,APOSTROPHE:Bp,ASTERISK:jp,AT:uo,BACKSLASH:Fp,BACKTICK:Hp,CARET:$p,COLON:bo,COMMA:X5,DOLLAR:Vp,DOT:_i,EQUALS:Up,EXCLAMATION:Q5,HYPHEN:Li,PERCENT:Wp,PIPE:qp,PLUS:Kp,POUND:Gp,QUERY:Jp,QUOTE:Z5,SEMI:e3,SLASH:Pi,TILDE:ad,UNDERSCORE:Yp,EMOJI:QT,SYM:Xp});const Ol=/[a-z]/,Hg=new RegExp("\\p{L}","u"),$g=new RegExp("\\p{Emoji}","u"),Vg=/\d/,t8=/\s/,n8=`
`,fK="",pK="";let gh=null,vh=null;function mK(t){t===void 0&&(t=[]);const e={};Gn.groups=e;const n=new Gn;gh==null&&(gh=r8(aK)),vh==null&&(vh=r8(lK)),X(n,"'",Bp),X(n,"{",sd),X(n,"}",od),X(n,"[",Sp),X(n,"]",Cp),X(n,"(",Ep),X(n,")",Tp),X(n,"<",Mp),X(n,">",Ap),X(n,"",Np),X(n,"",Op),X(n,"",Ip),X(n,"",Dp),X(n,"",Rp),X(n,"",_p),X(n,"",Lp),X(n,"",Pp),X(n,"&",zp),X(n,"*",jp),X(n,"@",uo),X(n,"`",Hp),X(n,"^",$p),X(n,":",bo),X(n,",",X5),X(n,"$",Vp),X(n,".",_i),X(n,"=",Up),X(n,"!",Q5),X(n,"-",Li),X(n,"%",Wp),X(n,"|",qp),X(n,"+",Kp),X(n,"#",Gp),X(n,"?",Jp),X(n,'"',Z5),X(n,"/",Pi),X(n,";",e3),X(n,"~",ad),X(n,"_",Yp),X(n,"\\",Fp);const r=Er(n,Vg,J5,{[sy]:!0});Er(r,Vg,r);const i=Er(n,Ol,hs,{[oy]:!0});Er(i,Ol,i);const s=Er(n,Hg,cy,{[ay]:!0});Er(s,Ol),Er(s,Hg,s);const o=Er(n,t8,XT,{[Zb]:!0});X(n,n8,Y5,{[Zb]:!0}),X(o,n8),Er(o,t8,o);const a=Er(n,$g,QT,{[YT]:!0});Er(a,$g,a),X(a,fK,a);const l=X(a,pK);Er(l,$g,a);const c=[[Ol,i]],u=[[Ol,null],[Hg,s]];for(let d=0;d<gh.length;d++)Zs(n,gh[d],uy,hs,c);for(let d=0;d<vh.length;d++)Zs(n,vh[d],dy,cy,u);La(uy,{tld:!0,ascii:!0},e),La(dy,{utld:!0,alpha:!0},e),Zs(n,"file",hf,hs,c),Zs(n,"mailto",hf,hs,c),Zs(n,"http",Ll,hs,c),Zs(n,"https",Ll,hs,c),Zs(n,"ftp",Ll,hs,c),Zs(n,"ftps",Ll,hs,c),La(hf,{scheme:!0,ascii:!0},e),La(Ll,{slashscheme:!0,ascii:!0},e),t=t.sort((d,h)=>d[0]>h[0]?1:-1);for(let d=0;d<t.length;d++){const h=t[d][0],p=t[d][1]?{[cK]:!0}:{[uK]:!0};h.indexOf("-")>=0?p[ly]=!0:Ol.test(h)?Vg.test(h)?p[df]=!0:p[oy]=!0:p[sy]=!0,e8(n,h,h,p)}return e8(n,"localhost",Wd,{ascii:!0}),n.jd=new Gn(Xp),{start:n,tokens:Hc({groups:e},ZT)}}function gK(t,e){const n=vK(e.replace(/[A-Z]/g,a=>a.toLowerCase())),r=n.length,i=[];let s=0,o=0;for(;o<r;){let a=t,l=null,c=0,u=null,d=-1,h=-1;for(;o<r&&(l=a.go(n[o]));)a=l,a.accepts()?(d=0,h=0,u=a):d>=0&&(d+=n[o].length,h++),c+=n[o].length,s+=n[o].length,o++;s-=d,o-=h,c-=d,i.push({t:u.t,v:e.slice(s-c,s),s:s-c,e:s})}return i}function vK(t){const e=[],n=t.length;let r=0;for(;r<n;){let i=t.charCodeAt(r),s,o=i<55296||i>56319||r+1===n||(s=t.charCodeAt(r+1))<56320||s>57343?t[r]:t.slice(r,r+2);e.push(o),r+=o.length}return e}function Zs(t,e,n,r,i){let s;const o=e.length;for(let a=0;a<o-1;a++){const l=e[a];t.j[l]?s=t.j[l]:(s=new Gn(r),s.jr=i.slice(),t.j[l]=s),t=s}return s=new Gn(n),s.jr=i.slice(),t.j[e[o-1]]=s,s}function r8(t){const e=[],n=[];let r=0,i="0123456789";for(;r<t.length;){let s=0;for(;i.indexOf(t[r+s])>=0;)s++;if(s>0){e.push(n.join(""));for(let o=parseInt(t.substring(r,r+s),10);o>0;o--)n.pop();r+=s}else n.push(t[r]),r++}return e}const qd={defaultProtocol:"http",events:null,format:i8,formatHref:i8,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function t3(t,e){e===void 0&&(e=null);let n=Hc({},qd);t&&(n=Hc(n,t instanceof t3?t.o:t));const r=n.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=i}t3.prototype={o:qd,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let i=this.o[t];return i&&(typeof i=="object"?(i=n.t in i?i[n.t]:qd[t],typeof i=="function"&&r&&(i=i(e,n))):typeof i=="function"&&r&&(i=i(e,n.t,n)),i)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function i8(t){return t}function eM(t,e){this.t="token",this.v=t,this.tk=e}eM.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=qd.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),i=t.get("tagName",n,e),s=this.toFormattedString(t),o={},a=t.get("className",n,e),l=t.get("target",n,e),c=t.get("rel",n,e),u=t.getObj("attributes",n,e),d=t.getObj("events",n,e);return o.href=r,a&&(o.class=a),l&&(o.target=l),c&&(o.rel=c),u&&Hc(o,u),{tagName:i,attributes:o,content:s,eventListeners:d}}};function o1(t,e){class n extends eM{constructor(i,s){super(i,s),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const s8=o1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),o8=o1("text"),yK=o1("nl"),yh=o1("url",{isLink:!0,toHref(t){return t===void 0&&(t=qd.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Wd&&t[1].t===bo}}),Tr=t=>new Gn(t);function wK(t){let{groups:e}=t;const n=e.domain.concat([zp,jp,uo,Fp,Hp,$p,Vp,Up,Li,J5,Wp,qp,Kp,Gp,Pi,Xp,ad,Yp]),r=[Bp,bo,X5,_i,Q5,Jp,Z5,e3,Mp,Ap,sd,od,Cp,Sp,Ep,Tp,Np,Op,Ip,Dp,Rp,_p,Lp,Pp],i=[zp,Bp,jp,Fp,Hp,$p,Vp,Up,Li,sd,od,Wp,qp,Kp,Gp,Jp,Pi,Xp,ad,Yp],s=Tr(),o=X(s,ad);Oe(o,i,o),Oe(o,e.domain,o);const a=Tr(),l=Tr(),c=Tr();Oe(s,e.domain,a),Oe(s,e.scheme,l),Oe(s,e.slashscheme,c),Oe(a,i,o),Oe(a,e.domain,a);const u=X(a,uo);X(o,uo,u),X(l,uo,u),X(c,uo,u);const d=X(o,_i);Oe(d,i,o),Oe(d,e.domain,o);const h=Tr();Oe(u,e.domain,h),Oe(h,e.domain,h);const f=X(h,_i);Oe(f,e.domain,h);const p=Tr(s8);Oe(f,e.tld,p),Oe(f,e.utld,p),X(u,Wd,p);const g=X(h,Li);Oe(g,e.domain,h),Oe(p,e.domain,h),X(p,_i,f),X(p,Li,g);const w=X(p,bo);Oe(w,e.numeric,s8);const v=X(a,Li),k=X(a,_i);Oe(v,e.domain,a),Oe(k,i,o),Oe(k,e.domain,a);const E=Tr(yh);Oe(k,e.tld,E),Oe(k,e.utld,E),Oe(E,e.domain,a),Oe(E,i,o),X(E,_i,k),X(E,Li,v),X(E,uo,u);const S=X(E,bo),N=Tr(yh);Oe(S,e.numeric,N);const b=Tr(yh),M=Tr();Oe(b,n,b),Oe(b,r,M),Oe(M,n,b),Oe(M,r,M),X(E,Pi,b),X(N,Pi,b);const I=X(l,bo),_=X(c,bo),F=X(_,Pi),G=X(F,Pi);Oe(l,e.domain,a),X(l,_i,k),X(l,Li,v),Oe(c,e.domain,a),X(c,_i,k),X(c,Li,v),Oe(I,e.domain,b),X(I,Pi,b),Oe(G,e.domain,b),Oe(G,n,b),X(G,Pi,b);const Q=[[sd,od],[Sp,Cp],[Ep,Tp],[Mp,Ap],[Np,Op],[Ip,Dp],[Rp,_p],[Lp,Pp]];for(let oe=0;oe<Q.length;oe++){const[ge,Ne]=Q[oe],Me=X(b,ge);X(M,ge,Me),X(Me,Ne,b);const he=Tr(yh);Oe(Me,n,he);const $=Tr();Oe(Me,r),Oe(he,n,he),Oe(he,r,$),Oe($,n,he),Oe($,r,$),X(he,Ne,b),X($,Ne,b)}return X(s,Wd,E),X(s,Y5,yK),{start:s,tokens:ZT}}function bK(t,e,n){let r=n.length,i=0,s=[],o=[];for(;i<r;){let a=t,l=null,c=null,u=0,d=null,h=-1;for(;i<r&&!(l=a.go(n[i].t));)o.push(n[i++]);for(;i<r&&(c=l||a.go(n[i].t));)l=null,a=c,a.accepts()?(h=0,d=a):h>=0&&h++,i++,u++;if(h<0)i-=u,i<r&&(o.push(n[i]),i++);else{o.length>0&&(s.push(Ug(o8,e,o)),o=[]),i-=h,u-=h;const f=d.t,p=n.slice(i-u,i);s.push(Ug(f,e,p))}}return o.length>0&&s.push(Ug(o8,e,o)),s}function Ug(t,e,n){const r=n[0].s,i=n[n.length-1].e,s=e.slice(r,i);return new t(s,n)}const kK=typeof console<"u"&&console&&console.warn||(()=>{}),xK="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Ct={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function SK(){Gn.groups={},Ct.scanner=null,Ct.parser=null,Ct.tokenQueue=[],Ct.pluginQueue=[],Ct.customSchemes=[],Ct.initialized=!1}function a8(t,e){if(e===void 0&&(e=!1),Ct.initialized&&kK(`linkifyjs: already initialized - will not register custom scheme "${t}" ${xK}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Ct.customSchemes.push([t,e])}function CK(){Ct.scanner=mK(Ct.customSchemes);for(let t=0;t<Ct.tokenQueue.length;t++)Ct.tokenQueue[t][1]({scanner:Ct.scanner});Ct.parser=wK(Ct.scanner.tokens);for(let t=0;t<Ct.pluginQueue.length;t++)Ct.pluginQueue[t][1]({scanner:Ct.scanner,parser:Ct.parser});Ct.initialized=!0}function tM(t){return Ct.initialized||CK(),bK(Ct.parser.start,t,gK(Ct.scanner.start,t))}function nM(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new t3(n),i=tM(t),s=[];for(let o=0;o<i.length;o++){const a=i[o];a.isLink&&(!e||a.t===e)&&r.check(a)&&s.push(a.toFormattedObject(r))}return s}function EK(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function TK(t){return new nt({key:new lt("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(c=>c.docChanged)&&!n.doc.eq(r.doc),s=e.some(c=>c.getMeta("preventAutolink"));if(!i||s)return;const{tr:o}=r,a=P$(n.doc,[...e]);if(V$(a).forEach(({newRange:c})=>{const u=z$(r.doc,c,f=>f.isTextblock);let d,h;if(u.length>1?(d=u[0],h=r.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):u.length&&r.doc.textBetween(c.from,c.to," "," ").endsWith(" ")&&(d=u[0],h=r.doc.textBetween(d.pos,c.to,void 0," ")),d&&h){const f=h.split(" ").filter(v=>v!=="");if(f.length<=0)return!1;const p=f[f.length-1],g=d.pos+h.lastIndexOf(p);if(!p)return!1;const w=tM(p).map(v=>v.toObject(t.defaultProtocol));if(!EK(w))return!1;w.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>t.validate(v.value)).forEach(v=>{C5(v.from,v.to,r.doc).some(k=>k.mark.type===t.type)||o.addMark(v.from,v.to,t.type.create({href:v.href}))})}}),!!o.steps.length)return o}})}function MK(t){return new nt({key:new lt("handleClickLink"),props:{handleClick:(e,n,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let o=r.target;const a=[];for(;o.nodeName!=="DIV";)a.push(o),o=o.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=nT(e.state,t.type.name),c=r.target,u=(i=c==null?void 0:c.href)!==null&&i!==void 0?i:l.href,d=(s=c==null?void 0:c.target)!==null&&s!==void 0?s:l.target;return c&&u?(window.open(u,d),!0):!1}}})}function AK(t){return new nt({key:new lt("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:s}=i,{empty:o}=s;if(o)return!1;let a="";r.content.forEach(c=>{a+=c.textContent});const l=nM(a,{defaultProtocol:t.defaultProtocol}).find(c=>c.isLink&&c.value===a);return!a||!l?!1:(t.editor.commands.setMark(t.type,{href:l.href}),!0)}}})}const NK=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function l8(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&n.push(i)}),!t||t.replace(NK,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const rM=vi.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){a8(t);return}a8(t.scheme,t.optionalSlashes)})},onDestroy(){SK()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!l8(e,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:t}){return l8(t.href,this.options.protocols)?["a",Ge(this.options.HTMLAttributes,t),0]:["a",Ge(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[qo({find:t=>{const e=[];if(t){const{validate:n}=this.options,r=nM(t).filter(i=>i.isLink&&n(i.value));r.length&&r.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(TK({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&t.push(MK({type:this.type})),this.options.linkOnPaste&&t.push(AK({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),iM=vi.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ge(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),sM=zt.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new nt({key:new lt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!n)return null;const s=this.editor.isEmpty;return t.descendants((o,a)=>{const l=r>=a&&r<=a+o.nodeSize,c=!o.isLeaf&&n1(o);if((l||!this.options.showOnlyCurrent)&&c){const u=[this.options.emptyNodeClass];s&&u.push(this.options.emptyEditorClass);const d=Zt.node(a,a+o.nodeSize,{class:u.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:a,hasAnchor:l}):this.options.placeholder});i.push(d)}return this.options.includeChildren}),tt.create(t,i)}}})]}}),oM=zt.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${t.textAlign}`}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).every(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),OK=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,aM=kt.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Ge(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[sT({find:OK,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),IK=/^\s*(\[([( |x])?\])\s$/,lM=kt.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ge(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return s.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",c=>c.preventDefault()),a.addEventListener("change",c=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:u}=c.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=n();if(typeof h!="number")return!1;const f=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...f==null?void 0:f.attrs,checked:u}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,u)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([c,u])=>{i.setAttribute(c,u)}),i.dataset.checked=t.attrs.checked,t.attrs.checked&&a.setAttribute("checked","checked"),s.append(a,o),i.append(s,l),Object.entries(e).forEach(([c,u])=>{i.setAttribute(c,u)}),{dom:i,contentDOM:l,update:c=>c.type!==this.type?!1:(i.dataset.checked=c.attrs.checked,c.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[Pc({find:IK,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),hy=kt.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ge(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),hi=()=>new Map,fy=t=>{const e=hi();return t.forEach((n,r)=>{e.set(r,n)}),e},ua=(t,e,n)=>{let r=t.get(e);return r===void 0&&t.set(e,r=n()),r},DK=(t,e)=>{const n=[];for(const[r,i]of t)n.push(e(i,r));return n},RK=(t,e)=>{for(const[n,r]of t)if(e(r,n))return!0;return!1},ll=()=>new Set,Wg=t=>t[t.length-1],_K=(t,e)=>{for(let n=0;n<e.length;n++)t.push(e[n])},cl=Array.from,LK=(t,e)=>{for(let n=0;n<t.length;n++)if(e(t[n],n,t))return!0;return!1},py=Array.isArray;class cM{constructor(){this._observers=hi()}on(e,n){return ua(this._observers,e,ll).add(n),n}once(e,n){const r=(...i)=>{this.off(e,r),n(...i)};this.on(e,r)}off(e,n){const r=this._observers.get(e);r!==void 0&&(r.delete(n),r.size===0&&this._observers.delete(e))}emit(e,n){return cl((this._observers.get(e)||hi()).values()).forEach(r=>r(...n))}destroy(){this._observers=hi()}}const js=Math.floor,ff=Math.abs,a1=(t,e)=>t<e?t:e,nu=(t,e)=>t>e?t:e,uM=t=>t!==0?t<0:1/t<0,c8=1,u8=2,qg=4,Kg=8,Kd=32,As=64,mr=128,l1=31,my=63,Ka=127,PK=2147483647,dM=Number.MAX_SAFE_INTEGER,zK=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&js(t)===t),BK=t=>t.toLowerCase(),jK=/^\s*/g,FK=t=>t.replace(jK,""),HK=/([A-Z])/g,d8=(t,e)=>FK(t.replace(HK,n=>`${e}${BK(n)}`)),$K=t=>{const e=unescape(encodeURIComponent(t)),n=e.length,r=new Uint8Array(n);for(let i=0;i<n;i++)r[i]=e.codePointAt(i);return r},Gd=typeof TextEncoder<"u"?new TextEncoder:null,VK=t=>Gd.encode(t),UK=Gd?VK:$K;let ld=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});ld&&ld.decode(new Uint8Array).length===1&&(ld=null);class C0{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const c1=()=>new C0,WK=t=>{let e=t.cpos;for(let n=0;n<t.bufs.length;n++)e+=t.bufs[n].length;return e},Vi=t=>{const e=new Uint8Array(WK(t));let n=0;for(let r=0;r<t.bufs.length;r++){const i=t.bufs[r];e.set(i,n),n+=i.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),n),e},qK=(t,e)=>{const n=t.cbuf.length;n-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(nu(n,e)*2),t.cpos=0)},nn=(t,e)=>{const n=t.cbuf.length;t.cpos===n&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(n*2),t.cpos=0),t.cbuf[t.cpos++]=e},gy=nn,$e=(t,e)=>{for(;e>Ka;)nn(t,mr|Ka&e),e=js(e/128);nn(t,Ka&e)},n3=(t,e)=>{const n=uM(e);for(n&&(e=-e),nn(t,(e>my?mr:0)|(n?As:0)|my&e),e=js(e/64);e>0;)nn(t,(e>Ka?mr:0)|Ka&e),e=js(e/128)},vy=new Uint8Array(3e4),KK=vy.length/3,GK=(t,e)=>{if(e.length<KK){const n=Gd.encodeInto(e,vy).written||0;$e(t,n);for(let r=0;r<n;r++)nn(t,vy[r])}else ar(t,UK(e))},JK=(t,e)=>{const n=unescape(encodeURIComponent(e)),r=n.length;$e(t,r);for(let i=0;i<r;i++)nn(t,n.codePointAt(i))},hc=Gd&&Gd.encodeInto?GK:JK,u1=(t,e)=>{const n=t.cbuf.length,r=t.cpos,i=a1(n-r,e.length),s=e.length-i;t.cbuf.set(e.subarray(0,i),r),t.cpos+=i,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(nu(n*2,s)),t.cbuf.set(e.subarray(i)),t.cpos=s)},ar=(t,e)=>{$e(t,e.byteLength),u1(t,e)},r3=(t,e)=>{qK(t,e);const n=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,n},YK=(t,e)=>r3(t,4).setFloat32(0,e,!1),XK=(t,e)=>r3(t,8).setFloat64(0,e,!1),QK=(t,e)=>r3(t,8).setBigInt64(0,e,!1),h8=new DataView(new ArrayBuffer(4)),ZK=t=>(h8.setFloat32(0,t),h8.getFloat32(0)===t),Jd=(t,e)=>{switch(typeof e){case"string":nn(t,119),hc(t,e);break;case"number":zK(e)&&ff(e)<=PK?(nn(t,125),n3(t,e)):ZK(e)?(nn(t,124),YK(t,e)):(nn(t,123),XK(t,e));break;case"bigint":nn(t,122),QK(t,e);break;case"object":if(e===null)nn(t,126);else if(py(e)){nn(t,117),$e(t,e.length);for(let n=0;n<e.length;n++)Jd(t,e[n])}else if(e instanceof Uint8Array)nn(t,116),ar(t,e);else{nn(t,118);const n=Object.keys(e);$e(t,n.length);for(let r=0;r<n.length;r++){const i=n[r];hc(t,i),Jd(t,e[i])}}break;case"boolean":nn(t,e?120:121);break;default:nn(t,127)}};class f8 extends C0{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&$e(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const p8=t=>{t.count>0&&(n3(t.encoder,t.count===1?t.s:-t.s),t.count>1&&$e(t.encoder,t.count-2))};class pf{constructor(){this.encoder=new C0,this.s=0,this.count=0}write(e){this.s===e?this.count++:(p8(this),this.count=1,this.s=e)}toUint8Array(){return p8(this),Vi(this.encoder)}}const m8=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);n3(t.encoder,e),t.count>1&&$e(t.encoder,t.count-2)}};class Gg{constructor(){this.encoder=new C0,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(m8(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return m8(this),Vi(this.encoder)}}class eG{constructor(){this.sarr=[],this.s="",this.lensE=new pf}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new C0;return this.sarr.push(this.s),this.s="",hc(e,this.sarr.join("")),u1(e,this.lensE.toUint8Array()),Vi(e)}}const Ko=t=>new Error(t),fi=()=>{throw Ko("Method unimplemented")},wr=()=>{throw Ko("Unexpected case")},hM=Ko("Unexpected end of array"),fM=Ko("Integer out of Range");class d1{constructor(e){this.arr=e,this.pos=0}}const i3=t=>new d1(t),tG=t=>t.pos!==t.arr.length,nG=(t,e)=>{const n=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,n},Mr=t=>nG(t,gt(t)),Yd=t=>t.arr[t.pos++],gt=t=>{let e=0,n=1;const r=t.arr.length;for(;t.pos<r;){const i=t.arr[t.pos++];if(e=e+(i&Ka)*n,n*=128,i<mr)return e;if(e>dM)throw fM}throw hM},s3=t=>{let e=t.arr[t.pos++],n=e&my,r=64;const i=(e&As)>0?-1:1;if(!(e&mr))return i*n;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],n=n+(e&Ka)*r,r*=128,e<mr)return i*n;if(n>dM)throw fM}throw hM},rG=t=>{let e=gt(t);if(e===0)return"";{let n=String.fromCodePoint(Yd(t));if(--e<100)for(;e--;)n+=String.fromCodePoint(Yd(t));else for(;e>0;){const r=e<1e4?e:1e4,i=t.arr.subarray(t.pos,t.pos+r);t.pos+=r,n+=String.fromCodePoint.apply(null,i),e-=r}return decodeURIComponent(escape(n))}},iG=t=>ld.decode(Mr(t)),yy=ld?iG:rG,o3=(t,e)=>{const n=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,n},sG=t=>o3(t,4).getFloat32(0,!1),oG=t=>o3(t,8).getFloat64(0,!1),aG=t=>o3(t,8).getBigInt64(0,!1),lG=[t=>{},t=>null,s3,sG,oG,aG,t=>!1,t=>!0,yy,t=>{const e=gt(t),n={};for(let r=0;r<e;r++){const i=yy(t);n[i]=Qp(t)}return n},t=>{const e=gt(t),n=[];for(let r=0;r<e;r++)n.push(Qp(t));return n},Mr],Qp=t=>lG[127-Yd(t)](t);class g8 extends d1{constructor(e,n){super(e),this.reader=n,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),tG(this)?this.count=gt(this)+1:this.count=-1),this.count--,this.s}}class mf extends d1{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=s3(this);const e=uM(this.s);this.count=1,e&&(this.s=-this.s,this.count=gt(this)+2)}return this.count--,this.s}}class Jg extends d1{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=s3(this),n=e&1;this.diff=js(e/2),this.count=1,n&&(this.count=gt(this)+2)}return this.s+=this.diff,this.count--,this.s}}class cG{constructor(e){this.decoder=new mf(e),this.str=yy(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),n=this.str.slice(this.spos,e);return this.spos=e,n}}const uG=crypto.getRandomValues.bind(crypto),dG=Math.random,pM=()=>uG(new Uint32Array(1))[0],hG=t=>t[js(dG()*t.length)],fG="10000000-1000-4000-8000"+-1e11,pG=()=>fG.replace(/[018]/g,t=>(t^pM()&15>>t/4).toString(16)),mG=Date.now,v8=t=>new Promise(t);Promise.all.bind(Promise);const y8=t=>t===void 0?null:t;class gG{constructor(){this.map=new Map}setItem(e,n){this.map.set(e,n)}getItem(e){return this.map.get(e)}}let mM=new gG,vG=!0;try{typeof localStorage<"u"&&localStorage&&(mM=localStorage,vG=!1)}catch{}const yG=mM,wG=Object.assign,gM=Object.keys,bG=(t,e)=>{for(const n in t)e(t[n],n)},w8=t=>gM(t).length,kG=t=>{for(const e in t)return!1;return!0},xG=(t,e)=>{for(const n in t)if(!e(t[n],n))return!1;return!0},SG=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),CG=(t,e)=>t===e||w8(t)===w8(e)&&xG(t,(n,r)=>(n!==void 0||SG(e,r))&&e[r]===n),EG=Object.freeze,vM=t=>{for(const e in t){const n=t[e];(typeof n=="object"||typeof n=="function")&&vM(t[e])}return EG(t)},a3=(t,e,n=0)=>{try{for(;n<t.length;n++)t[n](...e)}finally{n<t.length&&a3(t,e,n+1)}},TG=(t,e)=>e.includes(t);var yM={};const $c=typeof process<"u"&&process.release&&/node|io\.js/.test(process.release.name)&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]",MG=typeof window<"u"&&typeof document<"u"&&!$c;let Di;const AG=()=>{if(Di===void 0)if($c){Di=hi();const t=process.argv;let e=null;for(let n=0;n<t.length;n++){const r=t[n];r[0]==="-"?(e!==null&&Di.set(e,""),e=r):e!==null&&(Di.set(e,r),e=null)}e!==null&&Di.set(e,"")}else typeof location=="object"?(Di=hi(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,n]=t.split("=");Di.set(`--${d8(e,"-")}`,n),Di.set(`-${d8(e,"-")}`,n)}})):Di=hi();return Di},wy=t=>AG().has(t),Zp=t=>y8($c?yM[t.toUpperCase().replaceAll("-","_")]:yG.getItem(t)),wM=t=>wy("--"+t)||Zp(t)!==null;wM("production");const NG=$c&&TG(yM.FORCE_COLOR,["true","1","2"]),OG=NG||!wy("--no-colors")&&!wM("no-color")&&(!$c||process.stdout.isTTY)&&(!$c||wy("--color")||Zp("COLORTERM")!==null||(Zp("TERM")||"").includes("color"));class IG{constructor(e,n){this.left=e,this.right=n}}const cs=(t,e)=>new IG(t,e),DG=typeof document<"u"?document:{};typeof DOMParser<"u"&&new DOMParser;const RG=t=>DK(t,(e,n)=>`${n}:${e};`).join(""),_G=t=>class{constructor(n){this._=n}destroy(){t(this._)}},LG=_G(clearTimeout),bM=(t,e)=>new LG(setTimeout(e,t)),Ks=Symbol,kM=Ks(),xM=Ks(),PG=Ks(),zG=Ks(),BG=Ks(),SM=Ks(),jG=Ks(),l3=Ks(),FG=Ks(),HG=t=>{var i;t.length===1&&((i=t[0])==null?void 0:i.constructor)===Function&&(t=t[0]());const e=[],n=[];let r=0;for(;r<t.length;r++){const s=t[r];if(s===void 0)break;if(s.constructor===String||s.constructor===Number)e.push(s);else if(s.constructor===Object)break}for(r>0&&n.push(e.join(""));r<t.length;r++){const s=t[r];s instanceof Symbol||n.push(s)}return n},$G={[kM]:cs("font-weight","bold"),[xM]:cs("font-weight","normal"),[PG]:cs("color","blue"),[BG]:cs("color","green"),[zG]:cs("color","grey"),[SM]:cs("color","red"),[jG]:cs("color","purple"),[l3]:cs("color","orange"),[FG]:cs("color","black")},VG=t=>{var o;t.length===1&&((o=t[0])==null?void 0:o.constructor)===Function&&(t=t[0]());const e=[],n=[],r=hi();let i=[],s=0;for(;s<t.length;s++){const a=t[s],l=$G[a];if(l!==void 0)r.set(l.left,l.right);else{if(a===void 0)break;if(a.constructor===String||a.constructor===Number){const c=RG(r);s>0||c.length>0?(e.push("%c"+a),n.push(c)):e.push(a)}else break}}for(s>0&&(i=n,i.unshift(e.join("")));s<t.length;s++){const a=t[s];a instanceof Symbol||i.push(a)}return i},CM=OG?VG:HG,UG=(...t)=>{console.log(...CM(t)),TM.forEach(e=>e.print(t))},EM=(...t)=>{console.warn(...CM(t)),t.unshift(l3),TM.forEach(e=>e.print(t))},TM=ll(),MM=t=>({[Symbol.iterator](){return this},next:t}),WG=(t,e)=>MM(()=>{let n;do n=t.next();while(!n.done&&!e(n.value));return n}),Yg=(t,e)=>MM(()=>{const{done:n,value:r}=t.next();return{done:n,value:n?void 0:e(r)}});class c3{constructor(e,n){this.clock=e,this.len=n}}class ru{constructor(){this.clients=new Map}}const Go=(t,e,n)=>e.clients.forEach((r,i)=>{const s=t.doc.store.clients.get(i);for(let o=0;o<r.length;o++){const a=r[o];LM(t,s,a.clock,a.len,n)}}),qG=(t,e)=>{let n=0,r=t.length-1;for(;n<=r;){const i=js((n+r)/2),s=t[i],o=s.clock;if(o<=e){if(e<o+s.len)return i;n=i+1}else r=i-1}return null},iu=(t,e)=>{const n=t.clients.get(e.client);return n!==void 0&&qG(n,e.clock)!==null},u3=t=>{t.clients.forEach(e=>{e.sort((i,s)=>i.clock-s.clock);let n,r;for(n=1,r=1;n<e.length;n++){const i=e[r-1],s=e[n];i.clock+i.len>=s.clock?i.len=nu(i.len,s.clock+s.len-i.clock):(r<n&&(e[r]=s),r++)}e.length=r})},by=t=>{const e=new ru;for(let n=0;n<t.length;n++)t[n].clients.forEach((r,i)=>{if(!e.clients.has(i)){const s=r.slice();for(let o=n+1;o<t.length;o++)_K(s,t[o].clients.get(i)||[]);e.clients.set(i,s)}});return u3(e),e},Xd=(t,e,n,r)=>{ua(t.clients,e,()=>[]).push(new c3(n,r))},AM=()=>new ru,KG=t=>{const e=AM();return t.clients.forEach((n,r)=>{const i=[];for(let s=0;s<n.length;s++){const o=n[s];if(o.deleted){const a=o.id.clock;let l=o.length;if(s+1<n.length)for(let c=n[s+1];s+1<n.length&&c.deleted;c=n[++s+1])l+=c.length;i.push(new c3(a,l))}}i.length>0&&e.clients.set(r,i)}),e},d3=(t,e)=>{$e(t.restEncoder,e.clients.size),cl(e.clients.entries()).sort((n,r)=>r[0]-n[0]).forEach(([n,r])=>{t.resetDsCurVal(),$e(t.restEncoder,n);const i=r.length;$e(t.restEncoder,i);for(let s=0;s<i;s++){const o=r[s];t.writeDsClock(o.clock),t.writeDsLen(o.len)}})},GG=t=>{const e=new ru,n=gt(t.restDecoder);for(let r=0;r<n;r++){t.resetDsCurVal();const i=gt(t.restDecoder),s=gt(t.restDecoder);if(s>0){const o=ua(e.clients,i,()=>[]);for(let a=0;a<s;a++)o.push(new c3(t.readDsClock(),t.readDsLen()))}}return e},b8=(t,e,n)=>{const r=new ru,i=gt(t.restDecoder);for(let s=0;s<i;s++){t.resetDsCurVal();const o=gt(t.restDecoder),a=gt(t.restDecoder),l=n.clients.get(o)||[],c=Ft(n,o);for(let u=0;u<a;u++){const d=t.readDsClock(),h=d+t.readDsLen();if(d<c){c<h&&Xd(r,o,c,h-c);let f=Zi(l,d),p=l[f];for(!p.deleted&&p.id.clock<d&&(l.splice(f+1,0,om(e,p,d-p.id.clock)),f++);f<l.length&&(p=l[f++],p.id.clock<h);)p.deleted||(h<p.id.clock+p.length&&l.splice(f,0,om(e,p,h-p.id.clock)),p.delete(e))}else Xd(r,o,d,h-d)}}if(r.clients.size>0){const s=new h1;return $e(s.restEncoder,0),d3(s,r),s.toUint8Array()}return null},NM=pM;class su extends cM{constructor({guid:e=pG(),collectionid:n=null,gc:r=!0,gcFilter:i=()=>!0,meta:s=null,autoLoad:o=!1,shouldLoad:a=!0}={}){super(),this.gc=r,this.gcFilter=i,this.clientID=NM(),this.guid=e,this.collectionid=n,this.share=new Map,this.store=new RM,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=a,this.autoLoad=o,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=v8(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const l=()=>v8(c=>{const u=d=>{(d===void 0||d===!0)&&(this.off("sync",u),c())};this.on("sync",u)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=l()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=l()}load(){const e=this._item;e!==null&&!this.shouldLoad&&st(e.parent.doc,n=>{n.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(cl(this.subdocs).map(e=>e.guid))}transact(e,n=null){return st(this,e,n)}get(e,n=vn){const r=ua(this.share,e,()=>{const s=new n;return s._integrate(this,null),s}),i=r.constructor;if(n!==vn&&i!==n)if(i===vn){const s=new n;s._map=r._map,r._map.forEach(o=>{for(;o!==null;o=o.left)o.parent=s}),s._start=r._start;for(let o=s._start;o!==null;o=o.right)o.parent=s;return s._length=r._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return r}getArray(e=""){return this.get(e,mc)}getText(e=""){return this.get(e,Jo)}getMap(e=""){return this.get(e,Vc)}getXmlElement(e=""){return this.get(e,_n)}getXmlFragment(e=""){return this.get(e,ul)}toJSON(){const e={};return this.share.forEach((n,r)=>{e[r]=n.toJSON()}),e}destroy(){this.isDestroyed=!0,cl(this.subdocs).forEach(n=>n.destroy());const e=this._item;if(e!==null){this._item=null;const n=e.content;n.doc=new su({guid:this.guid,...n.opts,shouldLoad:!1}),n.doc._item=e,st(e.parent.doc,r=>{const i=n.doc;e.deleted||r.subdocsAdded.add(i),r.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class JG{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=gt(this.restDecoder),this.dsCurrVal}readDsLen(){const e=gt(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class em extends JG{constructor(e){super(e),this.keys=[],gt(e),this.keyClockDecoder=new Jg(Mr(e)),this.clientDecoder=new mf(Mr(e)),this.leftClockDecoder=new Jg(Mr(e)),this.rightClockDecoder=new Jg(Mr(e)),this.infoDecoder=new g8(Mr(e),Yd),this.stringDecoder=new cG(Mr(e)),this.parentInfoDecoder=new g8(Mr(e),Yd),this.typeRefDecoder=new mf(Mr(e)),this.lenDecoder=new mf(Mr(e))}readLeftID(){return new fc(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new fc(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return Qp(this.restDecoder)}readBuf(){return Mr(this.restDecoder)}readJSON(){return Qp(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const n=this.stringDecoder.read();return this.keys.push(n),n}}}class YG{constructor(){this.restEncoder=c1()}toUint8Array(){return Vi(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){$e(this.restEncoder,e)}writeDsLen(e){$e(this.restEncoder,e)}}class XG extends YG{writeLeftID(e){$e(this.restEncoder,e.client),$e(this.restEncoder,e.clock)}writeRightID(e){$e(this.restEncoder,e.client),$e(this.restEncoder,e.clock)}writeClient(e){$e(this.restEncoder,e)}writeInfo(e){gy(this.restEncoder,e)}writeString(e){hc(this.restEncoder,e)}writeParentInfo(e){$e(this.restEncoder,e?1:0)}writeTypeRef(e){$e(this.restEncoder,e)}writeLen(e){$e(this.restEncoder,e)}writeAny(e){Jd(this.restEncoder,e)}writeBuf(e){ar(this.restEncoder,e)}writeJSON(e){hc(this.restEncoder,JSON.stringify(e))}writeKey(e){hc(this.restEncoder,e)}}class QG{constructor(){this.restEncoder=c1(),this.dsCurrVal=0}toUint8Array(){return Vi(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const n=e-this.dsCurrVal;this.dsCurrVal=e,$e(this.restEncoder,n)}writeDsLen(e){e===0&&wr(),$e(this.restEncoder,e-1),this.dsCurrVal+=e}}class h1 extends QG{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Gg,this.clientEncoder=new pf,this.leftClockEncoder=new Gg,this.rightClockEncoder=new Gg,this.infoEncoder=new f8(gy),this.stringEncoder=new eG,this.parentInfoEncoder=new f8(gy),this.typeRefEncoder=new pf,this.lenEncoder=new pf}toUint8Array(){const e=c1();return $e(e,0),ar(e,this.keyClockEncoder.toUint8Array()),ar(e,this.clientEncoder.toUint8Array()),ar(e,this.leftClockEncoder.toUint8Array()),ar(e,this.rightClockEncoder.toUint8Array()),ar(e,Vi(this.infoEncoder)),ar(e,this.stringEncoder.toUint8Array()),ar(e,Vi(this.parentInfoEncoder)),ar(e,this.typeRefEncoder.toUint8Array()),ar(e,this.lenEncoder.toUint8Array()),u1(e,Vi(this.restEncoder)),Vi(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Jd(this.restEncoder,e)}writeBuf(e){ar(this.restEncoder,e)}writeJSON(e){Jd(this.restEncoder,e)}writeKey(e){const n=this.keyMap.get(e);n===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(n)}}const ZG=(t,e,n,r)=>{r=nu(r,e[0].id.clock);const i=Zi(e,r);$e(t.restEncoder,e.length-i),t.writeClient(n),$e(t.restEncoder,r);const s=e[i];s.write(t,r-s.id.clock);for(let o=i+1;o<e.length;o++)e[o].write(t,0)},OM=(t,e,n)=>{const r=new Map;n.forEach((i,s)=>{Ft(e,s)>i&&r.set(s,i)}),f1(e).forEach((i,s)=>{n.has(s)||r.set(s,0)}),$e(t.restEncoder,r.size),cl(r.entries()).sort((i,s)=>s[0]-i[0]).forEach(([i,s])=>{ZG(t,e.clients.get(i),i,s)})},eJ=(t,e)=>{const n=hi(),r=gt(t.restDecoder);for(let i=0;i<r;i++){const s=gt(t.restDecoder),o=new Array(s),a=t.readClient();let l=gt(t.restDecoder);n.set(a,{i:0,refs:o});for(let c=0;c<s;c++){const u=t.readInfo();switch(l1&u){case 0:{const d=t.readLen();o[c]=new Dr(Re(a,l),d),l+=d;break}case 10:{const d=gt(t.restDecoder);o[c]=new oi(Re(a,l),d),l+=d;break}default:{const d=(u&(As|mr))===0,h=new Xe(Re(a,l),null,(u&mr)===mr?t.readLeftID():null,null,(u&As)===As?t.readRightID():null,d?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,d&&(u&Kd)===Kd?t.readString():null,rA(t,u));o[c]=h,l+=h.length}}}}return n},tJ=(t,e,n)=>{const r=[];let i=cl(n.keys()).sort((f,p)=>f-p);if(i.length===0)return null;const s=()=>{if(i.length===0)return null;let f=n.get(i[i.length-1]);for(;f.refs.length===f.i;)if(i.pop(),i.length>0)f=n.get(i[i.length-1]);else return null;return f};let o=s();if(o===null)return null;const a=new RM,l=new Map,c=(f,p)=>{const g=l.get(f);(g==null||g>p)&&l.set(f,p)};let u=o.refs[o.i++];const d=new Map,h=()=>{for(const f of r){const p=f.id.client,g=n.get(p);g?(g.i--,a.clients.set(p,g.refs.slice(g.i)),n.delete(p),g.i=0,g.refs=[]):a.clients.set(p,[f]),i=i.filter(w=>w!==p)}r.length=0};for(;;){if(u.constructor!==oi){const p=ua(d,u.id.client,()=>Ft(e,u.id.client))-u.id.clock;if(p<0)r.push(u),c(u.id.client,u.id.clock-1),h();else{const g=u.getMissing(t,e);if(g!==null){r.push(u);const w=n.get(g)||{refs:[],i:0};if(w.refs.length===w.i)c(g,Ft(e,g)),h();else{u=w.refs[w.i++];continue}}else(p===0||p<u.length)&&(u.integrate(t,p),d.set(u.id.client,u.id.clock+u.length))}}if(r.length>0)u=r.pop();else if(o!==null&&o.i<o.refs.length)u=o.refs[o.i++];else{if(o=s(),o===null)break;u=o.refs[o.i++]}}if(a.clients.size>0){const f=new h1;return OM(f,a,new Map),$e(f.restEncoder,0),{missing:l,update:f.toUint8Array()}}return null},nJ=(t,e)=>OM(t,e.doc.store,e.beforeState),rJ=(t,e,n,r=new em(t))=>st(e,i=>{i.local=!1;let s=!1;const o=i.doc,a=o.store,l=eJ(r,o),c=tJ(i,a,l),u=a.pendingStructs;if(u){for(const[h,f]of u.missing)if(f<Ft(a,h)){s=!0;break}if(c){for(const[h,f]of c.missing){const p=u.missing.get(h);(p==null||p>f)&&u.missing.set(h,f)}u.update=N8([u.update,c.update])}}else a.pendingStructs=c;const d=b8(r,i,a);if(a.pendingDs){const h=new em(i3(a.pendingDs));gt(h.restDecoder);const f=b8(h,i,a);d&&f?a.pendingDs=N8([d,f]):a.pendingDs=d||f}else a.pendingDs=d;if(s){const h=a.pendingStructs.update;a.pendingStructs=null,ky(i.doc,h)}},n,!1),ky=(t,e,n,r=em)=>{const i=i3(e);rJ(i,t,n,new r(i))};class iJ{constructor(){this.l=[]}}const k8=()=>new iJ,x8=(t,e)=>t.l.push(e),S8=(t,e)=>{const n=t.l,r=n.length;t.l=n.filter(i=>e!==i),r===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},IM=(t,e,n)=>a3(t.l,[e,n]);class fc{constructor(e,n){this.client=e,this.clock=n}}const wh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,Re=(t,e)=>new fc(t,e),Qd=t=>{for(const[e,n]of t.doc.share.entries())if(n===t)return e;throw wr()},Zd=(t,e)=>{for(;e!==null;){if(e.parent===t)return!0;e=e.parent._item}return!1};class tm{constructor(e,n,r,i=0){this.type=e,this.tname=n,this.item=r,this.assoc=i}}class sJ{constructor(e,n,r=0){this.type=e,this.index=n,this.assoc=r}}const oJ=(t,e,n=0)=>new sJ(t,e,n),bh=(t,e,n)=>{let r=null,i=null;return t._item===null?i=Qd(t):r=Re(t._item.id.client,t._item.id.clock),new tm(r,i,e,n)},Xg=(t,e,n=0)=>{let r=t._start;if(n<0){if(e===0)return bh(t,null,n);e--}for(;r!==null;){if(!r.deleted&&r.countable){if(r.length>e)return bh(t,Re(r.id.client,r.id.clock+e),n);e-=r.length}if(r.right===null&&n<0)return bh(t,r.lastId,n);r=r.right}return bh(t,null,n)},aJ=(t,e,n=!0)=>{const r=e.store,i=t.item,s=t.type,o=t.tname,a=t.assoc;let l=null,c=0;if(i!==null){if(Ft(r,i.client)<=i.clock)return null;const u=n?Ey(r,i):{item:pc(r,i),diff:0},d=u.item;if(!(d instanceof Xe))return null;if(l=d.parent,l._item===null||!l._item.deleted){c=d.deleted||!d.countable?0:u.diff+(a>=0?0:1);let h=d.left;for(;h!==null;)!h.deleted&&h.countable&&(c+=h.length),h=h.left}}else{if(o!==null)l=e.get(o);else if(s!==null){if(Ft(r,s.client)<=s.clock)return null;const{item:u}=n?Ey(r,s):{item:pc(r,s)};if(u instanceof Xe&&u.content instanceof ki)l=u.content.type;else return null}else throw wr();a>=0?c=l._length:c=0}return oJ(l,c,t.assoc)};class h3{constructor(e,n){this.ds=e,this.sv=n}}const DM=(t,e)=>new h3(t,e),Qg=t=>DM(KG(t.store),f1(t.store)),Ta=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!iu(e.ds,t.id),xy=(t,e)=>{const n=ua(t.meta,xy,ll),r=t.doc.store;n.has(e)||(e.sv.forEach((i,s)=>{i<Ft(r,s)&&Jn(t,Re(s,i))}),Go(t,e.ds,i=>{}),n.add(e))};class RM{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const f1=t=>{const e=new Map;return t.clients.forEach((n,r)=>{const i=n[n.length-1];e.set(r,i.id.clock+i.length)}),e},Ft=(t,e)=>{const n=t.clients.get(e);if(n===void 0)return 0;const r=n[n.length-1];return r.id.clock+r.length},_M=(t,e)=>{let n=t.clients.get(e.id.client);if(n===void 0)n=[],t.clients.set(e.id.client,n);else{const r=n[n.length-1];if(r.id.clock+r.length!==e.id.clock)throw wr()}n.push(e)},Zi=(t,e)=>{let n=0,r=t.length-1,i=t[r],s=i.id.clock;if(s===e)return r;let o=js(e/(s+i.length-1)*r);for(;n<=r;){if(i=t[o],s=i.id.clock,s<=e){if(e<s+i.length)return o;n=o+1}else r=o-1;o=js((n+r)/2)}throw wr()},lJ=(t,e)=>{const n=t.clients.get(e.client);return n[Zi(n,e.clock)]},pc=lJ,Sy=(t,e,n)=>{const r=Zi(e,n),i=e[r];return i.id.clock<n&&i instanceof Xe?(e.splice(r+1,0,om(t,i,n-i.id.clock)),r+1):r},Jn=(t,e)=>{const n=t.doc.store.clients.get(e.client);return n[Sy(t,n,e.clock)]},C8=(t,e,n)=>{const r=e.clients.get(n.client),i=Zi(r,n.clock),s=r[i];return n.clock!==s.id.clock+s.length-1&&s.constructor!==Dr&&r.splice(i+1,0,om(t,s,n.clock-s.id.clock+1)),s},cJ=(t,e,n)=>{const r=t.clients.get(e.id.client);r[Zi(r,e.id.clock)]=n},LM=(t,e,n,r,i)=>{if(r===0)return;const s=n+r;let o=Sy(t,e,n),a;do a=e[o++],s<a.id.clock+a.length&&Sy(t,e,s),i(a);while(o<e.length&&e[o].id.clock<s)};class uJ{constructor(e,n,r){this.doc=e,this.deleteSet=new ru,this.beforeState=f1(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=n,this.meta=new Map,this.local=r,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const E8=(t,e)=>e.deleteSet.clients.size===0&&!RK(e.afterState,(n,r)=>e.beforeState.get(r)!==n)?!1:(u3(e.deleteSet),nJ(t,e),d3(t,e.deleteSet),!0),T8=(t,e,n)=>{const r=e._item;(r===null||r.id.clock<(t.beforeState.get(r.id.client)||0)&&!r.deleted)&&ua(t.changed,e,ll).add(n)},gf=(t,e)=>{let n=t[e],r=t[e-1],i=e;for(;i>0;n=r,r=t[--i-1]){if(r.deleted===n.deleted&&r.constructor===n.constructor&&r.mergeWith(n)){n instanceof Xe&&n.parentSub!==null&&n.parent._map.get(n.parentSub)===n&&n.parent._map.set(n.parentSub,r);continue}break}const s=e-i;return s&&t.splice(e+1-s,s),s},dJ=(t,e,n)=>{for(const[r,i]of t.clients.entries()){const s=e.clients.get(r);for(let o=i.length-1;o>=0;o--){const a=i[o],l=a.clock+a.len;for(let c=Zi(s,a.clock),u=s[c];c<s.length&&u.id.clock<l;u=s[++c]){const d=s[c];if(a.clock+a.len<=d.id.clock)break;d instanceof Xe&&d.deleted&&!d.keep&&n(d)&&d.gc(e,!1)}}}},hJ=(t,e)=>{t.clients.forEach((n,r)=>{const i=e.clients.get(r);for(let s=n.length-1;s>=0;s--){const o=n[s],a=a1(i.length-1,1+Zi(i,o.clock+o.len-1));for(let l=a,c=i[l];l>0&&c.id.clock>=o.clock;c=i[l])l-=1+gf(i,l)}})},PM=(t,e)=>{if(e<t.length){const n=t[e],r=n.doc,i=r.store,s=n.deleteSet,o=n._mergeStructs;try{u3(s),n.afterState=f1(n.doc.store),r.emit("beforeObserverCalls",[n,r]);const a=[];n.changed.forEach((l,c)=>a.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(n,l)})),a.push(()=>{n.changedParentTypes.forEach((l,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(l=l.filter(u=>u.target._item===null||!u.target._item.deleted),l.forEach(u=>{u.currentTarget=c,u._path=null}),l.sort((u,d)=>u.path.length-d.path.length),IM(c._dEH,l,n))})}),a.push(()=>r.emit("afterTransaction",[n,r])),a3(a,[]),n._needFormattingCleanup&&DJ(n)}finally{r.gc&&dJ(s,i,r.gcFilter),hJ(s,i),n.afterState.forEach((u,d)=>{const h=n.beforeState.get(d)||0;if(h!==u){const f=i.clients.get(d),p=nu(Zi(f,h),1);for(let g=f.length-1;g>=p;)g-=1+gf(f,g)}});for(let u=o.length-1;u>=0;u--){const{client:d,clock:h}=o[u].id,f=i.clients.get(d),p=Zi(f,h);p+1<f.length&&gf(f,p+1)>1||p>0&&gf(f,p)}if(!n.local&&n.afterState.get(r.clientID)!==n.beforeState.get(r.clientID)&&(UG(l3,kM,"[yjs] ",xM,SM,"Changed the client-id because another client seems to be using it."),r.clientID=NM()),r.emit("afterTransactionCleanup",[n,r]),r._observers.has("update")){const u=new XG;E8(u,n)&&r.emit("update",[u.toUint8Array(),n.origin,r,n])}if(r._observers.has("updateV2")){const u=new h1;E8(u,n)&&r.emit("updateV2",[u.toUint8Array(),n.origin,r,n])}const{subdocsAdded:a,subdocsLoaded:l,subdocsRemoved:c}=n;(a.size>0||c.size>0||l.size>0)&&(a.forEach(u=>{u.clientID=r.clientID,u.collectionid==null&&(u.collectionid=r.collectionid),r.subdocs.add(u)}),c.forEach(u=>r.subdocs.delete(u)),r.emit("subdocs",[{loaded:l,added:a,removed:c},r,n]),c.forEach(u=>u.destroy())),t.length<=e+1?(r._transactionCleanups=[],r.emit("afterAllTransactions",[r,t])):PM(t,e+1)}}},st=(t,e,n=null,r=!0)=>{const i=t._transactionCleanups;let s=!1,o=null;t._transaction===null&&(s=!0,t._transaction=new uJ(t,n,r),i.push(t._transaction),i.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{o=e(t._transaction)}finally{if(s){const a=t._transaction===i[0];t._transaction=null,a&&PM(i,0)}}return o};class fJ{constructor(e,n){this.insertions=n,this.deletions=e,this.meta=new Map}}const M8=(t,e,n)=>{Go(t,n.deletions,r=>{r instanceof Xe&&e.scope.some(i=>Zd(i,r))&&v3(r,!1)})},A8=(t,e,n)=>{let r=null;const i=t.doc,s=t.scope;st(i,a=>{for(;e.length>0&&t.currStackItem===null;){const l=i.store,c=e.pop(),u=new Set,d=[];let h=!1;Go(a,c.insertions,f=>{if(f instanceof Xe){if(f.redone!==null){let{item:p,diff:g}=Ey(l,f.id);g>0&&(p=Jn(a,Re(p.id.client,p.id.clock+g))),f=p}!f.deleted&&s.some(p=>Zd(p,f))&&d.push(f)}}),Go(a,c.deletions,f=>{f instanceof Xe&&s.some(p=>Zd(p,f))&&!iu(c.insertions,f.id)&&u.add(f)}),u.forEach(f=>{h=nA(a,f,u,c.insertions,t.ignoreRemoteMapChanges,t)!==null||h});for(let f=d.length-1;f>=0;f--){const p=d[f];t.deleteFilter(p)&&(p.delete(a),h=!0)}t.currStackItem=h?c:null}a.changed.forEach((l,c)=>{l.has(null)&&c._searchMarker&&(c._searchMarker.length=0)}),r=a},t);const o=t.currStackItem;if(o!=null){const a=r.changedParentTypes;t.emit("stack-item-popped",[{stackItem:o,type:n,changedParentTypes:a,origin:t},t]),t.currStackItem=null}return o};class zM extends cM{constructor(e,{captureTimeout:n=500,captureTransaction:r=l=>!0,deleteFilter:i=()=>!0,trackedOrigins:s=new Set([null]),ignoreRemoteMapChanges:o=!1,doc:a=py(e)?e[0].doc:e.doc}={}){super(),this.scope=[],this.doc=a,this.addToScope(e),this.deleteFilter=i,s.add(this),this.trackedOrigins=s,this.captureTransaction=r,this.undoStack=[],this.redoStack=[],this.undoing=!1,this.redoing=!1,this.currStackItem=null,this.lastChange=0,this.ignoreRemoteMapChanges=o,this.captureTimeout=n,this.afterTransactionHandler=l=>{if(!this.captureTransaction(l)||!this.scope.some(w=>l.changedParentTypes.has(w))||!this.trackedOrigins.has(l.origin)&&(!l.origin||!this.trackedOrigins.has(l.origin.constructor)))return;const c=this.undoing,u=this.redoing,d=c?this.redoStack:this.undoStack;c?this.stopCapturing():u||this.clear(!1,!0);const h=new ru;l.afterState.forEach((w,v)=>{const k=l.beforeState.get(v)||0,E=w-k;E>0&&Xd(h,v,k,E)});const f=mG();let p=!1;if(this.lastChange>0&&f-this.lastChange<this.captureTimeout&&d.length>0&&!c&&!u){const w=d[d.length-1];w.deletions=by([w.deletions,l.deleteSet]),w.insertions=by([w.insertions,h])}else d.push(new fJ(l.deleteSet,h)),p=!0;!c&&!u&&(this.lastChange=f),Go(l,l.deleteSet,w=>{w instanceof Xe&&this.scope.some(v=>Zd(v,w))&&v3(w,!0)});const g=[{stackItem:d[d.length-1],origin:l.origin,type:c?"redo":"undo",changedParentTypes:l.changedParentTypes},this];p?this.emit("stack-item-added",g):this.emit("stack-item-updated",g)},this.doc.on("afterTransaction",this.afterTransactionHandler),this.doc.on("destroy",()=>{this.destroy()})}addToScope(e){e=py(e)?e:[e],e.forEach(n=>{this.scope.every(r=>r!==n)&&(n.doc!==this.doc&&EM("[yjs#509] Not same Y.Doc"),this.scope.push(n))})}addTrackedOrigin(e){this.trackedOrigins.add(e)}removeTrackedOrigin(e){this.trackedOrigins.delete(e)}clear(e=!0,n=!0){(e&&this.canUndo()||n&&this.canRedo())&&this.doc.transact(r=>{e&&(this.undoStack.forEach(i=>M8(r,this,i)),this.undoStack=[]),n&&(this.redoStack.forEach(i=>M8(r,this,i)),this.redoStack=[]),this.emit("stack-cleared",[{undoStackCleared:e,redoStackCleared:n}])})}stopCapturing(){this.lastChange=0}undo(){this.undoing=!0;let e;try{e=A8(this,this.undoStack,"undo")}finally{this.undoing=!1}return e}redo(){this.redoing=!0;let e;try{e=A8(this,this.redoStack,"redo")}finally{this.redoing=!1}return e}canUndo(){return this.undoStack.length>0}canRedo(){return this.redoStack.length>0}destroy(){this.trackedOrigins.delete(this),this.doc.off("afterTransaction",this.afterTransactionHandler),super.destroy()}}function*pJ(t){const e=gt(t.restDecoder);for(let n=0;n<e;n++){const r=gt(t.restDecoder),i=t.readClient();let s=gt(t.restDecoder);for(let o=0;o<r;o++){const a=t.readInfo();if(a===10){const l=gt(t.restDecoder);yield new oi(Re(i,s),l),s+=l}else if(l1&a){const l=(a&(As|mr))===0,c=new Xe(Re(i,s),null,(a&mr)===mr?t.readLeftID():null,null,(a&As)===As?t.readRightID():null,l?t.readParentInfo()?t.readString():t.readLeftID():null,l&&(a&Kd)===Kd?t.readString():null,rA(t,a));yield c,s+=c.length}else{const l=t.readLen();yield new Dr(Re(i,s),l),s+=l}}}}class mJ{constructor(e,n){this.gen=pJ(e),this.curr=null,this.done=!1,this.filterSkips=n,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===oi);return this.curr}}class gJ{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const vJ=(t,e)=>{if(t.constructor===Dr){const{client:n,clock:r}=t.id;return new Dr(Re(n,r+e),t.length-e)}else if(t.constructor===oi){const{client:n,clock:r}=t.id;return new oi(Re(n,r+e),t.length-e)}else{const n=t,{client:r,clock:i}=n.id;return new Xe(Re(r,i+e),null,Re(r,i+e-1),null,n.rightOrigin,n.parent,n.parentSub,n.content.splice(e))}},N8=(t,e=em,n=h1)=>{if(t.length===1)return t[0];const r=t.map(u=>new e(i3(u)));let i=r.map(u=>new mJ(u,!0)),s=null;const o=new n,a=new gJ(o);for(;i=i.filter(h=>h.curr!==null),i.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){const p=h.curr.id.clock-f.curr.id.clock;return p===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===oi?1:-1:p}else return f.curr.id.client-h.curr.id.client}),i.length!==0;){const u=i[0],d=u.curr.id.client;if(s!==null){let h=u.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=u.next(),f=!0;if(h===null||h.id.client!==d||f&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(d!==s.struct.id.client)Mu(a,s.struct,s.offset),s={struct:h,offset:0},u.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===oi)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{Mu(a,s.struct,s.offset);const p=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new oi(Re(d,s.struct.id.clock+s.struct.length),p),offset:0}}else{const p=s.struct.id.clock+s.struct.length-h.id.clock;p>0&&(s.struct.constructor===oi?s.struct.length-=p:h=vJ(h,p)),s.struct.mergeWith(h)||(Mu(a,s.struct,s.offset),s={struct:h,offset:0},u.next())}}else s={struct:u.curr,offset:0},u.next();for(let h=u.curr;h!==null&&h.id.client===d&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==oi;h=u.next())Mu(a,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(Mu(a,s.struct,s.offset),s=null),yJ(a);const l=r.map(u=>GG(u)),c=by(l);return d3(o,c),o.toUint8Array()},BM=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:Vi(t.encoder.restEncoder)}),t.encoder.restEncoder=c1(),t.written=0)},Mu=(t,e,n)=>{t.written>0&&t.currClient!==e.id.client&&BM(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),$e(t.encoder.restEncoder,e.id.clock+n)),e.write(t.encoder,n),t.written++},yJ=t=>{BM(t);const e=t.encoder.restEncoder;$e(e,t.clientStructs.length);for(let n=0;n<t.clientStructs.length;n++){const r=t.clientStructs[n];$e(e,r.written),u1(e,r.restEncoder)}},O8="You must not compute changes after the event-handler fired.";class p1{constructor(e,n){this.target=e,this.currentTarget=e,this.transaction=n,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=wJ(this.currentTarget,this.target))}deletes(e){return iu(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ko(O8);const e=new Map,n=this.target;this.transaction.changed.get(n).forEach(i=>{if(i!==null){const s=n._map.get(i);let o,a;if(this.adds(s)){let l=s.left;for(;l!==null&&this.adds(l);)l=l.left;if(this.deletes(s))if(l!==null&&this.deletes(l))o="delete",a=Wg(l.content.getContent());else return;else l!==null&&this.deletes(l)?(o="update",a=Wg(l.content.getContent())):(o="add",a=void 0)}else if(this.deletes(s))o="delete",a=Wg(s.content.getContent());else return;e.set(i,{action:o,oldValue:a})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw Ko(O8);const n=this.target,r=ll(),i=ll(),s=[];if(e={added:r,deleted:i,delta:s,keys:this.keys},this.transaction.changed.get(n).has(null)){let a=null;const l=()=>{a&&s.push(a)};for(let c=n._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((a===null||a.delete===void 0)&&(l(),a={delete:0}),a.delete+=c.length,i.add(c)):this.adds(c)?((a===null||a.insert===void 0)&&(l(),a={insert:[]}),a.insert=a.insert.concat(c.content.getContent()),r.add(c)):((a===null||a.retain===void 0)&&(l(),a={retain:0}),a.retain+=c.length);a!==null&&a.retain===void 0&&l()}this._changes=e}return e}}const wJ=(t,e)=>{const n=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)n.unshift(e._item.parentSub);else{let r=0,i=e._item.parent._start;for(;i!==e._item&&i!==null;)!i.deleted&&i.countable&&(r+=i.length),i=i.right;n.unshift(r)}e=e._item.parent}return n},En=()=>{EM("Invalid access: Add Yjs type to a document before reading data.")},jM=80;let f3=0;class bJ{constructor(e,n){e.marker=!0,this.p=e,this.index=n,this.timestamp=f3++}}const kJ=t=>{t.timestamp=f3++},FM=(t,e,n)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=n,t.timestamp=f3++},xJ=(t,e,n)=>{if(t.length>=jM){const r=t.reduce((i,s)=>i.timestamp<s.timestamp?i:s);return FM(r,e,n),r}else{const r=new bJ(e,n);return t.push(r),r}},m1=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const n=t._searchMarker.length===0?null:t._searchMarker.reduce((s,o)=>ff(e-s.index)<ff(e-o.index)?s:o);let r=t._start,i=0;for(n!==null&&(r=n.p,i=n.index,kJ(n));r.right!==null&&i<e;){if(!r.deleted&&r.countable){if(e<i+r.length)break;i+=r.length}r=r.right}for(;r.left!==null&&i>e;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);for(;r.left!==null&&r.left.id.client===r.id.client&&r.left.id.clock+r.left.length===r.id.clock;)r=r.left,!r.deleted&&r.countable&&(i-=r.length);return n!==null&&ff(n.index-i)<r.parent.length/jM?(FM(n,r,i),n):xJ(t._searchMarker,r,i)},e0=(t,e,n)=>{for(let r=t.length-1;r>=0;r--){const i=t[r];if(n>0){let s=i.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(i.index-=s.length);if(s===null||s.marker===!0){t.splice(r,1);continue}i.p=s,s.marker=!0}(e<i.index||n>0&&e===i.index)&&(i.index=nu(e,i.index+n))}},g1=(t,e,n)=>{const r=t,i=e.changedParentTypes;for(;ua(i,t,()=>[]).push(n),t._item!==null;)t=t._item.parent;IM(r._eH,n,e)};class vn{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=k8(),this._dEH=k8(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,n){this.doc=e,this._item=n}_copy(){throw fi()}clone(){throw fi()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,n){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){x8(this._eH,e)}observeDeep(e){x8(this._dEH,e)}unobserve(e){S8(this._eH,e)}unobserveDeep(e){S8(this._dEH,e)}toJSON(){}}const HM=(t,e,n)=>{t.doc??En(),e<0&&(e=t._length+e),n<0&&(n=t._length+n);let r=n-e;const i=[];let s=t._start;for(;s!==null&&r>0;){if(s.countable&&!s.deleted){const o=s.content.getContent();if(o.length<=e)e-=o.length;else{for(let a=e;a<o.length&&r>0;a++)i.push(o[a]),r--;e=0}}s=s.right}return i},$M=t=>{t.doc??En();const e=[];let n=t._start;for(;n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let i=0;i<r.length;i++)e.push(r[i])}n=n.right}return e},VM=(t,e)=>{const n=[];let r=t._start;for(;r!==null;){if(r.countable&&Ta(r,e)){const i=r.content.getContent();for(let s=0;s<i.length;s++)n.push(i[s])}r=r.right}return n},t0=(t,e)=>{let n=0,r=t._start;for(t.doc??En();r!==null;){if(r.countable&&!r.deleted){const i=r.content.getContent();for(let s=0;s<i.length;s++)e(i[s],n++,t)}r=r.right}},UM=(t,e)=>{const n=[];return t0(t,(r,i)=>{n.push(e(r,i,t))}),n},SJ=t=>{let e=t._start,n=null,r=0;return{[Symbol.iterator](){return this},next:()=>{if(n===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};n=e.content.getContent(),r=0,e=e.right}const i=n[r++];return n.length<=r&&(n=null),{done:!1,value:i}}}},WM=(t,e)=>{t.doc??En();const n=m1(t,e);let r=t._start;for(n!==null&&(r=n.p,e-=n.index);r!==null;r=r.right)if(!r.deleted&&r.countable){if(e<r.length)return r.content.getContent()[e];e-=r.length}},nm=(t,e,n,r)=>{let i=n;const s=t.doc,o=s.clientID,a=s.store,l=n===null?e._start:n.right;let c=[];const u=()=>{c.length>0&&(i=new Xe(Re(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new dl(c)),i.integrate(t,0),c=[])};r.forEach(d=>{if(d===null)c.push(d);else switch(d.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(d);break;default:switch(u(),d.constructor){case Uint8Array:case ArrayBuffer:i=new Xe(Re(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new E0(new Uint8Array(d))),i.integrate(t,0);break;case su:i=new Xe(Re(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new T0(d)),i.integrate(t,0);break;default:if(d instanceof vn)i=new Xe(Re(o,Ft(a,o)),i,i&&i.lastId,l,l&&l.id,e,null,new ki(d)),i.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),u()},qM=()=>Ko("Length exceeded!"),KM=(t,e,n,r)=>{if(n>e._length)throw qM();if(n===0)return e._searchMarker&&e0(e._searchMarker,n,r.length),nm(t,e,null,r);const i=n,s=m1(e,n);let o=e._start;for(s!==null&&(o=s.p,n-=s.index,n===0&&(o=o.prev,n+=o&&o.countable&&!o.deleted?o.length:0));o!==null;o=o.right)if(!o.deleted&&o.countable){if(n<=o.length){n<o.length&&Jn(t,Re(o.id.client,o.id.clock+n));break}n-=o.length}return e._searchMarker&&e0(e._searchMarker,i,r.length),nm(t,e,o,r)},CJ=(t,e,n)=>{let i=(e._searchMarker||[]).reduce((s,o)=>o.index>s.index?o:s,{index:0,p:e._start}).p;if(i)for(;i.right;)i=i.right;return nm(t,e,i,n)},GM=(t,e,n,r)=>{if(r===0)return;const i=n,s=r,o=m1(e,n);let a=e._start;for(o!==null&&(a=o.p,n-=o.index);a!==null&&n>0;a=a.right)!a.deleted&&a.countable&&(n<a.length&&Jn(t,Re(a.id.client,a.id.clock+n)),n-=a.length);for(;r>0&&a!==null;)a.deleted||(r<a.length&&Jn(t,Re(a.id.client,a.id.clock+r)),a.delete(t),r-=a.length),a=a.right;if(r>0)throw qM();e._searchMarker&&e0(e._searchMarker,i,-s+r)},rm=(t,e,n)=>{const r=e._map.get(n);r!==void 0&&r.delete(t)},p3=(t,e,n,r)=>{const i=e._map.get(n)||null,s=t.doc,o=s.clientID;let a;if(r==null)a=new dl([r]);else switch(r.constructor){case Number:case Object:case Boolean:case Array:case String:a=new dl([r]);break;case Uint8Array:a=new E0(r);break;case su:a=new T0(r);break;default:if(r instanceof vn)a=new ki(r);else throw new Error("Unexpected content type")}new Xe(Re(o,Ft(s.store,o)),i,i&&i.lastId,null,null,e,n,a).integrate(t,0)},m3=(t,e)=>{t.doc??En();const n=t._map.get(e);return n!==void 0&&!n.deleted?n.content.getContent()[n.length-1]:void 0},JM=t=>{const e={};return t.doc??En(),t._map.forEach((n,r)=>{n.deleted||(e[r]=n.content.getContent()[n.length-1])}),e},YM=(t,e)=>{t.doc??En();const n=t._map.get(e);return n!==void 0&&!n.deleted},EJ=(t,e)=>{const n={};return t._map.forEach((r,i)=>{let s=r;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&Ta(s,e)&&(n[i]=s.content.getContent()[s.length-1])}),n},kh=t=>(t.doc??En(),WG(t._map.entries(),e=>!e[1].deleted));class TJ extends p1{}class mc extends vn{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const n=new mc;return n.push(e),n}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new mc}clone(){const e=new mc;return e.insert(0,this.toArray().map(n=>n instanceof vn?n.clone():n)),e}get length(){return this.doc??En(),this._length}_callObserver(e,n){super._callObserver(e,n),g1(this,e,new TJ(this,e))}insert(e,n){this.doc!==null?st(this.doc,r=>{KM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}push(e){this.doc!==null?st(this.doc,n=>{CJ(n,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,n=1){this.doc!==null?st(this.doc,r=>{GM(r,this,e,n)}):this._prelimContent.splice(e,n)}get(e){return WM(this,e)}toArray(){return $M(this)}slice(e=0,n=this.length){return HM(this,e,n)}toJSON(){return this.map(e=>e instanceof vn?e.toJSON():e)}map(e){return UM(this,e)}forEach(e){t0(this,e)}[Symbol.iterator](){return SJ(this)}_write(e){e.writeTypeRef(XJ)}}const MJ=t=>new mc;class AJ extends p1{constructor(e,n,r){super(e,n),this.keysChanged=r}}class Vc extends vn{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,n){super._integrate(e,n),this._prelimContent.forEach((r,i)=>{this.set(i,r)}),this._prelimContent=null}_copy(){return new Vc}clone(){const e=new Vc;return this.forEach((n,r)=>{e.set(r,n instanceof vn?n.clone():n)}),e}_callObserver(e,n){g1(this,e,new AJ(this,e,n))}toJSON(){this.doc??En();const e={};return this._map.forEach((n,r)=>{if(!n.deleted){const i=n.content.getContent()[n.length-1];e[r]=i instanceof vn?i.toJSON():i}}),e}get size(){return[...kh(this)].length}keys(){return Yg(kh(this),e=>e[0])}values(){return Yg(kh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return Yg(kh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??En(),this._map.forEach((n,r)=>{n.deleted||e(n.content.getContent()[n.length-1],r,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?st(this.doc,n=>{rm(n,this,e)}):this._prelimContent.delete(e)}set(e,n){return this.doc!==null?st(this.doc,r=>{p3(r,this,e,n)}):this._prelimContent.set(e,n),n}get(e){return m3(this,e)}has(e){return YM(this,e)}clear(){this.doc!==null?st(this.doc,e=>{this.forEach(function(n,r,i){rm(e,i,r)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(QJ)}}const NJ=t=>new Vc,Mo=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&CG(t,e);class Cy{constructor(e,n,r,i){this.left=e,this.right=n,this.index=r,this.currentAttributes=i}forward(){switch(this.right===null&&wr(),this.right.content.constructor){case Gt:this.right.deleted||ou(this.currentAttributes,this.right.content);break;default:this.right.deleted||(this.index+=this.right.length);break}this.left=this.right,this.right=this.right.right}}const I8=(t,e,n)=>{for(;e.right!==null&&n>0;){switch(e.right.content.constructor){case Gt:e.right.deleted||ou(e.currentAttributes,e.right.content);break;default:e.right.deleted||(n<e.right.length&&Jn(t,Re(e.right.id.client,e.right.id.clock+n)),e.index+=e.right.length,n-=e.right.length);break}e.left=e.right,e.right=e.right.right}return e},xh=(t,e,n,r)=>{const i=new Map,s=r?m1(e,n):null;if(s){const o=new Cy(s.p.left,s.p,s.index,i);return I8(t,o,n-s.index)}else{const o=new Cy(null,e._start,0,i);return I8(t,o,n)}},XM=(t,e,n,r)=>{for(;n.right!==null&&(n.right.deleted===!0||n.right.content.constructor===Gt&&Mo(r.get(n.right.content.key),n.right.content.value));)n.right.deleted||r.delete(n.right.content.key),n.forward();const i=t.doc,s=i.clientID;r.forEach((o,a)=>{const l=n.left,c=n.right,u=new Xe(Re(s,Ft(i.store,s)),l,l&&l.lastId,c,c&&c.id,e,null,new Gt(a,o));u.integrate(t,0),n.right=u,n.forward()})},ou=(t,e)=>{const{key:n,value:r}=e;r===null?t.delete(n):t.set(n,r)},QM=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===Gt&&Mo(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},ZM=(t,e,n,r)=>{const i=t.doc,s=i.clientID,o=new Map;for(const a in r){const l=r[a],c=n.currentAttributes.get(a)??null;if(!Mo(c,l)){o.set(a,c);const{left:u,right:d}=n;n.right=new Xe(Re(s,Ft(i.store,s)),u,u&&u.lastId,d,d&&d.id,e,null,new Gt(a,l)),n.right.integrate(t,0),n.forward()}}return o},Zg=(t,e,n,r,i)=>{n.currentAttributes.forEach((h,f)=>{i[f]===void 0&&(i[f]=null)});const s=t.doc,o=s.clientID;QM(n,i);const a=ZM(t,e,n,i),l=r.constructor===String?new yi(r):r instanceof vn?new ki(r):new gl(r);let{left:c,right:u,index:d}=n;e._searchMarker&&e0(e._searchMarker,n.index,l.getLength()),u=new Xe(Re(o,Ft(s.store,o)),c,c&&c.lastId,u,u&&u.id,e,null,l),u.integrate(t,0),n.right=u,n.index=d,n.forward(),XM(t,e,n,a)},D8=(t,e,n,r,i)=>{const s=t.doc,o=s.clientID;QM(n,i);const a=ZM(t,e,n,i);e:for(;n.right!==null&&(r>0||a.size>0&&(n.right.deleted||n.right.content.constructor===Gt));){if(!n.right.deleted)switch(n.right.content.constructor){case Gt:{const{key:l,value:c}=n.right.content,u=i[l];if(u!==void 0){if(Mo(u,c))a.delete(l);else{if(r===0)break e;a.set(l,c)}n.right.delete(t)}else n.currentAttributes.set(l,c);break}default:r<n.right.length&&Jn(t,Re(n.right.id.client,n.right.id.clock+r)),r-=n.right.length;break}n.forward()}if(r>0){let l="";for(;r>0;r--)l+=`
`;n.right=new Xe(Re(o,Ft(s.store,o)),n.left,n.left&&n.left.lastId,n.right,n.right&&n.right.id,e,null,new yi(l)),n.right.integrate(t,0),n.forward()}XM(t,e,n,a)},eA=(t,e,n,r,i)=>{let s=e;const o=hi();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===Gt){const c=s.content;o.set(c.key,c)}s=s.right}let a=0,l=!1;for(;e!==s;){if(n===e&&(l=!0),!e.deleted){const c=e.content;switch(c.constructor){case Gt:{const{key:u,value:d}=c,h=r.get(u)??null;(o.get(u)!==c||h===d)&&(e.delete(t),a++,!l&&(i.get(u)??null)===d&&h!==d&&(h===null?i.delete(u):i.set(u,h))),!l&&!e.deleted&&ou(i,c);break}}}e=e.right}return a},OJ=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const n=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===Gt){const r=e.content.key;n.has(r)?e.delete(t):n.add(r)}e=e.left}},IJ=t=>{let e=0;return st(t.doc,n=>{let r=t._start,i=t._start,s=hi();const o=fy(s);for(;i;){if(i.deleted===!1)switch(i.content.constructor){case Gt:ou(o,i.content);break;default:e+=eA(n,r,i,s,o),s=fy(o),r=i;break}i=i.right}}),e},DJ=t=>{const e=new Set,n=t.doc;for(const[r,i]of t.afterState.entries()){const s=t.beforeState.get(r)||0;i!==s&&LM(t,n.store.clients.get(r),s,i,o=>{!o.deleted&&o.content.constructor===Gt&&o.constructor!==Dr&&e.add(o.parent)})}st(n,r=>{Go(t,t.deleteSet,i=>{if(i instanceof Dr||!i.parent._hasFormatting||e.has(i.parent))return;const s=i.parent;i.content.constructor===Gt?e.add(s):OJ(r,i)});for(const i of e)IJ(i)})},R8=(t,e,n)=>{const r=n,i=fy(e.currentAttributes),s=e.right;for(;n>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case ki:case gl:case yi:n<e.right.length&&Jn(t,Re(e.right.id.client,e.right.id.clock+n)),n-=e.right.length,e.right.delete(t);break}e.forward()}s&&eA(t,s,e.right,i,e.currentAttributes);const o=(e.left||e.right).parent;return o._searchMarker&&e0(o._searchMarker,e.index,-r+n),e};class RJ extends p1{constructor(e,n,r){super(e,n),this.childListChanged=!1,this.keysChanged=new Set,r.forEach(i=>{i===null?this.childListChanged=!0:this.keysChanged.add(i)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,n=[];st(e,r=>{const i=new Map,s=new Map;let o=this.target._start,a=null;const l={};let c="",u=0,d=0;const h=()=>{if(a!==null){let f=null;switch(a){case"delete":d>0&&(f={delete:d}),d=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},i.size>0&&(f.attributes={},i.forEach((p,g)=>{p!==null&&(f.attributes[g]=p)}))),c="";break;case"retain":u>0&&(f={retain:u},kG(l)||(f.attributes=wG({},l))),u=0;break}f&&n.push(f),a=null}};for(;o!==null;){switch(o.content.constructor){case ki:case gl:this.adds(o)?this.deletes(o)||(h(),a="insert",c=o.content.getContent()[0],h()):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=1):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=1);break;case yi:this.adds(o)?this.deletes(o)||(a!=="insert"&&(h(),a="insert"),c+=o.content.str):this.deletes(o)?(a!=="delete"&&(h(),a="delete"),d+=o.length):o.deleted||(a!=="retain"&&(h(),a="retain"),u+=o.length);break;case Gt:{const{key:f,value:p}=o.content;if(this.adds(o)){if(!this.deletes(o)){const g=i.get(f)??null;Mo(g,p)?p!==null&&o.delete(r):(a==="retain"&&h(),Mo(p,s.get(f)??null)?delete l[f]:l[f]=p)}}else if(this.deletes(o)){s.set(f,p);const g=i.get(f)??null;Mo(g,p)||(a==="retain"&&h(),l[f]=g)}else if(!o.deleted){s.set(f,p);const g=l[f];g!==void 0&&(Mo(g,p)?g!==null&&o.delete(r):(a==="retain"&&h(),p===null?delete l[f]:l[f]=p))}o.deleted||(a==="insert"&&h(),ou(i,o.content));break}}o=o.right}for(h();n.length>0;){const f=n[n.length-1];if(f.retain!==void 0&&f.attributes===void 0)n.pop();else break}}),this._delta=n}return this._delta}}class Jo extends vn{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??En(),this._length}_integrate(e,n){super._integrate(e,n);try{this._pending.forEach(r=>r())}catch(r){console.error(r)}this._pending=null}_copy(){return new Jo}clone(){const e=new Jo;return e.applyDelta(this.toDelta()),e}_callObserver(e,n){super._callObserver(e,n);const r=new RJ(this,e,n);g1(this,e,r),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??En();let e="",n=this._start;for(;n!==null;)!n.deleted&&n.countable&&n.content.constructor===yi&&(e+=n.content.str),n=n.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:n=!0}={}){this.doc!==null?st(this.doc,r=>{const i=new Cy(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const o=e[s];if(o.insert!==void 0){const a=!n&&typeof o.insert=="string"&&s===e.length-1&&i.right===null&&o.insert.slice(-1)===`
`?o.insert.slice(0,-1):o.insert;(typeof a!="string"||a.length>0)&&Zg(r,this,i,a,o.attributes||{})}else o.retain!==void 0?D8(r,this,i,o.retain,o.attributes||{}):o.delete!==void 0&&R8(r,i,o.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,n,r){this.doc??En();const i=[],s=new Map,o=this.doc;let a="",l=this._start;function c(){if(a.length>0){const d={};let h=!1;s.forEach((p,g)=>{h=!0,d[g]=p});const f={insert:a};h&&(f.attributes=d),i.push(f),a=""}}const u=()=>{for(;l!==null;){if(Ta(l,e)||n!==void 0&&Ta(l,n))switch(l.content.constructor){case yi:{const d=s.get("ychange");e!==void 0&&!Ta(l,e)?(d===void 0||d.user!==l.id.client||d.type!=="removed")&&(c(),s.set("ychange",r?r("removed",l.id):{type:"removed"})):n!==void 0&&!Ta(l,n)?(d===void 0||d.user!==l.id.client||d.type!=="added")&&(c(),s.set("ychange",r?r("added",l.id):{type:"added"})):d!==void 0&&(c(),s.delete("ychange")),a+=l.content.str;break}case ki:case gl:{c();const d={insert:l.content.getContent()[0]};if(s.size>0){const h={};d.attributes=h,s.forEach((f,p)=>{h[p]=f})}i.push(d);break}case Gt:Ta(l,e)&&(c(),ou(s,l.content));break}l=l.right}c()};return e||n?st(o,d=>{e&&xy(d,e),n&&xy(d,n),u()},"cleanup"):u(),i}insert(e,n,r){if(n.length<=0)return;const i=this.doc;i!==null?st(i,s=>{const o=xh(s,this,e,!r);r||(r={},o.currentAttributes.forEach((a,l)=>{r[l]=a})),Zg(s,this,o,n,r)}):this._pending.push(()=>this.insert(e,n,r))}insertEmbed(e,n,r){const i=this.doc;i!==null?st(i,s=>{const o=xh(s,this,e,!r);Zg(s,this,o,n,r||{})}):this._pending.push(()=>this.insertEmbed(e,n,r||{}))}delete(e,n){if(n===0)return;const r=this.doc;r!==null?st(r,i=>{R8(i,xh(i,this,e,!0),n)}):this._pending.push(()=>this.delete(e,n))}format(e,n,r){if(n===0)return;const i=this.doc;i!==null?st(i,s=>{const o=xh(s,this,e,!1);o.right!==null&&D8(s,this,o,n,r)}):this._pending.push(()=>this.format(e,n,r))}removeAttribute(e){this.doc!==null?st(this.doc,n=>{rm(n,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,n){this.doc!==null?st(this.doc,r=>{p3(r,this,e,n)}):this._pending.push(()=>this.setAttribute(e,n))}getAttribute(e){return m3(this,e)}getAttributes(){return JM(this)}_write(e){e.writeTypeRef(ZJ)}}const _J=t=>new Jo;class e4{constructor(e,n=()=>!0){this._filter=n,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??En()}[Symbol.iterator](){return this}next(){let e=this._currentNode,n=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(n)))do if(n=e.content.type,!e.deleted&&(n.constructor===_n||n.constructor===ul)&&n._start!==null)e=n._start;else for(;e!==null;)if(e.right!==null){e=e.right;break}else e.parent===this._root?e=null:e=e.parent._item;while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class ul extends vn{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,n){super._integrate(e,n),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ul}clone(){const e=new ul;return e.insert(0,this.toArray().map(n=>n instanceof vn?n.clone():n)),e}get length(){return this.doc??En(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new e4(this,e)}querySelector(e){e=e.toUpperCase();const r=new e4(this,i=>i.nodeName&&i.nodeName.toUpperCase()===e).next();return r.done?null:r.value}querySelectorAll(e){return e=e.toUpperCase(),cl(new e4(this,n=>n.nodeName&&n.nodeName.toUpperCase()===e))}_callObserver(e,n){g1(this,e,new zJ(this,n,e))}toString(){return UM(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,n={},r){const i=e.createDocumentFragment();return r!==void 0&&r._createAssociation(i,this),t0(this,s=>{i.insertBefore(s.toDOM(e,n,r),null)}),i}insert(e,n){this.doc!==null?st(this.doc,r=>{KM(r,this,e,n)}):this._prelimContent.splice(e,0,...n)}insertAfter(e,n){if(this.doc!==null)st(this.doc,r=>{const i=e&&e instanceof vn?e._item:e;nm(r,this,i,n)});else{const r=this._prelimContent,i=e===null?0:r.findIndex(s=>s===e)+1;if(i===0&&e!==null)throw Ko("Reference item not found");r.splice(i,0,...n)}}delete(e,n=1){this.doc!==null?st(this.doc,r=>{GM(r,this,e,n)}):this._prelimContent.splice(e,n)}toArray(){return $M(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return WM(this,e)}slice(e=0,n=this.length){return HM(this,e,n)}forEach(e){t0(this,e)}_write(e){e.writeTypeRef(tY)}}const LJ=t=>new ul;class _n extends ul{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,n){super._integrate(e,n),this._prelimAttrs.forEach((r,i)=>{this.setAttribute(i,r)}),this._prelimAttrs=null}_copy(){return new _n(this.nodeName)}clone(){const e=new _n(this.nodeName),n=this.getAttributes();return bG(n,(r,i)=>{typeof r=="string"&&e.setAttribute(i,r)}),e.insert(0,this.toArray().map(r=>r instanceof vn?r.clone():r)),e}toString(){const e=this.getAttributes(),n=[],r=[];for(const a in e)r.push(a);r.sort();const i=r.length;for(let a=0;a<i;a++){const l=r[a];n.push(l+'="'+e[l]+'"')}const s=this.nodeName.toLocaleLowerCase(),o=n.length>0?" "+n.join(" "):"";return`<${s}${o}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?st(this.doc,n=>{rm(n,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,n){this.doc!==null?st(this.doc,r=>{p3(r,this,e,n)}):this._prelimAttrs.set(e,n)}getAttribute(e){return m3(this,e)}hasAttribute(e){return YM(this,e)}getAttributes(e){return e?EJ(this,e):JM(this)}toDOM(e=document,n={},r){const i=e.createElement(this.nodeName),s=this.getAttributes();for(const o in s){const a=s[o];typeof a=="string"&&i.setAttribute(o,a)}return t0(this,o=>{i.appendChild(o.toDOM(e,n,r))}),r!==void 0&&r._createAssociation(i,this),i}_write(e){e.writeTypeRef(eY),e.writeKey(this.nodeName)}}const PJ=t=>new _n(t.readKey());class zJ extends p1{constructor(e,n,r){super(e,r),this.childListChanged=!1,this.attributesChanged=new Set,n.forEach(i=>{i===null?this.childListChanged=!0:this.attributesChanged.add(i)})}}class im extends Vc{constructor(e){super(),this.hookName=e}_copy(){return new im(this.hookName)}clone(){const e=new im(this.hookName);return this.forEach((n,r)=>{e.set(r,n)}),e}toDOM(e=document,n={},r){const i=n[this.hookName];let s;return i!==void 0?s=i.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),r!==void 0&&r._createAssociation(s,this),s}_write(e){e.writeTypeRef(nY),e.writeKey(this.hookName)}}const BJ=t=>new im(t.readKey());class gr extends Jo{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new gr}clone(){const e=new gr;return e.applyDelta(this.toDelta()),e}toDOM(e=document,n,r){const i=e.createTextNode(this.toString());return r!==void 0&&r._createAssociation(i,this),i}toString(){return this.toDelta().map(e=>{const n=[];for(const i in e.attributes){const s=[];for(const o in e.attributes[i])s.push({key:o,value:e.attributes[i][o]});s.sort((o,a)=>o.key<a.key?-1:1),n.push({nodeName:i,attrs:s})}n.sort((i,s)=>i.nodeName<s.nodeName?-1:1);let r="";for(let i=0;i<n.length;i++){const s=n[i];r+=`<${s.nodeName}`;for(let o=0;o<s.attrs.length;o++){const a=s.attrs[o];r+=` ${a.key}="${a.value}"`}r+=">"}r+=e.insert;for(let i=n.length-1;i>=0;i--)r+=`</${n[i].nodeName}>`;return r}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(rY)}}const jJ=t=>new gr;class g3{constructor(e,n){this.id=e,this.length=n}get deleted(){throw fi()}mergeWith(e){return!1}write(e,n,r){throw fi()}integrate(e,n){throw fi()}}const FJ=0;class Dr extends g3{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){n>0&&(this.id.clock+=n,this.length-=n),_M(e.doc.store,this)}write(e,n){e.writeInfo(FJ),e.writeLen(this.length-n)}getMissing(e,n){return null}}class E0{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new E0(this.content)}splice(e){throw fi()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeBuf(this.content)}getRef(){return 3}}const HJ=t=>new E0(t.readBuf());class n0{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new n0(this.len)}splice(e){const n=new n0(this.len-e);return this.len=e,n}mergeWith(e){return this.len+=e.len,!0}integrate(e,n){Xd(e.deleteSet,n.id.client,n.id.clock,this.len),n.markDeleted()}delete(e){}gc(e){}write(e,n){e.writeLen(this.len-n)}getRef(){return 1}}const $J=t=>new n0(t.readLen()),tA=(t,e)=>new su({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class T0{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const n={};this.opts=n,e.gc||(n.gc=!1),e.autoLoad&&(n.autoLoad=!0),e.meta!==null&&(n.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new T0(tA(this.doc.guid,this.opts))}splice(e){throw fi()}mergeWith(e){return!1}integrate(e,n){this.doc._item=n,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,n){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const VJ=t=>new T0(tA(t.readString(),t.readAny()));class gl{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new gl(this.embed)}splice(e){throw fi()}mergeWith(e){return!1}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeJSON(this.embed)}getRef(){return 5}}const UJ=t=>new gl(t.readJSON());class Gt{constructor(e,n){this.key=e,this.value=n}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new Gt(this.key,this.value)}splice(e){throw fi()}mergeWith(e){return!1}integrate(e,n){const r=n.parent;r._searchMarker=null,r._hasFormatting=!0}delete(e){}gc(e){}write(e,n){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const WJ=t=>new Gt(t.readKey(),t.readJSON());class sm{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new sm(this.arr)}splice(e){const n=new sm(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const qJ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++){const i=t.readString();i==="undefined"?n.push(void 0):n.push(JSON.parse(i))}return new sm(n)},KJ=Zp("node_env")==="development";class dl{constructor(e){this.arr=e,KJ&&vM(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new dl(this.arr)}splice(e){const n=new dl(this.arr.slice(e));return this.arr=this.arr.slice(0,e),n}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){const r=this.arr.length;e.writeLen(r-n);for(let i=n;i<r;i++){const s=this.arr[i];e.writeAny(s)}}getRef(){return 8}}const GJ=t=>{const e=t.readLen(),n=[];for(let r=0;r<e;r++)n.push(t.readAny());return new dl(n)};class yi{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new yi(this.str)}splice(e){const n=new yi(this.str.slice(e));this.str=this.str.slice(0,e);const r=this.str.charCodeAt(e-1);return r>=55296&&r<=56319&&(this.str=this.str.slice(0,e-1)+"",n.str=""+n.str.slice(1)),n}mergeWith(e){return this.str+=e.str,!0}integrate(e,n){}delete(e){}gc(e){}write(e,n){e.writeString(n===0?this.str:this.str.slice(n))}getRef(){return 4}}const JJ=t=>new yi(t.readString()),YJ=[MJ,NJ,_J,PJ,LJ,BJ,jJ],XJ=0,QJ=1,ZJ=2,eY=3,tY=4,nY=5,rY=6;class ki{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new ki(this.type._copy())}splice(e){throw fi()}mergeWith(e){return!1}integrate(e,n){this.type._integrate(e.doc,n)}delete(e){let n=this.type._start;for(;n!==null;)n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e),n=n.right;this.type._map.forEach(r=>{r.deleted?r.id.clock<(e.beforeState.get(r.id.client)||0)&&e._mergeStructs.push(r):r.delete(e)}),e.changed.delete(this.type)}gc(e){let n=this.type._start;for(;n!==null;)n.gc(e,!0),n=n.right;this.type._start=null,this.type._map.forEach(r=>{for(;r!==null;)r.gc(e,!0),r=r.left}),this.type._map=new Map}write(e,n){this.type._write(e)}getRef(){return 7}}const iY=t=>new ki(YJ[t.readTypeRef()](t)),Ey=(t,e)=>{let n=e,r=0,i;do r>0&&(n=Re(n.client,n.clock+r)),i=pc(t,n),r=n.clock-i.id.clock,n=i.redone;while(n!==null&&i instanceof Xe);return{item:i,diff:r}},v3=(t,e)=>{for(;t!==null&&t.keep!==e;)t.keep=e,t=t.parent._item},om=(t,e,n)=>{const{client:r,clock:i}=e.id,s=new Xe(Re(r,i+n),e,Re(r,i+n-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(n));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=Re(e.redone.client,e.redone.clock+n)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=n,s},_8=(t,e)=>LK(t,n=>iu(n.deletions,e)),nA=(t,e,n,r,i,s)=>{const o=t.doc,a=o.store,l=o.clientID,c=e.redone;if(c!==null)return Jn(t,c);let u=e.parent._item,d=null,h;if(u!==null&&u.deleted===!0){if(u.redone===null&&(!n.has(u)||nA(t,u,n,r,i,s)===null))return null;for(;u.redone!==null;)u=Jn(t,u.redone)}const f=u===null?e.parent:u.content.type;if(e.parentSub===null){for(d=e.left,h=e;d!==null;){let v=d;for(;v!==null&&v.parent._item!==u;)v=v.redone===null?null:Jn(t,v.redone);if(v!==null&&v.parent._item===u){d=v;break}d=d.left}for(;h!==null;){let v=h;for(;v!==null&&v.parent._item!==u;)v=v.redone===null?null:Jn(t,v.redone);if(v!==null&&v.parent._item===u){h=v;break}h=h.right}}else if(h=null,e.right&&!i){for(d=e;d!==null&&d.right!==null&&(d.right.redone||iu(r,d.right.id)||_8(s.undoStack,d.right.id)||_8(s.redoStack,d.right.id));)for(d=d.right;d.redone;)d=Jn(t,d.redone);if(d&&d.right!==null)return null}else d=f._map.get(e.parentSub)||null;const p=Ft(a,l),g=Re(l,p),w=new Xe(g,d,d&&d.lastId,h,h&&h.id,f,e.parentSub,e.content.copy());return e.redone=g,v3(w,!0),w.integrate(t,0),w};class Xe extends g3{constructor(e,n,r,i,s,o,a,l){super(e,l.getLength()),this.origin=r,this.left=n,this.right=i,this.rightOrigin=s,this.parent=o,this.parentSub=a,this.redone=null,this.content=l,this.info=this.content.isCountable()?u8:0}set marker(e){(this.info&Kg)>0!==e&&(this.info^=Kg)}get marker(){return(this.info&Kg)>0}get keep(){return(this.info&c8)>0}set keep(e){this.keep!==e&&(this.info^=c8)}get countable(){return(this.info&u8)>0}get deleted(){return(this.info&qg)>0}set deleted(e){this.deleted!==e&&(this.info^=qg)}markDeleted(){this.info|=qg}getMissing(e,n){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Ft(n,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Ft(n,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===fc&&this.id.client!==this.parent.client&&this.parent.clock>=Ft(n,this.parent.client))return this.parent.client;if(this.origin&&(this.left=C8(e,n,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=Jn(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Dr||this.right&&this.right.constructor===Dr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===Xe&&(this.parent=this.left.parent,this.parentSub=this.left.parentSub),this.right&&this.right.constructor===Xe&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===fc){const r=pc(n,this.parent);r.constructor===Dr?this.parent=null:this.parent=r.content.type}return null}integrate(e,n){if(n>0&&(this.id.clock+=n,this.left=C8(e,e.doc.store,Re(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(n),this.length-=n),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let r=this.left,i;if(r!==null)i=r.right;else if(this.parentSub!==null)for(i=this.parent._map.get(this.parentSub)||null;i!==null&&i.left!==null;)i=i.left;else i=this.parent._start;const s=new Set,o=new Set;for(;i!==null&&i!==this.right;){if(o.add(i),s.add(i),wh(this.origin,i.origin)){if(i.id.client<this.id.client)r=i,s.clear();else if(wh(this.rightOrigin,i.rightOrigin))break}else if(i.origin!==null&&o.has(pc(e.doc.store,i.origin)))s.has(pc(e.doc.store,i.origin))||(r=i,s.clear());else break;i=i.right}this.left=r}if(this.left!==null){const r=this.left.right;this.right=r,this.left.right=this}else{let r;if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start,this.parent._start=this;this.right=r}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),_M(e.doc.store,this),this.content.integrate(e,this),T8(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new Dr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:Re(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&wh(e.origin,this.lastId)&&this.right===e&&wh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const n=this.parent._searchMarker;return n&&n.forEach(r=>{r.p===e&&(r.p=this,!this.deleted&&this.countable&&(r.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const n=this.parent;this.countable&&this.parentSub===null&&(n._length-=this.length),this.markDeleted(),Xd(e.deleteSet,this.id.client,this.id.clock,this.length),T8(e,n,this.parentSub),this.content.delete(e)}}gc(e,n){if(!this.deleted)throw wr();this.content.gc(e),n?cJ(e,this,new Dr(this.id,this.length)):this.content=new n0(this.length)}write(e,n){const r=n>0?Re(this.id.client,this.id.clock+n-1):this.origin,i=this.rightOrigin,s=this.parentSub,o=this.content.getRef()&l1|(r===null?0:mr)|(i===null?0:As)|(s===null?0:Kd);if(e.writeInfo(o),r!==null&&e.writeLeftID(r),i!==null&&e.writeRightID(i),r===null&&i===null){const a=this.parent;if(a._item!==void 0){const l=a._item;if(l===null){const c=Qd(a);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(l.id)}else a.constructor===String?(e.writeParentInfo(!0),e.writeString(a)):a.constructor===fc?(e.writeParentInfo(!1),e.writeLeftID(a)):wr();s!==null&&e.writeString(s)}this.content.write(e,n)}}const rA=(t,e)=>sY[e&l1](t),sY=[()=>{wr()},$J,qJ,HJ,JJ,UJ,WJ,iY,GJ,VJ,()=>{wr()}],oY=10;class oi extends g3{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,n){wr()}write(e,n){e.writeInfo(oY),$e(e.restEncoder,this.length-n)}getMissing(e,n){return null}}const iA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{},sA="__ $YJS$ __";iA[sA]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438");iA[sA]=!0;const aY=()=>{let t=!0;return(e,n)=>{if(t){t=!1;try{e()}finally{t=!0}}else n!==void 0&&n()}},lY=/[\uD800-\uDBFF]/,cY=/[\uDC00-\uDFFF]/,uY=(t,e)=>{let n=0,r=0;for(;n<t.length&&n<e.length&&t[n]===e[n];)n++;for(n>0&&lY.test(t[n-1])&&n--;r+n<t.length&&r+n<e.length&&t[t.length-r-1]===e[e.length-r-1];)r++;return r>0&&cY.test(t[t.length-r])&&r--,{index:n,remove:t.length-n-r,insert:e.slice(n,e.length-r)}},dY=uY,Lt=new lt("y-sync"),Ns=new lt("y-undo");new lt("yjs-cursor");const am=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&e.sv.get(t.id.client)>t.id.clock&&!iu(e.ds,t.id),hY=[{light:"#ecd44433",dark:"#ecd444"}],fY=(t,e,n)=>{if(!t.has(n)){if(t.size<e.length){const r=ll();t.forEach(i=>r.add(i)),e=e.filter(i=>!r.has(i))}t.set(n,hG(e))}return t.get(n)},pY=(t,{colors:e=hY,colorMapping:n=new Map,permanentUserData:r=null,onFirstRender:i=()=>{},mapping:s}={})=>{let o=!1;const a=new gY(t,s),l=new nt({props:{editable:c=>{const u=Lt.getState(c);return u.snapshot==null&&u.prevSnapshot==null}},key:Lt,state:{init:(c,u)=>({type:t,doc:t.doc,binding:a,snapshot:null,prevSnapshot:null,isChangeOrigin:!1,isUndoRedoOperation:!1,addToHistory:!0,colors:e,colorMapping:n,permanentUserData:r}),apply:(c,u)=>{const d=c.getMeta(Lt);if(d!==void 0){u=Object.assign({},u);for(const h in d)u[h]=d[h]}return u.addToHistory=c.getMeta("addToHistory")!==!1,u.isChangeOrigin=d!==void 0&&!!d.isChangeOrigin,u.isUndoRedoOperation=d!==void 0&&!!d.isChangeOrigin&&!!d.isUndoRedoOperation,a.prosemirrorView!==null&&d!==void 0&&(d.snapshot!=null||d.prevSnapshot!=null)&&bM(0,()=>{a.prosemirrorView!=null&&(d.restore==null?a._renderSnapshot(d.snapshot,d.prevSnapshot,u):(a._renderSnapshot(d.snapshot,d.snapshot,u),delete u.restore,delete u.snapshot,delete u.prevSnapshot,a.mux(()=>{a._prosemirrorChanged(a.prosemirrorView.state.doc)})))}),u}},view:c=>(a.initView(c),s==null&&a._forceRerender(),i(),{update:()=>{const u=l.getState(c.state);if(u.snapshot==null&&u.prevSnapshot==null&&(o||c.state.doc.content.findDiffStart(c.state.doc.type.createAndFill().content)!==null)){if(o=!0,u.addToHistory===!1&&!u.isChangeOrigin){const d=Ns.getState(c.state),h=d&&d.undoManager;h&&h.stopCapturing()}a.mux(()=>{u.doc.transact(d=>{d.meta.set("addToHistory",u.addToHistory),a._prosemirrorChanged(c.state.doc)},Lt)})}},destroy:()=>{a.destroy()}})});return l},mY=(t,e,n)=>{if(e!==null&&e.anchor!==null&&e.head!==null){const r=Iy(n.doc,n.type,e.anchor,n.mapping),i=Iy(n.doc,n.type,e.head,n.mapping);r!==null&&i!==null&&(t=t.setSelection(me.create(t.doc,r,i)))}},Ty=(t,e)=>({anchor:Oy(e.selection.anchor,t.type,t.mapping),head:Oy(e.selection.head,t.type,t.mapping)});class gY{constructor(e,n=new Map){this.type=e,this.prosemirrorView=null,this.mux=aY(),this.mapping=n,this._observeFunction=this._typeChanged.bind(this),this.doc=e.doc,this.beforeTransactionSelection=null,this.beforeAllTransactions=()=>{this.beforeTransactionSelection===null&&this.prosemirrorView!=null&&(this.beforeTransactionSelection=Ty(this,this.prosemirrorView.state))},this.afterAllTransactions=()=>{this.beforeTransactionSelection=null},this._domSelectionInView=null}get _tr(){return this.prosemirrorView.state.tr.setMeta("addToHistory",!1)}_isLocalCursorInView(){return this.prosemirrorView.hasFocus()?(MG&&this._domSelectionInView===null&&(bM(0,()=>{this._domSelectionInView=null}),this._domSelectionInView=this._isDomSelectionInView()),this._domSelectionInView):!1}_isDomSelectionInView(){const e=this.prosemirrorView._root.getSelection(),n=this.prosemirrorView._root.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset),n.getClientRects().length===0&&n.startContainer&&n.collapsed&&n.selectNodeContents(n.startContainer);const i=n.getBoundingClientRect(),s=DG.documentElement;return i.bottom>=0&&i.right>=0&&i.left<=(window.innerWidth||s.clientWidth||0)&&i.top<=(window.innerHeight||s.clientHeight||0)}renderSnapshot(e,n){n||(n=DM(AM(),new Map)),this.prosemirrorView.dispatch(this._tr.setMeta(Lt,{snapshot:e,prevSnapshot:n}))}unrenderSnapshot(){this.mapping.clear(),this.mux(()=>{const e=this.type.toArray().map(r=>vf(r,this.prosemirrorView.state.schema,this.mapping)).filter(r=>r!==null),n=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Y(H.from(e),0,0));n.setMeta(Lt,{snapshot:null,prevSnapshot:null}),this.prosemirrorView.dispatch(n)})}_forceRerender(){this.mapping.clear(),this.mux(()=>{const e=this.beforeTransactionSelection!==null?null:this.prosemirrorView.state.selection,n=this.type.toArray().map(i=>vf(i,this.prosemirrorView.state.schema,this.mapping)).filter(i=>i!==null),r=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Y(H.from(n),0,0));e&&r.setSelection(me.create(r.doc,e.anchor,e.head)),this.prosemirrorView.dispatch(r.setMeta(Lt,{isChangeOrigin:!0,binding:this}))})}_renderSnapshot(e,n,r){let i=this.doc;e||(e=Qg(this.doc)),(e instanceof Uint8Array||n instanceof Uint8Array)&&((!(e instanceof Uint8Array)||!(n instanceof Uint8Array))&&wr(),i=new su({gc:!1}),ky(i,n),n=Qg(i),ky(i,e),e=Qg(i)),this.mapping.clear(),this.mux(()=>{i.transact(s=>{const o=r.permanentUserData;o&&o.dss.forEach(u=>{Go(s,u,d=>{})});const a=(u,d)=>{const h=u==="added"?o.getUserByClientId(d.client):o.getUserByDeletedId(d);return{user:h,type:u,color:fY(r.colorMapping,r.colors,h)}},l=VM(this.type,new h3(n.ds,e.sv)).map(u=>!u._item.deleted||am(u._item,e)||am(u._item,n)?vf(u,this.prosemirrorView.state.schema,new Map,e,n,a):null).filter(u=>u!==null),c=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Y(H.from(l),0,0));this.prosemirrorView.dispatch(c.setMeta(Lt,{isChangeOrigin:!0}))},Lt)})}_typeChanged(e,n){if(this.prosemirrorView==null)return;const r=Lt.getState(this.prosemirrorView.state);if(e.length===0||r.snapshot!=null||r.prevSnapshot!=null){this.renderSnapshot(r.snapshot,r.prevSnapshot);return}this.mux(()=>{const i=(a,l)=>this.mapping.delete(l);Go(n,n.deleteSet,a=>{if(a.constructor===Xe){const l=a.content.type;l&&this.mapping.delete(l)}}),n.changed.forEach(i),n.changedParentTypes.forEach(i);const s=this.type.toArray().map(a=>oA(a,this.prosemirrorView.state.schema,this.mapping)).filter(a=>a!==null);let o=this._tr.replace(0,this.prosemirrorView.state.doc.content.size,new Y(H.from(s),0,0));mY(o,this.beforeTransactionSelection,this),o=o.setMeta(Lt,{isChangeOrigin:!0,isUndoRedoOperation:n.origin instanceof zM}),this.beforeTransactionSelection!==null&&this._isLocalCursorInView()&&o.scrollIntoView(),this.prosemirrorView.dispatch(o)})}_prosemirrorChanged(e){this.doc.transact(()=>{Ay(this.doc,this.type,e,this.mapping),this.beforeTransactionSelection=Ty(this,this.prosemirrorView.state)},Lt)}initView(e){this.prosemirrorView!=null&&this.destroy(),this.prosemirrorView=e,this.doc.on("beforeAllTransactions",this.beforeAllTransactions),this.doc.on("afterAllTransactions",this.afterAllTransactions),this.type.observeDeep(this._observeFunction)}destroy(){this.prosemirrorView!=null&&(this.prosemirrorView=null,this.type.unobserveDeep(this._observeFunction),this.doc.off("beforeAllTransactions",this.beforeAllTransactions),this.doc.off("afterAllTransactions",this.afterAllTransactions))}}const oA=(t,e,n,r,i,s)=>{const o=n.get(t);if(o===void 0){if(t instanceof _n)return vf(t,e,n,r,i,s);throw fi()}return o},vf=(t,e,n,r,i,s)=>{const o=[],a=l=>{var c;if(l.constructor===_n){const u=oA(l,e,n,r,i,s);u!==null&&o.push(u)}else{const u=(c=l._item.right)==null?void 0:c.content.type;u instanceof Jo&&!u._item.deleted&&u._item.id.client===u.doc.clientID&&(l.applyDelta([{retain:l.length},...u.toDelta()]),u.doc.transact(h=>{u._item.delete(h)}));const d=vY(l,e,n,r,i,s);d!==null&&d.forEach(h=>{h!==null&&o.push(h)})}};r===void 0||i===void 0?t.toArray().forEach(a):VM(t,new h3(i.ds,r.sv)).forEach(a);try{const l=t.getAttributes(r);r!==void 0&&(am(t._item,r)?am(t._item,i)||(l.ychange=s?s("added",t._item.id):{type:"added"}):l.ychange=s?s("removed",t._item.id):{type:"removed"});const c=e.node(t.nodeName,l,o);return n.set(t,c),c}catch{return t.doc.transact(c=>{t._item.delete(c)},Lt),n.delete(t),null}},vY=(t,e,n,r,i,s)=>{const o=[],a=t.toDelta(r,i,s);try{for(let l=0;l<a.length;l++){const c=a[l],u=[];for(const d in c.attributes)u.push(e.mark(d,c.attributes[d]));o.push(e.text(c.insert,u))}}catch{return t.doc.transact(c=>{t._item.delete(c)},Lt),null}return o},yY=(t,e)=>{const n=new gr,r=t.map(i=>({insert:i.text,attributes:lA(i.marks)}));return n.applyDelta(r),e.set(n,t),n},wY=(t,e)=>{const n=new _n(t.type.name);for(const r in t.attrs){const i=t.attrs[r];i!==null&&r!=="ychange"&&n.setAttribute(r,i)}return n.insert(0,v1(t).map(r=>My(r,e))),e.set(n,t),n},My=(t,e)=>t instanceof Array?yY(t,e):wY(t,e),L8=t=>typeof t=="object"&&t!==null,y3=(t,e)=>{const n=Object.keys(t).filter(i=>t[i]!==null);let r=n.length===Object.keys(e).filter(i=>e[i]!==null).length;for(let i=0;i<n.length&&r;i++){const s=n[i],o=t[s],a=e[s];r=s==="ychange"||o===a||L8(o)&&L8(a)&&y3(o,a)}return r},v1=t=>{const e=t.content.content,n=[];for(let r=0;r<e.length;r++){const i=e[r];if(i.isText){const s=[];for(let o=e[r];r<e.length&&o.isText;o=e[++r])s.push(o);r--,n.push(s)}else n.push(i)}return n},aA=(t,e)=>{const n=t.toDelta();return n.length===e.length&&n.every((r,i)=>r.insert===e[i].text&&gM(r.attributes||{}).length===e[i].marks.length&&e[i].marks.every(s=>y3(r.attributes[s.type.name]||{},s.attrs)))},r0=(t,e)=>{if(t instanceof _n&&!(e instanceof Array)&&Ny(t,e)){const n=v1(e);return t._length===n.length&&y3(t.getAttributes(),e.attrs)&&t.toArray().every((r,i)=>r0(r,n[i]))}return t instanceof gr&&e instanceof Array&&aA(t,e)},lm=(t,e)=>t===e||t instanceof Array&&e instanceof Array&&t.length===e.length&&t.every((n,r)=>e[r]===n),P8=(t,e,n)=>{const r=t.toArray(),i=v1(e),s=i.length,o=r.length,a=a1(o,s);let l=0,c=0,u=!1;for(;l<a;l++){const d=r[l],h=i[l];if(lm(n.get(d),h))u=!0;else if(!r0(d,h))break}for(;l+c<a;c++){const d=r[o-c-1],h=i[s-c-1];if(lm(n.get(d),h))u=!0;else if(!r0(d,h))break}return{equalityFactor:l+c,foundMappedChild:u}},bY=t=>{let e="",n=t._start;const r={};for(;n!==null;)n.deleted||(n.countable&&n.content instanceof yi?e+=n.content.str:n.content instanceof Gt&&(r[n.content.key]=null)),n=n.right;return{str:e,nAttrs:r}},kY=(t,e,n)=>{n.set(t,e);const{nAttrs:r,str:i}=bY(t),s=e.map(c=>({insert:c.text,attributes:Object.assign({},r,lA(c.marks))})),{insert:o,remove:a,index:l}=dY(i,s.map(c=>c.insert).join(""));t.delete(l,a),t.insert(l,o),t.applyDelta(s.map(c=>({retain:c.insert.length,attributes:c.attributes})))},lA=t=>{const e={};return t.forEach(n=>{n.type.name!=="ychange"&&(e[n.type.name]=n.attrs)}),e},Ay=(t,e,n,r)=>{if(e instanceof _n&&e.nodeName!==n.type.name)throw new Error("node name mismatch!");if(r.set(e,n),e instanceof _n){const d=e.getAttributes(),h=n.attrs;for(const f in h)h[f]!==null?d[f]!==h[f]&&f!=="ychange"&&e.setAttribute(f,h[f]):e.removeAttribute(f);for(const f in d)h[f]===void 0&&e.removeAttribute(f)}const i=v1(n),s=i.length,o=e.toArray(),a=o.length,l=a1(s,a);let c=0,u=0;for(;c<l;c++){const d=o[c],h=i[c];if(!lm(r.get(d),h))if(r0(d,h))r.set(d,h);else break}for(;u+c+1<l;u++){const d=o[a-u-1],h=i[s-u-1];if(!lm(r.get(d),h))if(r0(d,h))r.set(d,h);else break}t.transact(()=>{for(;a-c-u>0&&s-c-u>0;){const h=o[c],f=i[c],p=o[a-u-1],g=i[s-u-1];if(h instanceof gr&&f instanceof Array)aA(h,f)||kY(h,f,r),c+=1;else{let w=h instanceof _n&&Ny(h,f),v=p instanceof _n&&Ny(p,g);if(w&&v){const k=P8(h,f,r),E=P8(p,g,r);k.foundMappedChild&&!E.foundMappedChild?v=!1:!k.foundMappedChild&&E.foundMappedChild||k.equalityFactor<E.equalityFactor?w=!1:v=!1}w?(Ay(t,h,f,r),c+=1):v?(Ay(t,p,g,r),u+=1):(r.delete(e.get(c)),e.delete(c,1),e.insert(c,[My(f,r)]),c+=1)}}const d=a-c-u;if(a===1&&s===0&&o[0]instanceof gr?(r.delete(o[0]),o[0].delete(0,o[0].length)):d>0&&(e.slice(c,c+d).forEach(h=>r.delete(h)),e.delete(c,d)),c+u<s){const h=[];for(let f=c;f<s-u;f++)h.push(My(i[f],r));e.insert(c,h)}},Lt)},Ny=(t,e)=>!(e instanceof Array)&&t.nodeName===e.type.name,Oy=(t,e,n)=>{if(t===0)return Xg(e,0,-1);let r=e._first===null?null:e._first.content.type;for(;r!==null&&e!==r;){if(r instanceof gr){if(r._length>=t)return Xg(r,t,-1);if(t-=r._length,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{do r=r._item===null?null:r._item.parent,t--;while(r!==e&&r!==null&&r._item!==null&&r._item.next===null);r!==null&&r!==e&&(r=r._item===null?null:r._item.next.content.type)}}else{const i=(n.get(r)||{nodeSize:0}).nodeSize;if(r._first!==null&&t<i)r=r._first.content.type,t--;else{if(t===1&&r._length===0&&i>1)return new tm(r._item===null?null:r._item.id,r._item===null?Qd(r):null,null);if(t-=i,r._item!==null&&r._item.next!==null)r=r._item.next.content.type;else{if(t===0)return r=r._item===null?r:r._item.parent,new tm(r._item===null?null:r._item.id,r._item===null?Qd(r):null,null);do r=r._item.parent,t--;while(r!==e&&r._item.next===null);r!==e&&(r=r._item.next.content.type)}}}if(r===null)throw wr();if(t===0&&r.constructor!==gr&&r!==e)return xY(r._item.parent,r._item)}return Xg(e,e._length,-1)},xY=(t,e)=>{let n=null,r=null;return t._item===null?r=Qd(t):n=Re(t._item.id.client,t._item.id.clock),new tm(n,r,e.id)},Iy=(t,e,n,r)=>{const i=aJ(n,t);if(i===null||i.type!==e&&!Zd(e,i.type._item))return null;let s=i.type,o=0;if(s.constructor===gr)o=i.index;else if(s._item===null||!s._item.deleted){let a=s._first,l=0;for(;l<s._length&&l<i.index&&a!==null;){if(!a.deleted){const c=a.content.type;l++,c instanceof gr?o+=c._length:o+=r.get(c).nodeSize}a=a.right}o+=1}for(;s!==e&&s._item!==null;){const a=s._item.parent;if(a._item===null||!a._item.deleted){o+=1;let l=a._first;for(;l!==null;){const c=l.content.type;if(c===s)break;l.deleted||(c instanceof gr?o+=c._length:o+=r.get(c).nodeSize),l=l.right}}s=a}return o-1};function SY(t){const e=t.toArray();function n(r){let i;if(!r.nodeName)i=r.toDelta().map(o=>{const a={type:"text",text:o.insert};return o.attributes&&(a.marks=Object.keys(o.attributes).map(l=>{const c=o.attributes[l],u={type:l};return Object.keys(c)&&(u.attrs=c),u})),a});else{i={type:r.nodeName};const s=r.getAttributes();Object.keys(s).length&&(i.attrs=s);const o=r.toArray();o.length&&(i.content=o.map(n).flat())}return i}return{type:"doc",content:e.map(n)}}const CY=t=>{const e=Ns.getState(t).undoManager;if(e!=null)return e.undo(),!0},EY=t=>{const e=Ns.getState(t).undoManager;if(e!=null)return e.redo(),!0},TY=new Set(["paragraph"]),MY=(t,e)=>!(t instanceof Xe)||!(t.content instanceof ki)||!(t.content.type instanceof Jo||t.content.type instanceof _n&&e.has(t.content.type.nodeName))||t.content.type._length===0,AY=({protectedNodes:t=TY,trackedOrigins:e=[],undoManager:n=null}={})=>new nt({key:Ns,state:{init:(r,i)=>{const s=Lt.getState(i),o=n||new zM(s.type,{trackedOrigins:new Set([Lt].concat(e)),deleteFilter:a=>MY(a,t),captureTransaction:a=>a.meta.get("addToHistory")!==!1});return{undoManager:o,prevSel:null,hasUndoOps:o.undoStack.length>0,hasRedoOps:o.redoStack.length>0}},apply:(r,i,s,o)=>{const a=Lt.getState(o).binding,l=i.undoManager,c=l.undoStack.length>0,u=l.redoStack.length>0;return a?{undoManager:l,prevSel:Ty(a,s),hasUndoOps:c,hasRedoOps:u}:c!==i.hasUndoOps||u!==i.hasRedoOps?Object.assign({},i,{hasUndoOps:l.undoStack.length>0,hasRedoOps:l.redoStack.length>0}):i}},view:r=>{const i=Lt.getState(r.state),s=Ns.getState(r.state).undoManager;return s.on("stack-item-added",({stackItem:o})=>{const a=i.binding;a&&o.meta.set(a,Ns.getState(r.state).prevSel)}),s.on("stack-item-popped",({stackItem:o})=>{const a=i.binding;a&&(a.beforeTransactionSelection=o.meta.get(a)||a.beforeTransactionSelection)}),{destroy:()=>{s.destroy()}}}});zt.create({name:"collaboration",priority:1e3,addOptions(){return{document:null,field:"default",fragment:null}},addStorage(){return{isDisabled:!1}},onCreate(){this.editor.extensionManager.extensions.find(t=>t.name==="history")&&console.warn('[tiptap warn]: "@tiptap/extension-collaboration" comes with its own history support and is not compatible with "@tiptap/extension-history".')},addCommands(){return{undo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Ns.getState(e).undoManager.undoStack.length===0?!1:n?CY(e):!0),redo:()=>({tr:t,state:e,dispatch:n})=>(t.setMeta("preventDispatch",!0),Ns.getState(e).undoManager.redoStack.length===0?!1:n?EY(e):!0)}},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo()}},addProseMirrorPlugins(){var t;const e=this.options.fragment?this.options.fragment:this.options.document.getXmlFragment(this.options.field),n=AY(this.options.yUndoOptions),r=n.spec.view;n.spec.view=o=>{const{undoManager:a}=Ns.getState(o.state);a.restore&&(a.restore(),a.restore=()=>{});const l=r?r(o):void 0;return{destroy:()=>{const c=a.trackedOrigins.has(a),u=a._observers;a.restore=()=>{c&&a.trackedOrigins.add(a),a.doc.on("afterTransaction",a.afterTransactionHandler),a._observers=u},l!=null&&l.destroy&&l.destroy()}}};const i={...this.options.ySyncOptions,onFirstRender:this.options.onFirstRender},s=pY(e,i);return this.editor.options.enableContentCheck&&((t=e.doc)===null||t===void 0||t.on("beforeTransaction",()=>{try{const o=SY(e);if(o.content.length===0)return;this.editor.schema.nodeFromJSON(o).check()}catch(o){return this.editor.emit("contentError",{error:o,editor:this.editor,disableCollaboration:()=>{var a;(a=e.doc)===null||a===void 0||a.destroy(),this.storage.isDisabled=!0}}),!1}})),[s,n,this.editor.options.enableContentCheck&&new nt({key:new lt("filterInvalidContent"),filterTransaction:()=>{var o;return this.storage.isDisabled&&((o=e.doc)===null||o===void 0||o.destroy()),!0}})].filter(Boolean)}});function NY(t){return!!t.getMeta(Lt)}function z8(t){if(!t.length)return tt.empty;const e=[],n=t[0].$from.node(0);return t.forEach(r=>{const i=r.$from.pos,s=r.$from.nodeAfter;s&&e.push(Zt.node(i,i+s.nodeSize,{class:"ProseMirror-selectednoderange"}))}),tt.create(n,e)}function y1(t,e,n){const r=[],i=t.node(0);n=typeof n=="number"&&n>=0?n:t.sameParent(e)?Math.max(0,t.sharedDepth(e.pos)-1):t.sharedDepth(e.pos);const s=new Ld(t,e,n),o=s.depth===0?0:i.resolve(s.start).posAtIndex(0);return s.parent.forEach((a,l)=>{const c=o+l,u=c+a.nodeSize;if(c<s.start||c>=s.end)return;const d=new o5(i.resolve(c),i.resolve(u));r.push(d)}),r}class w3{constructor(e,n){this.anchor=e,this.head=n}map(e){return new w3(e.map(this.anchor),e.map(this.head))}resolve(e){const n=e.resolve(this.anchor),r=e.resolve(this.head);return new Ao(n,r)}}let Ao=class so extends we{constructor(e,n,r,i=1){const{doc:s}=e,o=e===n,a=e.pos===s.content.size&&n.pos===s.content.size,l=o&&!a?s.resolve(n.pos+(i>0?1:-1)):n,c=o&&a?s.resolve(e.pos-(i>0?1:-1)):e,u=y1(c.min(l),c.max(l),r);super(l.pos>=e.pos?u[0].$from:u[u.length-1].$to,l.pos>=e.pos?u[u.length-1].$to:u[0].$from,u),this.depth=r}get $to(){return this.ranges[this.ranges.length-1].$to}eq(e){return e instanceof so&&e.$from.pos===this.$from.pos&&e.$to.pos===this.$to.pos}map(e,n){const r=e.resolve(n.map(this.anchor)),i=e.resolve(n.map(this.head));return new so(r,i)}toJSON(){return{type:"nodeRange",anchor:this.anchor,head:this.head}}get isForwards(){return this.head>=this.anchor}get isBackwards(){return!this.isForwards}extendBackwards(){const{doc:e}=this.$from;if(this.isForwards&&this.ranges.length>1){const i=this.ranges.slice(0,-1),s=i[0].$from,o=i[i.length-1].$to;return new so(s,o,this.depth)}const n=this.ranges[0],r=e.resolve(Math.max(0,n.$from.pos-1));return new so(this.$anchor,r,this.depth)}extendForwards(){const{doc:e}=this.$from;if(this.isBackwards&&this.ranges.length>1){const i=this.ranges.slice(1),s=i[0].$from,o=i[i.length-1].$to;return new so(o,s,this.depth)}const n=this.ranges[this.ranges.length-1],r=e.resolve(Math.min(e.content.size,n.$to.pos+1));return new so(this.$anchor,r,this.depth)}static fromJSON(e,n){return new so(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r,i,s=1){return new this(e.resolve(n),e.resolve(r),i,s)}getBookmark(){return new w3(this.anchor,this.head)}};function Sh(t){return t instanceof Ao}Ao.prototype.visible=!1;zt.create({name:"nodeRange",addOptions:()=>({depth:void 0,key:"Mod"}),addKeyboardShortcuts(){return{"Shift-ArrowUp":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:l}=s;if(!Sh(s)){const u=Ao.create(i,a,l,e,-1);return o.setSelection(u),n.dispatch(o),!0}const c=s.extendBackwards();return o.setSelection(c),n.dispatch(o),!0},"Shift-ArrowDown":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,selection:s,tr:o}=r,{anchor:a,head:l}=s;if(!Sh(s)){const u=Ao.create(i,a,l,e);return o.setSelection(u),n.dispatch(o),!0}const c=s.extendForwards();return o.setSelection(c),n.dispatch(o),!0},"Mod-a":({editor:t})=>{const{depth:e}=this.options,{view:n,state:r}=t,{doc:i,tr:s}=r,o=Ao.create(i,0,i.content.size,e);return s.setSelection(o),n.dispatch(s),!0}}},onSelectionUpdate(){const{selection:t}=this.editor.state;Sh(t)&&this.editor.view.dom.classList.add("ProseMirror-noderangeselection")},addProseMirrorPlugins(){let t=!1,e=!1;return[new nt({key:new lt("nodeRange"),props:{attributes:()=>t?{class:"ProseMirror-noderangeselection"}:{class:""},handleDOMEvents:{mousedown:(n,r)=>{const{key:i}=this.options,s=/Mac/.test(navigator.platform),o=!!r.shiftKey,a=!!r.ctrlKey,l=!!r.altKey,c=!!r.metaKey;return(i==null||i==="Shift"&&o||i==="Control"&&a||i==="Alt"&&l||i==="Meta"&&c||i==="Mod"&&(s?c:a))&&(e=!0),!!e&&(document.addEventListener("mouseup",()=>{e=!1;const{state:u}=n,{doc:d,selection:h,tr:f}=u,{$anchor:p,$head:g}=h;if(p.sameParent(g))return;const w=Ao.create(d,p.pos,g.pos,this.options.depth);f.setSelection(w),n.dispatch(f)},{once:!0}),!1)}},decorations:n=>{const{selection:r}=n,i=Sh(r);if(t=!1,!e)return i?(t=!0,z8(r.ranges)):null;const{$from:s,$to:o}=r;if(!i&&s.sameParent(o))return null;const a=y1(s,o,this.options.depth);return a.length?(t=!0,z8(a)):null}}})]}});function OY(t){const e=t.cloneNode(!0),n=[t,...Array.from(t.getElementsByTagName("*"))],r=[e,...Array.from(e.getElementsByTagName("*"))];return n.forEach((i,s)=>{r[s].style.cssText=function(o){let a="";const l=getComputedStyle(o);for(let c=0;c<l.length;c+=1)a+=`${l[c]}:${l.getPropertyValue(l[c])};`;return a}(i)}),e}const cA=t=>{const{x:e,y:n,direction:r,editor:i}=t;let s=null,o=null,a=null,l=e;for(;o===null&&l<window.innerWidth&&l>0;){const c=document.elementsFromPoint(l,n),u=c.findIndex(h=>h.classList.contains("ProseMirror")),d=c.slice(0,u);if(d.length>0){const h=d[0];if(s=h,a=i.view.posAtDOM(h,0),a>=0){o=i.state.doc.nodeAt(Math.max(a-1,0)),o!=null&&o.isText&&(o=i.state.doc.nodeAt(Math.max(a-1,0))),o||(o=i.state.doc.nodeAt(Math.max(a,0)));break}}r==="left"?l-=1:l+=1}return{resultElement:s,resultNode:o,pos:a??null}};function Ch(t,e){return window.getComputedStyle(t)[e]}function IY(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function B8(t){var e;(e=t.parentNode)===null||e===void 0||e.removeChild(t)}function DY(t,e){const{doc:n}=e.view.state,r=cA({editor:e,x:t.clientX,y:t.clientY,direction:"right"});if(!r.resultNode||r.pos===null)return[];const i=t.clientX,s=function(u,d,h){const f=parseInt(Ch(u.dom,"paddingLeft"),10),p=parseInt(Ch(u.dom,"paddingRight"),10),g=parseInt(Ch(u.dom,"borderLeftWidth"),10),w=parseInt(Ch(u.dom,"borderLeftWidth"),10),v=u.dom.getBoundingClientRect();return{left:IY(d,v.left+f+g,v.right-p-w),top:h}}(e.view,i,t.clientY),o=e.view.posAtCoords(s);if(!o)return[];const{pos:a}=o;if(!n.resolve(a).parent)return[];const l=n.resolve(r.pos),c=n.resolve(r.pos+1);return y1(l,c,0)}const j8=(t,e)=>{const n=t.resolve(e),{depth:r}=n;return r===0?e:n.pos-n.parentOffset-1},F8=(t,e)=>{const n=t.nodeAt(e),r=t.resolve(e);let{depth:i}=r,s=n;for(;i>0;){const o=r.node(i);i-=1,i===0&&(s=o)}return s},t4=(t,e)=>{const n=Lt.getState(t);return n?Oy(e,n.type,n.binding.mapping):null},H8=(t,e)=>{let n=e;for(;n&&n.parentNode&&n.parentNode!==t.dom;)n=n.parentNode;return n},uA=new lt("dragHandle"),dA=({pluginKey:t=uA,element:e,editor:n,tippyOptions:r,onNodeChange:i})=>{const s=document.createElement("div");let o,a=null,l=!1,c=null,u=-1;return e.addEventListener("dragstart",d=>{(function(h,f){const{view:p}=f;if(!h.dataTransfer)return;const{empty:g,$from:w,$to:v}=p.state.selection,k=DY(h,f),E=y1(w,v,0),S=E.some(Q=>k.find(oe=>oe.$from===Q.$from&&oe.$to===Q.$to)),N=g||!S?k:E;if(!N.length)return;const{tr:b}=p.state,M=document.createElement("div"),I=N[0].$from.pos,_=N[N.length-1].$to.pos,F=Ao.create(p.state.doc,I,_),G=F.content();N.forEach(Q=>{const oe=OY(p.nodeDOM(Q.$from.pos));M.append(oe)}),M.style.position="absolute",M.style.top="-10000px",document.body.append(M),h.dataTransfer.clearData(),h.dataTransfer.setDragImage(M,0,0),p.dragging={slice:G,move:!0},b.setSelection(F),p.dispatch(b),document.addEventListener("drop",()=>B8(M),{once:!0})})(d,n),setTimeout(()=>{e&&(e.style.pointerEvents="none")},0)}),e.addEventListener("dragend",()=>{e&&(e.style.pointerEvents="auto")}),new nt({key:typeof t=="string"?new lt(t):t,state:{init:()=>({locked:!1}),apply(d,h,f,p){const g=d.getMeta("lockDragHandle"),w=d.getMeta("hideDragHandle");if(g!==void 0&&(l=g),w&&a)return a.hide(),l=!1,c=null,u=-1,i==null||i({editor:n,node:null,pos:-1}),h;if(d.docChanged&&u!==-1&&e&&a)if(NY(d)){const v=((k,E)=>{const S=Lt.getState(k);return S?Iy(S.doc,S.type,E,S.binding.mapping)||0:-1})(p,o);v!==u&&(u=v)}else{const v=d.mapping.map(u);v!==u&&(u=v,o=t4(p,u))}return h}},view:d=>{var h;return e.draggable=!0,e.style.pointerEvents="auto",(h=n.view.dom.parentElement)===null||h===void 0||h.appendChild(s),s.appendChild(e),s.style.pointerEvents="none",s.style.position="absolute",s.style.top="0",s.style.left="0",a=eu(d.dom,{getReferenceClientRect:null,interactive:!0,trigger:"manual",placement:"left-start",hideOnClick:!1,duration:100,popperOptions:{modifiers:[{name:"flip",enabled:!1},{name:"preventOverflow",options:{rootBoundary:"document",mainAxis:!1}}]},...r,appendTo:s,content:e}),{update(f,p){if(!e||!a||(e.draggable=!l,d.state.doc.eq(p.doc)||u===-1))return;let g=d.nodeDOM(u);if(g=H8(d,g),g===d.dom||(g==null?void 0:g.nodeType)!==1)return;const w=d.posAtDOM(g,0),v=F8(n.state.doc,w),k=j8(n.state.doc,w);c=v,u=k,o=t4(d.state,u),i==null||i({editor:n,node:c,pos:u}),a.setProps({getReferenceClientRect:()=>g.getBoundingClientRect()})},destroy(){a==null||a.destroy(),e&&B8(s)}}},props:{handleDOMEvents:{mouseleave:(d,h)=>(l||h.target&&!s.contains(h.relatedTarget)&&(a==null||a.hide(),c=null,u=-1,i==null||i({editor:n,node:null,pos:-1})),!1),mousemove(d,h){if(!e||!a||l)return!1;const f=cA({x:h.clientX,y:h.clientY,direction:"right",editor:n});if(!f.resultElement)return!1;let p=f.resultElement;if(p=H8(d,p),p===d.dom||(p==null?void 0:p.nodeType)!==1)return!1;const g=d.posAtDOM(p,0),w=F8(n.state.doc,g);if(w!==c){const v=j8(n.state.doc,g);c=w,u=v,o=t4(d.state,u),i==null||i({editor:n,node:c,pos:u}),a.setProps({getReferenceClientRect:()=>p.getBoundingClientRect()}),a.show()}return!1}}}})};zt.create({name:"dragHandle",addOptions:()=>({render(){const t=document.createElement("div");return t.classList.add("drag-handle"),t},tippyOptions:{},locked:!1,onNodeChange:()=>null}),addCommands(){return{lockDragHandle:()=>({editor:t})=>(this.options.locked=!0,t.commands.setMeta("lockDragHandle",this.options.locked)),unlockDragHandle:()=>({editor:t})=>(this.options.locked=!1,t.commands.setMeta("lockDragHandle",this.options.locked)),toggleDragHandle:()=>({editor:t})=>(this.options.locked=!this.options.locked,t.commands.setMeta("lockDragHandle",this.options.locked))}},addProseMirrorPlugins(){const t=this.options.render();return[dA({tippyOptions:this.options.tippyOptions,element:t,editor:this.editor,onNodeChange:this.options.onNodeChange})]}});const RY=t=>{const{className:e="drag-handle",children:n,editor:r,pluginKey:i=uA,onNodeChange:s,tippyOptions:o={}}=t,[a,l]=P.useState(null),c=P.useRef(null);return P.useEffect(()=>a?r.isDestroyed?()=>{c.current=null}:(c.current||(c.current=dA({editor:r,element:a,pluginKey:i,tippyOptions:o,onNodeChange:s}),r.registerPlugin(c.current)),()=>{r.unregisterPlugin(i),c.current=null}):()=>{c.current=null},[a,r,s,i]),Tt.createElement("div",{className:e,ref:l},n)};class ur{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new ur(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class jr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new jr(n,ur.range(this,e))}}class K{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,s,o=n&&n.loc;if(o&&o.start<=o.end){var a=o.lexer.input;i=o.start,s=o.end,i===a.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=a.slice(i,s).replace(/[^]/g,"$&"),c;i>15?c=""+a.slice(i-15,i):c=a.slice(0,i);var u;s+15<a.length?u=a.slice(s,s+15)+"":u=a.slice(s),r+=c+l+u}var d=new Error(r);return d.name="ParseError",d.__proto__=K.prototype,d.position=i,i!=null&&s!=null&&(d.length=s-i),d.rawMessage=e,d}}K.prototype.__proto__=Error.prototype;var _Y=function(e,n){return e.indexOf(n)!==-1},LY=function(e,n){return e===void 0?n:e},PY=/([A-Z])/g,zY=function(e){return e.replace(PY,"-$1").toLowerCase()},BY={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},jY=/[&><"']/g;function FY(t){return String(t).replace(jY,e=>BY[e])}var hA=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},HY=function(e){var n=hA(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},$Y=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},VY=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},ye={contains:_Y,deflt:LY,escape:FY,hyphenate:zY,getBaseElem:hA,isCharacterBox:HY,protocolFromUrl:VY},yf={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function UY(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class b3{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in yf)if(yf.hasOwnProperty(n)){var r=yf[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:UY(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new K("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=ye.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}}class eo{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return ji[WY[this.id]]}sub(){return ji[qY[this.id]]}fracNum(){return ji[KY[this.id]]}fracDen(){return ji[GY[this.id]]}cramp(){return ji[JY[this.id]]}text(){return ji[YY[this.id]]}isTight(){return this.size>=2}}var k3=0,cm=1,gc=2,Os=3,i0=4,Lr=5,Uc=6,Ln=7,ji=[new eo(k3,0,!1),new eo(cm,0,!0),new eo(gc,1,!1),new eo(Os,1,!0),new eo(i0,2,!1),new eo(Lr,2,!0),new eo(Uc,3,!1),new eo(Ln,3,!0)],WY=[i0,Lr,i0,Lr,Uc,Ln,Uc,Ln],qY=[Lr,Lr,Lr,Lr,Ln,Ln,Ln,Ln],KY=[gc,Os,i0,Lr,Uc,Ln,Uc,Ln],GY=[Os,Os,Lr,Lr,Ln,Ln,Ln,Ln],JY=[cm,cm,Os,Os,Lr,Lr,Ln,Ln],YY=[k3,cm,gc,Os,gc,Os,gc,Os],xe={DISPLAY:ji[k3],TEXT:ji[gc],SCRIPT:ji[i0],SCRIPTSCRIPT:ji[Uc]},Dy=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function XY(t){for(var e=0;e<Dy.length;e++)for(var n=Dy[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var wf=[];Dy.forEach(t=>t.blocks.forEach(e=>wf.push(...e)));function fA(t){for(var e=0;e<wf.length;e+=2)if(t>=wf[e]&&t<=wf[e+1])return!0;return!1}var Il=80,QY=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ZY=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},eX=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},tX=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},nX=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},rX=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},iX=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},sX=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=QY(n,Il);break;case"sqrtSize1":i=ZY(n,Il);break;case"sqrtSize2":i=eX(n,Il);break;case"sqrtSize3":i=tX(n,Il);break;case"sqrtSize4":i=nX(n,Il);break;case"sqrtTall":i=iX(n,Il,r)}return i},oX=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},$8={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},aX=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class M0{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return ye.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Ui={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Eh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},V8={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function lX(t,e){Ui[t]=e}function x3(t,e,n){if(!Ui[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Ui[e][r];if(!i&&t[0]in V8&&(r=V8[t[0]].charCodeAt(0),i=Ui[e][r]),!i&&n==="text"&&fA(r)&&(i=Ui[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var n4={};function cX(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!n4[e]){var n=n4[e]={cssEmPerMu:Eh.quad[e]/18};for(var r in Eh)Eh.hasOwnProperty(r)&&(n[r]=Eh[r][e])}return n4[e]}var uX=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],U8=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],W8=function(e,n){return n.size<2?e:uX[e-1][n.size-1]};class vs{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||vs.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=U8[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new vs(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:W8(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:U8[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=W8(vs.BASESIZE,e);return this.size===n&&this.textSize===vs.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==vs.BASESIZE?["sizing","reset-size"+this.size,"size"+vs.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=cX(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}vs.BASESIZE=6;var Ry={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},dX={ex:!0,em:!0,mu:!0},pA=function(e){return typeof e!="string"&&(e=e.unit),e in Ry||e in dX||e==="ex"},Mt=function(e,n){var r;if(e.unit in Ry)r=Ry[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new K("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},J=function(e){return+e.toFixed(4)+"em"},Yo=function(e){return e.filter(n=>n).join(" ")},mA=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},gA=function(e){var n=document.createElement(e);n.className=Yo(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)n.appendChild(this.children[s].toNode());return n},vA=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+ye.escape(Yo(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ye.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+ye.escape(r)+'"');for(var s in this.attributes)this.attributes.hasOwnProperty(s)&&(n+=" "+s+'="'+ye.escape(this.attributes[s])+'"');n+=">";for(var o=0;o<this.children.length;o++)n+=this.children[o].toMarkup();return n+="</"+e+">",n};class A0{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,mA.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return ye.contains(this.classes,e)}toNode(){return gA.call(this,"span")}toMarkup(){return vA.call(this,"span")}}class S3{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,mA.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return ye.contains(this.classes,e)}toNode(){return gA.call(this,"a")}toMarkup(){return vA.call(this,"a")}}class hX{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return ye.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+ye.escape(this.src)+'"'+(' alt="'+ye.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=ye.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+ye.escape(n)+'"'),e+="'/>",e}}var fX={:"",:"",:"",:""};class Wr{constructor(e,n,r,i,s,o,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=s||0,this.width=o||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var c=XY(this.text.charCodeAt(0));c&&this.classes.push(c+"_fallback"),/[]/.test(this.text)&&(this.text=fX[this.text])}hasClass(e){return ye.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=J(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=Yo(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=ye.escape(Yo(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=ye.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+ye.escape(r)+'"');var s=ye.escape(this.text);return e?(n+=">",n+=s,n+="</span>",n):s}}class Fs{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+ye.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Xo{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",$8[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+ye.escape(this.alternate)+'"/>':'<path d="'+ye.escape($8[this.pathName])+'"/>'}}class _y{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+ye.escape(this.attributes[n])+'"');return e+="/>",e}}function q8(t){if(t instanceof Wr)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function pX(t){if(t instanceof A0)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var mX={bin:1,close:1,inner:1,open:1,punct:1,rel:1},gX={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},ht={math:{},text:{}};function m(t,e,n,r,i,s){ht[t][i]={font:e,group:n,replace:r},s&&r&&(ht[t][r]=ht[t][i])}var y="math",V="text",C="main",A="ams",xt="accent-token",ne="bin",Vn="close",au="inner",ke="mathord",Jt="op-token",Sr="open",w1="punct",O="rel",Gs="spacing",R="textord";m(y,C,O,"","\\equiv",!0);m(y,C,O,"","\\prec",!0);m(y,C,O,"","\\succ",!0);m(y,C,O,"","\\sim",!0);m(y,C,O,"","\\perp");m(y,C,O,"","\\preceq",!0);m(y,C,O,"","\\succeq",!0);m(y,C,O,"","\\simeq",!0);m(y,C,O,"","\\mid",!0);m(y,C,O,"","\\ll",!0);m(y,C,O,"","\\gg",!0);m(y,C,O,"","\\asymp",!0);m(y,C,O,"","\\parallel");m(y,C,O,"","\\bowtie",!0);m(y,C,O,"","\\smile",!0);m(y,C,O,"","\\sqsubseteq",!0);m(y,C,O,"","\\sqsupseteq",!0);m(y,C,O,"","\\doteq",!0);m(y,C,O,"","\\frown",!0);m(y,C,O,"","\\ni",!0);m(y,C,O,"","\\propto",!0);m(y,C,O,"","\\vdash",!0);m(y,C,O,"","\\dashv",!0);m(y,C,O,"","\\owns");m(y,C,w1,".","\\ldotp");m(y,C,w1,"","\\cdotp");m(y,C,R,"#","\\#");m(V,C,R,"#","\\#");m(y,C,R,"&","\\&");m(V,C,R,"&","\\&");m(y,C,R,"","\\aleph",!0);m(y,C,R,"","\\forall",!0);m(y,C,R,"","\\hbar",!0);m(y,C,R,"","\\exists",!0);m(y,C,R,"","\\nabla",!0);m(y,C,R,"","\\flat",!0);m(y,C,R,"","\\ell",!0);m(y,C,R,"","\\natural",!0);m(y,C,R,"","\\clubsuit",!0);m(y,C,R,"","\\wp",!0);m(y,C,R,"","\\sharp",!0);m(y,C,R,"","\\diamondsuit",!0);m(y,C,R,"","\\Re",!0);m(y,C,R,"","\\heartsuit",!0);m(y,C,R,"","\\Im",!0);m(y,C,R,"","\\spadesuit",!0);m(y,C,R,"","\\S",!0);m(V,C,R,"","\\S");m(y,C,R,"","\\P",!0);m(V,C,R,"","\\P");m(y,C,R,"","\\dag");m(V,C,R,"","\\dag");m(V,C,R,"","\\textdagger");m(y,C,R,"","\\ddag");m(V,C,R,"","\\ddag");m(V,C,R,"","\\textdaggerdbl");m(y,C,Vn,"","\\rmoustache",!0);m(y,C,Sr,"","\\lmoustache",!0);m(y,C,Vn,"","\\rgroup",!0);m(y,C,Sr,"","\\lgroup",!0);m(y,C,ne,"","\\mp",!0);m(y,C,ne,"","\\ominus",!0);m(y,C,ne,"","\\uplus",!0);m(y,C,ne,"","\\sqcap",!0);m(y,C,ne,"","\\ast");m(y,C,ne,"","\\sqcup",!0);m(y,C,ne,"","\\bigcirc",!0);m(y,C,ne,"","\\bullet",!0);m(y,C,ne,"","\\ddagger");m(y,C,ne,"","\\wr",!0);m(y,C,ne,"","\\amalg");m(y,C,ne,"&","\\And");m(y,C,O,"","\\longleftarrow",!0);m(y,C,O,"","\\Leftarrow",!0);m(y,C,O,"","\\Longleftarrow",!0);m(y,C,O,"","\\longrightarrow",!0);m(y,C,O,"","\\Rightarrow",!0);m(y,C,O,"","\\Longrightarrow",!0);m(y,C,O,"","\\leftrightarrow",!0);m(y,C,O,"","\\longleftrightarrow",!0);m(y,C,O,"","\\Leftrightarrow",!0);m(y,C,O,"","\\Longleftrightarrow",!0);m(y,C,O,"","\\mapsto",!0);m(y,C,O,"","\\longmapsto",!0);m(y,C,O,"","\\nearrow",!0);m(y,C,O,"","\\hookleftarrow",!0);m(y,C,O,"","\\hookrightarrow",!0);m(y,C,O,"","\\searrow",!0);m(y,C,O,"","\\leftharpoonup",!0);m(y,C,O,"","\\rightharpoonup",!0);m(y,C,O,"","\\swarrow",!0);m(y,C,O,"","\\leftharpoondown",!0);m(y,C,O,"","\\rightharpoondown",!0);m(y,C,O,"","\\nwarrow",!0);m(y,C,O,"","\\rightleftharpoons",!0);m(y,A,O,"","\\nless",!0);m(y,A,O,"","\\@nleqslant");m(y,A,O,"","\\@nleqq");m(y,A,O,"","\\lneq",!0);m(y,A,O,"","\\lneqq",!0);m(y,A,O,"","\\@lvertneqq");m(y,A,O,"","\\lnsim",!0);m(y,A,O,"","\\lnapprox",!0);m(y,A,O,"","\\nprec",!0);m(y,A,O,"","\\npreceq",!0);m(y,A,O,"","\\precnsim",!0);m(y,A,O,"","\\precnapprox",!0);m(y,A,O,"","\\nsim",!0);m(y,A,O,"","\\@nshortmid");m(y,A,O,"","\\nmid",!0);m(y,A,O,"","\\nvdash",!0);m(y,A,O,"","\\nvDash",!0);m(y,A,O,"","\\ntriangleleft");m(y,A,O,"","\\ntrianglelefteq",!0);m(y,A,O,"","\\subsetneq",!0);m(y,A,O,"","\\@varsubsetneq");m(y,A,O,"","\\subsetneqq",!0);m(y,A,O,"","\\@varsubsetneqq");m(y,A,O,"","\\ngtr",!0);m(y,A,O,"","\\@ngeqslant");m(y,A,O,"","\\@ngeqq");m(y,A,O,"","\\gneq",!0);m(y,A,O,"","\\gneqq",!0);m(y,A,O,"","\\@gvertneqq");m(y,A,O,"","\\gnsim",!0);m(y,A,O,"","\\gnapprox",!0);m(y,A,O,"","\\nsucc",!0);m(y,A,O,"","\\nsucceq",!0);m(y,A,O,"","\\succnsim",!0);m(y,A,O,"","\\succnapprox",!0);m(y,A,O,"","\\ncong",!0);m(y,A,O,"","\\@nshortparallel");m(y,A,O,"","\\nparallel",!0);m(y,A,O,"","\\nVDash",!0);m(y,A,O,"","\\ntriangleright");m(y,A,O,"","\\ntrianglerighteq",!0);m(y,A,O,"","\\@nsupseteqq");m(y,A,O,"","\\supsetneq",!0);m(y,A,O,"","\\@varsupsetneq");m(y,A,O,"","\\supsetneqq",!0);m(y,A,O,"","\\@varsupsetneqq");m(y,A,O,"","\\nVdash",!0);m(y,A,O,"","\\precneqq",!0);m(y,A,O,"","\\succneqq",!0);m(y,A,O,"","\\@nsubseteqq");m(y,A,ne,"","\\unlhd");m(y,A,ne,"","\\unrhd");m(y,A,O,"","\\nleftarrow",!0);m(y,A,O,"","\\nrightarrow",!0);m(y,A,O,"","\\nLeftarrow",!0);m(y,A,O,"","\\nRightarrow",!0);m(y,A,O,"","\\nleftrightarrow",!0);m(y,A,O,"","\\nLeftrightarrow",!0);m(y,A,O,"","\\vartriangle");m(y,A,R,"","\\hslash");m(y,A,R,"","\\triangledown");m(y,A,R,"","\\lozenge");m(y,A,R,"","\\circledS");m(y,A,R,"","\\circledR");m(V,A,R,"","\\circledR");m(y,A,R,"","\\measuredangle",!0);m(y,A,R,"","\\nexists");m(y,A,R,"","\\mho");m(y,A,R,"","\\Finv",!0);m(y,A,R,"","\\Game",!0);m(y,A,R,"","\\backprime");m(y,A,R,"","\\blacktriangle");m(y,A,R,"","\\blacktriangledown");m(y,A,R,"","\\blacksquare");m(y,A,R,"","\\blacklozenge");m(y,A,R,"","\\bigstar");m(y,A,R,"","\\sphericalangle",!0);m(y,A,R,"","\\complement",!0);m(y,A,R,"","\\eth",!0);m(V,C,R,"","");m(y,A,R,"","\\diagup");m(y,A,R,"","\\diagdown");m(y,A,R,"","\\square");m(y,A,R,"","\\Box");m(y,A,R,"","\\Diamond");m(y,A,R,"","\\yen",!0);m(V,A,R,"","\\yen",!0);m(y,A,R,"","\\checkmark",!0);m(V,A,R,"","\\checkmark");m(y,A,R,"","\\beth",!0);m(y,A,R,"","\\daleth",!0);m(y,A,R,"","\\gimel",!0);m(y,A,R,"","\\digamma",!0);m(y,A,R,"","\\varkappa");m(y,A,Sr,"","\\@ulcorner",!0);m(y,A,Vn,"","\\@urcorner",!0);m(y,A,Sr,"","\\@llcorner",!0);m(y,A,Vn,"","\\@lrcorner",!0);m(y,A,O,"","\\leqq",!0);m(y,A,O,"","\\leqslant",!0);m(y,A,O,"","\\eqslantless",!0);m(y,A,O,"","\\lesssim",!0);m(y,A,O,"","\\lessapprox",!0);m(y,A,O,"","\\approxeq",!0);m(y,A,ne,"","\\lessdot");m(y,A,O,"","\\lll",!0);m(y,A,O,"","\\lessgtr",!0);m(y,A,O,"","\\lesseqgtr",!0);m(y,A,O,"","\\lesseqqgtr",!0);m(y,A,O,"","\\doteqdot");m(y,A,O,"","\\risingdotseq",!0);m(y,A,O,"","\\fallingdotseq",!0);m(y,A,O,"","\\backsim",!0);m(y,A,O,"","\\backsimeq",!0);m(y,A,O,"","\\subseteqq",!0);m(y,A,O,"","\\Subset",!0);m(y,A,O,"","\\sqsubset",!0);m(y,A,O,"","\\preccurlyeq",!0);m(y,A,O,"","\\curlyeqprec",!0);m(y,A,O,"","\\precsim",!0);m(y,A,O,"","\\precapprox",!0);m(y,A,O,"","\\vartriangleleft");m(y,A,O,"","\\trianglelefteq");m(y,A,O,"","\\vDash",!0);m(y,A,O,"","\\Vvdash",!0);m(y,A,O,"","\\smallsmile");m(y,A,O,"","\\smallfrown");m(y,A,O,"","\\bumpeq",!0);m(y,A,O,"","\\Bumpeq",!0);m(y,A,O,"","\\geqq",!0);m(y,A,O,"","\\geqslant",!0);m(y,A,O,"","\\eqslantgtr",!0);m(y,A,O,"","\\gtrsim",!0);m(y,A,O,"","\\gtrapprox",!0);m(y,A,ne,"","\\gtrdot");m(y,A,O,"","\\ggg",!0);m(y,A,O,"","\\gtrless",!0);m(y,A,O,"","\\gtreqless",!0);m(y,A,O,"","\\gtreqqless",!0);m(y,A,O,"","\\eqcirc",!0);m(y,A,O,"","\\circeq",!0);m(y,A,O,"","\\triangleq",!0);m(y,A,O,"","\\thicksim");m(y,A,O,"","\\thickapprox");m(y,A,O,"","\\supseteqq",!0);m(y,A,O,"","\\Supset",!0);m(y,A,O,"","\\sqsupset",!0);m(y,A,O,"","\\succcurlyeq",!0);m(y,A,O,"","\\curlyeqsucc",!0);m(y,A,O,"","\\succsim",!0);m(y,A,O,"","\\succapprox",!0);m(y,A,O,"","\\vartriangleright");m(y,A,O,"","\\trianglerighteq");m(y,A,O,"","\\Vdash",!0);m(y,A,O,"","\\shortmid");m(y,A,O,"","\\shortparallel");m(y,A,O,"","\\between",!0);m(y,A,O,"","\\pitchfork",!0);m(y,A,O,"","\\varpropto");m(y,A,O,"","\\blacktriangleleft");m(y,A,O,"","\\therefore",!0);m(y,A,O,"","\\backepsilon");m(y,A,O,"","\\blacktriangleright");m(y,A,O,"","\\because",!0);m(y,A,O,"","\\llless");m(y,A,O,"","\\gggtr");m(y,A,ne,"","\\lhd");m(y,A,ne,"","\\rhd");m(y,A,O,"","\\eqsim",!0);m(y,C,O,"","\\Join");m(y,A,O,"","\\Doteq",!0);m(y,A,ne,"","\\dotplus",!0);m(y,A,ne,"","\\smallsetminus");m(y,A,ne,"","\\Cap",!0);m(y,A,ne,"","\\Cup",!0);m(y,A,ne,"","\\doublebarwedge",!0);m(y,A,ne,"","\\boxminus",!0);m(y,A,ne,"","\\boxplus",!0);m(y,A,ne,"","\\divideontimes",!0);m(y,A,ne,"","\\ltimes",!0);m(y,A,ne,"","\\rtimes",!0);m(y,A,ne,"","\\leftthreetimes",!0);m(y,A,ne,"","\\rightthreetimes",!0);m(y,A,ne,"","\\curlywedge",!0);m(y,A,ne,"","\\curlyvee",!0);m(y,A,ne,"","\\circleddash",!0);m(y,A,ne,"","\\circledast",!0);m(y,A,ne,"","\\centerdot");m(y,A,ne,"","\\intercal",!0);m(y,A,ne,"","\\doublecap");m(y,A,ne,"","\\doublecup");m(y,A,ne,"","\\boxtimes",!0);m(y,A,O,"","\\dashrightarrow",!0);m(y,A,O,"","\\dashleftarrow",!0);m(y,A,O,"","\\leftleftarrows",!0);m(y,A,O,"","\\leftrightarrows",!0);m(y,A,O,"","\\Lleftarrow",!0);m(y,A,O,"","\\twoheadleftarrow",!0);m(y,A,O,"","\\leftarrowtail",!0);m(y,A,O,"","\\looparrowleft",!0);m(y,A,O,"","\\leftrightharpoons",!0);m(y,A,O,"","\\curvearrowleft",!0);m(y,A,O,"","\\circlearrowleft",!0);m(y,A,O,"","\\Lsh",!0);m(y,A,O,"","\\upuparrows",!0);m(y,A,O,"","\\upharpoonleft",!0);m(y,A,O,"","\\downharpoonleft",!0);m(y,C,O,"","\\origof",!0);m(y,C,O,"","\\imageof",!0);m(y,A,O,"","\\multimap",!0);m(y,A,O,"","\\leftrightsquigarrow",!0);m(y,A,O,"","\\rightrightarrows",!0);m(y,A,O,"","\\rightleftarrows",!0);m(y,A,O,"","\\twoheadrightarrow",!0);m(y,A,O,"","\\rightarrowtail",!0);m(y,A,O,"","\\looparrowright",!0);m(y,A,O,"","\\curvearrowright",!0);m(y,A,O,"","\\circlearrowright",!0);m(y,A,O,"","\\Rsh",!0);m(y,A,O,"","\\downdownarrows",!0);m(y,A,O,"","\\upharpoonright",!0);m(y,A,O,"","\\downharpoonright",!0);m(y,A,O,"","\\rightsquigarrow",!0);m(y,A,O,"","\\leadsto");m(y,A,O,"","\\Rrightarrow",!0);m(y,A,O,"","\\restriction");m(y,C,R,"","`");m(y,C,R,"$","\\$");m(V,C,R,"$","\\$");m(V,C,R,"$","\\textdollar");m(y,C,R,"%","\\%");m(V,C,R,"%","\\%");m(y,C,R,"_","\\_");m(V,C,R,"_","\\_");m(V,C,R,"_","\\textunderscore");m(y,C,R,"","\\angle",!0);m(y,C,R,"","\\infty",!0);m(y,C,R,"","\\prime");m(y,C,R,"","\\triangle");m(y,C,R,"","\\Gamma",!0);m(y,C,R,"","\\Delta",!0);m(y,C,R,"","\\Theta",!0);m(y,C,R,"","\\Lambda",!0);m(y,C,R,"","\\Xi",!0);m(y,C,R,"","\\Pi",!0);m(y,C,R,"","\\Sigma",!0);m(y,C,R,"","\\Upsilon",!0);m(y,C,R,"","\\Phi",!0);m(y,C,R,"","\\Psi",!0);m(y,C,R,"","\\Omega",!0);m(y,C,R,"A","");m(y,C,R,"B","");m(y,C,R,"E","");m(y,C,R,"Z","");m(y,C,R,"H","");m(y,C,R,"I","");m(y,C,R,"K","");m(y,C,R,"M","");m(y,C,R,"N","");m(y,C,R,"O","");m(y,C,R,"P","");m(y,C,R,"T","");m(y,C,R,"X","");m(y,C,R,"","\\neg",!0);m(y,C,R,"","\\lnot");m(y,C,R,"","\\top");m(y,C,R,"","\\bot");m(y,C,R,"","\\emptyset");m(y,A,R,"","\\varnothing");m(y,C,ke,"","\\alpha",!0);m(y,C,ke,"","\\beta",!0);m(y,C,ke,"","\\gamma",!0);m(y,C,ke,"","\\delta",!0);m(y,C,ke,"","\\epsilon",!0);m(y,C,ke,"","\\zeta",!0);m(y,C,ke,"","\\eta",!0);m(y,C,ke,"","\\theta",!0);m(y,C,ke,"","\\iota",!0);m(y,C,ke,"","\\kappa",!0);m(y,C,ke,"","\\lambda",!0);m(y,C,ke,"","\\mu",!0);m(y,C,ke,"","\\nu",!0);m(y,C,ke,"","\\xi",!0);m(y,C,ke,"","\\omicron",!0);m(y,C,ke,"","\\pi",!0);m(y,C,ke,"","\\rho",!0);m(y,C,ke,"","\\sigma",!0);m(y,C,ke,"","\\tau",!0);m(y,C,ke,"","\\upsilon",!0);m(y,C,ke,"","\\phi",!0);m(y,C,ke,"","\\chi",!0);m(y,C,ke,"","\\psi",!0);m(y,C,ke,"","\\omega",!0);m(y,C,ke,"","\\varepsilon",!0);m(y,C,ke,"","\\vartheta",!0);m(y,C,ke,"","\\varpi",!0);m(y,C,ke,"","\\varrho",!0);m(y,C,ke,"","\\varsigma",!0);m(y,C,ke,"","\\varphi",!0);m(y,C,ne,"","*",!0);m(y,C,ne,"+","+");m(y,C,ne,"","-",!0);m(y,C,ne,"","\\cdot",!0);m(y,C,ne,"","\\circ",!0);m(y,C,ne,"","\\div",!0);m(y,C,ne,"","\\pm",!0);m(y,C,ne,"","\\times",!0);m(y,C,ne,"","\\cap",!0);m(y,C,ne,"","\\cup",!0);m(y,C,ne,"","\\setminus",!0);m(y,C,ne,"","\\land");m(y,C,ne,"","\\lor");m(y,C,ne,"","\\wedge",!0);m(y,C,ne,"","\\vee",!0);m(y,C,R,"","\\surd");m(y,C,Sr,"","\\langle",!0);m(y,C,Sr,"","\\lvert");m(y,C,Sr,"","\\lVert");m(y,C,Vn,"?","?");m(y,C,Vn,"!","!");m(y,C,Vn,"","\\rangle",!0);m(y,C,Vn,"","\\rvert");m(y,C,Vn,"","\\rVert");m(y,C,O,"=","=");m(y,C,O,":",":");m(y,C,O,"","\\approx",!0);m(y,C,O,"","\\cong",!0);m(y,C,O,"","\\ge");m(y,C,O,"","\\geq",!0);m(y,C,O,"","\\gets");m(y,C,O,">","\\gt",!0);m(y,C,O,"","\\in",!0);m(y,C,O,"","\\@not");m(y,C,O,"","\\subset",!0);m(y,C,O,"","\\supset",!0);m(y,C,O,"","\\subseteq",!0);m(y,C,O,"","\\supseteq",!0);m(y,A,O,"","\\nsubseteq",!0);m(y,A,O,"","\\nsupseteq",!0);m(y,C,O,"","\\models");m(y,C,O,"","\\leftarrow",!0);m(y,C,O,"","\\le");m(y,C,O,"","\\leq",!0);m(y,C,O,"<","\\lt",!0);m(y,C,O,"","\\rightarrow",!0);m(y,C,O,"","\\to");m(y,A,O,"","\\ngeq",!0);m(y,A,O,"","\\nleq",!0);m(y,C,Gs,"","\\ ");m(y,C,Gs,"","\\space");m(y,C,Gs,"","\\nobreakspace");m(V,C,Gs,"","\\ ");m(V,C,Gs,""," ");m(V,C,Gs,"","\\space");m(V,C,Gs,"","\\nobreakspace");m(y,C,Gs,null,"\\nobreak");m(y,C,Gs,null,"\\allowbreak");m(y,C,w1,",",",");m(y,C,w1,";",";");m(y,A,ne,"","\\barwedge",!0);m(y,A,ne,"","\\veebar",!0);m(y,C,ne,"","\\odot",!0);m(y,C,ne,"","\\oplus",!0);m(y,C,ne,"","\\otimes",!0);m(y,C,R,"","\\partial",!0);m(y,C,ne,"","\\oslash",!0);m(y,A,ne,"","\\circledcirc",!0);m(y,A,ne,"","\\boxdot",!0);m(y,C,ne,"","\\bigtriangleup");m(y,C,ne,"","\\bigtriangledown");m(y,C,ne,"","\\dagger");m(y,C,ne,"","\\diamond");m(y,C,ne,"","\\star");m(y,C,ne,"","\\triangleleft");m(y,C,ne,"","\\triangleright");m(y,C,Sr,"{","\\{");m(V,C,R,"{","\\{");m(V,C,R,"{","\\textbraceleft");m(y,C,Vn,"}","\\}");m(V,C,R,"}","\\}");m(V,C,R,"}","\\textbraceright");m(y,C,Sr,"{","\\lbrace");m(y,C,Vn,"}","\\rbrace");m(y,C,Sr,"[","\\lbrack",!0);m(V,C,R,"[","\\lbrack",!0);m(y,C,Vn,"]","\\rbrack",!0);m(V,C,R,"]","\\rbrack",!0);m(y,C,Sr,"(","\\lparen",!0);m(y,C,Vn,")","\\rparen",!0);m(V,C,R,"<","\\textless",!0);m(V,C,R,">","\\textgreater",!0);m(y,C,Sr,"","\\lfloor",!0);m(y,C,Vn,"","\\rfloor",!0);m(y,C,Sr,"","\\lceil",!0);m(y,C,Vn,"","\\rceil",!0);m(y,C,R,"\\","\\backslash");m(y,C,R,"","|");m(y,C,R,"","\\vert");m(V,C,R,"|","\\textbar",!0);m(y,C,R,"","\\|");m(y,C,R,"","\\Vert");m(V,C,R,"","\\textbardbl");m(V,C,R,"~","\\textasciitilde");m(V,C,R,"\\","\\textbackslash");m(V,C,R,"^","\\textasciicircum");m(y,C,O,"","\\uparrow",!0);m(y,C,O,"","\\Uparrow",!0);m(y,C,O,"","\\downarrow",!0);m(y,C,O,"","\\Downarrow",!0);m(y,C,O,"","\\updownarrow",!0);m(y,C,O,"","\\Updownarrow",!0);m(y,C,Jt,"","\\coprod");m(y,C,Jt,"","\\bigvee");m(y,C,Jt,"","\\bigwedge");m(y,C,Jt,"","\\biguplus");m(y,C,Jt,"","\\bigcap");m(y,C,Jt,"","\\bigcup");m(y,C,Jt,"","\\int");m(y,C,Jt,"","\\intop");m(y,C,Jt,"","\\iint");m(y,C,Jt,"","\\iiint");m(y,C,Jt,"","\\prod");m(y,C,Jt,"","\\sum");m(y,C,Jt,"","\\bigotimes");m(y,C,Jt,"","\\bigoplus");m(y,C,Jt,"","\\bigodot");m(y,C,Jt,"","\\oint");m(y,C,Jt,"","\\oiint");m(y,C,Jt,"","\\oiiint");m(y,C,Jt,"","\\bigsqcup");m(y,C,Jt,"","\\smallint");m(V,C,au,"","\\textellipsis");m(y,C,au,"","\\mathellipsis");m(V,C,au,"","\\ldots",!0);m(y,C,au,"","\\ldots",!0);m(y,C,au,"","\\@cdots",!0);m(y,C,au,"","\\ddots",!0);m(y,C,R,"","\\varvdots");m(y,C,xt,"","\\acute");m(y,C,xt,"","\\grave");m(y,C,xt,"","\\ddot");m(y,C,xt,"~","\\tilde");m(y,C,xt,"","\\bar");m(y,C,xt,"","\\breve");m(y,C,xt,"","\\check");m(y,C,xt,"^","\\hat");m(y,C,xt,"","\\vec");m(y,C,xt,"","\\dot");m(y,C,xt,"","\\mathring");m(y,C,ke,"","\\@imath");m(y,C,ke,"","\\@jmath");m(y,C,R,"","");m(y,C,R,"","");m(V,C,R,"","\\i",!0);m(V,C,R,"","\\j",!0);m(V,C,R,"","\\ss",!0);m(V,C,R,"","\\ae",!0);m(V,C,R,"","\\oe",!0);m(V,C,R,"","\\o",!0);m(V,C,R,"","\\AE",!0);m(V,C,R,"","\\OE",!0);m(V,C,R,"","\\O",!0);m(V,C,xt,"","\\'");m(V,C,xt,"","\\`");m(V,C,xt,"","\\^");m(V,C,xt,"","\\~");m(V,C,xt,"","\\=");m(V,C,xt,"","\\u");m(V,C,xt,"","\\.");m(V,C,xt,"","\\c");m(V,C,xt,"","\\r");m(V,C,xt,"","\\v");m(V,C,xt,"",'\\"');m(V,C,xt,"","\\H");m(V,C,xt,"","\\textcircled");var yA={"--":!0,"---":!0,"``":!0,"''":!0};m(V,C,R,"","--",!0);m(V,C,R,"","\\textendash");m(V,C,R,"","---",!0);m(V,C,R,"","\\textemdash");m(V,C,R,"","`",!0);m(V,C,R,"","\\textquoteleft");m(V,C,R,"","'",!0);m(V,C,R,"","\\textquoteright");m(V,C,R,"","``",!0);m(V,C,R,"","\\textquotedblleft");m(V,C,R,"","''",!0);m(V,C,R,"","\\textquotedblright");m(y,C,R,"","\\degree",!0);m(V,C,R,"","\\degree");m(V,C,R,"","\\textdegree",!0);m(y,C,R,"","\\pounds");m(y,C,R,"","\\mathsterling",!0);m(V,C,R,"","\\pounds");m(V,C,R,"","\\textsterling",!0);m(y,A,R,"","\\maltese");m(V,A,R,"","\\maltese");var K8='0123456789/@."';for(var r4=0;r4<K8.length;r4++){var G8=K8.charAt(r4);m(y,C,R,G8,G8)}var J8='0123456789!@*()-=+";:?/.,';for(var i4=0;i4<J8.length;i4++){var Y8=J8.charAt(i4);m(V,C,R,Y8,Y8)}var um="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var s4=0;s4<um.length;s4++){var Th=um.charAt(s4);m(y,C,ke,Th,Th),m(V,C,R,Th,Th)}m(y,A,R,"C","");m(V,A,R,"C","");m(y,A,R,"H","");m(V,A,R,"H","");m(y,A,R,"N","");m(V,A,R,"N","");m(y,A,R,"P","");m(V,A,R,"P","");m(y,A,R,"Q","");m(V,A,R,"Q","");m(y,A,R,"R","");m(V,A,R,"R","");m(y,A,R,"Z","");m(V,A,R,"Z","");m(y,C,ke,"h","");m(V,C,ke,"h","");var Ce="";for(var Dn=0;Dn<um.length;Dn++){var Rt=um.charAt(Dn);Ce=String.fromCharCode(55349,56320+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56372+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56424+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56580+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56684+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56736+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56788+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56840+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56944+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Dn<26&&(Ce=String.fromCharCode(55349,56632+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce),Ce=String.fromCharCode(55349,56476+Dn),m(y,C,ke,Rt,Ce),m(V,C,R,Rt,Ce))}Ce="";m(y,C,ke,"k",Ce);m(V,C,R,"k",Ce);for(var ga=0;ga<10;ga++){var to=ga.toString();Ce=String.fromCharCode(55349,57294+ga),m(y,C,ke,to,Ce),m(V,C,R,to,Ce),Ce=String.fromCharCode(55349,57314+ga),m(y,C,ke,to,Ce),m(V,C,R,to,Ce),Ce=String.fromCharCode(55349,57324+ga),m(y,C,ke,to,Ce),m(V,C,R,to,Ce),Ce=String.fromCharCode(55349,57334+ga),m(y,C,ke,to,Ce),m(V,C,R,to,Ce)}var Ly="";for(var o4=0;o4<Ly.length;o4++){var Mh=Ly.charAt(o4);m(y,C,ke,Mh,Mh),m(V,C,R,Mh,Mh)}var Ah=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],X8=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],vX=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),s=(r-55296)*1024+(i-56320)+65536,o=n==="math"?0:1;if(119808<=s&&s<120484){var a=Math.floor((s-119808)/26);return[Ah[a][2],Ah[a][o]]}else if(120782<=s&&s<=120831){var l=Math.floor((s-120782)/10);return[X8[l][2],X8[l][o]]}else{if(s===120485||s===120486)return[Ah[0][2],Ah[0][o]];if(120486<s&&s<120782)return["",""];throw new K("Unsupported character: "+e)}},b1=function(e,n,r){return ht[r][e]&&ht[r][e].replace&&(e=ht[r][e].replace),{value:e,metrics:x3(e,n,r)}},ni=function(e,n,r,i,s){var o=b1(e,n,r),a=o.metrics;e=o.value;var l;if(a){var c=a.italic;(r==="text"||i&&i.font==="mathit")&&(c=0),l=new Wr(e,a.height,a.depth,c,a.skew,a.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Wr(e,0,0,0,0,0,s);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var u=i.getColor();u&&(l.style.color=u)}return l},yX=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&b1(e,"Main-Bold",n).metrics?ni(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||ht[n][e].font==="main"?ni(e,"Main-Regular",n,r,i):ni(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},wX=function(e,n,r,i,s){return s!=="textord"&&b1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},bX=function(e,n,r){var i=e.mode,s=e.text,o=["mord"],a=i==="math"||i==="text"&&n.font,l=a?n.font:n.fontFamily,c="",u="";if(s.charCodeAt(0)===55349&&([c,u]=vX(s,i)),c.length>0)return ni(s,c,i,n,o.concat(u));if(l){var d,h;if(l==="boldsymbol"){var f=wX(s,i,n,o,r);d=f.fontName,h=[f.fontClass]}else a?(d=kA[l].fontName,h=[l]):(d=Nh(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(b1(s,d,i).metrics)return ni(s,d,i,n,o.concat(h));if(yA.hasOwnProperty(s)&&d.slice(0,10)==="Typewriter"){for(var p=[],g=0;g<s.length;g++)p.push(ni(s[g],d,i,n,o.concat(h)));return bA(p)}}if(r==="mathord")return ni(s,"Math-Italic",i,n,o.concat(["mathnormal"]));if(r==="textord"){var w=ht[i][s]&&ht[i][s].font;if(w==="ams"){var v=Nh("amsrm",n.fontWeight,n.fontShape);return ni(s,v,i,n,o.concat("amsrm",n.fontWeight,n.fontShape))}else if(w==="main"||!w){var k=Nh("textrm",n.fontWeight,n.fontShape);return ni(s,k,i,n,o.concat(n.fontWeight,n.fontShape))}else{var E=Nh(w,n.fontWeight,n.fontShape);return ni(s,E,i,n,o.concat(E,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},kX=(t,e)=>{if(Yo(t.classes)!==Yo(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},xX=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Wr&&r instanceof Wr&&kX(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},C3=function(e){for(var n=0,r=0,i=0,s=0;s<e.children.length;s++){var o=e.children[s];o.height>n&&(n=o.height),o.depth>r&&(r=o.depth),o.maxFontSize>i&&(i=o.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},qn=function(e,n,r,i){var s=new A0(e,n,r,i);return C3(s),s},wA=(t,e,n,r)=>new A0(t,e,n,r),SX=function(e,n,r){var i=qn([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=J(i.height),i.maxFontSize=1,i},CX=function(e,n,r,i){var s=new S3(e,n,r,i);return C3(s),s},bA=function(e){var n=new M0(e);return C3(n),n},EX=function(e,n){return e instanceof M0?qn([],[e],n):e},TX=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,s=i,o=1;o<n.length;o++){var a=-n[o].shift-s-n[o].elem.depth,l=a-(n[o-1].elem.height+n[o-1].elem.depth);s=s+a,r.push({type:"kern",size:l}),r.push(n[o])}return{children:r,depth:i}}var c;if(e.positionType==="top"){for(var u=e.positionData,d=0;d<e.children.length;d++){var h=e.children[d];u-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}c=u}else if(e.positionType==="bottom")c=-e.positionData;else{var f=e.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")c=-f.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")c=-f.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:c}},MX=function(e,n){for(var{children:r,depth:i}=TX(e),s=0,o=0;o<r.length;o++){var a=r[o];if(a.type==="elem"){var l=a.elem;s=Math.max(s,l.maxFontSize,l.height)}}s+=2;var c=qn(["pstrut"],[]);c.style.height=J(s);for(var u=[],d=i,h=i,f=i,p=0;p<r.length;p++){var g=r[p];if(g.type==="kern")f+=g.size;else{var w=g.elem,v=g.wrapperClasses||[],k=g.wrapperStyle||{},E=qn(v,[c,w],void 0,k);E.style.top=J(-s-f-w.depth),g.marginLeft&&(E.style.marginLeft=g.marginLeft),g.marginRight&&(E.style.marginRight=g.marginRight),u.push(E),f+=w.height+w.depth}d=Math.min(d,f),h=Math.max(h,f)}var S=qn(["vlist"],u);S.style.height=J(h);var N;if(d<0){var b=qn([],[]),M=qn(["vlist"],[b]);M.style.height=J(-d);var I=qn(["vlist-s"],[new Wr("")]);N=[qn(["vlist-r"],[S,I]),qn(["vlist-r"],[M])]}else N=[qn(["vlist-r"],[S])];var _=qn(["vlist-t"],N);return N.length===2&&_.classes.push("vlist-t2"),_.height=h,_.depth=-d,_},AX=(t,e)=>{var n=qn(["mspace"],[],e),r=Mt(t,e);return n.style.marginRight=J(r),n},Nh=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var s;return n==="textbf"&&r==="textit"?s="BoldItalic":n==="textbf"?s="Bold":n==="textit"?s="Italic":s="Regular",i+"-"+s},kA={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},xA={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},NX=function(e,n){var[r,i,s]=xA[e],o=new Xo(r),a=new Fs([o],{width:J(i),height:J(s),style:"width:"+J(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),l=wA(["overlay"],[a],n);return l.height=s,l.style.height=J(s),l.style.width=J(i),l},z={fontMap:kA,makeSymbol:ni,mathsym:yX,makeSpan:qn,makeSvgSpan:wA,makeLineSpan:SX,makeAnchor:CX,makeFragment:bA,wrapFragment:EX,makeVList:MX,makeOrd:bX,makeGlue:AX,staticSvg:NX,svgData:xA,tryCombineChars:xX},St={number:3,unit:"mu"},va={number:4,unit:"mu"},us={number:5,unit:"mu"},OX={mord:{mop:St,mbin:va,mrel:us,minner:St},mop:{mord:St,mop:St,mrel:us,minner:St},mbin:{mord:va,mop:va,mopen:va,minner:va},mrel:{mord:us,mop:us,mopen:us,minner:us},mopen:{},mclose:{mop:St,mbin:va,mrel:us,minner:St},mpunct:{mord:St,mop:St,mrel:us,mopen:St,mclose:St,mpunct:St,minner:St},minner:{mord:St,mop:St,mbin:va,mrel:us,mopen:St,mpunct:St,minner:St}},IX={mord:{mop:St},mop:{mord:St,mop:St},mbin:{},mrel:{},mopen:{},mclose:{mop:St},mpunct:{},minner:{mop:St}},SA={},dm={},hm={};function Z(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)SA[n[l]]=a;e&&(s&&(dm[e]=s),o&&(hm[e]=o))}function vl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;Z({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var fm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Ht=function(e){return e.type==="ordgroup"?e.body:[e]},Hs=z.makeSpan,DX=["leftmost","mbin","mopen","mrel","mop","mpunct"],RX=["rightmost","mrel","mclose","mpunct"],_X={display:xe.DISPLAY,text:xe.TEXT,script:xe.SCRIPT,scriptscript:xe.SCRIPTSCRIPT},LX={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},en=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var s=[],o=0;o<e.length;o++){var a=Ue(e[o],n);if(a instanceof M0){var l=a.children;s.push(...l)}else s.push(a)}if(z.tryCombineChars(s),!r)return s;var c=n;if(e.length===1){var u=e[0];u.type==="sizing"?c=n.havingSize(u.size):u.type==="styling"&&(c=n.havingStyle(_X[u.style]))}var d=Hs([i[0]||"leftmost"],[],n),h=Hs([i[1]||"rightmost"],[],n),f=r==="root";return Q8(s,(p,g)=>{var w=g.classes[0],v=p.classes[0];w==="mbin"&&ye.contains(RX,v)?g.classes[0]="mord":v==="mbin"&&ye.contains(DX,w)&&(p.classes[0]="mord")},{node:d},h,f),Q8(s,(p,g)=>{var w=Py(g),v=Py(p),k=w&&v?p.hasClass("mtight")?IX[w][v]:OX[w][v]:null;if(k)return z.makeGlue(k,c)},{node:d},h,f),s},Q8=function t(e,n,r,i,s){i&&e.push(i);for(var o=0;o<e.length;o++){var a=e[o],l=CA(a);if(l){t(l.children,n,r,null,s);continue}var c=!a.hasClass("mspace");if(c){var u=n(a,r.node);u&&(r.insertAfter?r.insertAfter(u):(e.unshift(u),o++))}c?r.node=a:s&&a.hasClass("newline")&&(r.node=Hs(["leftmost"])),r.insertAfter=(d=>h=>{e.splice(d+1,0,h),o++})(o)}i&&e.pop()},CA=function(e){return e instanceof M0||e instanceof S3||e instanceof A0&&e.hasClass("enclosing")?e:null},PX=function t(e,n){var r=CA(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},Py=function(e,n){return e?(n&&(e=PX(e,n)),LX[e.classes[0]]||null):null},s0=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Hs(n.concat(r))},Ue=function(e,n,r){if(!e)return Hs();if(dm[e.type]){var i=dm[e.type](e,n);if(r&&n.size!==r.size){i=Hs(n.sizingClasses(r),[i],n);var s=n.sizeMultiplier/r.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new K("Got group of unknown type: '"+e.type+"'")};function Oh(t,e){var n=Hs(["base"],t,e),r=Hs(["strut"]);return r.style.height=J(n.height+n.depth),n.depth&&(r.style.verticalAlign=J(-n.depth)),n.children.unshift(r),n}function zy(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=en(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var s=[],o=[],a=0;a<r.length;a++)if(o.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,o.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(s.push(Oh(o,e)),o=[])}else r[a].hasClass("newline")&&(o.pop(),o.length>0&&(s.push(Oh(o,e)),o=[]),s.push(r[a]));o.length>0&&s.push(Oh(o,e));var c;n?(c=Oh(en(n,e,!0)),c.classes=["tag"],s.push(c)):i&&s.push(i);var u=Hs(["katex-html"],s);if(u.setAttribute("aria-hidden","true"),c){var d=c.children[0];d.style.height=J(u.height+u.depth),u.depth&&(d.style.verticalAlign=J(-u.depth))}return u}function EA(t){return new M0(t)}class Rr{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=Yo(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=ye.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+ye.escape(Yo(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class cd{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return ye.escape(this.toText())}toText(){return this.text}}class zX{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",J(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+J(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var W={MathNode:Rr,TextNode:cd,SpaceNode:zX,newDocumentFragment:EA},qr=function(e,n,r){return ht[n][e]&&ht[n][e].replace&&e.charCodeAt(0)!==55349&&!(yA.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=ht[n][e].replace),new W.TextNode(e)},E3=function(e){return e.length===1?e[0]:new W.MathNode("mrow",e)},T3=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var s=e.text;if(ye.contains(["\\imath","\\jmath"],s))return null;ht[i][s]&&ht[i][s].replace&&(s=ht[i][s].replace);var o=z.fontMap[r].fontName;return x3(s,o,i)?z.fontMap[r].variant:null},ir=function(e,n,r){if(e.length===1){var i=at(e[0],n);return r&&i instanceof Rr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],o,a=0;a<e.length;a++){var l=at(e[a],n);if(l instanceof Rr&&o instanceof Rr){if(l.type==="mtext"&&o.type==="mtext"&&l.getAttribute("mathvariant")===o.getAttribute("mathvariant")){o.children.push(...l.children);continue}else if(l.type==="mn"&&o.type==="mn"){o.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&o.type==="mn"){var c=l.children[0];if(c instanceof cd&&c.text==="."){o.children.push(...l.children);continue}}else if(o.type==="mi"&&o.children.length===1){var u=o.children[0];if(u instanceof cd&&u.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof cd&&d.text.length>0&&(d.text=d.text.slice(0,1)+""+d.text.slice(1),s.pop())}}}s.push(l),o=l}return s},Qo=function(e,n,r){return E3(ir(e,n,r))},at=function(e,n){if(!e)return new W.MathNode("mrow");if(hm[e.type]){var r=hm[e.type](e,n);return r}else throw new K("Got group of unknown type: '"+e.type+"'")};function Z8(t,e,n,r,i){var s=ir(t,n),o;s.length===1&&s[0]instanceof Rr&&ye.contains(["mrow","mtable"],s[0].type)?o=s[0]:o=new W.MathNode("mrow",s);var a=new W.MathNode("annotation",[new W.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new W.MathNode("semantics",[o,a]),c=new W.MathNode("math",[l]);c.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&c.setAttribute("display","block");var u=i?"katex":"katex-mathml";return z.makeSpan([u],[c])}var TA=function(e){return new vs({style:e.displayMode?xe.DISPLAY:xe.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},MA=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=z.makeSpan(r,[e])}return e},BX=function(e,n,r){var i=TA(r),s;if(r.output==="mathml")return Z8(e,n,i,r.displayMode,!0);if(r.output==="html"){var o=zy(e,i);s=z.makeSpan(["katex"],[o])}else{var a=Z8(e,n,i,r.displayMode,!1),l=zy(e,i);s=z.makeSpan(["katex"],[a,l])}return MA(s,r)},jX=function(e,n,r){var i=TA(r),s=zy(e,i),o=z.makeSpan(["katex"],[s]);return MA(o,r)},FX={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},HX=function(e){var n=new W.MathNode("mo",[new W.TextNode(FX[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},$X={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},VX=function(e){return e.type==="ordgroup"?e.body.length:1},UX=function(e,n){function r(){var a=4e5,l=e.label.slice(1);if(ye.contains(["widehat","widecheck","widetilde","utilde"],l)){var c=e,u=VX(c.base),d,h,f;if(u>5)l==="widehat"||l==="widecheck"?(d=420,a=2364,f=.42,h=l+"4"):(d=312,a=2340,f=.34,h="tilde4");else{var p=[1,1,2,2,3,3][u];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][p],d=[0,239,300,360,420][p],f=[0,.24,.3,.3,.36,.42][p],h=l+p):(a=[0,600,1033,2339,2340][p],d=[0,260,286,306,312][p],f=[0,.26,.286,.3,.306,.34][p],h="tilde"+p)}var g=new Xo(h),w=new Fs([g],{width:"100%",height:J(f),viewBox:"0 0 "+a+" "+d,preserveAspectRatio:"none"});return{span:z.makeSvgSpan([],[w],n),minWidth:0,height:f}}else{var v=[],k=$X[l],[E,S,N]=k,b=N/1e3,M=E.length,I,_;if(M===1){var F=k[3];I=["hide-tail"],_=[F]}else if(M===2)I=["halfarrow-left","halfarrow-right"],_=["xMinYMin","xMaxYMin"];else if(M===3)I=["brace-left","brace-center","brace-right"],_=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+M+" children.");for(var G=0;G<M;G++){var Q=new Xo(E[G]),oe=new Fs([Q],{width:"400em",height:J(b),viewBox:"0 0 "+a+" "+N,preserveAspectRatio:_[G]+" slice"}),ge=z.makeSvgSpan([I[G]],[oe],n);if(M===1)return{span:ge,minWidth:S,height:b};ge.style.height=J(b),v.push(ge)}return{span:z.makeSpan(["stretchy"],v,n),minWidth:S,height:b}}}var{span:i,minWidth:s,height:o}=r();return i.height=o,i.style.height=J(o),s>0&&(i.style.minWidth=J(s)),i},WX=function(e,n,r,i,s){var o,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(o=z.makeSpan(["stretchy",n],[],s),n==="fbox"){var l=s.color&&s.getColor();l&&(o.style.borderColor=l)}}else{var c=[];/^[bx]cancel$/.test(n)&&c.push(new _y({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&c.push(new _y({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var u=new Fs(c,{width:"100%",height:J(a)});o=z.makeSvgSpan([],[u],s)}return o.height=a,o.style.height=J(a),o},$s={encloseSpan:WX,mathMLnode:HX,svgSpan:UX};function Ae(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function M3(t){var e=k1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function k1(t){return t&&(t.type==="atom"||gX.hasOwnProperty(t.type))?t:null}var A3=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Ae(t.base,"accent"),n=r.base,t.base=n,i=pX(Ue(t,e)),t.base=r):(r=Ae(t,"accent"),n=r.base);var s=Ue(n,e.havingCrampedStyle()),o=r.isShifty&&ye.isCharacterBox(n),a=0;if(o){var l=ye.getBaseElem(n),c=Ue(l,e.havingCrampedStyle());a=q8(c).skew}var u=r.label==="\\c",d=u?s.height+s.depth:Math.min(s.height,e.fontMetrics().xHeight),h;if(r.isStretchy)h=$s.svgSpan(r,e),h=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+J(2*a)+")",marginLeft:J(2*a)}:void 0}]},e);else{var f,p;r.label==="\\vec"?(f=z.staticSvg("vec",e),p=z.svgData.vec[1]):(f=z.makeOrd({mode:r.mode,text:r.label},e,"textord"),f=q8(f),f.italic=0,p=f.width,u&&(d+=f.depth)),h=z.makeSpan(["accent-body"],[f]);var g=r.label==="\\textcircled";g&&(h.classes.push("accent-full"),d=s.height);var w=a;g||(w-=p/2),h.style.left=J(w),r.label==="\\textcircled"&&(h.style.top=".2em"),h=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-d},{type:"elem",elem:h}]},e)}var v=z.makeSpan(["mord","accent"],[h],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},AA=(t,e)=>{var n=t.isStretchy?$s.mathMLnode(t.label):new W.MathNode("mo",[qr(t.label,t.mode)]),r=new W.MathNode("mover",[at(t.base,e),n]);return r.setAttribute("accent","true"),r},qX=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));Z({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=fm(e[0]),r=!qX.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:A3,mathmlBuilder:AA});Z({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:A3,mathmlBuilder:AA});Z({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ue(t.base,e),r=$s.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,s=z.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return z.makeSpan(["mord","accentunder"],[s],e)},mathmlBuilder:(t,e)=>{var n=$s.mathMLnode(t.label),r=new W.MathNode("munder",[at(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var Ih=t=>{var e=new W.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};Z({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=z.wrapFragment(Ue(t.body,r,e),e),s=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var o;t.below&&(r=e.havingStyle(n.sub()),o=z.wrapFragment(Ue(t.below,r,e),e),o.classes.push(s+"-arrow-pad"));var a=$s.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*a.height,c=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(c-=i.depth);var u;if(o){var d=-e.fontMetrics().axisHeight+o.height+.5*a.height+.111;u=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l},{type:"elem",elem:o,shift:d}]},e)}else u=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:c},{type:"elem",elem:a,shift:l}]},e);return u.children[0].children[0].children[1].classes.push("svg-align"),z.makeSpan(["mrel","x-arrow"],[u],e)},mathmlBuilder(t,e){var n=$s.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=Ih(at(t.body,e));if(t.below){var s=Ih(at(t.below,e));r=new W.MathNode("munderover",[n,s,i])}else r=new W.MathNode("mover",[n,i])}else if(t.below){var o=Ih(at(t.below,e));r=new W.MathNode("munder",[n,o])}else r=Ih(),r=new W.MathNode("mover",[n,r]);return r}});var KX=z.makeSpan;function NA(t,e){var n=en(t.body,e,!0);return KX([t.mclass],n,e)}function OA(t,e){var n,r=ir(t.body,e);return t.mclass==="minner"?n=new W.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new W.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new W.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Z({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Ht(i),isCharacterBox:ye.isCharacterBox(i)}},htmlBuilder:NA,mathmlBuilder:OA});var x1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};Z({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:x1(e[0]),body:Ht(e[1]),isCharacterBox:ye.isCharacterBox(e[1])}}});Z({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],s=e[0],o;r!=="\\stackrel"?o=x1(i):o="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Ht(i)},l={type:"supsub",mode:s.mode,base:a,sup:r==="\\underset"?null:s,sub:r==="\\underset"?s:null};return{type:"mclass",mode:n.mode,mclass:o,body:[l],isCharacterBox:ye.isCharacterBox(l)}},htmlBuilder:NA,mathmlBuilder:OA});Z({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:x1(e[0]),body:Ht(e[0])}},htmlBuilder(t,e){var n=en(t.body,e,!0),r=z.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=ir(t.body,e),r=new W.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var GX={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},ek=()=>({type:"styling",body:[],mode:"math",style:"display"}),tk=t=>t.type==="textord"&&t.text==="@",JX=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function YX(t,e,n){var r=GX[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),s={type:"atom",text:r,mode:"math",family:"rel"},o=n.callFunction("\\Big",[s],[]),a=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,o,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var c={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[c],[])}default:return{type:"textord",text:" ",mode:"math"}}}function XX(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new K("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],s=0;s<e.length;s++){for(var o=e[s],a=ek(),l=0;l<o.length;l++)if(!tk(o[l]))a.body.push(o[l]);else{r.push(a),l+=1;var c=M3(o[l]).text,u=new Array(2);if(u[0]={type:"ordgroup",mode:"math",body:[]},u[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(c)>-1))if("<>AV".indexOf(c)>-1)for(var d=0;d<2;d++){for(var h=!0,f=l+1;f<o.length;f++){if(JX(o[f],c)){h=!1,l=f;break}if(tk(o[f]))throw new K("Missing a "+c+" character to complete a CD arrow.",o[f]);u[d].body.push(o[f])}if(h)throw new K("Missing a "+c+" character to complete a CD arrow.",o[l])}else throw new K('Expected one of "<>AV=|." after @',o[l]);var p=YX(c,u,t),g={type:"styling",body:[p],mode:"math",style:"display"};r.push(g),a=ek()}s%2===0?r.push(a):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var w=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:w,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}Z({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=z.wrapFragment(Ue(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=J(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new W.MathNode("mrow",[at(t.label,e)]);return n=new W.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new W.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Z({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=z.wrapFragment(Ue(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new W.MathNode("mrow",[at(t.fragment,e)])}});Z({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Ae(e[0],"ordgroup"),i=r.body,s="",o=0;o<i.length;o++){var a=Ae(i[o],"textord");s+=a.text}var l=parseInt(s),c;if(isNaN(l))throw new K("\\@char has non-numeric argument "+s);if(l<0||l>=1114111)throw new K("\\@char with invalid code point "+s);return l<=65535?c=String.fromCharCode(l):(l-=65536,c=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:c}}});var IA=(t,e)=>{var n=en(t.body,e.withColor(t.color),!1);return z.makeFragment(n)},DA=(t,e)=>{var n=ir(t.body,e.withColor(t.color)),r=new W.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};Z({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Ae(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Ht(i)}},htmlBuilder:IA,mathmlBuilder:DA});Z({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Ae(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var s=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:s}},htmlBuilder:IA,mathmlBuilder:DA});Z({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,s=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:s,size:i&&Ae(i,"size").value}},htmlBuilder(t,e){var n=z.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=J(Mt(t.size,e)))),n},mathmlBuilder(t,e){var n=new W.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",J(Mt(t.size,e)))),n}});var By={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},RA=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new K("Expected a control sequence",t);return e},QX=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},_A=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};Z({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(By[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=By[r.text]),Ae(e.parseFunction(),"internal");throw new K("Invalid token after macro prefix",r)}});Z({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new K("Expected a control sequence",r);for(var s=0,o,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){o=e.gullet.future(),a[s].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new K('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==s+1)throw new K('Argument number "'+r.text+'" out of order');s++,a.push([])}else{if(r.text==="EOF")throw new K("Expected a macro definition");a[s].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return o&&l.unshift(o),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:s,delimiters:a},n===By[n]),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=RA(e.gullet.popToken());e.gullet.consumeSpaces();var i=QX(e);return _A(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});Z({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=RA(e.gullet.popToken()),i=e.gullet.popToken(),s=e.gullet.popToken();return _A(e,r,s,n==="\\\\globalfuture"),e.gullet.pushToken(s),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var ju=function(e,n,r){var i=ht.math[e]&&ht.math[e].replace,s=x3(i||e,n,r);if(!s)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return s},N3=function(e,n,r,i){var s=r.havingBaseStyle(n),o=z.makeSpan(i.concat(s.sizingClasses(r)),[e],r),a=s.sizeMultiplier/r.sizeMultiplier;return o.height*=a,o.depth*=a,o.maxFontSize=s.sizeMultiplier,o},LA=function(e,n,r){var i=n.havingBaseStyle(r),s=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=J(s),e.height-=s,e.depth+=s},ZX=function(e,n,r,i,s,o){var a=z.makeSymbol(e,"Main-Regular",s,i),l=N3(a,n,i,o);return r&&LA(l,i,n),l},eQ=function(e,n,r,i){return z.makeSymbol(e,"Size"+n+"-Regular",r,i)},PA=function(e,n,r,i,s,o){var a=eQ(e,n,s,i),l=N3(z.makeSpan(["delimsizing","size"+n],[a],i),xe.TEXT,i,o);return r&&LA(l,i,xe.TEXT),l},a4=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=z.makeSpan(["delimsizinginner",i],[z.makeSpan([],[z.makeSymbol(e,n,r)])]);return{type:"elem",elem:s}},l4=function(e,n,r){var i=Ui["Size4-Regular"][e.charCodeAt(0)]?Ui["Size4-Regular"][e.charCodeAt(0)][4]:Ui["Size1-Regular"][e.charCodeAt(0)][4],s=new Xo("inner",oX(e,Math.round(1e3*n))),o=new Fs([s],{width:J(i),height:J(n),style:"width:"+J(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=z.makeSvgSpan([],[o],r);return a.height=n,a.style.height=J(n),a.style.width=J(i),{type:"elem",elem:a}},jy=.008,Dh={type:"kern",size:-1*jy},tQ=["|","\\lvert","\\rvert","\\vert"],nQ=["\\|","\\lVert","\\rVert","\\Vert"],zA=function(e,n,r,i,s,o){var a,l,c,u,d="",h=0;a=c=u=e,l=null;var f="Size1-Regular";e==="\\uparrow"?c=u="":e==="\\Uparrow"?c=u="":e==="\\downarrow"?a=c="":e==="\\Downarrow"?a=c="":e==="\\updownarrow"?(a="\\uparrow",c="",u="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",c="",u="\\Downarrow"):ye.contains(tQ,e)?(c="",d="vert",h=333):ye.contains(nQ,e)?(c="",d="doublevert",h=556):e==="["||e==="\\lbrack"?(a="",c="",u="",f="Size4-Regular",d="lbrack",h=667):e==="]"||e==="\\rbrack"?(a="",c="",u="",f="Size4-Regular",d="rbrack",h=667):e==="\\lfloor"||e===""?(c=a="",u="",f="Size4-Regular",d="lfloor",h=667):e==="\\lceil"||e===""?(a="",c=u="",f="Size4-Regular",d="lceil",h=667):e==="\\rfloor"||e===""?(c=a="",u="",f="Size4-Regular",d="rfloor",h=667):e==="\\rceil"||e===""?(a="",c=u="",f="Size4-Regular",d="rceil",h=667):e==="("||e==="\\lparen"?(a="",c="",u="",f="Size4-Regular",d="lparen",h=875):e===")"||e==="\\rparen"?(a="",c="",u="",f="Size4-Regular",d="rparen",h=875):e==="\\{"||e==="\\lbrace"?(a="",l="",u="",c="",f="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="",l="",u="",c="",f="Size4-Regular"):e==="\\lgroup"||e===""?(a="",u="",c="",f="Size4-Regular"):e==="\\rgroup"||e===""?(a="",u="",c="",f="Size4-Regular"):e==="\\lmoustache"||e===""?(a="",u="",c="",f="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(a="",u="",c="",f="Size4-Regular");var p=ju(a,f,s),g=p.height+p.depth,w=ju(c,f,s),v=w.height+w.depth,k=ju(u,f,s),E=k.height+k.depth,S=0,N=1;if(l!==null){var b=ju(l,f,s);S=b.height+b.depth,N=2}var M=g+E+S,I=Math.max(0,Math.ceil((n-M)/(N*v))),_=M+I*N*v,F=i.fontMetrics().axisHeight;r&&(F*=i.sizeMultiplier);var G=_/2-F,Q=[];if(d.length>0){var oe=_-g-E,ge=Math.round(_*1e3),Ne=aX(d,Math.round(oe*1e3)),Me=new Xo(d,Ne),he=(h/1e3).toFixed(3)+"em",$=(ge/1e3).toFixed(3)+"em",ee=new Fs([Me],{width:he,height:$,viewBox:"0 0 "+h+" "+ge}),te=z.makeSvgSpan([],[ee],i);te.height=ge/1e3,te.style.width=he,te.style.height=$,Q.push({type:"elem",elem:te})}else{if(Q.push(a4(u,f,s)),Q.push(Dh),l===null){var ve=_-g-E+2*jy;Q.push(l4(c,ve,i))}else{var de=(_-g-E-S)/2+2*jy;Q.push(l4(c,de,i)),Q.push(Dh),Q.push(a4(l,f,s)),Q.push(Dh),Q.push(l4(c,de,i))}Q.push(Dh),Q.push(a4(a,f,s))}var rt=i.havingBaseStyle(xe.TEXT),Be=z.makeVList({positionType:"bottom",positionData:G,children:Q},rt);return N3(z.makeSpan(["delimsizing","mult"],[Be],rt),xe.TEXT,i,o)},c4=80,u4=.08,d4=function(e,n,r,i,s){var o=sX(e,i,r),a=new Xo(e,o),l=new Fs([a],{width:"400em",height:J(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return z.makeSvgSpan(["hide-tail"],[l],s)},rQ=function(e,n){var r=n.havingBaseSizing(),i=HA("\\surd",e*r.sizeMultiplier,FA,r),s=r.sizeMultiplier,o=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,c=0,u=0,d;return i.type==="small"?(u=1e3+1e3*o+c4,e<1?s=1:e<1.4&&(s=.7),l=(1+o+u4)/s,c=(1+o)/s,a=d4("sqrtMain",l,u,o,n),a.style.minWidth="0.853em",d=.833/s):i.type==="large"?(u=(1e3+c4)*ud[i.size],c=(ud[i.size]+o)/s,l=(ud[i.size]+o+u4)/s,a=d4("sqrtSize"+i.size,l,u,o,n),a.style.minWidth="1.02em",d=1/s):(l=e+o+u4,c=e+o,u=Math.floor(1e3*e+o)+c4,a=d4("sqrtTall",l,u,o,n),a.style.minWidth="0.742em",d=1.056),a.height=c,a.style.height=J(l),{span:a,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+o)*s}},BA=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],iQ=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],jA=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ud=[0,1.2,1.8,2.4,3],sQ=function(e,n,r,i,s){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),ye.contains(BA,e)||ye.contains(jA,e))return PA(e,n,!1,r,i,s);if(ye.contains(iQ,e))return zA(e,ud[n],!1,r,i,s);throw new K("Illegal delimiter: '"+e+"'")},oQ=[{type:"small",style:xe.SCRIPTSCRIPT},{type:"small",style:xe.SCRIPT},{type:"small",style:xe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],aQ=[{type:"small",style:xe.SCRIPTSCRIPT},{type:"small",style:xe.SCRIPT},{type:"small",style:xe.TEXT},{type:"stack"}],FA=[{type:"small",style:xe.SCRIPTSCRIPT},{type:"small",style:xe.SCRIPT},{type:"small",style:xe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],lQ=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},HA=function(e,n,r,i){for(var s=Math.min(2,3-i.style.size),o=s;o<r.length&&r[o].type!=="stack";o++){var a=ju(e,lQ(r[o]),"math"),l=a.height+a.depth;if(r[o].type==="small"){var c=i.havingBaseStyle(r[o].style);l*=c.sizeMultiplier}if(l>n)return r[o]}return r[r.length-1]},$A=function(e,n,r,i,s,o){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var a;ye.contains(jA,e)?a=oQ:ye.contains(BA,e)?a=FA:a=aQ;var l=HA(e,n,a,i);return l.type==="small"?ZX(e,l.style,r,i,s,o):l.type==="large"?PA(e,l.size,r,i,s,o):zA(e,n,r,i,s,o)},cQ=function(e,n,r,i,s,o){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,c=5/i.fontMetrics().ptPerEm,u=Math.max(n-a,r+a),d=Math.max(u/500*l,2*u-c);return $A(e,d,!0,i,s,o)},Is={sqrtImage:rQ,sizedDelim:sQ,sizeToMaxHeight:ud,customSizedDelim:$A,leftRightDelim:cQ},nk={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},uQ=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function S1(t,e){var n=k1(t);if(n&&ye.contains(uQ,n.text))return n;throw n?new K("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new K("Invalid delimiter type '"+t.type+"'",t)}Z({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=S1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:nk[t.funcName].size,mclass:nk[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?z.makeSpan([t.mclass]):Is.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(qr(t.delim,t.mode));var n=new W.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=J(Is.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function rk(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Z({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new K("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:S1(e[0],t).text,color:n}}});Z({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=S1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var s=Ae(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:s.delim,rightColor:s.color}},htmlBuilder:(t,e)=>{rk(t);for(var n=en(t.body,e,!0,["mopen","mclose"]),r=0,i=0,s=!1,o=0;o<n.length;o++)n[o].isMiddle?s=!0:(r=Math.max(n[o].height,r),i=Math.max(n[o].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(t.left==="."?a=s0(e,["mopen"]):a=Is.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(a),s)for(var l=1;l<n.length;l++){var c=n[l],u=c.isMiddle;u&&(n[l]=Is.leftRightDelim(u.delim,r,i,u.options,t.mode,[]))}var d;if(t.right===".")d=s0(e,["mclose"]);else{var h=t.rightColor?e.withColor(t.rightColor):e;d=Is.leftRightDelim(t.right,r,i,h,t.mode,["mclose"])}return n.push(d),z.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{rk(t);var n=ir(t.body,e);if(t.left!=="."){var r=new W.MathNode("mo",[qr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new W.MathNode("mo",[qr(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return E3(n)}});Z({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=S1(e[0],t);if(!t.parser.leftrightDepth)throw new K("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=s0(e,[]);else{n=Is.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?qr("|","text"):qr(t.delim,t.mode),r=new W.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var O3=(t,e)=>{var n=z.wrapFragment(Ue(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,s,o=0,a=ye.isCharacterBox(t.body);if(r==="sout")s=z.makeSpan(["stretchy","sout"]),s.height=e.fontMetrics().defaultRuleThickness/i,o=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Mt({number:.6,unit:"pt"},e),c=Mt({number:.35,unit:"ex"},e),u=e.havingBaseSizing();i=i/u.sizeMultiplier;var d=n.height+n.depth+l+c;n.style.paddingLeft=J(d/2+l);var h=Math.floor(1e3*d*i),f=rX(h),p=new Fs([new Xo("phase",f)],{width:"400em",height:J(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});s=z.makeSvgSpan(["hide-tail"],[p],e),s.style.height=J(d),o=n.depth+l+c}else{/cancel/.test(r)?a||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,w=0,v=0;/box/.test(r)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),g=e.fontMetrics().fboxsep+(r==="colorbox"?0:v),w=g):r==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),g=4*v,w=Math.max(0,.25-n.depth)):(g=a?.2:0,w=g),s=$s.encloseSpan(n,r,g,w,e),/fbox|boxed|fcolorbox/.test(r)?(s.style.borderStyle="solid",s.style.borderWidth=J(v)):r==="angl"&&v!==.049&&(s.style.borderTopWidth=J(v),s.style.borderRightWidth=J(v)),o=n.depth+w,t.backgroundColor&&(s.style.backgroundColor=t.backgroundColor,t.borderColor&&(s.style.borderColor=t.borderColor))}var k;if(t.backgroundColor)k=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:o},{type:"elem",elem:n,shift:0}]},e);else{var E=/cancel|phase/.test(r)?["svg-align"]:[];k=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:s,shift:o,wrapperClasses:E}]},e)}return/cancel/.test(r)&&(k.height=n.height,k.depth=n.depth),/cancel/.test(r)&&!a?z.makeSpan(["mord","cancel-lap"],[k],e):z.makeSpan(["mord"],[k],e)},I3=(t,e)=>{var n=0,r=new W.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[at(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};Z({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,o=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,body:o}},htmlBuilder:O3,mathmlBuilder:I3});Z({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,s=Ae(e[0],"color-token").color,o=Ae(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,borderColor:s,body:a}},htmlBuilder:O3,mathmlBuilder:I3});Z({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});Z({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:O3,mathmlBuilder:I3});Z({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var VA={};function rs(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:s,mathmlBuilder:o}=t,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)VA[n[l]]=a;s&&(dm[e]=s),o&&(hm[e]=o)}var UA={};function T(t,e){UA[t]=e}function ik(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var C1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new K("{"+t.envName+"} can be used only in display mode.")};function D3(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function da(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:s,arraystretch:o,colSeparationType:a,autoTag:l,singleRow:c,emptySingleRow:u,maxNumCols:d,leqno:h}=e;if(t.gullet.beginGroup(),c||t.gullet.macros.set("\\cr","\\\\\\relax"),!o){var f=t.gullet.expandMacroAsText("\\arraystretch");if(f==null)o=1;else if(o=parseFloat(f),!o||o<0)throw new K("Invalid \\arraystretch: "+f)}t.gullet.beginGroup();var p=[],g=[p],w=[],v=[],k=l!=null?[]:void 0;function E(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function S(){k&&(t.gullet.macros.get("\\df@tag")?(k.push(t.subparse([new jr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):k.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(E(),v.push(ik(t));;){var N=t.parseExpression(!1,c?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),N={type:"ordgroup",mode:t.mode,body:N},n&&(N={type:"styling",mode:t.mode,style:n,body:[N]}),p.push(N);var b=t.fetch().text;if(b==="&"){if(d&&p.length===d){if(c||a)throw new K("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(b==="\\end"){S(),p.length===1&&N.type==="styling"&&N.body[0].body.length===0&&(g.length>1||!u)&&g.pop(),v.length<g.length+1&&v.push([]);break}else if(b==="\\\\"){t.consume();var M=void 0;t.gullet.future().text!==" "&&(M=t.parseSizeGroup(!0)),w.push(M?M.value:null),S(),v.push(ik(t)),p=[],g.push(p),E()}else throw new K("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:o,body:g,cols:s,rowGaps:w,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:a,tags:k,leqno:h}}function R3(t){return t.slice(0,1)==="d"?"display":"text"}var is=function(e,n){var r,i,s=e.body.length,o=e.hLinesBeforeRow,a=0,l=new Array(s),c=[],u=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,h=5*d;if(e.colSeparationType&&e.colSeparationType==="small"){var f=n.havingStyle(xe.SCRIPT).sizeMultiplier;h=.2778*(f/n.sizeMultiplier)}var p=e.colSeparationType==="CD"?Mt({number:3,unit:"ex"},n):12*d,g=3*d,w=e.arraystretch*p,v=.7*w,k=.3*w,E=0;function S(Cr){for(var Gr=0;Gr<Cr.length;++Gr)Gr>0&&(E+=.25),c.push({pos:E,isDashed:Cr[Gr]})}for(S(o[0]),r=0;r<e.body.length;++r){var N=e.body[r],b=v,M=k;a<N.length&&(a=N.length);var I=new Array(N.length);for(i=0;i<N.length;++i){var _=Ue(N[i],n);M<_.depth&&(M=_.depth),b<_.height&&(b=_.height),I[i]=_}var F=e.rowGaps[r],G=0;F&&(G=Mt(F,n),G>0&&(G+=k,M<G&&(M=G),G=0)),e.addJot&&(M+=g),I.height=b,I.depth=M,E+=b,I.pos=E,E+=M+G,l[r]=I,S(o[r+1])}var Q=E/2+n.fontMetrics().axisHeight,oe=e.cols||[],ge=[],Ne,Me,he=[];if(e.tags&&e.tags.some(Cr=>Cr))for(r=0;r<s;++r){var $=l[r],ee=$.pos-Q,te=e.tags[r],ve=void 0;te===!0?ve=z.makeSpan(["eqn-num"],[],n):te===!1?ve=z.makeSpan([],[],n):ve=z.makeSpan([],en(te,n,!0),n),ve.depth=$.depth,ve.height=$.height,he.push({type:"elem",elem:ve,shift:ee})}for(i=0,Me=0;i<a||Me<oe.length;++i,++Me){for(var de=oe[Me]||{},rt=!0;de.type==="separator";){if(rt||(Ne=z.makeSpan(["arraycolsep"],[]),Ne.style.width=J(n.fontMetrics().doubleRuleSep),ge.push(Ne)),de.separator==="|"||de.separator===":"){var Be=de.separator==="|"?"solid":"dashed",je=z.makeSpan(["vertical-separator"],[],n);je.style.height=J(E),je.style.borderRightWidth=J(u),je.style.borderRightStyle=Be,je.style.margin="0 "+J(-u/2);var Fe=E-Q;Fe&&(je.style.verticalAlign=J(-Fe)),ge.push(je)}else throw new K("Invalid separator type: "+de.separator);Me++,de=oe[Me]||{},rt=!1}if(!(i>=a)){var Ze=void 0;(i>0||e.hskipBeforeAndAfter)&&(Ze=ye.deflt(de.pregap,h),Ze!==0&&(Ne=z.makeSpan(["arraycolsep"],[]),Ne.style.width=J(Ze),ge.push(Ne)));var vt=[];for(r=0;r<s;++r){var Bt=l[r],Yt=Bt[i];if(Yt){var Ye=Bt.pos-Q;Yt.depth=Bt.depth,Yt.height=Bt.height,vt.push({type:"elem",elem:Yt,shift:Ye})}}vt=z.makeVList({positionType:"individualShift",children:vt},n),vt=z.makeSpan(["col-align-"+(de.align||"c")],[vt]),ge.push(vt),(i<a-1||e.hskipBeforeAndAfter)&&(Ze=ye.deflt(de.postgap,h),Ze!==0&&(Ne=z.makeSpan(["arraycolsep"],[]),Ne.style.width=J(Ze),ge.push(Ne)))}}if(l=z.makeSpan(["mtable"],ge),c.length>0){for(var Ot=z.makeLineSpan("hline",n,u),xi=z.makeLineSpan("hdashline",n,u),Si=[{type:"elem",elem:l,shift:0}];c.length>0;){var On=c.pop(),Ci=On.pos-Q;On.isDashed?Si.push({type:"elem",elem:xi,shift:Ci}):Si.push({type:"elem",elem:Ot,shift:Ci})}l=z.makeVList({positionType:"individualShift",children:Si},n)}if(he.length===0)return z.makeSpan(["mord"],[l],n);var Kr=z.makeVList({positionType:"individualShift",children:he},n);return Kr=z.makeSpan(["tag"],[Kr],n),z.makeFragment([l,Kr])},dQ={c:"center ",l:"left ",r:"right "},ss=function(e,n){for(var r=[],i=new W.MathNode("mtd",[],["mtr-glue"]),s=new W.MathNode("mtd",[],["mml-eqn-num"]),o=0;o<e.body.length;o++){for(var a=e.body[o],l=[],c=0;c<a.length;c++)l.push(new W.MathNode("mtd",[at(a[c],n)]));e.tags&&e.tags[o]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(s):l.push(s)),r.push(new W.MathNode("mtr",l))}var u=new W.MathNode("mtable",r),d=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);u.setAttribute("rowspacing",J(d));var h="",f="";if(e.cols&&e.cols.length>0){var p=e.cols,g="",w=!1,v=0,k=p.length;p[0].type==="separator"&&(h+="top ",v=1),p[p.length-1].type==="separator"&&(h+="bottom ",k-=1);for(var E=v;E<k;E++)p[E].type==="align"?(f+=dQ[p[E].align],w&&(g+="none "),w=!0):p[E].type==="separator"&&w&&(g+=p[E].separator==="|"?"solid ":"dashed ",w=!1);u.setAttribute("columnalign",f.trim()),/[sd]/.test(g)&&u.setAttribute("columnlines",g.trim())}if(e.colSeparationType==="align"){for(var S=e.cols||[],N="",b=1;b<S.length;b++)N+=b%2?"0em ":"1em ";u.setAttribute("columnspacing",N.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?u.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?u.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?u.setAttribute("columnspacing","0.5em"):u.setAttribute("columnspacing","1em");var M="",I=e.hLinesBeforeRow;h+=I[0].length>0?"left ":"",h+=I[I.length-1].length>0?"right ":"";for(var _=1;_<I.length-1;_++)M+=I[_].length===0?"none ":I[_][0]?"dashed ":"solid ";return/[sd]/.test(M)&&u.setAttribute("rowlines",M.trim()),h!==""&&(u=new W.MathNode("menclose",[u]),u.setAttribute("notation",h.trim())),e.arraystretch&&e.arraystretch<1&&(u=new W.MathNode("mstyle",[u]),u.setAttribute("scriptlevel","1")),u},WA=function(e,n){e.envName.indexOf("ed")===-1&&C1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",s=e.envName==="split",o=da(e.parser,{cols:r,addJot:!0,autoTag:s?void 0:D3(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,c={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var u="",d=0;d<n[0].body.length;d++){var h=Ae(n[0].body[d],"textord");u+=h.text}a=Number(u),l=a*2}var f=!l;o.body.forEach(function(v){for(var k=1;k<v.length;k+=2){var E=Ae(v[k],"styling"),S=Ae(E.body[0],"ordgroup");S.body.unshift(c)}if(f)l<v.length&&(l=v.length);else{var N=v.length/2;if(a<N)throw new K("Too many math in a row: "+("expected "+a+", but got "+N),v[0])}});for(var p=0;p<l;++p){var g="r",w=0;p%2===1?g="l":p>0&&f&&(w=1),r[p]={type:"align",align:g,pregap:w,postgap:0}}return o.colSeparationType=f?"align":"alignat",o};rs({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=k1(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(o){var a=M3(o),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new K("Unknown column alignment: "+l,o)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return da(t.parser,s,R3(t.envName))},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new K("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var s=da(t.parser,r,R3(t.envName)),o=Math.max(0,...s.body.map(a=>a.length));return s.cols=new Array(o).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[s],left:e[0],right:e[1],rightColor:void 0}:s},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=da(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=k1(e[0]),r=n?[e[0]]:Ae(e[0],"ordgroup").body,i=r.map(function(o){var a=M3(o),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new K("Unknown column alignment: "+l,o)});if(i.length>1)throw new K("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=da(t.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new K("{subarray} can contain only one column");return s},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=da(t.parser,e,R3(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:WA,htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){ye.contains(["gather","gather*"],t.envName)&&C1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:D3(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return da(t.parser,e,"display")},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:WA,htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){C1(t);var e={autoTag:D3(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return da(t.parser,e,"display")},htmlBuilder:is,mathmlBuilder:ss});rs({type:"array",names:["CD"],props:{numArgs:0},handler(t){return C1(t),XX(t.parser)},htmlBuilder:is,mathmlBuilder:ss});T("\\nonumber","\\gdef\\@eqnsw{0}");T("\\notag","\\nonumber");Z({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new K(t.funcName+" valid only within array environment")}});var sk=VA;Z({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new K("Invalid environment name",i);for(var s="",o=0;o<i.body.length;++o)s+=Ae(i.body[o],"textord").text;if(r==="\\begin"){if(!sk.hasOwnProperty(s))throw new K("No such environment: "+s,i);var a=sk[s],{args:l,optArgs:c}=n.parseArguments("\\begin{"+s+"}",a),u={mode:n.mode,envName:s,parser:n},d=a.handler(u,l,c);n.expect("\\end",!1);var h=n.nextToken,f=Ae(n.parseFunction(),"environment");if(f.name!==s)throw new K("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",h);return d}return{type:"environment",mode:n.mode,name:s,nameGroup:i}}});var qA=(t,e)=>{var n=t.font,r=e.withFont(n);return Ue(t.body,r)},KA=(t,e)=>{var n=t.font,r=e.withFont(n);return at(t.body,r)},ok={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Z({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=fm(e[0]),s=r;return s in ok&&(s=ok[s]),{type:"font",mode:n.mode,font:s.slice(1),body:i}},htmlBuilder:qA,mathmlBuilder:KA});Z({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=ye.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:x1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});Z({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:s}=n,o=n.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:s,font:a,body:{type:"ordgroup",mode:n.mode,body:o}}},htmlBuilder:qA,mathmlBuilder:KA});var GA=(t,e)=>{var n=e;return t==="display"?n=n.id>=xe.SCRIPT.id?n.text():xe.DISPLAY:t==="text"&&n.size===xe.DISPLAY.size?n=xe.TEXT:t==="script"?n=xe.SCRIPT:t==="scriptscript"&&(n=xe.SCRIPTSCRIPT),n},_3=(t,e)=>{var n=GA(t.size,e.style),r=n.fracNum(),i=n.fracDen(),s;s=e.havingStyle(r);var o=Ue(t.numer,s,e);if(t.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;o.height=o.height<a?a:o.height,o.depth=o.depth<l?l:o.depth}s=e.havingStyle(i);var c=Ue(t.denom,s,e),u,d,h;t.hasBarLine?(t.barSize?(d=Mt(t.barSize,e),u=z.makeLineSpan("frac-line",e,d)):u=z.makeLineSpan("frac-line",e),d=u.height,h=u.height):(u=null,d=0,h=e.fontMetrics().defaultRuleThickness);var f,p,g;n.size===xe.DISPLAY.size||t.size==="display"?(f=e.fontMetrics().num1,d>0?p=3*h:p=7*h,g=e.fontMetrics().denom1):(d>0?(f=e.fontMetrics().num2,p=h):(f=e.fontMetrics().num3,p=3*h),g=e.fontMetrics().denom2);var w;if(u){var k=e.fontMetrics().axisHeight;f-o.depth-(k+.5*d)<p&&(f+=p-(f-o.depth-(k+.5*d))),k-.5*d-(c.height-g)<p&&(g+=p-(k-.5*d-(c.height-g)));var E=-(k-.5*d);w=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:u,shift:E},{type:"elem",elem:o,shift:-f}]},e)}else{var v=f-o.depth-(c.height-g);v<p&&(f+=.5*(p-v),g+=.5*(p-v)),w=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:c,shift:g},{type:"elem",elem:o,shift:-f}]},e)}s=e.havingStyle(n),w.height*=s.sizeMultiplier/e.sizeMultiplier,w.depth*=s.sizeMultiplier/e.sizeMultiplier;var S;n.size===xe.DISPLAY.size?S=e.fontMetrics().delim1:n.size===xe.SCRIPTSCRIPT.size?S=e.havingStyle(xe.SCRIPT).fontMetrics().delim2:S=e.fontMetrics().delim2;var N,b;return t.leftDelim==null?N=s0(e,["mopen"]):N=Is.customSizedDelim(t.leftDelim,S,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?b=z.makeSpan([]):t.rightDelim==null?b=s0(e,["mclose"]):b=Is.customSizedDelim(t.rightDelim,S,!0,e.havingStyle(n),t.mode,["mclose"]),z.makeSpan(["mord"].concat(s.sizingClasses(e)),[N,z.makeSpan(["mfrac"],[w]),b],e)},L3=(t,e)=>{var n=new W.MathNode("mfrac",[at(t.numer,e),at(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Mt(t.barSize,e);n.setAttribute("linethickness",J(r))}var i=GA(t.size,e.style);if(i.size!==e.style.size){n=new W.MathNode("mstyle",[n]);var s=i.size===xe.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",s),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var o=[];if(t.leftDelim!=null){var a=new W.MathNode("mo",[new W.TextNode(t.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),o.push(a)}if(o.push(n),t.rightDelim!=null){var l=new W.MathNode("mo",[new W.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),o.push(l)}return E3(o)}return n};Z({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1],o,a=null,l=null,c="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":o=!0;break;case"\\\\atopfrac":o=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":o=!1,a="(",l=")";break;case"\\\\bracefrac":o=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":o=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":c="display";break;case"\\tfrac":case"\\tbinom":c="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:s,hasBarLine:o,leftDelim:a,rightDelim:l,size:c,barSize:null}},htmlBuilder:_3,mathmlBuilder:L3});Z({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Z({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var ak=["display","text","script","scriptscript"],lk=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};Z({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],s=fm(e[0]),o=s.type==="atom"&&s.family==="open"?lk(s.text):null,a=fm(e[1]),l=a.type==="atom"&&a.family==="close"?lk(a.text):null,c=Ae(e[2],"size"),u,d=null;c.isBlank?u=!0:(d=c.value,u=d.number>0);var h="auto",f=e[3];if(f.type==="ordgroup"){if(f.body.length>0){var p=Ae(f.body[0],"textord");h=ak[Number(p.text)]}}else f=Ae(f,"textord"),h=ak[Number(f.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:u,barSize:d,leftDelim:o,rightDelim:l,size:h}},htmlBuilder:_3,mathmlBuilder:L3});Z({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Ae(e[0],"size").value,token:i}}});Z({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],s=$Y(Ae(e[1],"infix").size),o=e[2],a=s.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:o,continued:!1,hasBarLine:a,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:_3,mathmlBuilder:L3});var JA=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ue(t.sup,e.havingStyle(n.sup()),e):Ue(t.sub,e.havingStyle(n.sub()),e),i=Ae(t.base,"horizBrace")):i=Ae(t,"horizBrace");var s=Ue(i.base,e.havingBaseStyle(xe.DISPLAY)),o=$s.svgSpan(i,e),a;if(i.isOver?(a=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=z.makeVList({positionType:"bottom",positionData:s.depth+.1+o.height,children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=z.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=z.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return z.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},hQ=(t,e)=>{var n=$s.mathMLnode(t.label);return new W.MathNode(t.isOver?"mover":"munder",[at(t.base,e),n])};Z({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:JA,mathmlBuilder:hQ});Z({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Ae(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Ht(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=en(t.body,e,!1);return z.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Qo(t.body,e);return n instanceof Rr||(n=new Rr("mrow",[n])),n.setAttribute("href",t.href),n}});Z({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Ae(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<r.length;s++){var o=r[s];o==="~"&&(o="\\textasciitilde"),i.push({type:"textord",mode:"text",text:o})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Ht(a)}}});Z({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Ht(e[0])}},htmlBuilder(t,e){var n=en(t.body,e,!1);return z.makeFragment(n)},mathmlBuilder(t,e){return new W.MathNode("mrow",ir(t.body,e))}});Z({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,s=Ae(e[0],"raw").string,o=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=s,a={command:"\\htmlClass",class:s};break;case"\\htmlId":l.id=s,a={command:"\\htmlId",id:s};break;case"\\htmlStyle":l.style=s,a={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var c=s.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length!==2)throw new K("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:Ht(o)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=en(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=z.makeSpan(r,n,e);for(var s in t.attributes)s!=="class"&&t.attributes.hasOwnProperty(s)&&i.setAttribute(s,t.attributes[s]);return i},mathmlBuilder:(t,e)=>Qo(t.body,e)});Z({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Ht(e[0]),mathml:Ht(e[1])}},htmlBuilder:(t,e)=>{var n=en(t.html,e,!1);return z.makeFragment(n)},mathmlBuilder:(t,e)=>Qo(t.mathml,e)});var h4=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new K("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!pA(r))throw new K("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};Z({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},s={number:.9,unit:"em"},o={number:0,unit:"em"},a="";if(n[0])for(var l=Ae(n[0],"raw").string,c=l.split(","),u=0;u<c.length;u++){var d=c[u].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":a=h;break;case"width":i=h4(h);break;case"height":s=h4(h);break;case"totalheight":o=h4(h);break;default:throw new K("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var f=Ae(e[0],"url").url;return a===""&&(a=f,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:s,totalheight:o,src:f}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Mt(t.height,e),r=0;t.totalheight.number>0&&(r=Mt(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Mt(t.width,e));var s={height:J(n+r)};i>0&&(s.width=J(i)),r>0&&(s.verticalAlign=J(-r));var o=new hX(t.src,t.alt,s);return o.height=n,o.depth=r,o},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Mt(t.height,e),i=0;if(t.totalheight.number>0&&(i=Mt(t.totalheight,e)-r,n.setAttribute("valign",J(-i))),n.setAttribute("height",J(r+i)),t.width.number>0){var s=Mt(t.width,e);n.setAttribute("width",J(s))}return n.setAttribute("src",t.src),n}});Z({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Ae(e[0],"size");if(n.settings.strict){var s=r[1]==="m",o=i.value.unit==="mu";s?(o||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):o&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return z.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Mt(t.dimension,e);return new W.SpaceNode(n)}});Z({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=z.makeSpan([],[Ue(t.body,e)]),n=z.makeSpan(["inner"],[n],e)):n=z.makeSpan(["inner"],[Ue(t.body,e)]);var r=z.makeSpan(["fix"],[]),i=z.makeSpan([t.alignment],[n,r],e),s=z.makeSpan(["strut"]);return s.style.height=J(i.height+i.depth),i.depth&&(s.style.verticalAlign=J(-i.depth)),i.children.unshift(s),i=z.makeSpan(["thinbox"],[i],e),z.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[at(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});Z({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var s=n==="\\("?"\\)":"$",o=r.parseExpression(!1,s);return r.expect(s),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:o}}});Z({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new K("Mismatched "+t.funcName)}});var ck=(t,e)=>{switch(e.style.size){case xe.DISPLAY.size:return t.display;case xe.TEXT.size:return t.text;case xe.SCRIPT.size:return t.script;case xe.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};Z({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Ht(e[0]),text:Ht(e[1]),script:Ht(e[2]),scriptscript:Ht(e[3])}},htmlBuilder:(t,e)=>{var n=ck(t,e),r=en(n,e,!1);return z.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=ck(t,e);return Qo(n,e)}});var YA=(t,e,n,r,i,s,o)=>{t=z.makeSpan([],[t]);var a=n&&ye.isCharacterBox(n),l,c;if(e){var u=Ue(e,r.havingStyle(i.sup()),r);c={elem:u,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-u.depth)}}if(n){var d=Ue(n,r.havingStyle(i.sub()),r);l={elem:d,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-d.height)}}var h;if(c&&l){var f=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+o;h=z.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:J(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:J(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var p=t.height-o;h=z.makeVList({positionType:"top",positionData:p,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:J(-s)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(c){var g=t.depth+o;h=z.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:t},{type:"kern",size:c.kern},{type:"elem",elem:c.elem,marginLeft:J(s)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var w=[h];if(l&&s!==0&&!a){var v=z.makeSpan(["mspace"],[],r);v.style.marginRight=J(s),w.unshift(v)}return z.makeSpan(["mop","op-limits"],w,r)},XA=["\\smallint"],lu=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"op"),i=!0):s=Ae(t,"op");var o=e.style,a=!1;o.size===xe.DISPLAY.size&&s.symbol&&!ye.contains(XA,s.name)&&(a=!0);var l;if(s.symbol){var c=a?"Size2-Regular":"Size1-Regular",u="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(u=s.name.slice(1),s.name=u==="oiint"?"\\iint":"\\iiint"),l=z.makeSymbol(s.name,c,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),u.length>0){var d=l.italic,h=z.staticSvg(u+"Size"+(a?"2":"1"),e);l=z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:a?.08:0}]},e),s.name="\\"+u,l.classes.unshift("mop"),l.italic=d}}else if(s.body){var f=en(s.body,e,!0);f.length===1&&f[0]instanceof Wr?(l=f[0],l.classes[0]="mop"):l=z.makeSpan(["mop"],f,e)}else{for(var p=[],g=1;g<s.name.length;g++)p.push(z.mathsym(s.name[g],s.mode,e));l=z.makeSpan(["mop"],p,e)}var w=0,v=0;return(l instanceof Wr||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(w=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),i?YA(l,n,r,e,o,v,w):(w&&(l.style.position="relative",l.style.top=J(w)),l)},N0=(t,e)=>{var n;if(t.symbol)n=new Rr("mo",[qr(t.name,t.mode)]),ye.contains(XA,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Rr("mo",ir(t.body,e));else{n=new Rr("mi",[new cd(t.name.slice(1))]);var r=new Rr("mo",[qr("","text")]);t.parentIsSupSub?n=new Rr("mrow",[n,r]):n=EA([n,r])}return n},fQ={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};Z({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=fQ[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:lu,mathmlBuilder:N0});Z({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Ht(r)}},htmlBuilder:lu,mathmlBuilder:N0});var pQ={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};Z({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:lu,mathmlBuilder:N0});Z({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:lu,mathmlBuilder:N0});Z({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=pQ[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:lu,mathmlBuilder:N0});var QA=(t,e)=>{var n,r,i=!1,s;t.type==="supsub"?(n=t.sup,r=t.sub,s=Ae(t.base,"operatorname"),i=!0):s=Ae(t,"operatorname");var o;if(s.body.length>0){for(var a=s.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=en(a,e.withFont("mathrm"),!0),c=0;c<l.length;c++){var u=l[c];u instanceof Wr&&(u.text=u.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}o=z.makeSpan(["mop"],l,e)}else o=z.makeSpan(["mop"],[],e);return i?YA(o,n,r,e,e.style,0,0):o},mQ=(t,e)=>{for(var n=ir(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var s=n[i];if(!(s instanceof W.SpaceNode))if(s instanceof W.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var o=s.children[0];s.children.length===1&&o instanceof W.TextNode?o.text=o.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=n.map(u=>u.toText()).join("");n=[new W.TextNode(a)]}var l=new W.MathNode("mi",n);l.setAttribute("mathvariant","normal");var c=new W.MathNode("mo",[qr("","text")]);return t.parentIsSupSub?new W.MathNode("mrow",[l,c]):W.newDocumentFragment([l,c])};Z({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Ht(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:QA,mathmlBuilder:mQ});T("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");vl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?z.makeFragment(en(t.body,e,!1)):z.makeSpan(["mord"],en(t.body,e,!0),e)},mathmlBuilder(t,e){return Qo(t.body,e,!0)}});Z({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ue(t.body,e.havingCrampedStyle()),r=z.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,s=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return z.makeSpan(["mord","overline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("")]);n.setAttribute("stretchy","true");var r=new W.MathNode("mover",[at(t.body,e),n]);return r.setAttribute("accent","true"),r}});Z({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Ht(r)}},htmlBuilder:(t,e)=>{var n=en(t.body,e.withPhantom(),!1);return z.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=ir(t.body,e);return new W.MathNode("mphantom",n)}});Z({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=z.makeSpan([],[Ue(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),z.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=ir(Ht(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});Z({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=z.makeSpan(["inner"],[Ue(t.body,e.withPhantom())]),r=z.makeSpan(["fix"],[]);return z.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=ir(Ht(t.body),e),r=new W.MathNode("mphantom",n),i=new W.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});Z({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Ae(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ue(t.body,e),r=Mt(t.dy,e);return z.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new W.MathNode("mpadded",[at(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});Z({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});Z({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],s=Ae(e[0],"size"),o=Ae(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Ae(i,"size").value,width:s.value,height:o.value}},htmlBuilder(t,e){var n=z.makeSpan(["mord","rule"],[],e),r=Mt(t.width,e),i=Mt(t.height,e),s=t.shift?Mt(t.shift,e):0;return n.style.borderRightWidth=J(r),n.style.borderTopWidth=J(i),n.style.bottom=J(s),n.width=r,n.height=i+s,n.depth=-s,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Mt(t.width,e),r=Mt(t.height,e),i=t.shift?Mt(t.shift,e):0,s=e.color&&e.getColor()||"black",o=new W.MathNode("mspace");o.setAttribute("mathbackground",s),o.setAttribute("width",J(n)),o.setAttribute("height",J(r));var a=new W.MathNode("mpadded",[o]);return i>=0?a.setAttribute("height",J(i)):(a.setAttribute("height",J(i)),a.setAttribute("depth",J(-i))),a.setAttribute("voffset",J(i)),a}});function ZA(t,e,n){for(var r=en(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,s=0;s<r.length;s++){var o=r[s].classes.indexOf("sizing");o<0?Array.prototype.push.apply(r[s].classes,e.sizingClasses(n)):r[s].classes[o+1]==="reset-size"+e.size&&(r[s].classes[o+1]="reset-size"+n.size),r[s].height*=i,r[s].depth*=i}return z.makeFragment(r)}var uk=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],gQ=(t,e)=>{var n=e.havingSize(t.size);return ZA(t.body,n,e)};Z({type:"sizing",names:uk,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:uk.indexOf(r)+1,body:s}},htmlBuilder:gQ,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=ir(t.body,n),i=new W.MathNode("mstyle",r);return i.setAttribute("mathsize",J(n.sizeMultiplier)),i}});Z({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,s=!1,o=n[0]&&Ae(n[0],"ordgroup");if(o)for(var a="",l=0;l<o.body.length;++l){var c=o.body[l];if(a=c.text,a==="t")i=!0;else if(a==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var u=e[0];return{type:"smash",mode:r.mode,body:u,smashHeight:i,smashDepth:s}},htmlBuilder:(t,e)=>{var n=z.makeSpan([],[Ue(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var s=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return z.makeSpan(["mord"],[s],e)},mathmlBuilder:(t,e)=>{var n=new W.MathNode("mpadded",[at(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});Z({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],s=e[0];return{type:"sqrt",mode:r.mode,body:s,index:i}},htmlBuilder(t,e){var n=Ue(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=z.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,s=i;e.style.id<xe.TEXT.id&&(s=e.fontMetrics().xHeight);var o=i+s/4,a=n.height+n.depth+o+i,{span:l,ruleWidth:c,advanceWidth:u}=Is.sqrtImage(a,e),d=l.height-c;d>n.height+n.depth+o&&(o=(o+d-n.height-n.depth)/2);var h=l.height-n.height-o-c;n.style.paddingLeft=J(u);var f=z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:c}]},e);if(t.index){var p=e.havingStyle(xe.SCRIPTSCRIPT),g=Ue(t.index,p,e),w=.6*(f.height-f.depth),v=z.makeVList({positionType:"shift",positionData:-w,children:[{type:"elem",elem:g}]},e),k=z.makeSpan(["root"],[v]);return z.makeSpan(["mord","sqrt"],[k,f],e)}else return z.makeSpan(["mord","sqrt"],[f],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new W.MathNode("mroot",[at(n,e),at(r,e)]):new W.MathNode("msqrt",[at(n,e)])}});var dk={display:xe.DISPLAY,text:xe.TEXT,script:xe.SCRIPT,scriptscript:xe.SCRIPTSCRIPT};Z({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,s=i.parseExpression(!0,n),o=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:o,body:s}},htmlBuilder(t,e){var n=dk[t.style],r=e.havingStyle(n).withFont("");return ZA(t.body,r,e)},mathmlBuilder(t,e){var n=dk[t.style],r=e.havingStyle(n),i=ir(t.body,r),s=new W.MathNode("mstyle",i),o={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=o[t.style];return s.setAttribute("scriptlevel",a[0]),s.setAttribute("displaystyle",a[1]),s}});var vQ=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===xe.DISPLAY.size||r.alwaysHandleSupSub);return i?lu:null}else if(r.type==="operatorname"){var s=r.alwaysHandleSupSub&&(n.style.size===xe.DISPLAY.size||r.limits);return s?QA:null}else{if(r.type==="accent")return ye.isCharacterBox(r.base)?A3:null;if(r.type==="horizBrace"){var o=!e.sub;return o===r.isOver?JA:null}else return null}else return null};vl({type:"supsub",htmlBuilder(t,e){var n=vQ(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:s}=t,o=Ue(r,e),a,l,c=e.fontMetrics(),u=0,d=0,h=r&&ye.isCharacterBox(r);if(i){var f=e.havingStyle(e.style.sup());a=Ue(i,f,e),h||(u=o.height-f.fontMetrics().supDrop*f.sizeMultiplier/e.sizeMultiplier)}if(s){var p=e.havingStyle(e.style.sub());l=Ue(s,p,e),h||(d=o.depth+p.fontMetrics().subDrop*p.sizeMultiplier/e.sizeMultiplier)}var g;e.style===xe.DISPLAY?g=c.sup1:e.style.cramped?g=c.sup3:g=c.sup2;var w=e.sizeMultiplier,v=J(.5/c.ptPerEm/w),k=null;if(l){var E=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(o instanceof Wr||E)&&(k=J(-o.italic))}var S;if(a&&l){u=Math.max(u,g,a.depth+.25*c.xHeight),d=Math.max(d,c.sub2);var N=c.defaultRuleThickness,b=4*N;if(u-a.depth-(l.height-d)<b){d=b-(u-a.depth)+l.height;var M=.8*c.xHeight-(u-a.depth);M>0&&(u+=M,d-=M)}var I=[{type:"elem",elem:l,shift:d,marginRight:v,marginLeft:k},{type:"elem",elem:a,shift:-u,marginRight:v}];S=z.makeVList({positionType:"individualShift",children:I},e)}else if(l){d=Math.max(d,c.sub1,l.height-.8*c.xHeight);var _=[{type:"elem",elem:l,marginLeft:k,marginRight:v}];S=z.makeVList({positionType:"shift",positionData:d,children:_},e)}else if(a)u=Math.max(u,g,a.depth+.25*c.xHeight),S=z.makeVList({positionType:"shift",positionData:-u,children:[{type:"elem",elem:a,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var F=Py(o,"right")||"mord";return z.makeSpan([F],[o,z.makeSpan(["msupsub"],[S])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var s=[at(t.base,e)];t.sub&&s.push(at(t.sub,e)),t.sup&&s.push(at(t.sup,e));var o;if(n)o=r?"mover":"munder";else if(t.sub)if(t.sup){var c=t.base;c&&c.type==="op"&&c.limits&&e.style===xe.DISPLAY||c&&c.type==="operatorname"&&c.alwaysHandleSupSub&&(e.style===xe.DISPLAY||c.limits)?o="munderover":o="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===xe.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===xe.DISPLAY)?o="munder":o="msub"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===xe.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===xe.DISPLAY)?o="mover":o="msup"}return new W.MathNode(o,s)}});vl({type:"atom",htmlBuilder(t,e){return z.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new W.MathNode("mo",[qr(t.text,t.mode)]);if(t.family==="bin"){var r=T3(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var eN={mi:"italic",mn:"normal",mtext:"normal"};vl({type:"mathord",htmlBuilder(t,e){return z.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new W.MathNode("mi",[qr(t.text,t.mode,e)]),r=T3(t,e)||"italic";return r!==eN[n.type]&&n.setAttribute("mathvariant",r),n}});vl({type:"textord",htmlBuilder(t,e){return z.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=qr(t.text,t.mode,e),r=T3(t,e)||"normal",i;return t.mode==="text"?i=new W.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new W.MathNode("mn",[n]):t.text==="\\prime"?i=new W.MathNode("mo",[n]):i=new W.MathNode("mi",[n]),r!==eN[i.type]&&i.setAttribute("mathvariant",r),i}});var f4={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},p4={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};vl({type:"spacing",htmlBuilder(t,e){if(p4.hasOwnProperty(t.text)){var n=p4[t.text].className||"";if(t.mode==="text"){var r=z.makeOrd(t,e,"textord");return r.classes.push(n),r}else return z.makeSpan(["mspace",n],[z.mathsym(t.text,t.mode,e)],e)}else{if(f4.hasOwnProperty(t.text))return z.makeSpan(["mspace",f4[t.text]],[],e);throw new K('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(p4.hasOwnProperty(t.text))n=new W.MathNode("mtext",[new W.TextNode("")]);else{if(f4.hasOwnProperty(t.text))return new W.MathNode("mspace");throw new K('Unknown type of space "'+t.text+'"')}return n}});var hk=()=>{var t=new W.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};vl({type:"tag",mathmlBuilder(t,e){var n=new W.MathNode("mtable",[new W.MathNode("mtr",[hk(),new W.MathNode("mtd",[Qo(t.body,e)]),hk(),new W.MathNode("mtd",[Qo(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var fk={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},pk={"\\textbf":"textbf","\\textmd":"textmd"},yQ={"\\textit":"textit","\\textup":"textup"},mk=(t,e)=>{var n=t.font;if(n){if(fk[n])return e.withTextFontFamily(fk[n]);if(pk[n])return e.withTextFontWeight(pk[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(yQ[n])};Z({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Ht(i),font:r}},htmlBuilder(t,e){var n=mk(t,e),r=en(t.body,n,!0);return z.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=mk(t,e);return Qo(t.body,n)}});Z({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ue(t.body,e),r=z.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,s=z.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return z.makeSpan(["mord","underline"],[s],e)},mathmlBuilder(t,e){var n=new W.MathNode("mo",[new W.TextNode("")]);n.setAttribute("stretchy","true");var r=new W.MathNode("munder",[at(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});Z({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ue(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return z.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new W.MathNode("mpadded",[at(t.body,e)],["vcenter"])}});Z({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new K("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=gk(t),r=[],i=e.havingStyle(e.style.text()),s=0;s<n.length;s++){var o=n[s];o==="~"&&(o="\\textasciitilde"),r.push(z.makeSymbol(o,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return z.makeSpan(["mord","text"].concat(i.sizingClasses(e)),z.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new W.TextNode(gk(t)),r=new W.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var gk=t=>t.body.replace(/ /g,t.star?"":""),No=SA,tN=`[ \r
	]`,wQ="\\\\[a-zA-Z@]+",bQ="\\\\[^\uD800-\uDFFF]",kQ="("+wQ+")"+tN+"*",xQ=`\\\\(
|[ \r	]+
?)[ \r	]*`,Fy="[-]",SQ=new RegExp(Fy+"+$"),CQ="("+tN+"+)|"+(xQ+"|")+"([!-\\[\\]---]"+(Fy+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(Fy+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+kQ)+("|"+bQ+")");class vk{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(CQ,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new jr("EOF",new ur(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new K("Unexpected character: '"+e[n]+"'",new jr(e[n],new ur(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=e.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new jr(i,new ur(this,n,this.tokenRegex.lastIndex))}}class EQ{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new K("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(e)&&(s[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var TQ=UA;T("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});T("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});T("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});T("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});T("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});T("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");T("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var yk={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};T("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new K("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=yk[e.text],r==null||r>=n)throw new K("Invalid base-"+n+" digit "+e.text);for(var i;(i=yk[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var P3=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new K("\\newcommand's first argument must be a macro name");var i=r[0].text,s=t.isDefined(i);if(s&&!e)throw new K("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!s&&!n)throw new K("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var o=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var a="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)a+=l.text,l=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new K("Invalid number of arguments: "+a);o=parseInt(a),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:o}),""};T("\\newcommand",t=>P3(t,!1,!0));T("\\renewcommand",t=>P3(t,!0,!1));T("\\providecommand",t=>P3(t,!0,!0));T("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});T("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});T("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),No[n],ht.math[n],ht.text[n]),""});T("\\bgroup","{");T("\\egroup","}");T("~","\\nobreakspace");T("\\lq","`");T("\\rq","'");T("\\aa","\\r a");T("\\AA","\\r A");T("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");T("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");T("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");T("","\\mathscr{B}");T("","\\mathscr{E}");T("","\\mathscr{F}");T("","\\mathscr{H}");T("","\\mathscr{I}");T("","\\mathscr{L}");T("","\\mathscr{M}");T("","\\mathscr{R}");T("","\\mathfrak{C}");T("","\\mathfrak{H}");T("","\\mathfrak{Z}");T("\\Bbbk","\\Bbb{k}");T("","\\cdotp");T("\\llap","\\mathllap{\\textrm{#1}}");T("\\rlap","\\mathrlap{\\textrm{#1}}");T("\\clap","\\mathclap{\\textrm{#1}}");T("\\mathstrut","\\vphantom{(}");T("\\underbar","\\underline{\\text{#1}}");T("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');T("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");T("\\ne","\\neq");T("","\\neq");T("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");T("","\\notin");T("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");T("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");T("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");T("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");T("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");T("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");T("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");T("","\\perp");T("","\\mathclose{!\\mkern-0.8mu!}");T("","\\notni");T("","\\ulcorner");T("","\\urcorner");T("","\\llcorner");T("","\\lrcorner");T("","\\copyright");T("","\\textregistered");T("","\\textregistered");T("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');T("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');T("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');T("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');T("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");T("","\\vdots");T("\\varGamma","\\mathit{\\Gamma}");T("\\varDelta","\\mathit{\\Delta}");T("\\varTheta","\\mathit{\\Theta}");T("\\varLambda","\\mathit{\\Lambda}");T("\\varXi","\\mathit{\\Xi}");T("\\varPi","\\mathit{\\Pi}");T("\\varSigma","\\mathit{\\Sigma}");T("\\varUpsilon","\\mathit{\\Upsilon}");T("\\varPhi","\\mathit{\\Phi}");T("\\varPsi","\\mathit{\\Psi}");T("\\varOmega","\\mathit{\\Omega}");T("\\substack","\\begin{subarray}{c}#1\\end{subarray}");T("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");T("\\boxed","\\fbox{$\\displaystyle{#1}$}");T("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");T("\\implies","\\DOTSB\\;\\Longrightarrow\\;");T("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var wk={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};T("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in wk?e=wk[n]:(n.slice(0,4)==="\\not"||n in ht.math&&ye.contains(["bin","rel"],ht.math[n].group))&&(e="\\dotsb"),e});var z3={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};T("\\dotso",function(t){var e=t.future().text;return e in z3?"\\ldots\\,":"\\ldots"});T("\\dotsc",function(t){var e=t.future().text;return e in z3&&e!==","?"\\ldots\\,":"\\ldots"});T("\\cdots",function(t){var e=t.future().text;return e in z3?"\\@cdots\\,":"\\@cdots"});T("\\dotsb","\\cdots");T("\\dotsm","\\cdots");T("\\dotsi","\\!\\cdots");T("\\dotsx","\\ldots\\,");T("\\DOTSI","\\relax");T("\\DOTSB","\\relax");T("\\DOTSX","\\relax");T("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");T("\\,","\\tmspace+{3mu}{.1667em}");T("\\thinspace","\\,");T("\\>","\\mskip{4mu}");T("\\:","\\tmspace+{4mu}{.2222em}");T("\\medspace","\\:");T("\\;","\\tmspace+{5mu}{.2777em}");T("\\thickspace","\\;");T("\\!","\\tmspace-{3mu}{.1667em}");T("\\negthinspace","\\!");T("\\negmedspace","\\tmspace-{4mu}{.2222em}");T("\\negthickspace","\\tmspace-{5mu}{.277em}");T("\\enspace","\\kern.5em ");T("\\enskip","\\hskip.5em\\relax");T("\\quad","\\hskip1em\\relax");T("\\qquad","\\hskip2em\\relax");T("\\tag","\\@ifstar\\tag@literal\\tag@paren");T("\\tag@paren","\\tag@literal{({#1})}");T("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new K("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});T("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");T("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");T("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");T("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");T("\\newline","\\\\\\relax");T("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var nN=J(Ui["Main-Regular"][84][1]-.7*Ui["Main-Regular"][65][1]);T("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+nN+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");T("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+nN+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");T("\\hspace","\\@ifstar\\@hspacer\\@hspace");T("\\@hspace","\\hskip #1\\relax");T("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");T("\\ordinarycolon",":");T("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");T("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');T("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');T("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');T("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');T("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');T("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');T("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');T("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');T("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');T("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');T("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');T("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');T("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');T("","\\dblcolon");T("","\\eqcolon");T("","\\coloneqq");T("","\\eqqcolon");T("","\\Coloneqq");T("\\ratio","\\vcentcolon");T("\\coloncolon","\\dblcolon");T("\\colonequals","\\coloneqq");T("\\coloncolonequals","\\Coloneqq");T("\\equalscolon","\\eqqcolon");T("\\equalscoloncolon","\\Eqqcolon");T("\\colonminus","\\coloneq");T("\\coloncolonminus","\\Coloneq");T("\\minuscolon","\\eqcolon");T("\\minuscoloncolon","\\Eqcolon");T("\\coloncolonapprox","\\Colonapprox");T("\\coloncolonsim","\\Colonsim");T("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");T("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");T("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");T("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");T("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");T("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");T("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");T("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");T("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");T("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");T("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");T("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");T("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");T("\\ngeqq","\\html@mathml{\\@ngeqq}{}");T("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");T("\\nleqq","\\html@mathml{\\@nleqq}{}");T("\\nleqslant","\\html@mathml{\\@nleqslant}{}");T("\\nshortmid","\\html@mathml{\\@nshortmid}{}");T("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");T("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");T("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");T("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");T("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");T("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");T("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");T("\\imath","\\html@mathml{\\@imath}{}");T("\\jmath","\\html@mathml{\\@jmath}{}");T("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");T("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");T("","\\llbracket");T("","\\rrbracket");T("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");T("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");T("","\\lBrace");T("","\\rBrace");T("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");T("","\\minuso");T("\\darr","\\downarrow");T("\\dArr","\\Downarrow");T("\\Darr","\\Downarrow");T("\\lang","\\langle");T("\\rang","\\rangle");T("\\uarr","\\uparrow");T("\\uArr","\\Uparrow");T("\\Uarr","\\Uparrow");T("\\N","\\mathbb{N}");T("\\R","\\mathbb{R}");T("\\Z","\\mathbb{Z}");T("\\alef","\\aleph");T("\\alefsym","\\aleph");T("\\Alpha","\\mathrm{A}");T("\\Beta","\\mathrm{B}");T("\\bull","\\bullet");T("\\Chi","\\mathrm{X}");T("\\clubs","\\clubsuit");T("\\cnums","\\mathbb{C}");T("\\Complex","\\mathbb{C}");T("\\Dagger","\\ddagger");T("\\diamonds","\\diamondsuit");T("\\empty","\\emptyset");T("\\Epsilon","\\mathrm{E}");T("\\Eta","\\mathrm{H}");T("\\exist","\\exists");T("\\harr","\\leftrightarrow");T("\\hArr","\\Leftrightarrow");T("\\Harr","\\Leftrightarrow");T("\\hearts","\\heartsuit");T("\\image","\\Im");T("\\infin","\\infty");T("\\Iota","\\mathrm{I}");T("\\isin","\\in");T("\\Kappa","\\mathrm{K}");T("\\larr","\\leftarrow");T("\\lArr","\\Leftarrow");T("\\Larr","\\Leftarrow");T("\\lrarr","\\leftrightarrow");T("\\lrArr","\\Leftrightarrow");T("\\Lrarr","\\Leftrightarrow");T("\\Mu","\\mathrm{M}");T("\\natnums","\\mathbb{N}");T("\\Nu","\\mathrm{N}");T("\\Omicron","\\mathrm{O}");T("\\plusmn","\\pm");T("\\rarr","\\rightarrow");T("\\rArr","\\Rightarrow");T("\\Rarr","\\Rightarrow");T("\\real","\\Re");T("\\reals","\\mathbb{R}");T("\\Reals","\\mathbb{R}");T("\\Rho","\\mathrm{P}");T("\\sdot","\\cdot");T("\\sect","\\S");T("\\spades","\\spadesuit");T("\\sub","\\subset");T("\\sube","\\subseteq");T("\\supe","\\supseteq");T("\\Tau","\\mathrm{T}");T("\\thetasym","\\vartheta");T("\\weierp","\\wp");T("\\Zeta","\\mathrm{Z}");T("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");T("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");T("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");T("\\bra","\\mathinner{\\langle{#1}|}");T("\\ket","\\mathinner{|{#1}\\rangle}");T("\\braket","\\mathinner{\\langle{#1}\\rangle}");T("\\Bra","\\left\\langle#1\\right|");T("\\Ket","\\left|#1\\right\\rangle");var rN=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,s=e.consumeArg().tokens,o=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=d=>h=>{t&&(h.macros.set("|",o),i.length&&h.macros.set("\\|",a));var f=d;if(!d&&i.length){var p=h.future();p.text==="|"&&(h.popToken(),f=!0)}return{tokens:f?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var c=e.consumeArg().tokens,u=e.expandTokens([...s,...c,...n]);return e.macros.endGroup(),{tokens:u.reverse(),numArgs:0}};T("\\bra@ket",rN(!1));T("\\bra@set",rN(!0));T("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");T("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");T("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");T("\\angln","{\\angl n}");T("\\blue","\\textcolor{##6495ed}{#1}");T("\\orange","\\textcolor{##ffa500}{#1}");T("\\pink","\\textcolor{##ff00af}{#1}");T("\\red","\\textcolor{##df0030}{#1}");T("\\green","\\textcolor{##28ae7b}{#1}");T("\\gray","\\textcolor{gray}{#1}");T("\\purple","\\textcolor{##9d38bd}{#1}");T("\\blueA","\\textcolor{##ccfaff}{#1}");T("\\blueB","\\textcolor{##80f6ff}{#1}");T("\\blueC","\\textcolor{##63d9ea}{#1}");T("\\blueD","\\textcolor{##11accd}{#1}");T("\\blueE","\\textcolor{##0c7f99}{#1}");T("\\tealA","\\textcolor{##94fff5}{#1}");T("\\tealB","\\textcolor{##26edd5}{#1}");T("\\tealC","\\textcolor{##01d1c1}{#1}");T("\\tealD","\\textcolor{##01a995}{#1}");T("\\tealE","\\textcolor{##208170}{#1}");T("\\greenA","\\textcolor{##b6ffb0}{#1}");T("\\greenB","\\textcolor{##8af281}{#1}");T("\\greenC","\\textcolor{##74cf70}{#1}");T("\\greenD","\\textcolor{##1fab54}{#1}");T("\\greenE","\\textcolor{##0d923f}{#1}");T("\\goldA","\\textcolor{##ffd0a9}{#1}");T("\\goldB","\\textcolor{##ffbb71}{#1}");T("\\goldC","\\textcolor{##ff9c39}{#1}");T("\\goldD","\\textcolor{##e07d10}{#1}");T("\\goldE","\\textcolor{##a75a05}{#1}");T("\\redA","\\textcolor{##fca9a9}{#1}");T("\\redB","\\textcolor{##ff8482}{#1}");T("\\redC","\\textcolor{##f9685d}{#1}");T("\\redD","\\textcolor{##e84d39}{#1}");T("\\redE","\\textcolor{##bc2612}{#1}");T("\\maroonA","\\textcolor{##ffbde0}{#1}");T("\\maroonB","\\textcolor{##ff92c6}{#1}");T("\\maroonC","\\textcolor{##ed5fa6}{#1}");T("\\maroonD","\\textcolor{##ca337c}{#1}");T("\\maroonE","\\textcolor{##9e034e}{#1}");T("\\purpleA","\\textcolor{##ddd7ff}{#1}");T("\\purpleB","\\textcolor{##c6b9fc}{#1}");T("\\purpleC","\\textcolor{##aa87ff}{#1}");T("\\purpleD","\\textcolor{##7854ab}{#1}");T("\\purpleE","\\textcolor{##543b78}{#1}");T("\\mintA","\\textcolor{##f5f9e8}{#1}");T("\\mintB","\\textcolor{##edf2df}{#1}");T("\\mintC","\\textcolor{##e0e5cc}{#1}");T("\\grayA","\\textcolor{##f6f7f7}{#1}");T("\\grayB","\\textcolor{##f0f1f2}{#1}");T("\\grayC","\\textcolor{##e3e5e6}{#1}");T("\\grayD","\\textcolor{##d6d8da}{#1}");T("\\grayE","\\textcolor{##babec2}{#1}");T("\\grayF","\\textcolor{##888d93}{#1}");T("\\grayG","\\textcolor{##626569}{#1}");T("\\grayH","\\textcolor{##3b3e40}{#1}");T("\\grayI","\\textcolor{##21242c}{#1}");T("\\kaBlue","\\textcolor{##314453}{#1}");T("\\kaGreen","\\textcolor{##71B307}{#1}");var iN={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class MQ{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new EQ(TQ,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new vk(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new jr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),s,o=0,a=0;do{if(s=this.popToken(),n.push(s),s.text==="{")++o;else if(s.text==="}"){if(--o,o===-1)throw new K("Extra }",s)}else if(s.text==="EOF")throw new K("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",s);if(e&&r)if((o===0||o===1&&e[a]==="{")&&s.text===e[a]){if(++a,a===e.length){n.splice(-a,a);break}}else a=0}while(o!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:s}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new K("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var s=this.popToken();if(r[i]!==s.text)throw new K("Use of the macro doesn't match its definition",s)}}for(var o=[],a=0;a<e;a++)o.push(this.consumeArg(n&&n[a+1]).tokens);return o}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new K("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new K("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var s=i.tokens,o=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var a=s.length-1;a>=0;--a){var l=s[a];if(l.text==="#"){if(a===0)throw new K("Incomplete placeholder at end of macro body",l);if(l=s[--a],l.text==="#")s.splice(a+1,1);else if(/^[1-9]$/.test(l.text))s.splice(a,2,...o[+l.text-1]);else throw new K("Not a valid argument number",l)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new jr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var o=i.replace(/##/g,"");o.indexOf("#"+(s+1))!==-1;)++s;for(var a=new vk(i,this.settings),l=[],c=a.lex();c.text!=="EOF";)l.push(c),c=a.lex();l.reverse();var u={tokens:l,numArgs:s};return u}return i}isDefined(e){return this.macros.has(e)||No.hasOwnProperty(e)||ht.math.hasOwnProperty(e)||ht.text.hasOwnProperty(e)||iN.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:No.hasOwnProperty(e)&&!No[e].primitive}}var bk=/^[]/,Rh=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),m4={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},kk={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class E1{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new MQ(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new K("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new jr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(E1.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&No[i.text]&&No[i.text].infix)break;var s=this.parseAtom(n);if(s){if(s.type==="internal")continue}else break;r.push(s)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new K("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var s,o,a=e.slice(0,n),l=e.slice(n+1);a.length===1&&a[0].type==="ordgroup"?s=a[0]:s={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?o=l[0]:o={type:"ordgroup",mode:this.mode,body:l};var c;return r==="\\\\abovefrac"?c=this.callFunction(r,[s,e[n],o],[]):c=this.callFunction(r,[s,o],[]),[c]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new K("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(n&&n.type==="op"){var o=s.text==="\\limits";n.limits=o,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=s.text==="\\limits");else throw new K("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(r)throw new K("Double superscript",s);r=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new K("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(r)throw new K("Double superscript",s);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(Rh[s.text]){var c=bk.test(s.text),u=[];for(u.push(new jr(Rh[s.text])),this.consume();;){var d=this.fetch().text;if(!Rh[d]||bk.test(d)!==c)break;u.unshift(new jr(Rh[d])),this.consume()}var h=this.subparse(u);c?i={type:"ordgroup",mode:"math",body:h}:r={type:"ordgroup",mode:"math",body:h}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,s=No[i];if(!s)return null;if(this.consume(),n&&n!=="atom"&&!s.allowedInArgument)throw new K("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!s.allowedInText)throw new K("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&s.allowedInMath===!1)throw new K("Can't use function '"+i+"' in math mode",r);var{args:o,optArgs:a}=this.parseArguments(i,s);return this.callFunction(i,o,a,r,e)}callFunction(e,n,r,i,s){var o={funcName:e,parser:this,token:i,breakOnTokenText:s},a=No[e];if(a&&a.handler)return a.handler(o,n,r);throw new K("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],s=[],o=0;o<r;o++){var a=n.argTypes&&n.argTypes[o],l=o<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&o===1&&s[0]==null)&&(a="primitive");var c=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)s.push(c);else if(c!=null)i.push(c);else throw new K("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",r);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(r)throw new K("A primitive argument cannot be optional");var o=this.parseGroup(e);if(o==null)throw new K("Expected group as "+e,this.fetch());return o}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new K("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,s="",o;(o=this.fetch()).text!=="EOF"&&e.test(s+o.text);)i=o,s+=i.text,this.consume();if(s==="")throw new K("Invalid "+n+": '"+r.text+"'",r);return r.range(i,s)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new K("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new K("Invalid size: '"+n.text+"'",n);var s={number:+(i[1]+i[2]),unit:i[3]};if(!pA(s))throw new K("Invalid unit: '"+s.unit+"'",n);return{type:"size",mode:this.mode,value:s,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var o={type:"ordgroup",mode:this.mode,loc:r.loc,body:s};return n&&this.switchMode(i),o}parseGroup(e,n){var r=this.fetch(),i=r.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var o=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,o),l=this.fetch();this.expect(o),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:ur.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(n,e)||this.parseSymbol(),s==null&&i[0]==="\\"&&!iN.hasOwnProperty(i)){if(this.settings.throwOnError)throw new K("Undefined control sequence: "+i,r);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],s=i.text;s==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:ur.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:ur.range(i,e[r+1]),text:"--"}),n-=1)),(s==="'"||s==="`")&&e[r+1].text===s&&(e.splice(r,2,{type:"textord",mode:"text",loc:ur.range(i,e[r+1]),text:s+s}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new K(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}kk.hasOwnProperty(n[0])&&!ht[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=kk[n[0]]+n.slice(1));var s=SQ.exec(n);s&&(n=n.substring(0,s.index),n==="i"?n="":n==="j"&&(n=""));var o;if(ht[this.mode][n]){this.settings.strict&&this.mode==="math"&&Ly.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var a=ht[this.mode][n].group,l=ur.range(e),c;if(mX.hasOwnProperty(a)){var u=a;c={type:"atom",mode:this.mode,family:u,loc:l,text:n}}else c={type:a,mode:this.mode,loc:l,text:n};o=c}else if(n.charCodeAt(0)>=128)this.settings.strict&&(fA(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),o={type:"textord",mode:"text",loc:ur.range(e),text:n};else return null;if(this.consume(),s)for(var d=0;d<s[0].length;d++){var h=s[0][d];if(!m4[h])throw new K("Unknown accent ' "+h+"'",e);var f=m4[h][this.mode]||m4[h].text;if(!f)throw new K("Accent "+h+" unsupported in "+this.mode+" mode",e);o={type:"accent",mode:this.mode,loc:ur.range(e),label:f,isStretchy:!1,isShifty:!0,base:o}}return o}}E1.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var B3=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new E1(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new K("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new jr("\\df@tag")])}]}return i},sN=function(e,n,r){n.textContent="";var i=j3(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),sN=function(){throw new K("KaTeX doesn't work in quirks mode.")});var AQ=function(e,n){var r=j3(e,n).toMarkup();return r},NQ=function(e,n){var r=new b3(n);return B3(e,r)},oN=function(e,n,r){if(r.throwOnError||!(e instanceof K))throw e;var i=z.makeSpan(["katex-error"],[new Wr(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},j3=function(e,n){var r=new b3(n);try{var i=B3(e,r);return BX(i,e,r)}catch(s){return oN(s,e,r)}},OQ=function(e,n){var r=new b3(n);try{var i=B3(e,r);return jX(i,e,r)}catch(s){return oN(s,e,r)}},IQ={version:"0.16.11",render:sN,renderToString:AQ,ParseError:K,SETTINGS_SCHEMA:yf,__parse:NQ,__renderToDomTree:j3,__renderToHTMLTree:OQ,__setFontMetrics:lX,__defineSymbol:m,__defineFunction:Z,__defineMacro:T,__domTree:{Span:A0,Anchor:S3,SymbolNode:Wr,SvgNode:Fs,PathNode:Xo,LineNode:_y}};const DQ=t=>{const{regex:e,katexOptions:n={},editor:r,shouldRender:i}=t;return new nt({key:new lt("mathematics"),state:{init:()=>tt.empty,apply(s,o,a,l){const{selection:c}=l,u=[];return l.doc.descendants((d,h)=>{const f=i(l,h,d);if(d.isText&&d.text&&f){let p;for(;p=e.exec(d.text);){const g=h+p.index,w=g+p[0].length,v=p.slice(1).find(Boolean);if(v){const k=c.$from.pos-c.$to.pos,E=c.$anchor.pos>=g&&c.$anchor.pos<=w,S=c.$from.pos>=g&&c.$to.pos<=w,N=k===0&&E||S;N&&r.isEditable||u.push(Zt.widget(g,()=>{const b=document.createElement("span");b.classList.add("Tiptap-mathematics-render"),r.isEditable&&b.classList.add("Tiptap-mathematics-render--editable");try{IQ.render(v,b,n)}catch{b.innerHTML=v}return b})),u.push(Zt.inline(g,w,{class:N&&r.isEditable?"Tiptap-mathematics-editor":"Tiptap-mathematics-editor Tiptap-mathematics-editor--hidden",style:N&&r.isEditable?void 0:"display: inline-block; height: 0; opacity: 0; overflow: hidden; position: absolute; width: 0;"}))}}}}),u.length>0?tt.create(l.doc,u):tt.empty}},props:{decorations(s){return this.getState(s)}}})},RQ=(t,e)=>t.doc.resolve(e).parent.type.name!=="codeBlock",aN=zt.create({name:"Mathematics",addOptions:()=>({regex:/\$([^\$]*)\$/gi,katexOptions:void 0,shouldRender:RQ}),addProseMirrorPlugins(){return[DQ({...this.options,editor:this.editor})]}}),bf=(t,e)=>e.view.domAtPos(t).node.offsetParent!==null,xk=(t,e)=>{const{state:n,view:r,extensionManager:i}=t,{schema:s,selection:o}=n,{empty:a,$anchor:l}=o,c=!!i.extensions.find(w=>w.name==="gapCursor");if(!a||l.parent.type!==s.nodes.detailsSummary||!c||e==="right"&&l.parentOffset!==l.parent.nodeSize-2)return!1;const u=Zc(w=>w.type===s.nodes.details)(o);if(!u)return!1;const d=sf(u.node,w=>w.type===s.nodes.detailsContent);if(!d.length||bf(u.start+d[0].pos+1,t))return!1;const h=n.doc.resolve(u.pos+u.node.nodeSize),f=wt.findFrom(h,1,!1);if(!f)return!1;const{tr:p}=n,g=new wt(f);return p.setSelection(g),p.scrollIntoView(),r.dispatch(p),!0},lN=kt.create({name:"details",content:"detailsSummary detailsContent",group:"block",defining:!0,isolating:!0,allowGapCursor:!1,addOptions:()=>({persist:!1,openClassName:"is-open",HTMLAttributes:{}}),addAttributes(){return this.options.persist?{open:{default:!1,parseHTML:t=>t.hasAttribute("open"),renderHTML:({open:t})=>t?{open:""}:{}}}:[]},parseHTML:()=>[{tag:"details"}],renderHTML({HTMLAttributes:t}){return["details",Ge(this.options.HTMLAttributes,t),0]},addNodeView(){return({editor:t,getPos:e,node:n,HTMLAttributes:r})=>{const i=document.createElement("div"),s=Ge(this.options.HTMLAttributes,r,{"data-type":this.name});Object.entries(s).forEach(([c,u])=>i.setAttribute(c,u));const o=document.createElement("button");o.type="button",i.append(o);const a=document.createElement("div");i.append(a);const l=c=>{if(c!==void 0)if(c){if(i.classList.contains(this.options.openClassName))return;i.classList.add(this.options.openClassName)}else{if(!i.classList.contains(this.options.openClassName))return;i.classList.remove(this.options.openClassName)}else i.classList.toggle(this.options.openClassName);const u=new Event("toggleDetailsContent"),d=a.querySelector(':scope > div[data-type="detailsContent"]');d==null||d.dispatchEvent(u)};return n.attrs.open&&setTimeout(()=>l()),o.addEventListener("click",()=>{if(l(),this.options.persist){if(t.isEditable&&typeof e=="function"){const{from:c,to:u}=t.state.selection;t.chain().command(({tr:d})=>{const h=e(),f=d.doc.nodeAt(h);return(f==null?void 0:f.type)===this.type&&(d.setNodeMarkup(h,void 0,{open:!f.attrs.open}),!0)}).setTextSelection({from:c,to:u}).focus(void 0,{scrollIntoView:!1}).run()}}else t.commands.focus(void 0,{scrollIntoView:!1})}),{dom:i,contentDOM:a,ignoreMutation:c=>c.type!=="selection"&&(!i.contains(c.target)||i===c.target),update:c=>c.type===this.type&&(c.attrs.open!==void 0&&l(c.attrs.open),!0)}}},addCommands(){return{setDetails:()=>({state:t,chain:e})=>{var n;const{schema:r,selection:i}=t,{$from:s,$to:o}=i,a=s.blockRange(o);if(!a)return!1;const l=t.doc.slice(a.start,a.end);if(!r.nodes.detailsContent.contentMatch.matchFragment(l.content))return!1;const c=((n=l.toJSON())===null||n===void 0?void 0:n.content)||[];return e().insertContentAt({from:a.start,to:a.end},{type:this.name,content:[{type:"detailsSummary"},{type:"detailsContent",content:c}]}).setTextSelection(a.start+2).run()},unsetDetails:()=>({state:t,chain:e})=>{const{selection:n,schema:r}=t,i=Zc(g=>g.type===this.type)(n);if(!i)return!1;const s=sf(i.node,g=>g.type===r.nodes.detailsSummary),o=sf(i.node,g=>g.type===r.nodes.detailsContent);if(!s.length||!o.length)return!1;const a=s[0],l=o[0],c=i.pos,u=t.doc.resolve(c),d={from:c,to:c+i.node.nodeSize},h=l.node.content.toJSON()||[],f=u.parent.type.contentMatch.defaultType,p=[f==null?void 0:f.create(null,a.node.content).toJSON(),...h];return e().insertContentAt(d,p).setTextSelection(c+1).run()}}},addKeyboardShortcuts(){return{Backspace:()=>{const{schema:t,selection:e}=this.editor.state,{empty:n,$anchor:r}=e;return!(!n||r.parent.type!==t.nodes.detailsSummary)&&(r.parentOffset!==0?this.editor.commands.command(({tr:i})=>{const s=r.pos-1,o=r.pos;return i.delete(s,o),!0}):this.editor.commands.unsetDetails())},Enter:({editor:t})=>{const{state:e,view:n}=t,{schema:r,selection:i}=e,{$head:s}=i;if(s.parent.type!==r.nodes.detailsSummary)return!1;const o=bf(s.after()+1,t),a=o?e.doc.nodeAt(s.after()):s.node(-2);if(!a)return!1;const l=o?0:s.indexAfter(-1),c=S5(a.contentMatchAt(l));if(!c||!a.canReplaceWith(l,l,c))return!1;const u=c.createAndFill();if(!u)return!1;const d=o?s.after()+1:s.after(-1),h=e.tr.replaceWith(d,d,u),f=h.doc.resolve(d),p=we.near(f,1);return h.setSelection(p),h.scrollIntoView(),n.dispatch(h),!0},ArrowRight:({editor:t})=>xk(t,"right"),ArrowDown:({editor:t})=>xk(t,"down")}},addProseMirrorPlugins(){return[new nt({key:new lt("detailsSelection"),appendTransaction:(t,e,n)=>{const{editor:r,type:i}=this;if(!t.some(h=>h.selectionSet)||!e.selection.empty||!n.selection.empty||!rT(n,i.name))return;const{$from:o}=n.selection;if(bf(o.pos,r))return;const a=((h,f,p)=>{for(let g=h.depth;g>0;g-=1){const w=h.node(g),v=f(w),k=bf(h.start(g),p);if(v&&k)return{pos:g>0?h.before(g):0,start:h.start(g),depth:g,node:w}}})(o,h=>h.type===i,r);if(!a)return;const l=sf(a.node,h=>h.type===n.schema.nodes.detailsSummary);if(!l.length)return;const c=l[0],u=(e.selection.from<n.selection.from?"forward":"backward")=="forward"?a.start+c.pos:a.pos+c.pos+c.node.nodeSize,d=me.create(n.doc,u);return n.tr.setSelection(d)}})]}}),cN=kt.create({name:"detailsContent",content:"block+",defining:!0,selectable:!1,addOptions:()=>({HTMLAttributes:{}}),parseHTML(){return[{tag:`div[data-type="${this.name}"]`}]},renderHTML({HTMLAttributes:t}){return["div",Ge(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addNodeView(){return({HTMLAttributes:t})=>{const e=document.createElement("div"),n=Ge(this.options.HTMLAttributes,t,{"data-type":this.name,hidden:"hidden"});return Object.entries(n).forEach(([r,i])=>e.setAttribute(r,i)),e.addEventListener("toggleDetailsContent",()=>{e.toggleAttribute("hidden")}),{dom:e,contentDOM:e,ignoreMutation:r=>r.type!=="selection"&&(!e.contains(r.target)||e===r.target),update:r=>r.type===this.type}}},addKeyboardShortcuts(){return{Enter:({editor:t})=>{const{state:e,view:n}=t,{selection:r}=e,{$from:i,empty:s}=r,o=Zc(_=>_.type===this.type)(r);if(!s||!o||!o.node.childCount)return!1;const a=i.index(o.depth),{childCount:l}=o.node;if(l!==a+1)return!1;const c=o.node.type.contentMatch.defaultType,u=c==null?void 0:c.createAndFill();if(!u)return!1;const d=e.doc.resolve(o.pos+1),h=l-1,f=o.node.child(h),p=d.posAtIndex(h,o.depth);if(!f.eq(u))return!1;const g=i.node(-3);if(!g)return!1;const w=i.indexAfter(-3),v=S5(g.contentMatchAt(w));if(!v||!g.canReplaceWith(w,w,v))return!1;const k=v.createAndFill();if(!k)return!1;const{tr:E}=e,S=i.after(-2);E.replaceWith(S,S,k);const N=E.doc.resolve(S),b=we.near(N,1);E.setSelection(b);const M=p,I=p+f.nodeSize;return E.delete(M,I),E.scrollIntoView(),n.dispatch(E),!0}}}}),uN=kt.create({name:"detailsSummary",content:"text*",defining:!0,selectable:!1,isolating:!0,addOptions:()=>({HTMLAttributes:{}}),parseHTML:()=>[{tag:"summary"}],renderHTML({HTMLAttributes:t}){return["summary",Ge(this.options.HTMLAttributes,t),0]}}),Sk=()=>{const t=AT({extensions:[LT,j5,P5,_5,B5,$5.configure({levels:[1,2,3]}),V5,W5,q5,WT.configure({resizable:!0}),GT,KT,qT,L5,z5,JT.configure({multicolor:!0}),U5,rM.configure({openOnClick:!0,autolink:!0,defaultProtocol:"https"}),K5,iM,sM.configure({placeholder:"Write something "}),oM.configure({types:["heading","paragraph"]}),aM,F5,aN,lN.configure({persist:!0,HTMLAttributes:{class:"details"}}),uN,cN,hy,lM.configure({nested:!0})]});if(!t)return null;const e=P.useCallback(()=>{const w=window.prompt("Enter a image URL.");w&&t.chain().focus().setImage({src:w}).run()},[t]),n=P.useCallback(()=>{const w=t.getAttributes("link").href,v=window.prompt("URL",w);if(v!==null){if(v===""){t.chain().focus().extendMarkRange("link").unsetLink().run();return}t.chain().focus().extendMarkRange("link").setLink({href:v}).run()}},[t]),[r,i]=P.useState(""),[s,o]=P.useState(""),{category:a=""}=Gf(),{urlId:l=""}=Gf(),c=xr();P.useEffect(()=>{p(l,a);const w=sa(Kt,v=>{v&&v.displayName?o(v.displayName):o("No user name info.")});return()=>w()},[]);const u=w=>{i(w.target.value)},d=w=>{w.preventDefault(),l===""?(f(r,s,a),confirm("Save Complete!")&&c("/"+a)):(g(l,r,a),confirm("Update Complete!")&&c("/"+a))},h=()=>{c("/"+a)},f=async(w,v,k)=>{const E=t.getJSON();console.log(E);try{const N=await(await fetch(`${Tn}/api/insert_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:v,title:w,content:E,category:k})})).json();console.log(N)}catch(S){console.error("Error sending data to sever:",S)}},p=async(w,v)=>{try{const E=await(await fetch(`${Tn}/api/load_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:w,category:v})})).json();return console.log(E),t.commands.setContent(E.content),i(E.title),E.name}catch(k){console.error("Error sending data to server:",k)}},g=async(w,v,k)=>{const E=t.getJSON();console.log(E);try{const N=await(await fetch(`${Tn}/api/update_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:w,title:v,content:E,category:k})})).json();console.log("Response from server:",N)}catch(S){console.error("Error sending data to sever:",S)}};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"editor",children:[x.jsxs("form",{onSubmit:d,className:"editor-top-menu",children:[x.jsx("button",{onClick:h,className:"previous-button",children:""}),x.jsx("span",{className:"viewer-editor-tag",children:"Editor"}),x.jsx("input",{className:"input-title",onChange:u,value:r,name:"title",placeholder:"Title",type:"text",required:!0}),x.jsx("input",{className:"submit-button",type:"submit",value:l!==""?"Update":"Save"})]}),x.jsxs("div",{className:"control-group",children:[x.jsxs("div",{className:"button-group",children:[x.jsx("button",{onClick:()=>t.chain().focus().toggleBulletList().run(),className:t.isActive("bulletList")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 8h10M9 12h10M9 16h10M4.99 8H5m-.02 4h.01m0 4H5"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleOrderedList().run(),className:t.isActive("orderedList")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6h8m-8 6h8m-8 6h8M4 16a2 2 0 1 1 3.321 1.5L4 20h5M4 5l2-1v6m-2 0h4"})})}),x.jsx("button",{onClick:()=>t.chain().focus().sinkListItem("listItem").run(),disabled:!t.can().sinkListItem("listItem"),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h12M6 18h12m-5-8h5m-5 4h5M6 9v6l3.5-3L6 9Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().liftListItem("listItem").run(),disabled:!t.can().liftListItem("listItem"),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h12M6 18h12m-5-8h5m-5 4h5M9.5 9v6L6 12l3.5-3Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:1}).run(),className:t.isActive("heading",{level:1})?"is-active":"",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-1",children:[x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),x.jsx("path",{d:"M19 18v-8l-2 2"}),x.jsx("path",{d:"M4 6v12"}),x.jsx("path",{d:"M12 6v12"}),x.jsx("path",{d:"M11 18h2"}),x.jsx("path",{d:"M3 18h2"}),x.jsx("path",{d:"M4 12h8"}),x.jsx("path",{d:"M3 6h2"}),x.jsx("path",{d:"M11 6h2"})]})}),x.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:2}).run(),className:t.isActive("heading",{level:2})?"is-active":"",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-2",children:[x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),x.jsx("path",{d:"M17 12a2 2 0 1 1 4 0c0 .591 -.417 1.318 -.816 1.858l-3.184 4.143l4 0"}),x.jsx("path",{d:"M4 6v12"}),x.jsx("path",{d:"M12 6v12"}),x.jsx("path",{d:"M11 18h2"}),x.jsx("path",{d:"M3 18h2"}),x.jsx("path",{d:"M4 12h8"}),x.jsx("path",{d:"M3 6h2"}),x.jsx("path",{d:"M11 6h2"})]})}),x.jsx("button",{onClick:()=>t.chain().focus().setHeading({level:3}).run(),className:t.isActive("heading",{level:3})?"is-active":"",children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-h-3",children:[x.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),x.jsx("path",{d:"M19 14a2 2 0 1 0 -2 -2"}),x.jsx("path",{d:"M17 16a2 2 0 1 0 2 -2"}),x.jsx("path",{d:"M4 6v12"}),x.jsx("path",{d:"M12 6v12"}),x.jsx("path",{d:"M11 18h2"}),x.jsx("path",{d:"M3 18h2"}),x.jsx("path",{d:"M4 12h8"}),x.jsx("path",{d:"M3 6h2"}),x.jsx("path",{d:"M11 6h2"})]})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleTaskList().run(),className:t.isActive("taskList")?"is-active":"",children:x.jsx("svg",{"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleCodeBlock().run(),className:t.isActive("codeBlock")?"is-active":"",children:x.jsx("svg",{"data-slot":"icon",fill:"none","stroke-width":"1.5",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.25 9.75 16.5 12l-2.25 2.25m-4.5 0L7.5 12l2.25-2.25M6 20.25h12A2.25 2.25 0 0 0 20.25 18V6A2.25 2.25 0 0 0 18 3.75H6A2.25 2.25 0 0 0 3.75 6v12A2.25 2.25 0 0 0 6 20.25Z"})})}),x.jsx("button",{onClick:e,children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m3 16 5-7 6 6.5m6.5 2.5L16 13l-4.286 6M14 10h.01M4 19h16a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1Z"})})}),x.jsx("button",{onClick:n,className:t.isActive("link")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"})})}),x.jsx("button",{onClick:()=>t.chain().focus().unsetLink().run(),disabled:!t.isActive("link"),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M13.2131 9.78732c-.6359-.63557-1.4983-.99259-2.3974-.99259-.89911 0-1.76143.35702-2.39741.99259l-3.4253 3.42528C4.35719 13.8485 4 14.7108 4 15.61c0 .8992.35719 1.7616.99299 2.3974.63598.6356 1.4983.9926 2.39742.9926.89912 0 1.76144-.357 2.39742-.9926l.32157-.3043m-.32157-4.4905c.63587.6358 1.49827.993 2.39747.993.8991 0 1.7615-.3572 2.3974-.993l3.4243-3.42528c.6358-.63585.993-1.49822.993-2.39741 0-.89919-.3572-1.76156-.993-2.39741C17.3712 4.357 16.509 4 15.6101 4c-.899 0-1.7612.357-2.397.9925l-1.0278.96062m7.3873 14.04678-1.7862-1.7862m0 0L16 16.4274m1.7864 1.7863 1.7862-1.7863m-1.7862 1.7863L16 20"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleCode().run(),className:t.isActive("code")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8 8-4 4 4 4m8 0 4-4-4-4m-2-3-4 14"})})}),x.jsx("button",{onClick:()=>t.chain().focus().setHorizontalRule().run(),children:x.jsxs("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:[x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M5 12h14"}),x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",d:"M6 9.5h12m-12-2h12m-12-2h12m-12 13h12m-12-2h12m-12-2h12"})]})}),x.jsx("button",{onClick:()=>t.chain().focus().setDetails().run(),disabled:!t.can().setDetails(),children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[x.jsx("path",{d:"M4 4m0 1a1 1 0 0 1 1 -1h14a1 1 0 0 1 1 1v14a1 1 0 0 1 -1 1h-14a1 1 0 0 1 -1 -1z"}),x.jsx("path",{d:"M4 8l16 0"}),x.jsx("path",{d:"M8 4l0 4"})]})}),x.jsx("button",{onClick:()=>t.chain().focus().unsetDetails().run(),disabled:!t.can().unsetDetails(),children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[x.jsx("path",{d:"M8 4h11a1 1 0 0 1 1 1v11m-.288 3.702a1 1 0 0 1 -.712 .298h-14a1 1 0 0 1 -1 -1v-14c0 -.276 .112 -.526 .293 -.707"}),x.jsx("path",{d:"M4 8h4m4 0h8"}),x.jsx("path",{d:"M3 3l18 18"})]})}),x.jsx("button",{onClick:()=>t.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1 4h2m0 0h2m-2 0v2m0-2v-2"})})}),x.jsx("button",{onClick:()=>t.chain().focus().addColumnBefore().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v14m-8-7h2m0 0h2m-2 0v2m0-2v-2m12 1h-6m6 4h-6M4 19h16c.5523 0 1-.4477 1-1V6c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44772-1 1v12c0 .5523.44772 1 1 1Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().addColumnAfter().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5v14m8-7h-2m0 0h-2m2 0v2m0-2v-2M3 11h6m-6 4h6m11 4H4c-.55228 0-1-.4477-1-1V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v12c0 .5523-.4477 1-1 1Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().deleteColumn().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5v14m-6-8h6m-6 4h6m4.506-1.494L15.012 12m0 0 1.506-1.506M15.012 12l1.506 1.506M15.012 12l-1.506-1.506M20 19H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().addRowBefore().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-6-9h2m0 0h2m-2 0v2m0-2V8"})})}),x.jsx("button",{onClick:()=>t.chain().focus().addRowAfter().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 9V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44771 1 1v3M3 9v9c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1V9M3 9h18M8 9V5m4 4V5m4 4V5m-6 9h2m0 0h2m-2 0v-2m0 2v2"})})}),x.jsx("button",{onClick:()=>t.chain().focus().deleteRow().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-5.5061-7.4939L12 10m0 0 1.5061-1.50614M12 10l1.5061 1.5061M12 10l-1.5061-1.50614"})})}),x.jsx("button",{onClick:()=>t.chain().focus().deleteTable().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h10.5M3 15v-4m0 4h11M3 11V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v5M3 11h18m0 0v1M8 11v8m4-8v8m4-8v2m1.8956 5.9528 1.5047-1.5047m0 0 1.5048-1.5048m-1.5048 1.5048 1.4605 1.4604m-1.4605-1.4604-1.4604-1.4605"})})}),x.jsx("button",{onClick:()=>t.chain().focus().mergeCells().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 18v2H4V4h6v2m4 12v2h6V4h-6v2m-6.49543 8.4954L10 12m0 0L7.50457 9.50457M10 12H4.05191m12.50199 2.5539L14 12m0 0 2.5539-2.55392M14 12h5.8319"})})}),x.jsx("button",{onClick:()=>t.chain().focus().splitCell().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 18v2h6V4H4v2m16 12v2h-6V4h6v2M6.49545 14.4954 4.00003 12m0 0 2.49542-2.49543M4.00003 12h5.94809m7.49798 2.5539L20 12m0 0-2.5539-2.55392M20 12h-5.8319"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeaderColumn().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 5v14m6-8h-6m6 4h-6m-9-3h1.99093M4 19h16c.5523 0 1-.4477 1-1V6c0-.55228-.4477-1-1-1H4c-.55228 0-1 .44772-1 1v12c0 .5523.44772 1 1 1Zm8-7c0 1.1046-.8954 2-2 2-1.10457 0-2-.8954-2-2s.89543-2 2-2c1.1046 0 2 .8954 2 2Z"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHeaderRow().run(),children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 15v3c0 .5523.44772 1 1 1h16c.5523 0 1-.4477 1-1v-3M3 15V6c0-.55228.44772-1 1-1h16c.5523 0 1 .44772 1 1v9M3 15h18M8 15v4m4-4v4m4-4v4m-7-9h1.9909M15 10c0 1.1046-.8954 2-2 2s-2-.8954-2-2c0-1.10457.8954-2 2-2s2 .89543 2 2Z"})})})]}),t&&x.jsx(pW,{editor:t,tippyOptions:{duration:100},children:x.jsxs("div",{className:"button-group",children:[x.jsx("button",{onClick:()=>t.chain().focus().toggleBold().run(),className:t.isActive("bold")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 5h4.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0-7H6m2 7h6.5a3.5 3.5 0 1 1 0 7H8m0-7v7m0 0H6"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleItalic().run(),className:t.isActive("italic")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m8.874 19 6.143-14M6 19h6.33m-.66-14H18"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleUnderline().run(),className:t.isActive("underline")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M6 19h12M8 5v9a4 4 0 0 0 8 0V5M6 5h4m4 0h4"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleHighlight().run(),className:t.isActive("highlight")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeWidth:"2",d:"M9 20H5.5c-.27614 0-.5-.2239-.5-.5v-3c0-.2761.22386-.5.5-.5h13c.2761 0 .5.2239.5.5v3c0 .2761-.2239.5-.5.5H18m-6-1 1.42 1.8933c.04.0534.12.0534.16 0L15 19m-7-6 3.9072-9.76789c.0335-.08381.1521-.08381.1856 0L16 13m-8 0H7m1 0h1.5m6.5 0h-1.5m1.5 0h1m-7-3.00001h4"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleStrike().run(),className:t.isActive("strike")?"is-active":"",children:x.jsx("svg",{width:"100%",height:"100%",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:x.jsx("path",{d:"M6 16C6 18.2091 7.79086 20 10 20H14C16.2091 20 18 18.2091 18 16C18 13.7909 16.2091 12 14 12M18 8C18 5.79086 16.2091 4 14 4H10C7.79086 4 6 5.79086 6 8M3 12H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})}),x.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("left").run(),className:t.isActive({textAlign:"left"})?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 6h8m-8 4h12M6 14h8m-8 4h12"})})}),x.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("center").run(),className:t.isActive({textAlign:"center"})?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 6h8M6 10h12M8 14h8M6 18h12"})})}),x.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("right").run(),className:t.isActive({textAlign:"right"})?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6h-8m8 4H6m12 4h-8m8 4H6"})})}),x.jsx("button",{onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:t.isActive({textAlign:"justify"})?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M18 6H6m12 4H6m12 4H6m12 4H6"})})}),x.jsx("button",{onClick:()=>t.chain().focus().toggleBlockquote().run(),className:t.isActive("blockquote")?"is-active":"",children:x.jsx("svg",{className:"w-6 h-6 text-gray-800 dark:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",children:x.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 11V8a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1Zm0 0v2a4 4 0 0 1-4 4H5m14-6V8a1 1 0 0 0-1-1h-3a1 1 0 0 0-1 1v3a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1Zm0 0v2a4 4 0 0 1-4 4h-1"})})})]})}),x.jsx(RY,{editor:t,tippyOptions:{placement:"left"},children:x.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[x.jsx("path",{d:"M9 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),x.jsx("path",{d:"M9 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),x.jsx("path",{d:"M9 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),x.jsx("path",{d:"M15 5m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),x.jsx("path",{d:"M15 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"}),x.jsx("path",{d:"M15 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"})]})}),x.jsx(TT,{editor:t})]})]})})},_Q=()=>{const t=AT({extensions:[LT,j5,P5,_5,B5,$5.configure({levels:[1,2,3]}),V5,W5,q5,WT.configure({resizable:!0}),GT,KT,qT,L5,z5,JT.configure({multicolor:!0}),U5,rM.configure({openOnClick:!0,autolink:!0,defaultProtocol:"https"}),K5,iM,sM.configure({placeholder:"Write something "}),oM.configure({types:["heading","paragraph"]}),aM,F5,aN,lN.configure({persist:!0,HTMLAttributes:{class:"details"}}),uN,cN,hy,hy,lM.configure({nested:!0})]});if(!t)return null;const[e,n]=P.useState(""),[r,i]=P.useState(""),[s,o]=P.useState(!1),{category:a=""}=Gf(),{urlId:l=""}=Gf(),c=xr();t.setEditable(!1);const u=f=>{c("/"+a+"/editor/"+f)},d=()=>{c("/"+a)},h=async(f,p)=>{try{const w=await(await fetch(`${Tn}/api/load_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:f,category:p})})).json();console.log(w),t.commands.setContent(w.content),n(w.title),r===w.name&&o(!0)}catch(g){console.error("Error sending data to server:",g)}};return P.useEffect(()=>{const f=Kt.currentUser;f&&f.displayName&&(i(f.displayName),r&&h(l,a))},[r]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"editor",children:[x.jsxs("div",{className:"viewer-top-menu",children:[x.jsx("button",{onClick:d,className:"previous-button",children:""}),x.jsx("span",{className:"viewer-editor-tag",children:"Viewer"}),x.jsx("input",{className:"input-title",value:e,name:"title",placeholder:"Title",type:"text",disabled:!0}),s?x.jsx("button",{onClick:()=>u(l),className:"new-page",children:"Edit"}):""]}),x.jsx("div",{className:"viewer-control-group",children:x.jsx(TT,{editor:t})})]})})};function LQ(){let[t,e]=P.useState([]);const[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState(!0),l=wi(),c=l.pathname.startsWith("/")?l.pathname.slice(1):l.pathname,u=xr(),d=()=>{a(!o)},h=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),u("/login"))},f=I=>{u("/"+c+"/editor/"+I)},p=I=>{u("/"+c+"/viewer/"+I)},g=()=>{u("/")},w=()=>{u("/regulation")},v=()=>{u("/free-notice")},k=()=>{u("/wiki")},E=()=>{u("/document")},S=()=>{u("/project-dashboard")},N=()=>{u("/design-automation")},b=async I=>{try{t=await(await fetch(`${Tn}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:I})})).json(),e(t)}catch(_){console.error("Error sending data to server:",_)}},M=async(I,_)=>{if(confirm("Are you sure?")){try{t=await(await fetch(`${Tn}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:I,category:_})})).json(),e(t)}catch(G){console.error("Error sending data to server:",G)}b(_)}};return P.useEffect(()=>{b(c);const I=sa(Kt,_=>{_&&_.displayName&&_.email?(r(_.displayName),s(_.email)):(r("No user name info."),s("No user email info."))});return()=>I()},[]),x.jsxs(x.Fragment,{children:[o?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:g,children:"Home"}),x.jsx("button",{onClick:w,children:" "}),x.jsx("button",{onClick:v,children:""}),x.jsx("button",{onClick:k,children:"KMS (Wiki)"}),x.jsx("button",{onClick:E,children:"Document"}),x.jsx("button",{onClick:S,children:"Project Dashboard"}),x.jsx("button",{onClick:N,children:"Design Automation"})]}):"",x.jsxs("div",{className:"main-content",children:[x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:d,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:" "}),x.jsxs("span",{className:"name",children:[n," ,",x.jsx("br",{}),"."]}),i===Ek?x.jsx("button",{onClick:()=>f(""),className:"new-page",children:"New Page"}):"",x.jsx("button",{onClick:h,className:"log-out",children:"Log Out"})]}),x.jsx("div",{className:"pages-head",children:x.jsxs("div",{className:"page-component-head",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"/"}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]})}),x.jsx("div",{className:"pages",children:t.length>0?t.map(I=>x.jsxs("div",{className:"page-component",children:[n===I.name&&i===Ek?x.jsx("a",{onClick:()=>f(I._id),children:I.title}):x.jsx("a",{onClick:()=>p(I._id),children:I.title}),x.jsxs("span",{children:[I.created_at?I.created_at:"-",x.jsx("br",{}),I.modified_at?I.modified_at:"-"]}),x.jsx("span",{children:I.name}),n===I.name?x.jsx("span",{onClick:()=>M(I._id,c),children:"Delete"}):x.jsx("span",{className:"none-mark",children:"-"})]},I._id)):x.jsx("p",{children:"None"})})]})]})}function PQ(){let[t,e]=P.useState([]);const[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState(!0),l=wi(),c=l.pathname.startsWith("/")?l.pathname.slice(1):l.pathname,u=xr(),d=()=>{a(!o)},h=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),u("/login"))},f=I=>{u("/"+c+"/editor/"+I)},p=I=>{u("/"+c+"/viewer/"+I)},g=()=>{u("/")},w=()=>{u("/regulation")},v=()=>{u("/free-notice")},k=()=>{u("/wiki")},E=()=>{u("/document")},S=()=>{u("/project-dashboard")},N=()=>{u("/design-automation")},b=async I=>{try{t=await(await fetch(`${Tn}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:I})})).json(),e(t)}catch(_){console.error("Error sending data to server:",_)}},M=async(I,_)=>{if(confirm("Are you sure?")){try{t=await(await fetch(`${Tn}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:I,category:_})})).json(),e(t)}catch(G){console.error("Error sending data to server:",G)}b(_)}};return P.useEffect(()=>{b(c);const I=sa(Kt,_=>{_&&_.displayName&&_.email?(r(_.displayName),s(_.email)):(r("No user."),s("No user email info."))});return()=>I()},[]),x.jsxs(x.Fragment,{children:[o?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:g,children:"Home"}),x.jsx("button",{onClick:w,children:" "}),x.jsx("button",{onClick:v,children:""}),x.jsx("button",{onClick:k,children:"KMS (Wiki)"}),x.jsx("button",{onClick:E,children:"Document"}),x.jsx("button",{onClick:S,children:"Project Dashboard"}),x.jsx("button",{onClick:N,children:"Design Automation"})]}):"",x.jsxs("div",{className:"main-content",children:[x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:d,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:"KMS (Wiki)"}),x.jsxs("span",{className:"name",children:[n," ,",x.jsx("br",{}),"."]}),Tk.includes(i)?x.jsx("button",{onClick:()=>f(""),className:"new-page",children:"New Page"}):"",x.jsx("button",{onClick:h,className:"log-out",children:"Log Out"})]}),x.jsx("div",{className:"pages-head",children:x.jsxs("div",{className:"page-component-head",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"/"}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]})}),x.jsx("div",{className:"pages",children:t.length>0?t.map(I=>x.jsxs("div",{className:"page-component",children:[n===I.name&&Tk.includes(i)?x.jsx("a",{onClick:()=>f(I._id),children:I.title}):x.jsx("a",{onClick:()=>p(I._id),children:I.title}),x.jsxs("span",{children:[I.created_at?I.created_at:"-",x.jsx("br",{}),I.modified_at?I.modified_at:"-"]}),x.jsx("span",{children:I.name}),n===I.name?x.jsx("span",{onClick:()=>M(I._id,c),children:"Delete"}):x.jsx("span",{className:"none-mark",children:"-"})]},I._id)):x.jsx("p",{children:"None"})})]})]})}function zQ(){let[t,e]=P.useState([]);const[n,r]=P.useState(""),[i,s]=P.useState(!0),o=wi(),a=o.pathname.startsWith("/")?o.pathname.slice(1):o.pathname,l=xr(),c=()=>{s(!i)},u=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),l("/login"))},d=b=>{l("/"+a+"/editor/"+b)},h=b=>{l("/"+a+"/viewer/"+b)},f=()=>{l("/")},p=()=>{l("/regulation")},g=()=>{l("/free-notice")},w=()=>{l("/wiki")},v=()=>{l("/document")},k=()=>{l("/project-dashboard")},E=()=>{l("/design-automation")},S=async b=>{try{t=await(await fetch(`${Tn}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:b})})).json(),e(t)}catch(M){console.error("Error sending data to server:",M)}},N=async(b,M)=>{if(confirm("Are you sure?")){try{t=await(await fetch(`${Tn}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,category:M})})).json(),e(t)}catch(_){console.error("Error sending data to server:",_)}S(M)}};return P.useEffect(()=>{S(a);const b=sa(Kt,M=>{M&&M.displayName?r(M.displayName):r("No user.")});return()=>b()},[]),x.jsxs(x.Fragment,{children:[i?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:f,children:"Home"}),x.jsx("button",{onClick:p,children:" "}),x.jsx("button",{onClick:g,children:""}),x.jsx("button",{onClick:w,children:"KMS (Wiki)"}),x.jsx("button",{onClick:v,children:"Document"}),x.jsx("button",{onClick:k,children:"Project Dashboard"}),x.jsx("button",{onClick:E,children:"Design Automation"})]}):"",x.jsxs("div",{className:"main-content",children:[x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:c,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:"Document"}),x.jsxs("span",{className:"name",children:[n," ,",x.jsx("br",{}),"."]}),x.jsx("button",{onClick:()=>d(""),className:"new-page",children:"New Page"}),x.jsx("button",{onClick:u,className:"log-out",children:"Log Out"})]}),x.jsx("div",{className:"pages-head",children:x.jsxs("div",{className:"page-component-head",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"/"}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]})}),x.jsx("div",{className:"pages",children:t.length>0?t.map(b=>x.jsxs("div",{className:"page-component",children:[n===b.name?x.jsx("a",{onClick:()=>d(b._id),children:b.title}):x.jsx("a",{onClick:()=>h(b._id),children:b.title}),x.jsxs("span",{children:[b.created_at?b.created_at:"-",x.jsx("br",{}),b.modified_at?b.modified_at:"-"]}),x.jsx("span",{children:b.name}),n===b.name?x.jsx("span",{onClick:()=>N(b._id,a),children:"Delete"}):x.jsx("span",{className:"none-mark",children:"-"})]},b._id)):x.jsx("p",{children:"None"})})]})]})}function BQ(){let[t,e]=P.useState([]);const[n,r]=P.useState(""),[i,s]=P.useState(!0),o=wi(),a=o.pathname.startsWith("/")?o.pathname.slice(1):o.pathname,l=xr(),c=()=>{s(!i)},u=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),l("/login"))},d=b=>{l("/"+a+"/editor/"+b)},h=b=>{l("/"+a+"/viewer/"+b)},f=()=>{l("/")},p=()=>{l("/regulation")},g=()=>{l("/free-notice")},w=()=>{l("/wiki")},v=()=>{l("/document")},k=()=>{l("/project-dashboard")},E=()=>{l("/design-automation")},S=async b=>{try{t=await(await fetch(`${Tn}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:b})})).json(),e(t)}catch(M){console.error("Error sending data to server:",M)}},N=async(b,M)=>{if(confirm("Are you sure?")){try{t=await(await fetch(`${Tn}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,category:M})})).json(),e(t)}catch(_){console.error("Error sending data to server:",_)}S(M)}};return P.useEffect(()=>{S(a);const b=sa(Kt,M=>{M&&M.displayName?r(M.displayName):r("No user.")});return()=>b()},[]),x.jsxs(x.Fragment,{children:[i?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:f,children:"Home"}),x.jsx("button",{onClick:p,children:" "}),x.jsx("button",{onClick:g,children:""}),x.jsx("button",{onClick:w,children:"KMS (Wiki)"}),x.jsx("button",{onClick:v,children:"Document"}),x.jsx("button",{onClick:k,children:"Project Dashboard"}),x.jsx("button",{onClick:E,children:"Design Automation"})]}):"",x.jsxs("div",{className:"main-content",children:[x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:c,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:"Project Dashboard"}),x.jsxs("span",{className:"name",children:[n," ,",x.jsx("br",{}),"."]}),x.jsx("button",{onClick:()=>d(""),className:"new-page",children:"New Page"}),x.jsx("button",{onClick:u,className:"log-out",children:"Log Out"})]}),x.jsx("div",{className:"pages-head",children:x.jsxs("div",{className:"page-component-head",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"/"}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]})}),x.jsx("div",{className:"pages",children:t.length>0?t.map(b=>x.jsxs("div",{className:"page-component",children:[n===b.name?x.jsx("a",{onClick:()=>d(b._id),children:b.title}):x.jsx("a",{onClick:()=>h(b._id),children:b.title}),x.jsxs("span",{children:[b.created_at?b.created_at:"-",x.jsx("br",{}),b.modified_at?b.modified_at:"-"]}),x.jsx("span",{children:b.name}),n===b.name?x.jsx("span",{onClick:()=>N(b._id,a),children:"Delete"}):x.jsx("span",{className:"none-mark",children:"-"})]},b._id)):x.jsx("p",{children:"None"})})]})]})}function jQ(){let[t,e]=P.useState([]);const[n,r]=P.useState(""),[i,s]=P.useState(!0),o=wi(),a=o.pathname.startsWith("/")?o.pathname.slice(1):o.pathname,l=xr(),c=()=>{s(!i)},u=async()=>{confirm("Are you sure?")&&(await Kt.signOut(),l("/login"))},d=b=>{l("/"+a+"/editor/"+b)},h=b=>{l("/"+a+"/viewer/"+b)},f=()=>{l("/")},p=()=>{l("/regulation")},g=()=>{l("/free-notice")},w=()=>{l("/wiki")},v=()=>{l("/document")},k=()=>{l("/project-dashboard")},E=()=>{l("/design-automation")},S=async b=>{try{t=await(await fetch(`${Tn}/api/load_all_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:b})})).json(),e(t)}catch(M){console.error("Error sending data to server:",M)}},N=async(b,M)=>{if(confirm("Are you sure?")){try{t=await(await fetch(`${Tn}/api/delete_data`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,category:M})})).json(),e(t)}catch(_){console.error("Error sending data to server:",_)}S(M)}};return P.useEffect(()=>{S(a);const b=sa(Kt,M=>{M&&M.displayName?r(M.displayName):r("No user.")});return()=>b()},[]),x.jsxs(x.Fragment,{children:[i?x.jsxs("div",{className:"side-bar",children:[x.jsx("button",{onClick:f,children:"Home"}),x.jsx("button",{onClick:p,children:" "}),x.jsx("button",{onClick:g,children:""}),x.jsx("button",{onClick:w,children:"KMS (Wiki)"}),x.jsx("button",{onClick:v,children:"Document"}),x.jsx("button",{onClick:k,children:"Project Dashboard"}),x.jsx("button",{onClick:E,children:"Design Automation"})]}):"",x.jsxs("div",{className:"main-content",children:[x.jsxs("div",{className:"top-menu",children:[x.jsx("button",{onClick:c,className:"hamburger",children:x.jsx("svg",{"data-slot":"icon",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:x.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z"})})}),x.jsx("h1",{className:"page-title",children:"Design Automation"}),x.jsxs("span",{className:"name",children:[n," ,",x.jsx("br",{}),"."]}),x.jsx("button",{onClick:()=>d(""),className:"new-page",children:"New Page"}),x.jsx("button",{onClick:u,className:"log-out",children:"Log Out"})]}),x.jsx("div",{className:"pages-head",children:x.jsxs("div",{className:"page-component-head",children:[x.jsx("span",{children:""}),x.jsx("span",{children:"/"}),x.jsx("span",{children:""}),x.jsx("span",{children:""})]})}),x.jsx("div",{className:"pages",children:t.length>0?t.map(b=>x.jsxs("div",{className:"page-component",children:[n===b.name?x.jsx("a",{onClick:()=>d(b._id),children:b.title}):x.jsx("a",{onClick:()=>h(b._id),children:b.title}),x.jsxs("span",{children:[b.created_at?b.created_at:"-",x.jsx("br",{}),b.modified_at?b.modified_at:"-"]}),x.jsx("span",{children:b.name}),n===b.name?x.jsx("span",{onClick:()=>N(b._id,a),children:"Delete"}):x.jsx("span",{className:"none-mark",children:"-"})]},b._id)):x.jsx("p",{children:"None"})})]})]})}const Ck=es.div`
  height: 100vh;
  display: flex;
  justify-content: center;
`,FQ=iR([{path:"/free-notice",element:x.jsx(Ii,{children:x.jsx(xB,{})})},{path:"/",element:x.jsx(Ii,{children:x.jsx(yB,{})})},{path:"/create-account",element:x.jsx(Ck,{children:x.jsx(gB,{})})},{path:"/login",element:x.jsx(Ck,{children:x.jsx(vB,{})})},{path:"/:category/editor",element:x.jsx(Ii,{children:x.jsx(Sk,{})})},{path:"/:category/editor/:urlId",element:x.jsx(Ii,{children:x.jsx(Sk,{})})},{path:"/:category/viewer/:urlId",element:x.jsx(Ii,{children:x.jsx(_Q,{})})},{path:"/regulation",element:x.jsx(Ii,{children:x.jsx(LQ,{})})},{path:"/wiki",element:x.jsx(Ii,{children:x.jsx(PQ,{})})},{path:"/document",element:x.jsx(Ii,{children:x.jsx(zQ,{})})},{path:"/project-dashboard",element:x.jsx(Ii,{children:x.jsx(BQ,{})})},{path:"/design-automation",element:x.jsx(Ii,{children:x.jsx(jQ,{})})}]);function HQ(){const[t,e]=P.useState(!0),n=async()=>{await Kt.authStateReady(),e(!1)};return P.useEffect(()=>{n()},[]),x.jsx(x.Fragment,{children:t?x.jsx(kB,{}):x.jsx(fR,{router:FQ})})}$S(document.getElementById("root")).render(x.jsx(HQ,{}));const Tn="https://port-0-notice-backend-m3lin2251ce3a47e.sel4.cloudtype.app",Ek="yoonuooh@naver.com",Tk=["yoonuooh@naver.com"];
